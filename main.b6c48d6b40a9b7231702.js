(self.webpackChunkmovies_app=self.webpackChunkmovies_app||[]).push([[179],{8255:ft=>{function Pe(L){return Promise.resolve().then(()=>{var D=new Error("Cannot find module '"+L+"'");throw D.code="MODULE_NOT_FOUND",D})}Pe.keys=()=>[],Pe.resolve=Pe,Pe.id=8255,ft.exports=Pe},7238:(ft,Pe,L)=>{"use strict";L.d(Pe,{l3:()=>B,_j:()=>D,LC:()=>m,ZN:()=>Te,jt:()=>de,vP:()=>oe,SB:()=>ie,oB:()=>ee,eR:()=>J,X$:()=>Ee,ZE:()=>$e,k1:()=>Ge});class D{}class m{}const B="*";function Ee(Ae,Ve){return{type:7,name:Ae,definitions:Ve,options:{}}}function de(Ae,Ve=null){return{type:4,styles:Ve,timings:Ae}}function oe(Ae,Ve=null){return{type:2,steps:Ae,options:Ve}}function ee(Ae){return{type:6,styles:Ae,offset:null}}function ie(Ae,Ve,Oe){return{type:0,name:Ae,styles:Ve,options:Oe}}function J(Ae,Ve,Oe=null){return{type:1,expr:Ae,animation:Ve,options:Oe}}function Me(Ae){Promise.resolve(null).then(Ae)}class Te{constructor(Ve=0,Oe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ve+Oe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ve=>Ve()),this._onDoneFns=[])}onStart(Ve){this._onStartFns.push(Ve)}onDone(Ve){this._onDoneFns.push(Ve)}onDestroy(Ve){this._onDestroyFns.push(Ve)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Me(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ve=>Ve()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ve=>Ve()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Ve){this._position=this.totalTime?Ve*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ve){const Oe="start"==Ve?this._onStartFns:this._onDoneFns;Oe.forEach(Qe=>Qe()),Oe.length=0}}class $e{constructor(Ve){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ve;let Oe=0,Qe=0,ht=0;const pt=this.players.length;0==pt?Me(()=>this._onFinish()):this.players.forEach(Y=>{Y.onDone(()=>{++Oe==pt&&this._onFinish()}),Y.onDestroy(()=>{++Qe==pt&&this._onDestroy()}),Y.onStart(()=>{++ht==pt&&this._onStart()})}),this.totalTime=this.players.reduce((Y,mt)=>Math.max(Y,mt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ve=>Ve()),this._onDoneFns=[])}init(){this.players.forEach(Ve=>Ve.init())}onStart(Ve){this._onStartFns.push(Ve)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ve=>Ve()),this._onStartFns=[])}onDone(Ve){this._onDoneFns.push(Ve)}onDestroy(Ve){this._onDestroyFns.push(Ve)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ve=>Ve.play())}pause(){this.players.forEach(Ve=>Ve.pause())}restart(){this.players.forEach(Ve=>Ve.restart())}finish(){this._onFinish(),this.players.forEach(Ve=>Ve.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ve=>Ve.destroy()),this._onDestroyFns.forEach(Ve=>Ve()),this._onDestroyFns=[])}reset(){this.players.forEach(Ve=>Ve.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ve){const Oe=Ve*this.totalTime;this.players.forEach(Qe=>{const ht=Qe.totalTime?Math.min(1,Oe/Qe.totalTime):1;Qe.setPosition(ht)})}getPosition(){const Ve=this.players.reduce((Oe,Qe)=>null===Oe||Qe.totalTime>Oe.totalTime?Qe:Oe,null);return null!=Ve?Ve.getPosition():0}beforeDestroy(){this.players.forEach(Ve=>{Ve.beforeDestroy&&Ve.beforeDestroy()})}triggerCallback(Ve){const Oe="start"==Ve?this._onStartFns:this._onDoneFns;Oe.forEach(Qe=>Qe()),Oe.length=0}}const Ge="!"},8583:(ft,Pe,L)=>{"use strict";L.d(Pe,{mr:()=>$e,ez:()=>Br,H9:()=>Ar,K0:()=>oe,uU:()=>Hn,Do:()=>Ae,V_:()=>q,Ye:()=>Ve,S$:()=>Me,mk:()=>xt,sg:()=>zt,O5:()=>cs,PC:()=>Hs,tP:()=>Qi,b0:()=>Ge,lw:()=>ee,gd:()=>yi,EM:()=>Si,JF:()=>Xi,PM:()=>qo,w_:()=>X,bD:()=>Ws,q:()=>B,Mx:()=>Xe,HT:()=>de});var D=L(7716);let m=null;function B(){return m}function de(R){m||(m=R)}class X{}const oe=new D.OlP("DocumentToken");let ee=(()=>{class R{historyGo(x){throw new Error("Not implemented")}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=(0,D.Yz7)({factory:ie,token:R,providedIn:"platform"}),R})();function ie(){return(0,D.LFG)(J)}const q=new D.OlP("Location Initialized");let J=(()=>{class R extends ee{constructor(x){super(),this._doc=x,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(x){const K=B().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",x,!1),()=>K.removeEventListener("popstate",x)}onHashChange(x){const K=B().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",x,!1),()=>K.removeEventListener("hashchange",x)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(x){this.location.pathname=x}pushState(x,K,pe){G()?this._history.pushState(x,K,pe):this.location.hash=pe}replaceState(x,K,pe){G()?this._history.replaceState(x,K,pe):this.location.hash=pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return R.\u0275fac=function(x){return new(x||R)(D.LFG(oe))},R.\u0275prov=(0,D.Yz7)({factory:fe,token:R,providedIn:"platform"}),R})();function G(){return!!window.history.pushState}function fe(){return new J((0,D.LFG)(oe))}function xe(R,W){if(0==R.length)return W;if(0==W.length)return R;let x=0;return R.endsWith("/")&&x++,W.startsWith("/")&&x++,2==x?R+W.substring(1):1==x?R+W:R+"/"+W}function je(R){const W=R.match(/#|\?|$/),x=W&&W.index||R.length;return R.slice(0,x-("/"===R[x-1]?1:0))+R.slice(x)}function Ue(R){return R&&"?"!==R[0]?"?"+R:R}let Me=(()=>{class R{historyGo(x){throw new Error("Not implemented")}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=(0,D.Yz7)({factory:Te,token:R,providedIn:"root"}),R})();function Te(R){const W=(0,D.LFG)(oe).location;return new Ge((0,D.LFG)(ee),W&&W.origin||"")}const $e=new D.OlP("appBaseHref");let Ge=(()=>{class R extends Me{constructor(x,K){if(super(),this._platformLocation=x,this._removeListenerFns=[],null==K&&(K=this._platformLocation.getBaseHrefFromDOM()),null==K)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=K}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return xe(this._baseHref,x)}path(x=!1){const K=this._platformLocation.pathname+Ue(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&x?`${K}${pe}`:K}pushState(x,K,pe,Ze){const ct=this.prepareExternalUrl(pe+Ue(Ze));this._platformLocation.pushState(x,K,ct)}replaceState(x,K,pe,Ze){const ct=this.prepareExternalUrl(pe+Ue(Ze));this._platformLocation.replaceState(x,K,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var K,pe;null===(pe=(K=this._platformLocation).historyGo)||void 0===pe||pe.call(K,x)}}return R.\u0275fac=function(x){return new(x||R)(D.LFG(ee),D.LFG($e,8))},R.\u0275prov=D.Yz7({token:R,factory:R.\u0275fac}),R})(),Ae=(()=>{class R extends Me{constructor(x,K){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(x){const K=xe(this._baseHref,x);return K.length>0?"#"+K:K}pushState(x,K,pe,Ze){let ct=this.prepareExternalUrl(pe+Ue(Ze));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.pushState(x,K,ct)}replaceState(x,K,pe,Ze){let ct=this.prepareExternalUrl(pe+Ue(Ze));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.replaceState(x,K,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var K,pe;null===(pe=(K=this._platformLocation).historyGo)||void 0===pe||pe.call(K,x)}}return R.\u0275fac=function(x){return new(x||R)(D.LFG(ee),D.LFG($e,8))},R.\u0275prov=D.Yz7({token:R,factory:R.\u0275fac}),R})(),Ve=(()=>{class R{constructor(x,K){this._subject=new D.vpe,this._urlChangeListeners=[],this._platformStrategy=x;const pe=this._platformStrategy.getBaseHref();this._platformLocation=K,this._baseHref=je(ht(pe)),this._platformStrategy.onPopState(Ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ze.state,type:Ze.type})})}path(x=!1){return this.normalize(this._platformStrategy.path(x))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(x,K=""){return this.path()==this.normalize(x+Ue(K))}normalize(x){return R.stripTrailingSlash(function(R,W){return R&&W.startsWith(R)?W.substring(R.length):W}(this._baseHref,ht(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._platformStrategy.prepareExternalUrl(x)}go(x,K="",pe=null){this._platformStrategy.pushState(pe,"",x,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ue(K)),pe)}replaceState(x,K="",pe=null){this._platformStrategy.replaceState(pe,"",x,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ue(K)),pe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(x=0){var K,pe;null===(pe=(K=this._platformStrategy).historyGo)||void 0===pe||pe.call(K,x)}onUrlChange(x){this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)}))}_notifyUrlChangeListeners(x="",K){this._urlChangeListeners.forEach(pe=>pe(x,K))}subscribe(x,K,pe){return this._subject.subscribe({next:x,error:K,complete:pe})}}return R.\u0275fac=function(x){return new(x||R)(D.LFG(Me),D.LFG(ee))},R.normalizeQueryParams=Ue,R.joinWithSlash=xe,R.stripTrailingSlash=je,R.\u0275prov=(0,D.Yz7)({factory:Oe,token:R,providedIn:"root"}),R})();function Oe(){return new Ve((0,D.LFG)(Me),(0,D.LFG)(ee))}function ht(R){return R.replace(/\/index.html$/,"")}const pt={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Y=(()=>((Y=Y||{})[Y.Decimal=0]="Decimal",Y[Y.Percent=1]="Percent",Y[Y.Currency=2]="Currency",Y[Y.Scientific=3]="Scientific",Y))(),mt=(()=>((mt=mt||{})[mt.Zero=0]="Zero",mt[mt.One=1]="One",mt[mt.Two=2]="Two",mt[mt.Few=3]="Few",mt[mt.Many=4]="Many",mt[mt.Other=5]="Other",mt))(),Wt=(()=>((Wt=Wt||{})[Wt.Format=0]="Format",Wt[Wt.Standalone=1]="Standalone",Wt))(),Ft=(()=>((Ft=Ft||{})[Ft.Narrow=0]="Narrow",Ft[Ft.Abbreviated=1]="Abbreviated",Ft[Ft.Wide=2]="Wide",Ft[Ft.Short=3]="Short",Ft))(),tn=(()=>((tn=tn||{})[tn.Short=0]="Short",tn[tn.Medium=1]="Medium",tn[tn.Long=2]="Long",tn[tn.Full=3]="Full",tn))(),bt=(()=>((bt=bt||{})[bt.Decimal=0]="Decimal",bt[bt.Group=1]="Group",bt[bt.List=2]="List",bt[bt.PercentSign=3]="PercentSign",bt[bt.PlusSign=4]="PlusSign",bt[bt.MinusSign=5]="MinusSign",bt[bt.Exponential=6]="Exponential",bt[bt.SuperscriptingExponent=7]="SuperscriptingExponent",bt[bt.PerMille=8]="PerMille",bt[bt.Infinity=9]="Infinity",bt[bt.NaN=10]="NaN",bt[bt.TimeSeparator=11]="TimeSeparator",bt[bt.CurrencyDecimal=12]="CurrencyDecimal",bt[bt.CurrencyGroup=13]="CurrencyGroup",bt))();function vr(R,W){return Xt((0,D.cg1)(R)[D.wAp.DateFormat],W)}function En(R,W){return Xt((0,D.cg1)(R)[D.wAp.TimeFormat],W)}function ii(R,W){return Xt((0,D.cg1)(R)[D.wAp.DateTimeFormat],W)}function Wn(R,W){const x=(0,D.cg1)(R),K=x[D.wAp.NumberSymbols][W];if(void 0===K){if(W===bt.CurrencyDecimal)return x[D.wAp.NumberSymbols][bt.Decimal];if(W===bt.CurrencyGroup)return x[D.wAp.NumberSymbols][bt.Group]}return K}const Mr=D.kL8;function rt(R){if(!R[D.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[D.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xt(R,W){for(let x=W;x>-1;x--)if(void 0!==R[x])return R[x];throw new Error("Locale data API: locale data undefined")}function jt(R){const[W,x]=R.split(":");return{hours:+W,minutes:+x}}const he=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qe={},at=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.ShortGMT=1]="ShortGMT",yt[yt.Long=2]="Long",yt[yt.Extended=3]="Extended",yt))(),nt=(()=>((nt=nt||{})[nt.FullYear=0]="FullYear",nt[nt.Month=1]="Month",nt[nt.Date=2]="Date",nt[nt.Hours=3]="Hours",nt[nt.Minutes=4]="Minutes",nt[nt.Seconds=5]="Seconds",nt[nt.FractionalSeconds=6]="FractionalSeconds",nt[nt.Day=7]="Day",nt))(),Ct=(()=>((Ct=Ct||{})[Ct.DayPeriods=0]="DayPeriods",Ct[Ct.Days=1]="Days",Ct[Ct.Months=2]="Months",Ct[Ct.Eras=3]="Eras",Ct))();function hn(R,W,x,K){let pe=function(R){if(Li(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[pe,Ze=1,ct=1]=R.split("-").map(Pt=>+Pt);return nr(pe,Ze-1,ct)}const x=parseFloat(R);if(!isNaN(R-x))return new Date(x);let K;if(K=R.match(he))return function(R){const W=new Date(0);let x=0,K=0;const pe=R[8]?W.setUTCFullYear:W.setFullYear,Ze=R[8]?W.setUTCHours:W.setHours;R[9]&&(x=Number(R[9]+R[10]),K=Number(R[9]+R[11])),pe.call(W,Number(R[1]),Number(R[2])-1,Number(R[3]));const ct=Number(R[4]||0)-x,Pt=Number(R[5]||0)-K,ut=Number(R[6]||0),cn=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return Ze.call(W,ct,Pt,ut,cn),W}(K)}const W=new Date(R);if(!Li(W))throw new Error(`Unable to convert "${R}" into a date`);return W}(R);W=vn(x,W)||W;let Pt,ct=[];for(;W;){if(Pt=at.exec(W),!Pt){ct.push(W);break}{ct=ct.concat(Pt.slice(1));const An=ct.pop();if(!An)break;W=An}}let ut=pe.getTimezoneOffset();K&&(ut=si(K,ut),pe=function(R,W,x){const pe=R.getTimezoneOffset();return function(R,W){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+W),R}(R,-1*(si(W,pe)-pe))}(pe,K));let cn="";return ct.forEach(An=>{const $t=function(R){if(ln[R])return ln[R];let W;switch(R){case"G":case"GG":case"GGG":W=Ce(Ct.Eras,Ft.Abbreviated);break;case"GGGG":W=Ce(Ct.Eras,Ft.Wide);break;case"GGGGG":W=Ce(Ct.Eras,Ft.Narrow);break;case"y":W=me(nt.FullYear,1,0,!1,!0);break;case"yy":W=me(nt.FullYear,2,0,!0,!0);break;case"yyy":W=me(nt.FullYear,3,0,!1,!0);break;case"yyyy":W=me(nt.FullYear,4,0,!1,!0);break;case"Y":W=Ht(1);break;case"YY":W=Ht(2,!0);break;case"YYY":W=Ht(3);break;case"YYYY":W=Ht(4);break;case"M":case"L":W=me(nt.Month,1,1);break;case"MM":case"LL":W=me(nt.Month,2,1);break;case"MMM":W=Ce(Ct.Months,Ft.Abbreviated);break;case"MMMM":W=Ce(Ct.Months,Ft.Wide);break;case"MMMMM":W=Ce(Ct.Months,Ft.Narrow);break;case"LLL":W=Ce(Ct.Months,Ft.Abbreviated,Wt.Standalone);break;case"LLLL":W=Ce(Ct.Months,Ft.Wide,Wt.Standalone);break;case"LLLLL":W=Ce(Ct.Months,Ft.Narrow,Wt.Standalone);break;case"w":W=Gn(1);break;case"ww":W=Gn(2);break;case"W":W=Gn(1,!0);break;case"d":W=me(nt.Date,1);break;case"dd":W=me(nt.Date,2);break;case"c":case"cc":W=me(nt.Day,1);break;case"ccc":W=Ce(Ct.Days,Ft.Abbreviated,Wt.Standalone);break;case"cccc":W=Ce(Ct.Days,Ft.Wide,Wt.Standalone);break;case"ccccc":W=Ce(Ct.Days,Ft.Narrow,Wt.Standalone);break;case"cccccc":W=Ce(Ct.Days,Ft.Short,Wt.Standalone);break;case"E":case"EE":case"EEE":W=Ce(Ct.Days,Ft.Abbreviated);break;case"EEEE":W=Ce(Ct.Days,Ft.Wide);break;case"EEEEE":W=Ce(Ct.Days,Ft.Narrow);break;case"EEEEEE":W=Ce(Ct.Days,Ft.Short);break;case"a":case"aa":case"aaa":W=Ce(Ct.DayPeriods,Ft.Abbreviated);break;case"aaaa":W=Ce(Ct.DayPeriods,Ft.Wide);break;case"aaaaa":W=Ce(Ct.DayPeriods,Ft.Narrow);break;case"b":case"bb":case"bbb":W=Ce(Ct.DayPeriods,Ft.Abbreviated,Wt.Standalone,!0);break;case"bbbb":W=Ce(Ct.DayPeriods,Ft.Wide,Wt.Standalone,!0);break;case"bbbbb":W=Ce(Ct.DayPeriods,Ft.Narrow,Wt.Standalone,!0);break;case"B":case"BB":case"BBB":W=Ce(Ct.DayPeriods,Ft.Abbreviated,Wt.Format,!0);break;case"BBBB":W=Ce(Ct.DayPeriods,Ft.Wide,Wt.Format,!0);break;case"BBBBB":W=Ce(Ct.DayPeriods,Ft.Narrow,Wt.Format,!0);break;case"h":W=me(nt.Hours,1,-12);break;case"hh":W=me(nt.Hours,2,-12);break;case"H":W=me(nt.Hours,1);break;case"HH":W=me(nt.Hours,2);break;case"m":W=me(nt.Minutes,1);break;case"mm":W=me(nt.Minutes,2);break;case"s":W=me(nt.Seconds,1);break;case"ss":W=me(nt.Seconds,2);break;case"S":W=me(nt.FractionalSeconds,1);break;case"SS":W=me(nt.FractionalSeconds,2);break;case"SSS":W=me(nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":W=Le(yt.Short);break;case"ZZZZZ":W=Le(yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":W=Le(yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":W=Le(yt.Long);break;default:return null}return ln[R]=W,W}(An);cn+=$t?$t(pe,x,ut):"''"===An?"'":An.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),cn}function nr(R,W,x){const K=new Date(0);return K.setFullYear(R,W,x),K.setHours(0,0,0),K}function vn(R,W){const x=function(R){return(0,D.cg1)(R)[D.wAp.LocaleId]}(R);if(qe[x]=qe[x]||{},qe[x][W])return qe[x][W];let K="";switch(W){case"shortDate":K=vr(R,tn.Short);break;case"mediumDate":K=vr(R,tn.Medium);break;case"longDate":K=vr(R,tn.Long);break;case"fullDate":K=vr(R,tn.Full);break;case"shortTime":K=En(R,tn.Short);break;case"mediumTime":K=En(R,tn.Medium);break;case"longTime":K=En(R,tn.Long);break;case"fullTime":K=En(R,tn.Full);break;case"short":const pe=vn(R,"shortTime"),Ze=vn(R,"shortDate");K=At(ii(R,tn.Short),[pe,Ze]);break;case"medium":const ct=vn(R,"mediumTime"),Pt=vn(R,"mediumDate");K=At(ii(R,tn.Medium),[ct,Pt]);break;case"long":const ut=vn(R,"longTime"),cn=vn(R,"longDate");K=At(ii(R,tn.Long),[ut,cn]);break;case"full":const An=vn(R,"fullTime"),$t=vn(R,"fullDate");K=At(ii(R,tn.Full),[An,$t])}return K&&(qe[x][W]=K),K}function At(R,W){return W&&(R=R.replace(/\{([^}]+)}/g,function(x,K){return null!=W&&K in W?W[K]:x})),R}function Bn(R,W,x="-",K,pe){let Ze="";(R<0||pe&&R<=0)&&(pe?R=1-R:(R=-R,Ze=x));let ct=String(R);for(;ct.length<W;)ct="0"+ct;return K&&(ct=ct.substr(ct.length-W)),Ze+ct}function me(R,W,x=0,K=!1,pe=!1){return function(Ze,ct){let Pt=function(R,W){switch(R){case nt.FullYear:return W.getFullYear();case nt.Month:return W.getMonth();case nt.Date:return W.getDate();case nt.Hours:return W.getHours();case nt.Minutes:return W.getMinutes();case nt.Seconds:return W.getSeconds();case nt.FractionalSeconds:return W.getMilliseconds();case nt.Day:return W.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,Ze);if((x>0||Pt>-x)&&(Pt+=x),R===nt.Hours)0===Pt&&-12===x&&(Pt=12);else if(R===nt.FractionalSeconds)return function(R,W){return Bn(R,3).substr(0,W)}(Pt,W);const ut=Wn(ct,bt.MinusSign);return Bn(Pt,W,ut,K,pe)}}function Ce(R,W,x=Wt.Format,K=!1){return function(pe,Ze){return function(R,W,x,K,pe,Ze){switch(x){case Ct.Months:return function(R,W,x){const K=(0,D.cg1)(R),Ze=Xt([K[D.wAp.MonthsFormat],K[D.wAp.MonthsStandalone]],W);return Xt(Ze,x)}(W,pe,K)[R.getMonth()];case Ct.Days:return function(R,W,x){const K=(0,D.cg1)(R),Ze=Xt([K[D.wAp.DaysFormat],K[D.wAp.DaysStandalone]],W);return Xt(Ze,x)}(W,pe,K)[R.getDay()];case Ct.DayPeriods:const ct=R.getHours(),Pt=R.getMinutes();if(Ze){const cn=function(R){const W=(0,D.cg1)(R);return rt(W),(W[D.wAp.ExtraData][2]||[]).map(K=>"string"==typeof K?jt(K):[jt(K[0]),jt(K[1])])}(W),An=function(R,W,x){const K=(0,D.cg1)(R);rt(K);const Ze=Xt([K[D.wAp.ExtraData][0],K[D.wAp.ExtraData][1]],W)||[];return Xt(Ze,x)||[]}(W,pe,K),$t=cn.findIndex(Rn=>{if(Array.isArray(Rn)){const[zn,pr]=Rn,Bi=ct>=zn.hours&&Pt>=zn.minutes,gn=ct<pr.hours||ct===pr.hours&&Pt<pr.minutes;if(zn.hours<pr.hours){if(Bi&&gn)return!0}else if(Bi||gn)return!0}else if(Rn.hours===ct&&Rn.minutes===Pt)return!0;return!1});if(-1!==$t)return An[$t]}return function(R,W,x){const K=(0,D.cg1)(R),Ze=Xt([K[D.wAp.DayPeriodsFormat],K[D.wAp.DayPeriodsStandalone]],W);return Xt(Ze,x)}(W,pe,K)[ct<12?0:1];case Ct.Eras:return function(R,W){return Xt((0,D.cg1)(R)[D.wAp.Eras],W)}(W,K)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${x}`)}}(pe,Ze,R,W,x,K)}}function Le(R){return function(W,x,K){const pe=-1*K,Ze=Wn(x,bt.MinusSign),ct=pe>0?Math.floor(pe/60):Math.ceil(pe/60);switch(R){case yt.Short:return(pe>=0?"+":"")+Bn(ct,2,Ze)+Bn(Math.abs(pe%60),2,Ze);case yt.ShortGMT:return"GMT"+(pe>=0?"+":"")+Bn(ct,1,Ze);case yt.Long:return"GMT"+(pe>=0?"+":"")+Bn(ct,2,Ze)+":"+Bn(Math.abs(pe%60),2,Ze);case yt.Extended:return 0===K?"Z":(pe>=0?"+":"")+Bn(ct,2,Ze)+":"+Bn(Math.abs(pe%60),2,Ze);default:throw new Error(`Unknown zone width "${R}"`)}}}function sr(R){return nr(R.getFullYear(),R.getMonth(),R.getDate()+(4-R.getDay()))}function Gn(R,W=!1){return function(x,K){let pe;if(W){const Ze=new Date(x.getFullYear(),x.getMonth(),1).getDay()-1,ct=x.getDate();pe=1+Math.floor((ct+Ze)/7)}else{const Ze=sr(x),ct=function(R){const W=nr(R,0,1).getDay();return nr(R,0,1+(W<=4?4:11)-W)}(Ze.getFullYear()),Pt=Ze.getTime()-ct.getTime();pe=1+Math.round(Pt/6048e5)}return Bn(pe,R,Wn(K,bt.MinusSign))}}function Ht(R,W=!1){return function(x,K){return Bn(sr(x).getFullYear(),R,Wn(K,bt.MinusSign),W)}}const ln={};function si(R,W){R=R.replace(/:/g,"");const x=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(x)?W:x}function Li(R){return R instanceof Date&&!isNaN(R.valueOf())}const Er=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ur(R,W,x,K,pe){const ct=function(R,W="-"){const x={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},K=R.split(";"),pe=K[0],Ze=K[1],ct=-1!==pe.indexOf(".")?pe.split("."):[pe.substring(0,pe.lastIndexOf("0")+1),pe.substring(pe.lastIndexOf("0")+1)],Pt=ct[0],ut=ct[1]||"";x.posPre=Pt.substr(0,Pt.indexOf("#"));for(let An=0;An<ut.length;An++){const $t=ut.charAt(An);"0"===$t?x.minFrac=x.maxFrac=An+1:"#"===$t?x.maxFrac=An+1:x.posSuf+=$t}const cn=Pt.split(",");if(x.gSize=cn[1]?cn[1].length:0,x.lgSize=cn[2]||cn[1]?(cn[2]||cn[1]).length:0,Ze){const An=pe.length-x.posPre.length-x.posSuf.length,$t=Ze.indexOf("#");x.negPre=Ze.substr(0,$t).replace(/'/g,""),x.negSuf=Ze.substr($t+An).replace(/'/g,"")}else x.negPre=W+x.posPre,x.negSuf=x.posSuf;return x}(function(R,W){return(0,D.cg1)(R)[D.wAp.NumberFormats][W]}(W,Y.Currency),Wn(W,bt.MinusSign));return ct.minFrac=function(R){let W;const x=pt[R];return x&&(W=x[2]),"number"==typeof W?W:2}(K),ct.maxFrac=ct.minFrac,function(R,W,x,K,pe,Ze,ct=!1){let Pt="",ut=!1;if(isFinite(R)){let cn=function(R){let K,pe,Ze,ct,Pt,W=Math.abs(R)+"",x=0;for((pe=W.indexOf("."))>-1&&(W=W.replace(".","")),(Ze=W.search(/e/i))>0?(pe<0&&(pe=Ze),pe+=+W.slice(Ze+1),W=W.substring(0,Ze)):pe<0&&(pe=W.length),Ze=0;"0"===W.charAt(Ze);Ze++);if(Ze===(Pt=W.length))K=[0],pe=1;else{for(Pt--;"0"===W.charAt(Pt);)Pt--;for(pe-=Ze,K=[],ct=0;Ze<=Pt;Ze++,ct++)K[ct]=Number(W.charAt(Ze))}return pe>22&&(K=K.splice(0,21),x=pe-1,pe=1),{digits:K,exponent:x,integerLen:pe}}(R);ct&&(cn=function(R){if(0===R.digits[0])return R;const W=R.digits.length-R.integerLen;return R.exponent?R.exponent+=2:(0===W?R.digits.push(0,0):1===W&&R.digits.push(0),R.integerLen+=2),R}(cn));let An=W.minInt,$t=W.minFrac,Rn=W.maxFrac;if(Ze){const Pi=Ze.match(Er);if(null===Pi)throw new Error(`${Ze} is not a valid digit info`);const Kt=Pi[1],Ci=Pi[3],Xo=Pi[5];null!=Kt&&(An=Gt(Kt)),null!=Ci&&($t=Gt(Ci)),null!=Xo?Rn=Gt(Xo):null!=Ci&&$t>Rn&&(Rn=$t)}!function(R,W,x){if(W>x)throw new Error(`The minimum number of digits after fraction (${W}) is higher than the maximum (${x}).`);let K=R.digits,pe=K.length-R.integerLen;const Ze=Math.min(Math.max(W,pe),x);let ct=Ze+R.integerLen,Pt=K[ct];if(ct>0){K.splice(Math.max(R.integerLen,ct));for(let $t=ct;$t<K.length;$t++)K[$t]=0}else{pe=Math.max(0,pe),R.integerLen=1,K.length=Math.max(1,ct=Ze+1),K[0]=0;for(let $t=1;$t<ct;$t++)K[$t]=0}if(Pt>=5)if(ct-1<0){for(let $t=0;$t>ct;$t--)K.unshift(0),R.integerLen++;K.unshift(1),R.integerLen++}else K[ct-1]++;for(;pe<Math.max(0,Ze);pe++)K.push(0);let ut=0!==Ze;const cn=W+R.integerLen,An=K.reduceRight(function($t,Rn,zn,pr){return pr[zn]=(Rn+=$t)<10?Rn:Rn-10,ut&&(0===pr[zn]&&zn>=cn?pr.pop():ut=!1),Rn>=10?1:0},0);An&&(K.unshift(An),R.integerLen++)}(cn,$t,Rn);let zn=cn.digits,pr=cn.integerLen;const Bi=cn.exponent;let gn=[];for(ut=zn.every(Pi=>!Pi);pr<An;pr++)zn.unshift(0);for(;pr<0;pr++)zn.unshift(0);pr>0?gn=zn.splice(pr,zn.length):(gn=zn,zn=[0]);const In=[];for(zn.length>=W.lgSize&&In.unshift(zn.splice(-W.lgSize,zn.length).join(""));zn.length>W.gSize;)In.unshift(zn.splice(-W.gSize,zn.length).join(""));zn.length&&In.unshift(zn.join("")),Pt=In.join(Wn(x,K)),gn.length&&(Pt+=Wn(x,pe)+gn.join("")),Bi&&(Pt+=Wn(x,bt.Exponential)+"+"+Bi)}else Pt=Wn(x,bt.Infinity);return Pt=R<0&&!ut?W.negPre+Pt+W.negSuf:W.posPre+Pt+W.posSuf,Pt}(R,ct,W,bt.CurrencyGroup,bt.CurrencyDecimal,pe).replace("\xa4",x).replace("\xa4","").trim()}function Gt(R){const W=parseInt(R);if(isNaN(W))throw new Error("Invalid integer literal when parsing "+R);return W}class De{}let re=(()=>{class R extends De{constructor(x){super(),this.locale=x}getPluralCategory(x,K){switch(Mr(K||this.locale)(x)){case mt.Zero:return"zero";case mt.One:return"one";case mt.Two:return"two";case mt.Few:return"few";case mt.Many:return"many";default:return"other"}}}return R.\u0275fac=function(x){return new(x||R)(D.LFG(D.soG))},R.\u0275prov=D.Yz7({token:R,factory:R.\u0275fac}),R})();function Xe(R,W){W=encodeURIComponent(W);for(const x of R.split(";")){const K=x.indexOf("="),[pe,Ze]=-1==K?[x,""]:[x.slice(0,K),x.slice(K+1)];if(pe.trim()===W)return decodeURIComponent(Ze)}return null}let xt=(()=>{class R{constructor(x,K,pe,Ze){this._iterableDiffers=x,this._keyValueDiffers=K,this._ngEl=pe,this._renderer=Ze,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(x){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof x?x.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(x){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof x?x.split(/\s+/):x,this._rawClass&&((0,D.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const x=this._iterableDiffer.diff(this._rawClass);x&&this._applyIterableChanges(x)}else if(this._keyValueDiffer){const x=this._keyValueDiffer.diff(this._rawClass);x&&this._applyKeyValueChanges(x)}}_applyKeyValueChanges(x){x.forEachAddedItem(K=>this._toggleClass(K.key,K.currentValue)),x.forEachChangedItem(K=>this._toggleClass(K.key,K.currentValue)),x.forEachRemovedItem(K=>{K.previousValue&&this._toggleClass(K.key,!1)})}_applyIterableChanges(x){x.forEachAddedItem(K=>{if("string"!=typeof K.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,D.AaK)(K.item)}`);this._toggleClass(K.item,!0)}),x.forEachRemovedItem(K=>this._toggleClass(K.item,!1))}_applyClasses(x){x&&(Array.isArray(x)||x instanceof Set?x.forEach(K=>this._toggleClass(K,!0)):Object.keys(x).forEach(K=>this._toggleClass(K,!!x[K])))}_removeClasses(x){x&&(Array.isArray(x)||x instanceof Set?x.forEach(K=>this._toggleClass(K,!1)):Object.keys(x).forEach(K=>this._toggleClass(K,!1)))}_toggleClass(x,K){(x=x.trim())&&x.split(/\s+/g).forEach(pe=>{K?this._renderer.addClass(this._ngEl.nativeElement,pe):this._renderer.removeClass(this._ngEl.nativeElement,pe)})}}return R.\u0275fac=function(x){return new(x||R)(D.Y36(D.ZZ4),D.Y36(D.aQg),D.Y36(D.SBq),D.Y36(D.Qsj))},R.\u0275dir=D.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),R})();class nn{constructor(W,x,K,pe){this.$implicit=W,this.ngForOf=x,this.index=K,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zt=(()=>{class R{constructor(x,K,pe){this._viewContainer=x,this._template=K,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;if(!this._differ&&x)try{this._differ=this._differs.find(x).create(this.ngForTrackBy)}catch(K){throw new Error(`Cannot find a differ supporting object '${x}' of type '${function(R){return R.name||typeof R}(x)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const K=[];x.forEachOperation((pe,Ze,ct)=>{if(null==pe.previousIndex){const Pt=this._viewContainer.createEmbeddedView(this._template,new nn(null,this._ngForOf,-1,-1),null===ct?void 0:ct),ut=new Bs(pe,Pt);K.push(ut)}else if(null==ct)this._viewContainer.remove(null===Ze?void 0:Ze);else if(null!==Ze){const Pt=this._viewContainer.get(Ze);this._viewContainer.move(Pt,ct);const ut=new Bs(pe,Pt);K.push(ut)}});for(let pe=0;pe<K.length;pe++)this._perViewChange(K[pe].view,K[pe].record);for(let pe=0,Ze=this._viewContainer.length;pe<Ze;pe++){const ct=this._viewContainer.get(pe);ct.context.index=pe,ct.context.count=Ze,ct.context.ngForOf=this._ngForOf}x.forEachIdentityChange(pe=>{this._viewContainer.get(pe.currentIndex).context.$implicit=pe.item})}_perViewChange(x,K){x.context.$implicit=K.item}static ngTemplateContextGuard(x,K){return!0}}return R.\u0275fac=function(x){return new(x||R)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(D.ZZ4))},R.\u0275dir=D.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();class Bs{constructor(W,x){this.record=W,this.view=x}}let cs=(()=>{class R{constructor(x,K){this._viewContainer=x,this._context=new co,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){js("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){js("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,K){return!0}}return R.\u0275fac=function(x){return new(x||R)(D.Y36(D.s_b),D.Y36(D.Rgc))},R.\u0275dir=D.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class co{constructor(){this.$implicit=null,this.ngIf=null}}function js(R,W){if(W&&!W.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,D.AaK)(W)}'.`)}let Hs=(()=>{class R{constructor(x,K,pe){this._ngEl=x,this._differs=K,this._renderer=pe,this._ngStyle=null,this._differ=null}set ngStyle(x){this._ngStyle=x,!this._differ&&x&&(this._differ=this._differs.find(x).create())}ngDoCheck(){if(this._differ){const x=this._differ.diff(this._ngStyle);x&&this._applyChanges(x)}}_setStyle(x,K){const[pe,Ze]=x.split(".");null!=(K=null!=K&&Ze?`${K}${Ze}`:K)?this._renderer.setStyle(this._ngEl.nativeElement,pe,K):this._renderer.removeStyle(this._ngEl.nativeElement,pe)}_applyChanges(x){x.forEachRemovedItem(K=>this._setStyle(K.key,null)),x.forEachAddedItem(K=>this._setStyle(K.key,K.currentValue)),x.forEachChangedItem(K=>this._setStyle(K.key,K.currentValue))}}return R.\u0275fac=function(x){return new(x||R)(D.Y36(D.SBq),D.Y36(D.aQg),D.Y36(D.Qsj))},R.\u0275dir=D.lG2({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),R})(),Qi=(()=>{class R{constructor(x){this._viewContainerRef=x,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(x){if(x.ngTemplateOutlet){const K=this._viewContainerRef;this._viewRef&&K.remove(K.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?K.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&x.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(x){return new(x||R)(D.Y36(D.s_b))},R.\u0275dir=D.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[D.TTD]}),R})();function di(R,W){return Error(`InvalidPipeArgument: '${W}' for pipe '${(0,D.AaK)(R)}'`)}let yi=(()=>{class R{transform(x){if(null==x)return null;if("string"!=typeof x)throw di(R,x);return x.toUpperCase()}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275pipe=D.Yjl({name:"uppercase",type:R,pure:!0}),R})(),Hn=(()=>{class R{constructor(x){this.locale=x}transform(x,K="mediumDate",pe,Ze){if(null==x||""===x||x!=x)return null;try{return hn(x,K,Ze||this.locale,pe)}catch(ct){throw di(R,ct.message)}}}return R.\u0275fac=function(x){return new(x||R)(D.Y36(D.soG,16))},R.\u0275pipe=D.Yjl({name:"date",type:R,pure:!0}),R})(),Ar=(()=>{class R{constructor(x,K="USD"){this._locale=x,this._defaultCurrencyCode=K}transform(x,K=this._defaultCurrencyCode,pe="symbol",Ze,ct){if(!function(R){return!(null==R||""===R||R!=R)}(x))return null;ct=ct||this._locale,"boolean"==typeof pe&&(pe=pe?"symbol":"code");let Pt=K||this._defaultCurrencyCode;"code"!==pe&&(Pt="symbol"===pe||"symbol-narrow"===pe?function(R,W,x="en"){const K=function(R){return(0,D.cg1)(R)[D.wAp.Currencies]}(x)[R]||pt[R]||[],pe=K[1];return"narrow"===W&&"string"==typeof pe?pe:K[0]||R}(Pt,"symbol"===pe?"wide":"narrow",ct):pe);try{return Ur(function(R){if("string"==typeof R&&!isNaN(Number(R)-parseFloat(R)))return Number(R);if("number"!=typeof R)throw new Error(`${R} is not a number`);return R}(x),ct,Pt,K,Ze)}catch(ut){throw di(R,ut.message)}}}return R.\u0275fac=function(x){return new(x||R)(D.Y36(D.soG,16),D.Y36(D.EJc,16))},R.\u0275pipe=D.Yjl({name:"currency",type:R,pure:!0}),R})();let Br=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275mod=D.oAB({type:R}),R.\u0275inj=D.cJS({providers:[{provide:De,useClass:re}]}),R})();const Ws="browser";function qo(R){return"server"===R}let Si=(()=>{class R{}return R.\u0275prov=(0,D.Yz7)({token:R,providedIn:"root",factory:()=>new pn((0,D.LFG)(oe),window)}),R})();class pn{constructor(W,x){this.document=W,this.window=x,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const x=function(R,W){const x=R.getElementById(W)||R.getElementsByName(W)[0];if(x)return x;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const K=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let pe=K.currentNode;for(;pe;){const Ze=pe.shadowRoot;if(Ze){const ct=Ze.getElementById(W)||Ze.querySelector(`[name="${W}"]`);if(ct)return ct}pe=K.nextNode()}}return null}(this.document,W);x&&(this.scrollToElement(x),this.attemptFocus(x))}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=W)}}scrollToElement(W){const x=W.getBoundingClientRect(),K=x.left+this.window.pageXOffset,pe=x.top+this.window.pageYOffset,Ze=this.offset();this.window.scrollTo(K-Ze[0],pe-Ze[1])}attemptFocus(W){return W.focus(),this.document.activeElement===W}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=vi(this.window.history)||vi(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch(W){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(W){return!1}}}function vi(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Xi{}},1841:(ft,Pe,L)=>{"use strict";L.d(Pe,{TP:()=>tr,eN:()=>bt,JF:()=>Xt});var D=L(8583),m=L(7716),B=L(5917),Ee=L(7574),de=L(4612),X=L(5435),oe=L(8002);class ee{}class ie{}class q{constructor(ce){this.normalizedNames=new Map,this.lazyUpdate=null,ce?this.lazyInit="string"==typeof ce?()=>{this.headers=new Map,ce.split("\n").forEach(he=>{const qe=he.indexOf(":");if(qe>0){const at=he.slice(0,qe),yt=at.toLowerCase(),nt=he.slice(qe+1).trim();this.maybeSetNormalizedName(at,yt),this.headers.has(yt)?this.headers.get(yt).push(nt):this.headers.set(yt,[nt])}})}:()=>{this.headers=new Map,Object.keys(ce).forEach(he=>{let qe=ce[he];const at=he.toLowerCase();"string"==typeof qe&&(qe=[qe]),qe.length>0&&(this.headers.set(at,qe),this.maybeSetNormalizedName(he,at))})}:this.headers=new Map}has(ce){return this.init(),this.headers.has(ce.toLowerCase())}get(ce){this.init();const he=this.headers.get(ce.toLowerCase());return he&&he.length>0?he[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ce){return this.init(),this.headers.get(ce.toLowerCase())||null}append(ce,he){return this.clone({name:ce,value:he,op:"a"})}set(ce,he){return this.clone({name:ce,value:he,op:"s"})}delete(ce,he){return this.clone({name:ce,value:he,op:"d"})}maybeSetNormalizedName(ce,he){this.normalizedNames.has(he)||this.normalizedNames.set(he,ce)}init(){this.lazyInit&&(this.lazyInit instanceof q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ce=>this.applyUpdate(ce)),this.lazyUpdate=null))}copyFrom(ce){ce.init(),Array.from(ce.headers.keys()).forEach(he=>{this.headers.set(he,ce.headers.get(he)),this.normalizedNames.set(he,ce.normalizedNames.get(he))})}clone(ce){const he=new q;return he.lazyInit=this.lazyInit&&this.lazyInit instanceof q?this.lazyInit:this,he.lazyUpdate=(this.lazyUpdate||[]).concat([ce]),he}applyUpdate(ce){const he=ce.name.toLowerCase();switch(ce.op){case"a":case"s":let qe=ce.value;if("string"==typeof qe&&(qe=[qe]),0===qe.length)return;this.maybeSetNormalizedName(ce.name,he);const at=("a"===ce.op?this.headers.get(he):void 0)||[];at.push(...qe),this.headers.set(he,at);break;case"d":const yt=ce.value;if(yt){let nt=this.headers.get(he);if(!nt)return;nt=nt.filter(Ct=>-1===yt.indexOf(Ct)),0===nt.length?(this.headers.delete(he),this.normalizedNames.delete(he)):this.headers.set(he,nt)}else this.headers.delete(he),this.normalizedNames.delete(he)}}forEach(ce){this.init(),Array.from(this.normalizedNames.keys()).forEach(he=>ce(this.normalizedNames.get(he),this.headers.get(he)))}}class J{encodeKey(ce){return je(ce)}encodeValue(ce){return je(ce)}decodeKey(ce){return decodeURIComponent(ce)}decodeValue(ce){return decodeURIComponent(ce)}}const fe=/%(\d[a-f0-9])/gi,xe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function je(ke){return encodeURIComponent(ke).replace(fe,(ce,he)=>{var qe;return null!==(qe=xe[he])&&void 0!==qe?qe:ce})}function Ue(ke){return`${ke}`}class Me{constructor(ce={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ce.encoder||new J,ce.fromString){if(ce.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(ke,ce){const he=new Map;return ke.length>0&&ke.replace(/^\?/,"").split("&").forEach(at=>{const yt=at.indexOf("="),[nt,Ct]=-1==yt?[ce.decodeKey(at),""]:[ce.decodeKey(at.slice(0,yt)),ce.decodeValue(at.slice(yt+1))],hn=he.get(nt)||[];hn.push(Ct),he.set(nt,hn)}),he}(ce.fromString,this.encoder)}else ce.fromObject?(this.map=new Map,Object.keys(ce.fromObject).forEach(he=>{const qe=ce.fromObject[he];this.map.set(he,Array.isArray(qe)?qe:[qe])})):this.map=null}has(ce){return this.init(),this.map.has(ce)}get(ce){this.init();const he=this.map.get(ce);return he?he[0]:null}getAll(ce){return this.init(),this.map.get(ce)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ce,he){return this.clone({param:ce,value:he,op:"a"})}appendAll(ce){const he=[];return Object.keys(ce).forEach(qe=>{const at=ce[qe];Array.isArray(at)?at.forEach(yt=>{he.push({param:qe,value:yt,op:"a"})}):he.push({param:qe,value:at,op:"a"})}),this.clone(he)}set(ce,he){return this.clone({param:ce,value:he,op:"s"})}delete(ce,he){return this.clone({param:ce,value:he,op:"d"})}toString(){return this.init(),this.keys().map(ce=>{const he=this.encoder.encodeKey(ce);return this.map.get(ce).map(qe=>he+"="+this.encoder.encodeValue(qe)).join("&")}).filter(ce=>""!==ce).join("&")}clone(ce){const he=new Me({encoder:this.encoder});return he.cloneFrom=this.cloneFrom||this,he.updates=(this.updates||[]).concat(ce),he}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ce=>this.map.set(ce,this.cloneFrom.map.get(ce))),this.updates.forEach(ce=>{switch(ce.op){case"a":case"s":const he=("a"===ce.op?this.map.get(ce.param):void 0)||[];he.push(Ue(ce.value)),this.map.set(ce.param,he);break;case"d":if(void 0===ce.value){this.map.delete(ce.param);break}{let qe=this.map.get(ce.param)||[];const at=qe.indexOf(Ue(ce.value));-1!==at&&qe.splice(at,1),qe.length>0?this.map.set(ce.param,qe):this.map.delete(ce.param)}}}),this.cloneFrom=this.updates=null)}}class $e{constructor(){this.map=new Map}set(ce,he){return this.map.set(ce,he),this}get(ce){return this.map.has(ce)||this.map.set(ce,ce.defaultValue()),this.map.get(ce)}delete(ce){return this.map.delete(ce),this}keys(){return this.map.keys()}}function Ae(ke){return"undefined"!=typeof ArrayBuffer&&ke instanceof ArrayBuffer}function Ve(ke){return"undefined"!=typeof Blob&&ke instanceof Blob}function Oe(ke){return"undefined"!=typeof FormData&&ke instanceof FormData}class ht{constructor(ce,he,qe,at){let yt;if(this.url=he,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ce.toUpperCase(),function(ke){switch(ke){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||at?(this.body=void 0!==qe?qe:null,yt=at):yt=qe,yt&&(this.reportProgress=!!yt.reportProgress,this.withCredentials=!!yt.withCredentials,yt.responseType&&(this.responseType=yt.responseType),yt.headers&&(this.headers=yt.headers),yt.context&&(this.context=yt.context),yt.params&&(this.params=yt.params)),this.headers||(this.headers=new q),this.context||(this.context=new $e),this.params){const nt=this.params.toString();if(0===nt.length)this.urlWithParams=he;else{const Ct=he.indexOf("?");this.urlWithParams=he+(-1===Ct?"?":Ct<he.length-1?"&":"")+nt}}else this.params=new Me,this.urlWithParams=he}serializeBody(){return null===this.body?null:Ae(this.body)||Ve(this.body)||Oe(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Oe(this.body)?null:Ve(this.body)?this.body.type||null:Ae(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ce={}){var he;const qe=ce.method||this.method,at=ce.url||this.url,yt=ce.responseType||this.responseType,nt=void 0!==ce.body?ce.body:this.body,Ct=void 0!==ce.withCredentials?ce.withCredentials:this.withCredentials,hn=void 0!==ce.reportProgress?ce.reportProgress:this.reportProgress;let nr=ce.headers||this.headers,vn=ce.params||this.params;const At=null!==(he=ce.context)&&void 0!==he?he:this.context;return void 0!==ce.setHeaders&&(nr=Object.keys(ce.setHeaders).reduce((Bn,un)=>Bn.set(un,ce.setHeaders[un]),nr)),ce.setParams&&(vn=Object.keys(ce.setParams).reduce((Bn,un)=>Bn.set(un,ce.setParams[un]),vn)),new ht(qe,at,nt,{params:vn,headers:nr,context:At,reportProgress:hn,responseType:yt,withCredentials:Ct})}}var pt=(()=>((pt=pt||{})[pt.Sent=0]="Sent",pt[pt.UploadProgress=1]="UploadProgress",pt[pt.ResponseHeader=2]="ResponseHeader",pt[pt.DownloadProgress=3]="DownloadProgress",pt[pt.Response=4]="Response",pt[pt.User=5]="User",pt))();class Y{constructor(ce,he=200,qe="OK"){this.headers=ce.headers||new q,this.status=void 0!==ce.status?ce.status:he,this.statusText=ce.statusText||qe,this.url=ce.url||null,this.ok=this.status>=200&&this.status<300}}class mt extends Y{constructor(ce={}){super(ce),this.type=pt.ResponseHeader}clone(ce={}){return new mt({headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class Wt extends Y{constructor(ce={}){super(ce),this.type=pt.Response,this.body=void 0!==ce.body?ce.body:null}clone(ce={}){return new Wt({body:void 0!==ce.body?ce.body:this.body,headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class Ft extends Y{constructor(ce){super(ce,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ce.url||"(unknown url)"}`:`Http failure response for ${ce.url||"(unknown url)"}: ${ce.status} ${ce.statusText}`,this.error=ce.error||null}}function tn(ke,ce){return{body:ce,headers:ke.headers,context:ke.context,observe:ke.observe,params:ke.params,reportProgress:ke.reportProgress,responseType:ke.responseType,withCredentials:ke.withCredentials}}let bt=(()=>{class ke{constructor(he){this.handler=he}request(he,qe,at={}){let yt;if(he instanceof ht)yt=he;else{let hn,nr;hn=at.headers instanceof q?at.headers:new q(at.headers),at.params&&(nr=at.params instanceof Me?at.params:new Me({fromObject:at.params})),yt=new ht(he,qe,void 0!==at.body?at.body:null,{headers:hn,context:at.context,params:nr,reportProgress:at.reportProgress,responseType:at.responseType||"json",withCredentials:at.withCredentials})}const nt=(0,B.of)(yt).pipe((0,de.b)(hn=>this.handler.handle(hn)));if(he instanceof ht||"events"===at.observe)return nt;const Ct=nt.pipe((0,X.h)(hn=>hn instanceof Wt));switch(at.observe||"body"){case"body":switch(yt.responseType){case"arraybuffer":return Ct.pipe((0,oe.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return hn.body}));case"blob":return Ct.pipe((0,oe.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof Blob))throw new Error("Response is not a Blob.");return hn.body}));case"text":return Ct.pipe((0,oe.U)(hn=>{if(null!==hn.body&&"string"!=typeof hn.body)throw new Error("Response is not a string.");return hn.body}));case"json":default:return Ct.pipe((0,oe.U)(hn=>hn.body))}case"response":return Ct;default:throw new Error(`Unreachable: unhandled observe type ${at.observe}}`)}}delete(he,qe={}){return this.request("DELETE",he,qe)}get(he,qe={}){return this.request("GET",he,qe)}head(he,qe={}){return this.request("HEAD",he,qe)}jsonp(he,qe){return this.request("JSONP",he,{params:(new Me).append(qe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(he,qe={}){return this.request("OPTIONS",he,qe)}patch(he,qe,at={}){return this.request("PATCH",he,tn(at,qe))}post(he,qe,at={}){return this.request("POST",he,tn(at,qe))}put(he,qe,at={}){return this.request("PUT",he,tn(at,qe))}}return ke.\u0275fac=function(he){return new(he||ke)(m.LFG(ee))},ke.\u0275prov=m.Yz7({token:ke,factory:ke.\u0275fac}),ke})();class Lr{constructor(ce,he){this.next=ce,this.interceptor=he}handle(ce){return this.interceptor.intercept(ce,this.next)}}const tr=new m.OlP("HTTP_INTERCEPTORS");let $n=(()=>{class ke{intercept(he,qe){return qe.handle(he)}}return ke.\u0275fac=function(he){return new(he||ke)},ke.\u0275prov=m.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const ii=/^\)\]\}',?\n/;let dn=(()=>{class ke{constructor(he){this.xhrFactory=he}handle(he){if("JSONP"===he.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ee.y(qe=>{const at=this.xhrFactory.build();if(at.open(he.method,he.urlWithParams),he.withCredentials&&(at.withCredentials=!0),he.headers.forEach((un,me)=>at.setRequestHeader(un,me.join(","))),he.headers.has("Accept")||at.setRequestHeader("Accept","application/json, text/plain, */*"),!he.headers.has("Content-Type")){const un=he.detectContentTypeHeader();null!==un&&at.setRequestHeader("Content-Type",un)}if(he.responseType){const un=he.responseType.toLowerCase();at.responseType="json"!==un?un:"text"}const yt=he.serializeBody();let nt=null;const Ct=()=>{if(null!==nt)return nt;const un=1223===at.status?204:at.status,me=at.statusText||"OK",ae=new q(at.getAllResponseHeaders()),Ce=function(ke){return"responseURL"in ke&&ke.responseURL?ke.responseURL:/^X-Request-URL:/m.test(ke.getAllResponseHeaders())?ke.getResponseHeader("X-Request-URL"):null}(at)||he.url;return nt=new mt({headers:ae,status:un,statusText:me,url:Ce}),nt},hn=()=>{let{headers:un,status:me,statusText:ae,url:Ce}=Ct(),Ke=null;204!==me&&(Ke=void 0===at.response?at.responseText:at.response),0===me&&(me=Ke?200:0);let Le=me>=200&&me<300;if("json"===he.responseType&&"string"==typeof Ke){const wt=Ke;Ke=Ke.replace(ii,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(Vt){Ke=wt,Le&&(Le=!1,Ke={error:Vt,text:Ke})}}Le?(qe.next(new Wt({body:Ke,headers:un,status:me,statusText:ae,url:Ce||void 0})),qe.complete()):qe.error(new Ft({error:Ke,headers:un,status:me,statusText:ae,url:Ce||void 0}))},nr=un=>{const{url:me}=Ct(),ae=new Ft({error:un,status:at.status||0,statusText:at.statusText||"Unknown Error",url:me||void 0});qe.error(ae)};let vn=!1;const At=un=>{vn||(qe.next(Ct()),vn=!0);let me={type:pt.DownloadProgress,loaded:un.loaded};un.lengthComputable&&(me.total=un.total),"text"===he.responseType&&!!at.responseText&&(me.partialText=at.responseText),qe.next(me)},Bn=un=>{let me={type:pt.UploadProgress,loaded:un.loaded};un.lengthComputable&&(me.total=un.total),qe.next(me)};return at.addEventListener("load",hn),at.addEventListener("error",nr),at.addEventListener("timeout",nr),at.addEventListener("abort",nr),he.reportProgress&&(at.addEventListener("progress",At),null!==yt&&at.upload&&at.upload.addEventListener("progress",Bn)),at.send(yt),qe.next({type:pt.Sent}),()=>{at.removeEventListener("error",nr),at.removeEventListener("abort",nr),at.removeEventListener("load",hn),at.removeEventListener("timeout",nr),he.reportProgress&&(at.removeEventListener("progress",At),null!==yt&&at.upload&&at.upload.removeEventListener("progress",Bn)),at.readyState!==at.DONE&&at.abort()}})}}return ke.\u0275fac=function(he){return new(he||ke)(m.LFG(D.JF))},ke.\u0275prov=m.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const qt=new m.OlP("XSRF_COOKIE_NAME"),Mn=new m.OlP("XSRF_HEADER_NAME");class Dr{}let On=(()=>{class ke{constructor(he,qe,at){this.doc=he,this.platform=qe,this.cookieName=at,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const he=this.doc.cookie||"";return he!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D.Mx)(he,this.cookieName),this.lastCookieString=he),this.lastToken}}return ke.\u0275fac=function(he){return new(he||ke)(m.LFG(D.K0),m.LFG(m.Lbi),m.LFG(qt))},ke.\u0275prov=m.Yz7({token:ke,factory:ke.\u0275fac}),ke})(),Mr=(()=>{class ke{constructor(he,qe){this.tokenService=he,this.headerName=qe}intercept(he,qe){const at=he.url.toLowerCase();if("GET"===he.method||"HEAD"===he.method||at.startsWith("http://")||at.startsWith("https://"))return qe.handle(he);const yt=this.tokenService.getToken();return null!==yt&&!he.headers.has(this.headerName)&&(he=he.clone({headers:he.headers.set(this.headerName,yt)})),qe.handle(he)}}return ke.\u0275fac=function(he){return new(he||ke)(m.LFG(Dr),m.LFG(Mn))},ke.\u0275prov=m.Yz7({token:ke,factory:ke.\u0275fac}),ke})(),rt=(()=>{class ke{constructor(he,qe){this.backend=he,this.injector=qe,this.chain=null}handle(he){if(null===this.chain){const qe=this.injector.get(tr,[]);this.chain=qe.reduceRight((at,yt)=>new Lr(at,yt),this.backend)}return this.chain.handle(he)}}return ke.\u0275fac=function(he){return new(he||ke)(m.LFG(ie),m.LFG(m.zs3))},ke.\u0275prov=m.Yz7({token:ke,factory:ke.\u0275fac}),ke})(),vt=(()=>{class ke{static disable(){return{ngModule:ke,providers:[{provide:Mr,useClass:$n}]}}static withOptions(he={}){return{ngModule:ke,providers:[he.cookieName?{provide:qt,useValue:he.cookieName}:[],he.headerName?{provide:Mn,useValue:he.headerName}:[]]}}}return ke.\u0275fac=function(he){return new(he||ke)},ke.\u0275mod=m.oAB({type:ke}),ke.\u0275inj=m.cJS({providers:[Mr,{provide:tr,useExisting:Mr,multi:!0},{provide:Dr,useClass:On},{provide:qt,useValue:"XSRF-TOKEN"},{provide:Mn,useValue:"X-XSRF-TOKEN"}]}),ke})(),Xt=(()=>{class ke{}return ke.\u0275fac=function(he){return new(he||ke)},ke.\u0275mod=m.oAB({type:ke}),ke.\u0275inj=m.cJS({providers:[bt,{provide:ee,useClass:rt},dn,{provide:ie,useExisting:dn}],imports:[[vt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ke})()},7716:(ft,Pe,L)=>{"use strict";L.d(Pe,{deG:()=>Ua,tb:()=>mC,AFp:()=>fC,ip1:()=>km,CZH:()=>ah,hGG:()=>hA,z2F:()=>_f,sBO:()=>rI,Sil:()=>mf,_Vd:()=>Xd,EJc:()=>yC,SBq:()=>Lc,qLn:()=>Qn,vpe:()=>Vc,gxx:()=>ru,tBr:()=>sl,XFs:()=>vt,OlP:()=>_r,zs3:()=>Se,ZZ4:()=>wp,aQg:()=>Ip,soG:()=>kp,YKP:()=>nE,v3s:()=>GT,h0i:()=>od,PXZ:()=>UT,R0b:()=>_l,FiY:()=>Ma,Lbi:()=>gC,g9A:()=>pC,Qsj:()=>Hw,FYo:()=>bp,JOm:()=>y,Tiy:()=>lm,q3G:()=>Hr,tp0:()=>Io,EAV:()=>YT,Rgc:()=>rf,dDg:()=>bC,DyG:()=>Lo,q4F:()=>cm,GfV:()=>Yv,s_b:()=>Ap,ifc:()=>nt,eFA:()=>AC,G48:()=>RT,Gpc:()=>J,X6Q:()=>Hm,_c5:()=>sA,VLi:()=>OT,c2e:()=>_C,zSh:()=>nd,wAp:()=>_n,vHH:()=>je,EiD:()=>hl,mCW:()=>xi,qzn:()=>ul,JVY:()=>Ac,pB0:()=>Fu,eBb:()=>Do,L6k:()=>zc,LAX:()=>ku,cg1:()=>Xg,Tjo:()=>rA,kL8:()=>_v,yhl:()=>Tc,dqk:()=>At,sIi:()=>Zh,CqO:()=>$g,QGY:()=>Hg,F4k:()=>Iy,RDi:()=>Ei,AaK:()=>ee,z3N:()=>ti,qOj:()=>Mg,TTD:()=>Br,_Bn:()=>Wv,xp6:()=>Vf,uIk:()=>Ng,ekj:()=>Yg,Suo:()=>WE,Xpm:()=>Ht,lG2:()=>Li,Yz7:()=>En,cJS:()=>Wn,oAB:()=>gi,Yjl:()=>Er,Y36:()=>qh,_UZ:()=>vy,GkF:()=>by,qZA:()=>jg,TgZ:()=>Bg,EpF:()=>wy,n5z:()=>Fo,Ikx:()=>Jg,LFG:()=>ci,$8M:()=>El,NdJ:()=>Wg,CRH:()=>GE,oxw:()=>Sy,ALo:()=>LE,lcZ:()=>VE,xi3:()=>UE,Hsn:()=>My,F$t:()=>Py,Q6J:()=>Vg,s9C:()=>zg,DdM:()=>ME,VKq:()=>OE,iGM:()=>HE,MAs:()=>ay,CHM:()=>gr,uOi:()=>c,LSH:()=>g,kYT:()=>Us,Akn:()=>dc,Udp:()=>Zg,YNc:()=>oy,W1O:()=>YE,_uU:()=>Jy,Oqu:()=>Qg,hij:()=>gp,Gf:()=>$E});var D=L(9765),m=L(5319),B=L(7574),Ee=L(6682),de=L(8819);function X(e){for(let t in e)if(e[t]===X)return t;throw Error("Could not find renamed property on target object.")}function oe(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ee(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ee).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ie(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const q=X({__forward_ref__:X});function J(e){return e.__forward_ref__=J,e.toString=function(){return ee(this())},e}function G(e){return fe(e)?e():e}function fe(e){return"function"==typeof e&&e.hasOwnProperty(q)&&e.__forward_ref__===J}class je extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function Te(e){return"string"==typeof e?e:null==e?"":String(e)}function $e(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Te(e)}function Oe(e,t){const n=t?` in ${t}`:"";throw new je("201",`No provider for ${$e(e)} found${n}`)}function yn(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function En(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Wn(e){return{providers:e.providers||[],imports:e.imports||[]}}function dn(e){return qt(e,Mr)||qt(e,Tr)}function qt(e,t){return e.hasOwnProperty(t)?e[t]:null}function On(e){return e&&(e.hasOwnProperty(rt)||e.hasOwnProperty(rn))?e[rt]:null}const Mr=X({\u0275prov:X}),rt=X({\u0275inj:X}),Tr=X({ngInjectableDef:X}),rn=X({ngInjectorDef:X});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let Xt;function Sr(e){const t=Xt;return Xt=e,t}function ke(e,t,n){const r=dn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&vt.Optional?null:void 0!==t?t:void Oe(ee(e),"Injector")}function he(e){return{toString:e}.toString()}var qe=(()=>((qe=qe||{})[qe.OnPush=0]="OnPush",qe[qe.Default=1]="Default",qe))(),nt=(()=>((nt=nt||{})[nt.Emulated=0]="Emulated",nt[nt.None=2]="None",nt[nt.ShadowDom=3]="ShadowDom",nt))();const Ct="undefined"!=typeof globalThis&&globalThis,hn="undefined"!=typeof window&&window,nr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At=Ct||"undefined"!=typeof global&&global||hn||nr,me={},ae=[],Ce=X({\u0275cmp:X}),Ke=X({\u0275dir:X}),Le=X({\u0275pipe:X}),wt=X({\u0275mod:X}),Vt=X({\u0275loc:X}),wn=X({\u0275fac:X}),sr=X({__NG_ELEMENT_ID__:X});let Gn=0;function Ht(e){return he(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===qe.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ae,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||nt.Emulated,id:"c",styles:e.styles||ae,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,u=e.features,p=e.pipes;return r.id+=Gn++,r.inputs=qi(e.inputs,n),r.outputs=qi(e.outputs),u&&u.forEach(E=>E(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(Or):null,r.pipeDefs=p?()=>("function"==typeof p?p():p).map(si):null,r})}function Or(e){return Cr(e)||function(e){return e[Ke]||null}(e)}function si(e){return function(e){return e[Le]||null}(e)}const Is={};function gi(e){return he(()=>{const t={type:e.type,bootstrap:e.bootstrap||ae,declarations:e.declarations||ae,imports:e.imports||ae,exports:e.exports||ae,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Is[e.id]=e.type),t})}function Us(e,t){return he(()=>{const n=br(e,!0);n.declarations=t.declarations||ae,n.imports=t.imports||ae,n.exports=t.exports||ae})}function qi(e,t){if(null==e)return me;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],u=o;Array.isArray(o)&&(u=o[1],o=o[0]),n[o]=r,t&&(t[o]=u)}return n}const Li=Ht;function Er(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Cr(e){return e[Ce]||null}function br(e,t){const n=e[wt]||null;if(!n&&!0===t)throw new Error(`Type ${ee(e)} does not have '\u0275mod' property.`);return n}function rr(e){return Array.isArray(e)&&"object"==typeof e[1]}function Gr(e){return Array.isArray(e)&&!0===e[1]}function Go(e){return 0!=(8&e.flags)}function Hs(e){return 2==(2&e.flags)}function Qi(e){return 1==(1&e.flags)}function zr(e){return null!==e.template}function di(e){return 0!=(512&e[2])}function Vi(e,t){return e.hasOwnProperty(wn)?e[wn]:null}class ho{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Br(){return Ws}function Ws(e){return e.type.prototype.ngOnChanges&&(e.setInput=xr),ds}function ds(){const e=Gs(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===me)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function xr(e,t,n,r){const o=Gs(e)||function(e,t){return e[Ui]=t}(e,{previous:me,current:null}),u=o.current||(o.current={}),p=o.previous,E=this.declaredInputs[n],w=p[E];u[E]=new ho(w&&w.currentValue,t,p===me),e[r]=t}Br.ngInherit=!0;const Ui="__ngSimpleChanges__";function Gs(e){return e[Ui]||null}let vi;function Ei(e){vi=e}function R(e){return!!e.listen}const x={createRenderer:(e,t)=>void 0!==vi?vi:"undefined"!=typeof document?document:void 0};function pe(e){for(;Array.isArray(e);)e=e[0];return e}function Pt(e,t){return pe(t[e])}function ut(e,t){return pe(t[e.index])}function An(e,t){return e.data[t]}function $t(e,t){return e[t]}function Rn(e,t){const n=t[e];return rr(n)?n:n[0]}function zn(e){return 4==(4&e[2])}function pr(e){return 128==(128&e[2])}function gn(e,t){return null==t?null:e[t]}function In(e){e[18]=0}function Pi(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Kt={lFrame:ns(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function hs(){return Kt.bindingsEnabled}function it(){return Kt.lFrame.lView}function bn(){return Kt.lFrame.tView}function gr(e){return Kt.lFrame.contextLView=e,e[8]}function lr(){let e=va();for(;null!==e&&64===e.type;)e=e.parent;return e}function va(){return Kt.lFrame.currentTNode}function Kr(e,t){const n=Kt.lFrame;n.currentTNode=e,n.isParent=t}function fo(){return Kt.lFrame.isParent}function po(){Kt.lFrame.isParent=!1}function No(){return Kt.isInCheckNoChangesMode}function Ks(e){Kt.isInCheckNoChangesMode=e}function kr(){const e=Kt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function oi(){return Kt.lFrame.bindingIndex++}function ai(e){const t=Kt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ps(e,t){const n=Kt.lFrame;n.bindingIndex=n.bindingRootIndex=e,yo(t)}function yo(e){Kt.lFrame.currentDirectiveIndex=e}function Zs(){return Kt.lFrame.currentQueryIndex}function Ys(e){Kt.lFrame.currentQueryIndex=e}function ts(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ea(e,t,n){if(n&vt.SkipSelf){let o=t,u=e;for(;!(o=o.parent,null!==o||n&vt.Host||(o=ts(u),null===o||(u=u[15],10&o.type))););if(null===o)return!1;t=o,e=u}const r=Kt.lFrame=fi();return r.currentTNode=t,r.lView=e,!0}function vo(e){const t=fi(),n=e[1];Kt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function fi(){const e=Kt.lFrame,t=null===e?null:e.child;return null===t?ns(e):t}function ns(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function xo(){const e=Kt.lFrame;return Kt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const gs=xo;function Ms(){const e=xo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Pr(){return Kt.lFrame.selectedIndex}function Os(e){Kt.lFrame.selectedIndex=e}function mr(){const e=Kt.lFrame;return An(e.tView,e.selectedIndex)}function _s(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const u=e.data[n].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:E,ngAfterViewInit:w,ngAfterViewChecked:P,ngOnDestroy:U}=u;p&&(e.contentHooks||(e.contentHooks=[])).push(-n,p),E&&((e.contentHooks||(e.contentHooks=[])).push(n,E),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,E)),w&&(e.viewHooks||(e.viewHooks=[])).push(-n,w),P&&((e.viewHooks||(e.viewHooks=[])).push(n,P),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,P)),null!=U&&(e.destroyHooks||(e.destroyHooks=[])).push(n,U)}}function qs(e,t,n){Rs(e,t,3,n)}function ko(e,t,n,r){(3&e[2])===n&&Rs(e,t,n,r)}function ir(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Rs(e,t,n,r){const u=null!=r?r:-1,p=t.length-1;let E=0;for(let w=void 0!==r?65535&e[18]:0;w<p;w++)if("number"==typeof t[w+1]){if(E=t[w],null!=r&&E>=r)break}else t[w]<0&&(e[18]+=65536),(E<u||-1==u)&&(Qs(e,n,t,w),e[18]=(4294901760&e[18])+w+2),w++}function Qs(e,t,n,r){const o=n[r]<0,u=n[r+1],E=e[o?-n[r]:n[r]];if(o){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{u.call(E)}finally{}}}else try{u.call(E)}finally{}}class wi{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function na(e,t,n){const r=R(e);let o=0;for(;o<n.length;){const u=n[o];if("number"==typeof u){if(0!==u)break;o++;const p=n[o++],E=n[o++],w=n[o++];r?e.setAttribute(t,E,w,p):t.setAttributeNS(p,E,w)}else{const p=u,E=n[++o];ra(p)?r&&e.setProperty(t,p,E):r?e.setAttribute(t,p,E):t.setAttribute(p,E),o++}}return o}function ji(e){return 3===e||4===e||6===e}function ra(e){return 64===e.charCodeAt(0)}function ia(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Jn(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Jn(e,t,n,r,o){let u=0,p=e.length;if(-1===t)p=-1;else for(;u<e.length;){const E=e[u++];if("number"==typeof E){if(E===t){p=-1;break}if(E>t){p=u-1;break}}}for(;u<e.length;){const E=e[u];if("number"==typeof E)break;if(E===n){if(null===r)return void(null!==o&&(e[u+1]=o));if(r===e[u+1])return void(e[u+2]=o)}u++,null!==r&&u++,null!==o&&u++}-1!==p&&(e.splice(p,0,t),u=p+1),e.splice(u++,0,n),null!==r&&e.splice(u++,0,r),null!==o&&e.splice(u++,0,o)}function vs(e){return-1!==e}function Es(e){return 32767&e}function li(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Eo=!0;function Oi(e){const t=Eo;return Eo=e,t}let A=0;function b(e,t){const n=V(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,N(r.data,e),N(t,null),N(r.blueprint,null));const o=z(e,t),u=e.injectorIndex;if(vs(o)){const p=Es(o),E=li(o,t),w=E[1].data;for(let P=0;P<8;P++)t[u+P]=E[p+P]|w[p+P]}return t[u+8]=o,u}function N(e,t){e.push(0,0,0,0,0,0,0,0,t)}function V(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function z(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){const u=o[1],p=u.type;if(r=2===p?u.declTNode:1===p?o[6]:null,null===r)return-1;if(n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ue(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(sr)&&(r=n[sr]),null==r&&(r=n[sr]=A++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function et(e,t,n){if(n&vt.Optional)return e;Oe(t,"NodeInjector")}function It(e,t,n,r){if(n&vt.Optional&&void 0===r&&(r=null),0==(n&(vt.Self|vt.Host))){const o=e[9],u=Sr(void 0);try{return o?o.get(t,r,n&vt.Optional):ke(t,r,n&vt.Optional)}finally{Sr(u)}}return et(r,t,n)}function Nn(e,t,n,r=vt.Default,o){if(null!==e){const u=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(sr)?e[sr]:void 0;return"number"==typeof t?t>=0?255&t:Xn:t}(n);if("function"==typeof u){if(!ea(t,e,r))return r&vt.Host?et(o,n,r):It(t,n,r,o);try{const p=u(r);if(null!=p||r&vt.Optional)return p;Oe(n)}finally{gs()}}else if("number"==typeof u){let p=null,E=V(e,t),w=-1,P=r&vt.Host?t[16][6]:null;for((-1===E||r&vt.SkipSelf)&&(w=-1===E?z(e,t):t[E+8],-1!==w&&Ri(r,!1)?(p=t[1],E=Es(w),t=li(w,t)):E=-1);-1!==E;){const U=t[1];if(Co(u,E,U.data)){const Q=Vn(E,t,n,p,r,P);if(Q!==Mt)return Q}w=t[E+8],-1!==w&&Ri(r,t[1].data[E+8]===P)&&Co(u,E,t)?(p=U,E=Es(w),t=li(w,t)):E=-1}}}return It(t,n,r,o)}const Mt={};function Xn(){return new Jr(lr(),it())}function Vn(e,t,n,r,o,u){const p=t[1],E=p.data[e+8],U=Ii(E,p,n,null==r?Hs(E)&&Eo:r!=p&&0!=(3&E.type),o&vt.Host&&u===E);return null!==U?Hi(t,p,U,E):Mt}function Ii(e,t,n,r,o){const u=e.providerIndexes,p=t.data,E=1048575&u,w=e.directiveStart,U=u>>20,ne=o?E+U:e.directiveEnd;for(let _e=r?E:E+U;_e<ne;_e++){const Ie=p[_e];if(_e<w&&n===Ie||_e>=w&&Ie.type===n)return _e}if(o){const _e=p[w];if(_e&&zr(_e)&&_e.type===n)return w}return null}function Hi(e,t,n,r){let o=e[n];const u=t.data;if(function(e){return e instanceof wi}(o)){const p=o;p.resolving&&function(e,t){throw new je("200",`Circular dependency in DI detected for ${e}`)}($e(u[n]));const E=Oi(p.canSeeViewProviders);p.resolving=!0;const w=p.injectImpl?Sr(p.injectImpl):null;ea(e,r,vt.Default);try{o=e[n]=p.factory(void 0,u,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:u}=t.type.prototype;if(r){const p=Ws(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,p),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,p)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u))}(n,u[n],t)}finally{null!==w&&Sr(w),Oi(E),p.resolving=!1,gs()}}return o}function Co(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ri(e,t){return!(e&vt.Self||e&vt.Host&&t)}class Jr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Nn(this._tNode,this._lView,t,r,n)}}function Fo(e){return he(()=>{const t=e.prototype.constructor,n=t[wn]||sa(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const u=o[wn]||sa(o);if(u&&u!==n)return u;o=Object.getPrototypeOf(o)}return u=>new u})}function sa(e){return fe(e)?()=>{const t=sa(G(e));return t&&t()}:Vi(e)}function El(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const u=n[o];if(ji(u))break;if(0===u)o+=2;else if("number"==typeof u)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(u===t)return n[o+1];o+=2}}}return null}(lr(),e)}const oa="__parameters__";function to(e,t,n){return he(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...u){if(this instanceof o)return r.apply(this,u),this;const p=new o(...u);return E.annotation=p,E;function E(w,P,U){const Q=w.hasOwnProperty(oa)?w[oa]:Object.defineProperty(w,oa,{value:[]})[oa];for(;Q.length<=U;)Q.push(null);return(Q[U]=Q[U]||[]).push(p),w}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class _r{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=En({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ua=new _r("AnalyzeForEntryComponents"),Lo=Function;function $i(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),$i(r,t)):t!==e&&t.push(r)}return t}function Ni(e,t){e.forEach(n=>Array.isArray(n)?Ni(n,t):t(n))}function Ha(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function xs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function no(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Xr(e,t,n){let r=Sa(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Aa(e,t){const n=Sa(e,t);if(n>=0)return e[1|n]}function Sa(e,t){return function(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const u=r+(o-r>>1),p=e[u<<n];if(t===p)return u<<n;p>t?o=u:r=u+1}return~(o<<n)}(e,t,1)}const xn={},cr="__NG_DI_FLAG__",ei="ngTempTokenPath",Di=/\n/gm,Pa="__source",ro=X({provide:String,useValue:X});let Gi;function io(e){const t=Gi;return Gi=e,t}function Cc(e,t=vt.Default){if(void 0===Gi)throw new Error("inject() must be called from an injection context");return null===Gi?ke(e,void 0,t):Gi.get(e,t&vt.Optional?null:void 0,t)}function ci(e,t=vt.Default){return(Xt||Cc)(G(e),t)}function wo(e){const t=[];for(let n=0;n<e.length;n++){const r=G(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let o,u=vt.Default;for(let p=0;p<r.length;p++){const E=r[p],w=Wl(E);"number"==typeof w?-1===w?o=E.token:u|=w:o=E}t.push(ci(o,u))}else t.push(ci(r))}return t}function la(e,t){return e[cr]=t,e.prototype[cr]=t,e}function Wl(e){return e[cr]}function Gl(e,t,n,r){const o=e[ei];throw t[Pa]&&o.unshift(t[Pa]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let o=ee(t);if(Array.isArray(t))o=t.map(ee).join(" -> ");else if("object"==typeof t){let u=[];for(let p in t)if(t.hasOwnProperty(p)){let E=t[p];u.push(p+":"+("string"==typeof E?JSON.stringify(E):ee(E)))}o=`{${u.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Di,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[ei]=null,e}const sl=la(to("Inject",e=>({token:e})),-1),Ma=la(to("Optional"),8),Io=la(to("SkipSelf"),4);let al,Jl;function Sl(e){var t;return(null===(t=function(){if(void 0===al&&(al=null,At.trustedTypes))try{al=At.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return al}())||void 0===t?void 0:t.createHTML(e))||e}function Oa(e){var t;return(null===(t=function(){if(void 0===Jl&&(Jl=null,At.trustedTypes))try{Jl=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Jl}())||void 0===t?void 0:t.createScriptURL(e))||e}class cl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class uu extends cl{getTypeName(){return"HTML"}}class Gc extends cl{getTypeName(){return"Style"}}class Xl extends cl{getTypeName(){return"Script"}}class ec extends cl{getTypeName(){return"URL"}}class xu extends cl{getTypeName(){return"ResourceURL"}}function ti(e){return e instanceof cl?e.changingThisBreaksApplicationSecurity:e}function ul(e,t){const n=Tc(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Tc(e){return e instanceof cl&&e.getTypeName()||null}function Ac(e){return new uu(e)}function zc(e){return new Gc(e)}function Do(e){return new Xl(e)}function ku(e){return new ec(e)}function Fu(e){return new xu(e)}class Lu{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Sl(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class Vu{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=Sl(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=Sl(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let o=n.length-1;0<o;o--){const p=n.item(o).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&t.removeAttribute(p)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const du=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xi(e){return(e=String(e)).match(du)||e.match(hu)?e:"unsafe:"+e}function so(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function za(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Pc=so("area,br,col,hr,img,wbr"),Mc=so("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kc=so("rp,rt"),Zc=za(Pc,za(Mc,so("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),za(Kc,so("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),za(Kc,Mc)),pu=so("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ca=so("srcset"),Oc=za(pu,ca,so("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),so("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ml=so("script,style,template");class To{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=this.checkClobberedElement(n,n.nextSibling);if(o){n=o;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Zc.hasOwnProperty(n))return this.sanitizedSomething=!0,!Ml.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let o=0;o<r.length;o++){const u=r.item(o),p=u.name,E=p.toLowerCase();if(!Oc.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let w=u.value;pu[E]&&(w=xi(w)),ca[E]&&(e=w,w=(e=String(e)).split(",").map(t=>xi(t.trim())).join(", ")),this.buf.push(" ",p,'="',dl(w),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Zc.hasOwnProperty(n)&&!Pc.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(dl(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const $u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yc=/([^\#-~ |!])/g;function dl(e){return e.replace(/&/g,"&amp;").replace($u,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Yc,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rc;function hl(e,t){let n=null;try{Rc=Rc||function(e){const t=new Vu(e);return function(){try{return!!(new window.DOMParser).parseFromString(Sl(""),"text/html")}catch(e){return!1}}()?new Lu(t):t}(e);let r=t?String(t):"";n=Rc.getInertBodyElement(r);let o=5,u=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=u,u=n.innerHTML,n=Rc.getInertBodyElement(r)}while(r!==u);return Sl((new To).sanitizeChildren(tc(n)||n))}finally{if(n){const r=tc(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function tc(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Hr=(()=>((Hr=Hr||{})[Hr.NONE=0]="NONE",Hr[Hr.HTML=1]="HTML",Hr[Hr.STYLE=2]="STYLE",Hr[Hr.SCRIPT=3]="SCRIPT",Hr[Hr.URL=4]="URL",Hr[Hr.RESOURCE_URL=5]="RESOURCE_URL",Hr))();function g(e){const t=Je();return t?t.sanitize(Hr.URL,e)||"":ul(e,"URL")?ti(e):xi(Te(e))}function c(e){const t=Je();if(t)return Oa(t.sanitize(Hr.RESOURCE_URL,e)||"");if(ul(e,"ResourceURL"))return Oa(ti(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Je(){const e=it();return e&&e[12]}const Sn="__ngContext__";function Tt(e,t){e[Sn]=t}function Un(e){const t=function(e){return e[Sn]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Bt(e){return e.ngOriginalError}function Kn(e,...t){e.error(...t)}class Qn{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=this._findContext(t),o=(e=t)&&e.ngErrorLogger||Kn;var e;o(this._console,"ERROR",t),n&&o(this._console,"ORIGINAL ERROR",n),r&&o(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?t.ngDebugContext||this._findContext(Bt(t)):null}_findOriginalError(t){let n=t&&Bt(t);for(;n&&Bt(n);)n=Bt(n);return n||null}}const fd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function da(e){return e instanceof Function?e():e}var y=(()=>((y=y||{})[y.Important=1]="Important",y[y.DashCase=2]="DashCase",y))();function f(e,t){return undefined(e,t)}function j(e){const t=e[3];return Gr(t)?t[3]:t}function _t(e){return Lt(e[13])}function dt(e){return Lt(e[4])}function Lt(e){for(;null!==e&&!Gr(e);)e=e[4];return e}function kn(e,t,n,r,o){if(null!=r){let u,p=!1;Gr(r)?u=r:rr(r)&&(p=!0,r=r[0]);const E=pe(r);0===e&&null!==n?null==o?Vs(t,n,E):ha(t,n,E,o||null,!0):1===e&&null!==n?ha(t,n,E,o||null,!0):2===e?function(e,t,n){const r=Ed(e,t);r&&function(e,t,n,r){R(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,E,p):3===e&&t.destroyNode(E),null!=u&&function(e,t,n,r,o){const u=n[7];u!==pe(n)&&kn(t,e,r,u,o);for(let E=10;E<n.length;E++){const w=n[E];bu(w[1],w,e,t,r,u)}}(t,e,u,n,o)}}function Xc(e,t,n){return R(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Gu(e,t){const n=e[9],r=n.indexOf(t),o=t[3];1024&t[2]&&(t[2]&=-1025,Pi(o,-1)),n.splice(r,1)}function zu(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[17];null!==o&&o!==e&&Gu(o,r),t>0&&(e[n-1][4]=r[4]);const u=xs(e,10+t);!function(e,t){bu(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const p=u[19];null!==p&&p.detachView(u[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function vu(e,t){if(!(256&t[2])){const n=t[11];R(n)&&n.destroyNode&&bu(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Eu(e[1],e);for(;t;){let n=null;if(rr(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)rr(t)&&Eu(t[1],t),t=t[3];null===t&&(t=e),rr(t)&&Eu(t[1],t),n=t&&t[4]}t=n}}(t)}}function Eu(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof wi)){const u=n[r+1];if(Array.isArray(u))for(let p=0;p<u.length;p+=2){const E=o[u[p]],w=u[p+1];try{w.call(E)}finally{}}else try{u.call(o)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let o=-1;if(null!==n)for(let u=0;u<n.length-1;u+=2)if("string"==typeof n[u]){const p=n[u+1],E="function"==typeof p?p(t):pe(t[p]),w=r[o=n[u+2]],P=n[u+3];"boolean"==typeof P?E.removeEventListener(n[u],w,P):P>=0?r[o=P]():r[o=-P].unsubscribe(),u+=2}else{const p=r[o=n[u+1]];n[u].call(p)}if(null!==r){for(let u=o+1;u<r.length;u++)r[u]();t[7]=null}}(e,t),1===t[1].type&&R(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Gr(t[3])){n!==t[3]&&Gu(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Tf(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const o=e.data[r.directiveStart].encapsulation;if(o===nt.None||o===nt.Emulated)return null}return ut(r,n)}(e,t.parent,n)}function ha(e,t,n,r,o){R(e)?e.insertBefore(t,n,r,o):t.insertBefore(n,r,o)}function Vs(e,t,n){R(e)?e.appendChild(t,n):t.appendChild(n)}function fa(e,t,n,r,o){null!==r?ha(e,t,n,r,o):Vs(e,t,n)}function Ed(e,t){return R(e)?e.parentNode(t):t.parentNode}function Sf(e,t,n){return ph(e,t,n)}let ph=function(e,t,n){return 40&e.type?ut(e,n):null};function bd(e,t,n,r){const o=Tf(e,r,t),u=t[11],E=Sf(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(n))for(let w=0;w<n.length;w++)fa(u,o,n[w],E,!1);else fa(u,o,n,E,!1)}function wd(e,t){if(null!==t){const n=t.type;if(3&n)return ut(t,e);if(4&n)return gh(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return wd(e,r);{const o=e[t.index];return Gr(o)?gh(-1,o):pe(o)}}if(32&n)return f(t,e)()||pe(e[t.index]);{const r=Mf(e,t);return null!==r?Array.isArray(r)?r[0]:wd(j(e[16]),r):wd(e,t.next)}}return null}function Mf(e,t){return null!==t?e[16][6].projection[t.projection]:null}function gh(e,t){const n=10+e+1;if(n<t.length){const r=t[n],o=r[1].firstChild;if(null!==o)return wd(r,o)}return t[7]}function mh(e,t,n,r,o,u,p){for(;null!=n;){const E=r[n.index],w=n.type;if(p&&0===t&&(E&&Tt(pe(E),r),n.flags|=4),64!=(64&n.flags))if(8&w)mh(e,t,n.child,r,o,u,!1),kn(t,e,o,E,u);else if(32&w){const P=f(n,r);let U;for(;U=P();)kn(t,e,o,U,u);kn(t,e,o,E,u)}else 16&w?Rf(e,t,r,n,o,u):kn(t,e,o,E,u);n=p?n.projectionNext:n.next}}function bu(e,t,n,r,o,u){mh(n,r,e.firstChild,t,o,u,!1)}function Rf(e,t,n,r,o,u){const p=n[16],w=p[6].projection[r.projection];if(Array.isArray(w))for(let P=0;P<w.length;P++)kn(t,e,o,w[P],u);else mh(e,t,w,p[3],o,u,!0)}function xf(e,t,n){R(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function yh(e,t,n){R(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function vh(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const u=t.length;if(o+u===r||e.charCodeAt(o+u)<=32)return o}n=o+1}}const kf="ng-template";function c_(e,t,n){let r=0;for(;r<e.length;){let o=e[r++];if(n&&"class"===o){if(o=e[r],-1!==vh(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function Ff(e){return 4===e.type&&e.value!==kf}function Ch(e,t,n){return t===(4!==e.type||n?e.value:kf)}function u_(e,t,n){let r=4;const o=e.attrs||[],u=function(e){for(let t=0;t<e.length;t++)if(ji(e[t]))return t;return e.length}(o);let p=!1;for(let E=0;E<t.length;E++){const w=t[E];if("number"!=typeof w){if(!p)if(4&r){if(r=2|1&r,""!==w&&!Ch(e,w,n)||""===w&&1===t.length){if(Rl(r))return!1;p=!0}}else{const P=8&r?w:t[++E];if(8&r&&null!==e.attrs){if(!c_(e.attrs,P,n)){if(Rl(r))return!1;p=!0}continue}const Q=qp(8&r?"class":w,o,Ff(e),n);if(-1===Q){if(Rl(r))return!1;p=!0;continue}if(""!==P){let ne;ne=Q>u?"":o[Q+1].toLowerCase();const _e=8&r?ne:null;if(_e&&-1!==vh(_e,P,0)||2&r&&P!==ne){if(Rl(r))return!1;p=!0}}}}else{if(!p&&!Rl(r)&&!Rl(w))return!1;if(p&&Rl(w))continue;p=!1,r=w|1&r}}return Rl(r)||p}function Rl(e){return 0==(1&e)}function qp(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let u=!1;for(;o<t.length;){const p=t[o];if(p===e)return o;if(3===p||6===p)u=!0;else{if(1===p||2===p){let E=t[++o];for(;"string"==typeof E;)E=t[++o];continue}if(4===p)break;if(0===p){o+=4;continue}}o+=u?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Lf(e,t,n=!1){for(let r=0;r<t.length;r++)if(u_(e,t[r],n))return!0;return!1}function p_(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Qp(e,t){return e?":not("+t.trim()+")":t}function g_(e){let t=e[0],n=1,r=2,o="",u=!1;for(;n<e.length;){let p=e[n];if("string"==typeof p)if(2&r){const E=e[++n];o+="["+p+(E.length>0?'="'+E+'"':"")+"]"}else 8&r?o+="."+p:4&r&&(o+=" "+p);else""!==o&&!Rl(p)&&(t+=Qp(u,o),o=""),r=p,u=u||!Rl(r);n++}return""!==o&&(t+=Qp(u,o)),t}const Tn={};function Vf(e){Uf(bn(),it(),Pr()+e,No())}function Uf(e,t,n,r){if(!r)if(3==(3&t[2])){const u=e.preOrderCheckHooks;null!==u&&qs(t,u,n)}else{const u=e.preOrderHooks;null!==u&&ko(t,u,0,n)}Os(n)}function zi(e,t){return e<<17|t<<2}function Ki(e){return e>>17&32767}function wh(e){return 2|e}function ic(e){return(131068&e)>>2}function Ih(e,t){return-131069&e|t<<2}function Th(e){return 1|e}function Md(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],u=n[r+1];if(-1!==u){const p=e.data[u];Ys(o),p.contentQueries(2,t[u],u)}}}function wu(e,t,n,r,o,u,p,E,w,P){const U=t.blueprint.slice();return U[0]=o,U[2]=140|r,In(U),U[3]=U[15]=e,U[8]=n,U[10]=p||e&&e[10],U[11]=E||e&&e[11],U[12]=w||e&&e[12]||null,U[9]=P||e&&e[9]||null,U[6]=u,U[16]=2==t.type?e[16]:U,U}function Iu(e,t,n,r,o){let u=e.data[t];if(null===u)u=function(e,t,n,r,o){const u=va(),p=fo(),w=e.data[t]=function(e,t,n,r,o,u){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?u:u&&u.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=w),null!==u&&(p?null==u.child&&null!==w.parent&&(u.child=w):null===u.next&&(u.next=w)),w}(e,t,n,r,o),Kt.lFrame.inI18n&&(u.flags|=64);else if(64&u.type){u.type=n,u.value=r,u.attrs=o;const p=function(){const e=Kt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===p?-1:p.injectorIndex}return Kr(u,!0),u}function ac(e,t,n,r){if(0===n)return-1;const o=t.length;for(let u=0;u<n;u++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Qu(e,t,n){vo(t);try{const r=e.viewQuery;null!==r&&cp(1,r,n);const o=e.template;null!==o&&Yf(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Md(e,t),e.staticViewQueries&&cp(2,e.viewQuery,n);const u=e.components;null!==u&&function(e,t){for(let n=0;n<t.length;n++)k_(e,t[n])}(t,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Ms()}}function Du(e,t,n,r){const o=t[2];if(256==(256&o))return;vo(t);const u=No();try{In(t),function(e){Kt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Yf(e,t,n,2,r);const p=3==(3&o);if(!u)if(p){const P=e.preOrderCheckHooks;null!==P&&qs(t,P,null)}else{const P=e.preOrderHooks;null!==P&&ko(t,P,0,null),ir(t,0)}if(function(e){for(let t=_t(e);null!==t;t=dt(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const o=n[r],u=o[3];0==(1024&o[2])&&Pi(u,1),o[2]|=1024}}}(t),function(e){for(let t=_t(e);null!==t;t=dt(t))for(let n=10;n<t.length;n++){const r=t[n],o=r[1];pr(r)&&Du(o,r,o.template,r[8])}}(t),null!==e.contentQueries&&Md(e,t),!u)if(p){const P=e.contentCheckHooks;null!==P&&qs(t,P)}else{const P=e.contentHooks;null!==P&&ko(t,P,1),ir(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Os(~o);else{const u=o,p=n[++r],E=n[++r];Ps(p,u),E(2,t[u])}}}finally{Os(-1)}}(e,t);const E=e.components;null!==E&&function(e,t){for(let n=0;n<t.length;n++)x_(e,t[n])}(t,E);const w=e.viewQuery;if(null!==w&&cp(2,w,r),!u)if(p){const P=e.viewCheckHooks;null!==P&&qs(t,P)}else{const P=e.viewHooks;null!==P&&ko(t,P,2),ir(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),u||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Pi(t[3],-1))}finally{Ms()}}function og(e,t,n,r){const o=t[10],u=!No(),p=zn(t);try{u&&!p&&o.begin&&o.begin(),p&&Qu(e,t,r),Du(e,t,n,r)}finally{u&&!p&&o.end&&o.end()}}function Yf(e,t,n,r,o){const u=Pr(),p=2&r;try{Os(-1),p&&t.length>20&&Uf(e,t,20,No()),n(r,o)}finally{Os(u)}}function qf(e,t,n){if(Go(t)){const o=t.directiveEnd;for(let u=t.directiveStart;u<o;u++){const p=e.data[u];p.contentQueries&&p.contentQueries(1,n[u],u)}}}function Rh(e,t,n){!hs()||(function(e,t,n,r){const o=n.directiveStart,u=n.directiveEnd;e.firstCreatePass||b(n,t),Tt(r,t);const p=n.initialInputs;for(let E=o;E<u;E++){const w=e.data[E],P=zr(w);P&&S_(t,n,w);const U=Hi(t,e,E,n);Tt(U,t),null!==p&&P_(0,E-o,U,w,0,p),P&&(Rn(n.index,t)[8]=U)}}(e,t,n,ut(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,o=n.directiveEnd,p=n.index,E=Kt.lFrame.currentDirectiveIndex;try{Os(p);for(let w=r;w<o;w++){const P=e.data[w],U=t[w];yo(w),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&kh(P,U)}}finally{Os(-1),yo(E)}}(e,t,n))}function Nh(e,t,n=ut){const r=t.localNames;if(null!==r){let o=t.index+1;for(let u=0;u<r.length;u+=2){const p=r[u+1],E=-1===p?n(t,e):e[p];e[o++]=E}}}function Qf(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Rd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Rd(e,t,n,r,o,u,p,E,w,P){const U=20+r,Q=U+o,ne=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Tn);return n}(U,Q),_e="function"==typeof P?P():P;return ne[1]={type:e,blueprint:ne,template:n,queries:null,viewQuery:E,declTNode:t,data:ne.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:w,consts:_e,incompleteFirstPass:!1}}function Nd(e,t,n,r){const o=Bh(t);null===n?o.push(r):(o.push(n),e.firstCreatePass&&jh(e).push(r,o.length-1))}function Jf(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const o=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,o):n[r]=[t,o]}return n}function pa(e,t,n,r,o,u,p,E){const w=ut(t,n);let U,P=t.inputs;!E&&null!=P&&(U=P[r])?(Tu(e,n,U,r,o),Hs(t)&&function(e,t){const n=Rn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=p?p(o,t.value||"",r):o,R(u)?u.setProperty(w,r,o):ra(r)||(w.setProperty?w.setProperty(r,o):w[r]=o))}function Xu(e,t,n,r){let o=!1;if(hs()){const u=function(e,t,n){const r=e.directiveRegistry;let o=null;if(r)for(let u=0;u<r.length;u++){const p=r[u];Lf(n,p.selectors,!1)&&(o||(o=[]),ue(b(n,t),e,p.type),zr(p)?(xd(e,n),o.unshift(p)):o.push(p))}return o}(e,t,n),p=null===r?null:{"":-1};if(null!==u){o=!0,gg(n,e.data.length,u.length);for(let U=0;U<u.length;U++){const Q=u[U];Q.providersResolver&&Q.providersResolver(Q)}let E=!1,w=!1,P=ac(e,t,u.length,null);for(let U=0;U<u.length;U++){const Q=u[U];n.mergedAttrs=ia(n.mergedAttrs,Q.hostAttrs),ip(e,n,t,P,Q),Lh(P,Q,p),null!==Q.contentQueries&&(n.flags|=8),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(n.flags|=128);const ne=Q.type.prototype;!E&&(ne.ngOnChanges||ne.ngOnInit||ne.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),E=!0),!w&&(ne.ngOnChanges||ne.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),w=!0),P++}!function(e,t){const r=t.directiveEnd,o=e.data,u=t.attrs,p=[];let E=null,w=null;for(let P=t.directiveStart;P<r;P++){const U=o[P],Q=U.inputs,ne=null===u||Ff(t)?null:M_(Q,u);p.push(ne),E=Jf(Q,P,E),w=Jf(U.outputs,P,w)}null!==E&&(E.hasOwnProperty("class")&&(t.flags|=16),E.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=p,t.inputs=E,t.outputs=w}(e,n)}p&&function(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const u=n[t[o+1]];if(null==u)throw new je("301",`Export of name '${t[o+1]}' not found!`);r.push(t[o],u)}}}(n,r,p)}return n.mergedAttrs=ia(n.mergedAttrs,n.attrs),o}function hg(e,t,n,r,o,u){const p=u.hostBindings;if(p){let E=e.hostBindingOpCodes;null===E&&(E=e.hostBindingOpCodes=[]);const w=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(E)!=w&&E.push(w),E.push(r,o,p)}}function kh(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function xd(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Lh(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;zr(t)&&(n[""]=e)}}function gg(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ip(e,t,n,r,o){e.data[r]=o;const u=o.factory||(o.factory=Vi(o.type)),p=new wi(u,zr(o),null);e.blueprint[r]=p,n[r]=p,hg(e,t,0,r,ac(e,n,o.hostVars,Tn),o)}function S_(e,t,n){const r=ut(t,e),o=Qf(n),u=e[10],p=ed(e,wu(e,o,null,n.onPush?64:16,r,t,u,u.createRenderer(r,n),null,null));e[t.index]=p}function Nl(e,t,n,r,o,u){const p=ut(e,t);!function(e,t,n,r,o,u,p){if(null==u)R(e)?e.removeAttribute(t,o,n):t.removeAttribute(o);else{const E=null==p?Te(u):p(u,r||"",o);R(e)?e.setAttribute(t,o,E,n):n?t.setAttributeNS(n,o,E):t.setAttribute(o,E)}}(t[11],p,u,e.value,n,r,o)}function P_(e,t,n,r,o,u){const p=u[t];if(null!==p){const E=r.setInput;for(let w=0;w<p.length;){const P=p[w++],U=p[w++],Q=p[w++];null!==E?r.setInput(n,Q,P,U):n[U]=Q}}}function M_(e,t){let n=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[r+1])),r+=2}else r+=2;else r+=4}return n}function mg(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function x_(e,t){const n=Rn(t,e);if(pr(n)){const r=n[1];80&n[2]?Du(r,n,r.template,n[8]):n[5]>0&&sp(n)}}function sp(e){for(let r=_t(e);null!==r;r=dt(r))for(let o=10;o<r.length;o++){const u=r[o];if(1024&u[2]){const p=u[1];Du(p,u,p.template,u[8])}else u[5]>0&&sp(u)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const o=Rn(n[r],e);pr(o)&&o[5]>0&&sp(o)}}function k_(e,t){const n=Rn(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Qu(r,n,n[8])}function ed(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function kd(e){for(;e;){e[2]|=64;const t=j(e);if(di(e)&&!t)return e;e=t}return null}function Ld(e,t,n){const r=t[10];r.begin&&r.begin();try{Du(e,t,e.template,n)}catch(o){throw $h(t,o),o}finally{r.end&&r.end()}}function Uh(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Un(n),o=r[1];og(o,r,o.template,n)}}(e[8])}function cp(e,t,n){Ys(0),t(e,n)}const yg=(()=>Promise.resolve(null))();function Bh(e){return e[7]||(e[7]=[])}function jh(e){return e.cleanup||(e.cleanup=[])}function $h(e,t){const n=e[9],r=n?n.get(Qn,null):null;r&&r.handleError(t)}function Tu(e,t,n,r,o){for(let u=0;u<n.length;){const p=n[u++],E=n[u++],w=t[p],P=e.data[p];null!==P.setInput?P.setInput(w,o,r,E):w[E]=o}}function lc(e,t,n){const r=Pt(t,e);!function(e,t,n){R(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function td(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,u=0;if(null!==t)for(let p=0;p<t.length;p++){const E=t[p];"number"==typeof E?u=E:1==u?o=ie(o,E):2==u&&(r=ie(r,E+": "+t[++p]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}const ru=new _r("INJECTOR",-1);class Wh{get(t,n=xn){if(n===xn){const r=new Error(`NullInjectorError: No provider for ${ee(t)}!`);throw r.name="NullInjectorError",r}return n}}const nd=new _r("Set Injector scope."),rd={},bg={};let Vd;function up(){return void 0===Vd&&(Vd=new Wh),Vd}function Gh(e,t=null,n=null,r){return new Ig(e,n,t||up(),r)}class Ig{constructor(t,n,r,o=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const u=[];n&&Ni(n,E=>this.processProvider(E,t,n)),Ni([t],E=>this.processInjectorType(E,[],u)),this.records.set(ru,Au(void 0,this));const p=this.records.get(nd);this.scope=null!=p?p.value:null,this.source=o||("object"==typeof t?null:ee(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=xn,r=vt.Default){this.assertNotDestroyed();const o=io(this),u=Sr(void 0);try{if(!(r&vt.SkipSelf)){let E=this.records.get(t);if(void 0===E){const w=("function"==typeof(e=t)||"object"==typeof e&&e instanceof _r)&&dn(t);E=w&&this.injectableDefInScope(w)?Au(zh(t),rd):null,this.records.set(t,E)}if(null!=E)return this.hydrate(t,E)}return(r&vt.Self?up():this.parent).get(t,n=r&vt.Optional&&n===xn?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[ei]=p[ei]||[]).unshift(ee(t)),o)throw p;return Gl(p,t,"R3InjectorError",this.source)}throw p}finally{Sr(u),io(o)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,o)=>t.push(ee(o))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=G(t)))return!1;let o=On(t);const u=null==o&&t.ngModule||void 0,p=void 0===u?t:u,E=-1!==r.indexOf(p);if(void 0!==u&&(o=On(u)),null==o)return!1;if(null!=o.imports&&!E){let U;r.push(p);try{Ni(o.imports,Q=>{this.processInjectorType(Q,n,r)&&(void 0===U&&(U=[]),U.push(Q))})}finally{}if(void 0!==U)for(let Q=0;Q<U.length;Q++){const{ngModule:ne,providers:_e}=U[Q];Ni(_e,Ie=>this.processProvider(Ie,ne,_e||ae))}}this.injectorDefTypes.add(p);const w=Vi(p)||(()=>new p);this.records.set(p,Au(w,rd));const P=o.providers;if(null!=P&&!E){const U=t;Ni(P,Q=>this.processProvider(Q,U,P))}return void 0!==u&&void 0!==t.providers}processProvider(t,n,r){let o=h(t=G(t))?t:G(t&&t.provide);const u=a(e=t)?Au(void 0,e.useValue):Au(Ag(e),rd);var e;if(h(t)||!0!==t.multi)this.records.get(o);else{let p=this.records.get(o);p||(p=Au(void 0,rd,!0),p.factory=()=>wo(p.multi),this.records.set(o,p)),o=t,p.multi.push(t)}this.records.set(o,u)}hydrate(t,n){return n.value===rd&&(n.value=bg,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=G(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function zh(e){const t=dn(e),n=null!==t?t.factory:Vi(e);if(null!==n)return n;if(e instanceof _r)throw new Error(`Token ${ee(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=no(t,"?");throw new Error(`Can't resolve all parameters for ${ee(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[Mr]||e[Tr]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ag(e,t,n){let r;if(h(e)){const o=G(e);return Vi(o)||zh(o)}if(a(e))r=()=>G(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...wo(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>ci(G(e.useExisting));else{const o=G(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Vi(o)||zh(o);r=()=>new o(...wo(e.deps))}return r}function Au(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function a(e){return null!==e&&"object"==typeof e&&ro in e}function h(e){return"function"==typeof e}const We=function(e,t,n){return function(e,t=null,n=null,r){const o=Gh(e,t,n,r);return o._resolveInjectorDefTypes(),o}({name:n},t,e,n)};let Se=(()=>{class e{static create(n,r){return Array.isArray(n)?We(n,r,""):We(n.providers,n.parent,n.name||"")}}return e.THROW_IF_NOT_FOUND=xn,e.NULL=new Wh,e.\u0275prov=En({token:e,providedIn:"any",factory:()=>ci(ru)}),e.__NG_ELEMENT_ID__=-1,e})();function m0(e,t){_s(Un(e)[1],lr())}function Mg(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(zr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");o=t.\u0275dir}if(o){if(n){r.push(o);const p=e;p.inputs=Og(e.inputs),p.declaredInputs=Og(e.declaredInputs),p.outputs=Og(e.outputs);const E=o.hostBindings;E&&E0(e,E);const w=o.viewQuery,P=o.contentQueries;if(w&&y0(e,w),P&&v0(e,P),oe(e.inputs,o.inputs),oe(e.declaredInputs,o.declaredInputs),oe(e.outputs,o.outputs),zr(o)&&o.data.animation){const U=e.data;U.animation=(U.animation||[]).concat(o.data.animation)}}const u=o.features;if(u)for(let p=0;p<u.length;p++){const E=u[p];E&&E.ngInherit&&E(e),E===Mg&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=ia(o.hostAttrs,n=ia(n,o.hostAttrs))}}(r)}function Og(e){return e===me?{}:e===ae?[]:e}function y0(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function v0(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,u)=>{t(r,o,u),n(r,o,u)}:t}function E0(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}let dp=null;function Ud(){if(!dp){const e=At.Symbol;if(e&&e.iterator)dp=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(dp=r)}}}return dp}class uc{constructor(t){this.wrapped=t}static wrap(t){return new uc(t)}static unwrap(t){return uc.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof uc}}function Zh(e){return!!Rg(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ud()in e)}function Rg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function kc(e,t,n){return e[t]=n}function ga(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ng(e,t,n,r){const o=it();return ga(o,oi(),t)&&(bn(),Nl(mr(),o,e,t,n,r)),Ng}function jd(e,t,n,r){return ga(e,oi(),n)?t+Te(n)+r:Tn}function oy(e,t,n,r,o,u,p,E){const w=it(),P=bn(),U=e+20,Q=P.firstCreatePass?function(e,t,n,r,o,u,p,E,w){const P=t.consts,U=Iu(t,e,4,p||null,gn(P,E));Xu(t,n,U,gn(P,w)),_s(t,U);const Q=U.tViews=Rd(2,U,r,o,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,P);return null!==t.queries&&(t.queries.template(t,U),Q.queries=t.queries.embeddedTView(U)),U}(U,P,w,t,n,r,o,u,p):P.data[U];Kr(Q,!1);const ne=w[11].createComment("");bd(P,w,ne,Q),Tt(ne,w),ed(w,w[U]=mg(ne,w,ne,Q)),Qi(Q)&&Rh(P,w,Q),null!=p&&Nh(w,Q,E)}function ay(e){return $t(Kt.lFrame.contextLView,20+e)}function qh(e,t=vt.Default){const n=it();return null===n?ci(e,t):Nn(lr(),n,G(e),t)}function Vg(e,t,n){const r=it();return ga(r,oi(),t)&&pa(bn(),mr(),r,e,t,r[11],n,!1),Vg}function Ug(e,t,n,r,o){const p=o?"class":"style";Tu(e,n,t.inputs[p],p,r)}function Bg(e,t,n,r){const o=it(),u=bn(),p=20+e,E=o[11],w=o[p]=Xc(E,t,Kt.lFrame.currentNamespace),P=u.firstCreatePass?function(e,t,n,r,o,u,p){const E=t.consts,P=Iu(t,e,2,o,gn(E,u));return Xu(t,n,P,gn(E,p)),null!==P.attrs&&td(P,P.attrs,!1),null!==P.mergedAttrs&&td(P,P.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,P),P}(p,u,o,0,t,n,r):u.data[p];Kr(P,!0);const U=P.mergedAttrs;null!==U&&na(E,w,U);const Q=P.classes;null!==Q&&yh(E,w,Q);const ne=P.styles;null!==ne&&xf(E,w,ne),64!=(64&P.flags)&&bd(u,o,w,P),0===Kt.lFrame.elementDepthCount&&Tt(w,o),Kt.lFrame.elementDepthCount++,Qi(P)&&(Rh(u,o,P),qf(u,P,o)),null!==r&&Nh(o,P)}function jg(){let e=lr();fo()?po():(e=e.parent,Kr(e,!1));const t=e;Kt.lFrame.elementDepthCount--;const n=bn();n.firstCreatePass&&(_s(n,e),Go(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ug(n,t,it(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ug(n,t,it(),t.stylesWithoutHost,!1)}function vy(e,t,n,r){Bg(e,t,n,r),jg()}function by(e,t,n){(function(e,t,n){const r=it(),o=bn(),u=e+20,p=o.firstCreatePass?function(e,t,n,r,o){const u=t.consts,p=gn(u,r),E=Iu(t,e,8,"ng-container",p);return null!==p&&td(E,p,!0),Xu(t,n,E,gn(u,o)),null!==t.queries&&t.queries.elementStart(t,E),E}(u,o,r,t,n):o.data[u];Kr(p,!0);const E=r[u]=r[11].createComment("");bd(o,r,E,p),Tt(E,r),Qi(p)&&(Rh(o,r,p),qf(o,p,r)),null!=n&&Nh(r,p)})(e,t,n),function(){let e=lr();const t=bn();fo()?po():(e=e.parent,Kr(e,!1)),t.firstCreatePass&&(_s(t,e),Go(e)&&t.queries.elementEnd(e))}()}function wy(){return it()}function Hg(e){return!!e&&"function"==typeof e.then}function Iy(e){return!!e&&"function"==typeof e.subscribe}const $g=Iy;function Wg(e,t,n,r){const o=it(),u=bn(),p=lr();return function(e,t,n,r,o,u,p,E){const w=Qi(r),U=e.firstCreatePass&&jh(e),Q=t[8],ne=Bh(t);let _e=!0;if(3&r.type||E){const Be=ut(r,t),gt=E?E(Be):Be,ot=ne.length,Jt=E?Dn=>E(pe(Dn[r.index])):r.index;if(R(n)){let Dn=null;if(!E&&w&&(Dn=function(e,t,n,r){const o=e.cleanup;if(null!=o)for(let u=0;u<o.length-1;u+=2){const p=o[u];if(p===n&&o[u+1]===r){const E=t[7],w=o[u+2];return E.length>w?E[w]:null}"string"==typeof p&&(u+=2)}return null}(e,t,o,r.index)),null!==Dn)(Dn.__ngLastListenerFn__||Dn).__ngNextListenerFn__=u,Dn.__ngLastListenerFn__=u,_e=!1;else{u=Gg(r,t,Q,u,!1);const ur=n.listen(gt,o,u);ne.push(u,ur),U&&U.push(o,Jt,ot,ot+1)}}else u=Gg(r,t,Q,u,!0),gt.addEventListener(o,u,p),ne.push(u),U&&U.push(o,Jt,ot,p)}else u=Gg(r,t,Q,u,!1);const Ie=r.outputs;let Ye;if(_e&&null!==Ie&&(Ye=Ie[o])){const Be=Ye.length;if(Be)for(let gt=0;gt<Be;gt+=2){const lo=t[Ye[gt]][Ye[gt+1]].subscribe(u),Ul=ne.length;ne.push(u,lo),U&&U.push(o,r.index,Ul,-(Ul+1))}}}(u,o,o[11],p,e,t,!!n,r),Wg}function Ay(e,t,n,r){try{return!1!==n(r)}catch(o){return $h(e,o),!1}}function Gg(e,t,n,r,o){return function u(p){if(p===Function)return r;const E=2&e.flags?Rn(e.index,t):t;0==(32&t[2])&&kd(E);let w=Ay(t,0,r,p),P=u.__ngNextListenerFn__;for(;P;)w=Ay(t,0,P,p)&&w,P=P.__ngNextListenerFn__;return o&&!1===w&&(p.preventDefault(),p.returnValue=!1),w}}function Sy(e=1){return function(e){return(Kt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Kt.lFrame.contextLView))[8]}(e)}function eb(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const u=t[o];if("*"!==u){if(null===r?Lf(e,u,!0):p_(r,u))return o}else n=o}return n}function Py(e){const t=it()[16][6];if(!t.projection){const r=t.projection=no(e?e.length:1,null),o=r.slice();let u=t.child;for(;null!==u;){const p=e?eb(u,e):0;null!==p&&(o[p]?o[p].projectionNext=u:r[p]=u,o[p]=u),u=u.next}}}function My(e,t=0,n){const r=it(),o=bn(),u=Iu(o,20+e,16,null,n||null);null===u.projection&&(u.projection=t),po(),64!=(64&u.flags)&&function(e,t,n){Rf(t[11],0,t,n,Tf(e,n,t),Sf(n.parent||t[6],n,t))}(o,r,u)}function zg(e,t,n){return Kg(e,"",t,"",n),zg}function Kg(e,t,n,r,o){const u=it(),p=jd(u,t,n,r);return p!==Tn&&pa(bn(),mr(),u,e,p,u[11],o,!1),Kg}function Uy(e,t,n,r,o){const u=e[n+1],p=null===t;let E=r?Ki(u):ic(u),w=!1;for(;0!==E&&(!1===w||p);){const U=e[E+1];rb(e[E],t)&&(w=!0,e[E+1]=r?Th(U):wh(U)),E=r?Ki(U):ic(U)}w&&(e[n+1]=r?wh(u):Th(u))}function rb(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Sa(e,t)>=0}const ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function By(e){return e.substring(ao.key,ao.keyEnd)}function ib(e){return e.substring(ao.value,ao.valueEnd)}function Hy(e,t){const n=ao.textEnd;let r=ao.key=qd(e,t,n);return n===r?-1:(r=ao.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Wy(e,r,n),r=ao.value=qd(e,r,n),r=ao.valueEnd=function(e,t,n){let r=-1,o=-1,u=-1,p=t,E=p;for(;p<n;){const w=e.charCodeAt(p++);if(59===w)return E;34===w||39===w?E=p=Gy(e,w,p,n):t===p-4&&85===u&&82===o&&76===r&&40===w?E=p=Gy(e,41,p,n):w>32&&(E=p),u=o,o=r,r=-33&w}return E}(e,r,n),Wy(e,r,n))}function qd(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Wy(e,t,n,r){return(t=qd(e,t,n))<n&&t++,t}function Gy(e,t,n,r){let o=-1,u=n;for(;u<r;){const p=e.charCodeAt(u++);if(p==t&&92!==o)return u;o=92==p&&92===o?0:p}throw new Error}function Zg(e,t,n){return hc(e,t,n,!1),Zg}function Yg(e,t){return hc(e,t,null,!0),Yg}function dc(e){!function(e,t,n,r){const o=bn(),u=ai(2);o.firstUpdatePass&&Ky(o,null,u,r);const p=it();if(n!==Tn&&ga(p,u,n)){const E=o.data[Pr()];if(Qy(E,r)&&!zy(o,u)){let w=r?E.classesWithoutHost:E.stylesWithoutHost;null!==w&&(n=ie(w,n||"")),Ug(o,E,p,n,r)}else!function(e,t,n,r,o,u,p,E){o===Tn&&(o=ae);let w=0,P=0,U=0<o.length?o[0]:null,Q=0<u.length?u[0]:null;for(;null!==U||null!==Q;){const ne=w<o.length?o[w+1]:void 0,_e=P<u.length?u[P+1]:void 0;let Ye,Ie=null;U===Q?(w+=2,P+=2,ne!==_e&&(Ie=Q,Ye=_e)):null===Q||null!==U&&U<Q?(w+=2,Ie=U):(P+=2,Ie=Q,Ye=_e),null!==Ie&&Yy(e,t,n,r,Ie,Ye,p,E),U=w<o.length?o[w]:null,Q=P<u.length?u[P]:null}}(o,E,p,p[11],p[u+1],p[u+1]=function(e,t,n){if(null==n||""===n)return ae;const r=[],o=ti(n);if(Array.isArray(o))for(let u=0;u<o.length;u++)e(r,o[u],!0);else if("object"==typeof o)for(const u in o)o.hasOwnProperty(u)&&e(r,u,o[u]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,u)}}(Zy,ub,e,!1)}function ub(e,t){for(let n=function(e){return function(e){ao.key=0,ao.keyEnd=0,ao.value=0,ao.valueEnd=0,ao.textEnd=e.length}(e),Hy(e,qd(e,0,ao.textEnd))}(t);n>=0;n=Hy(t,n))Zy(e,By(t),ib(t))}function hc(e,t,n,r){const o=it(),u=bn(),p=ai(2);u.firstUpdatePass&&Ky(u,e,p,r),t!==Tn&&ga(o,p,t)&&Yy(u,u.data[Pr()],o,o[11],e,o[p+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ee(ti(e)))),e}(t,n),r,p)}function zy(e,t){return t>=e.expandoStartIndex}function Ky(e,t,n,r){const o=e.data;if(null===o[n+1]){const u=o[Pr()],p=zy(e,n);Qy(u,r)&&null===t&&!p&&(t=!1),t=function(e,t,n,r){const o=function(e){const t=Kt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let u=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Qh(n=qg(null,e,t,n,r),t.attrs,r),u=null);else{const p=t.directiveStylingLast;if(-1===p||e[p]!==o)if(n=qg(o,e,t,n,r),null===u){let w=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ic(r))return e[Ki(r)]}(e,t,r);void 0!==w&&Array.isArray(w)&&(w=qg(null,e,t,w[1],r),w=Qh(w,t.attrs,r),function(e,t,n,r){e[Ki(n?t.classBindings:t.styleBindings)]=r}(e,t,r,w))}else u=function(e,t,n){let r;const o=t.directiveEnd;for(let u=1+t.directiveStylingLast;u<o;u++)r=Qh(r,e[u].hostAttrs,n);return Qh(r,t.attrs,n)}(e,t,r)}return void 0!==u&&(r?t.residualClasses=u:t.residualStyles=u),n}(o,u,t,r),function(e,t,n,r,o,u){let p=u?t.classBindings:t.styleBindings,E=Ki(p),w=ic(p);e[r]=n;let U,P=!1;if(Array.isArray(n)){const Q=n;U=Q[1],(null===U||Sa(Q,U)>0)&&(P=!0)}else U=n;if(o)if(0!==w){const ne=Ki(e[E+1]);e[r+1]=zi(ne,E),0!==ne&&(e[ne+1]=Ih(e[ne+1],r)),e[E+1]=function(e,t){return 131071&e|t<<17}(e[E+1],r)}else e[r+1]=zi(E,0),0!==E&&(e[E+1]=Ih(e[E+1],r)),E=r;else e[r+1]=zi(w,0),0===E?E=r:e[w+1]=Ih(e[w+1],r),w=r;P&&(e[r+1]=wh(e[r+1])),Uy(e,U,r,!0),Uy(e,U,r,!1),function(e,t,n,r,o){const u=o?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof t&&Sa(u,t)>=0&&(n[r+1]=Th(n[r+1]))}(t,U,e,r,u),p=zi(E,w),u?t.classBindings=p:t.styleBindings=p}(o,u,t,n,p,r)}}function qg(e,t,n,r,o){let u=null;const p=n.directiveEnd;let E=n.directiveStylingLast;for(-1===E?E=n.directiveStart:E++;E<p&&(u=t[E],r=Qh(r,u.hostAttrs,o),u!==e);)E++;return null!==e&&(n.directiveStylingLast=E),r}function Qh(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let u=0;u<t.length;u++){const p=t[u];"number"==typeof p?o=p:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Xr(e,p,!!n||t[++u]))}return void 0===e?null:e}function Zy(e,t,n){Xr(e,t,ti(n))}function Yy(e,t,n,r,o,u,p,E){if(!(3&t.type))return;const w=e.data,P=w[E+1];pp(function(e){return 1==(1&e)}(P)?qy(w,t,n,o,ic(P),p):void 0)||(pp(u)||function(e){return 2==(2&e)}(P)&&(u=qy(w,null,n,o,E,p)),function(e,t,n,r,o){const u=R(e);if(t)o?u?e.addClass(n,r):n.classList.add(r):u?e.removeClass(n,r):n.classList.remove(r);else{let p=-1===r.indexOf("-")?void 0:y.DashCase;if(null==o)u?e.removeStyle(n,r,p):n.style.removeProperty(r);else{const E="string"==typeof o&&o.endsWith("!important");E&&(o=o.slice(0,-10),p|=y.Important),u?e.setStyle(n,r,o,p):n.style.setProperty(r,o,E?"important":"")}}}(r,p,Pt(Pr(),n),o,u))}function qy(e,t,n,r,o,u){const p=null===t;let E;for(;o>0;){const w=e[o],P=Array.isArray(w),U=P?w[1]:w,Q=null===U;let ne=n[o+1];ne===Tn&&(ne=Q?ae:void 0);let _e=Q?Aa(ne,r):U===r?ne:void 0;if(P&&!pp(_e)&&(_e=Aa(w,r)),pp(_e)&&(E=_e,p))return E;const Ie=e[o+1];o=p?Ki(Ie):ic(Ie)}if(null!==t){let w=u?t.residualClasses:t.residualStyles;null!=w&&(E=Aa(w,r))}return E}function pp(e){return void 0!==e}function Qy(e,t){return 0!=(e.flags&(t?16:32))}function Jy(e,t=""){const n=it(),r=bn(),o=e+20,u=r.firstCreatePass?Iu(r,o,1,t,null):r.data[o],p=n[o]=function(e,t){return R(e)?e.createText(t):e.createTextNode(t)}(n[11],t);bd(r,n,p,u),Kr(u,!1)}function Qg(e){return gp("",e,""),Qg}function gp(e,t,n){const r=it(),o=jd(r,e,t,n);return o!==Tn&&lc(r,Pr(),o),gp}function Jg(e,t,n){const r=it();return ga(r,oi(),t)&&pa(bn(),mr(),r,e,t,r[11],n,!0),Jg}const sd=void 0;var Vb=["en",[["a","p"],["AM","PM"],sd],[["AM","PM"],sd,sd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sd,"{1} 'at' {0}",sd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Qd={};function Xg(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=yv(t);if(n)return n;const r=t.split("-")[0];if(n=yv(r),n)return n;if("en"===r)return Vb;throw new Error(`Missing locale data for the locale "${e}".`)}function _v(e){return Xg(e)[_n.PluralCase]}function yv(e){return e in Qd||(Qd[e]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[e]),Qd[e]}var _n=(()=>((_n=_n||{})[_n.LocaleId=0]="LocaleId",_n[_n.DayPeriodsFormat=1]="DayPeriodsFormat",_n[_n.DayPeriodsStandalone=2]="DayPeriodsStandalone",_n[_n.DaysFormat=3]="DaysFormat",_n[_n.DaysStandalone=4]="DaysStandalone",_n[_n.MonthsFormat=5]="MonthsFormat",_n[_n.MonthsStandalone=6]="MonthsStandalone",_n[_n.Eras=7]="Eras",_n[_n.FirstDayOfWeek=8]="FirstDayOfWeek",_n[_n.WeekendRange=9]="WeekendRange",_n[_n.DateFormat=10]="DateFormat",_n[_n.TimeFormat=11]="TimeFormat",_n[_n.DateTimeFormat=12]="DateTimeFormat",_n[_n.NumberSymbols=13]="NumberSymbols",_n[_n.NumberFormats=14]="NumberFormats",_n[_n.CurrencyCode=15]="CurrencyCode",_n[_n.CurrencySymbol=16]="CurrencySymbol",_n[_n.CurrencyName=17]="CurrencyName",_n[_n.Currencies=18]="Currencies",_n[_n.Directionality=19]="Directionality",_n[_n.PluralCase=20]="PluralCase",_n[_n.ExtraData=21]="ExtraData",_n))();const mp="en-US";let vv=mp;function em(e){yn(e,"Expected localeId to be defined"),"string"==typeof e&&(vv=e.toLowerCase().replace(/_/g,"-"))}function rm(e,t,n,r,o){if(e=G(e),Array.isArray(e))for(let u=0;u<e.length;u++)rm(e[u],t,n,r,o);else{const u=bn(),p=it();let E=h(e)?e:G(e.provide),w=Ag(e);const P=lr(),U=1048575&P.providerIndexes,Q=P.directiveStart,ne=P.providerIndexes>>20;if(h(e)||!e.multi){const _e=new wi(w,o,qh),Ie=sm(E,t,o?U:U+ne,Q);-1===Ie?(ue(b(P,p),u,E),im(u,e,t.length),t.push(E),P.directiveStart++,P.directiveEnd++,o&&(P.providerIndexes+=1048576),n.push(_e),p.push(_e)):(n[Ie]=_e,p[Ie]=_e)}else{const _e=sm(E,t,U+ne,Q),Ie=sm(E,t,U,U+ne),Ye=_e>=0&&n[_e],Be=Ie>=0&&n[Ie];if(o&&!Be||!o&&!Ye){ue(b(P,p),u,E);const gt=function(e,t,n,r,o){const u=new wi(e,n,qh);return u.multi=[],u.index=t,u.componentProviders=0,$v(u,o,r&&!n),u}(o?kw:xw,n.length,o,r,w);!o&&Be&&(n[Ie].providerFactory=gt),im(u,e,t.length,0),t.push(E),P.directiveStart++,P.directiveEnd++,o&&(P.providerIndexes+=1048576),n.push(gt),p.push(gt)}else im(u,e,_e>-1?_e:Ie,$v(n[o?Ie:_e],w,!o&&r));!o&&r&&Be&&n[Ie].componentProviders++}}}function im(e,t,n,r){const o=h(t);if(o||function(e){return!!e.useClass}(t)){const p=(t.useClass||t).prototype.ngOnDestroy;if(p){const E=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const w=E.indexOf(n);-1===w?E.push(n,[r,p]):E[w+1].push(r,p)}else E.push(n,p)}}}function $v(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function sm(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function xw(e,t,n,r){return om(this.multi,[])}function kw(e,t,n,r){const o=this.multi;let u;if(this.providerFactory){const p=this.providerFactory.componentProviders,E=Hi(n,n[1],this.providerFactory.index,r);u=E.slice(0,p),om(o,u);for(let w=p;w<E.length;w++)u.push(E[w])}else u=[],om(o,u);return u}function om(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Wv(e,t=[]){return n=>{n.providersResolver=(r,o)=>function(e,t,n){const r=bn();if(r.firstCreatePass){const o=zr(e);rm(n,r.data,r.blueprint,o,!0),rm(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class Gv{}const Kv="ngComponent";class Vw{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${ee(e)}. Did you add it to @NgModule.entryComponents?`);return t[Kv]=e,t}(t)}}let Xd=(()=>{class e{}return e.NULL=new Vw,e})();function Cp(...e){}function eh(e,t){return new Lc(ut(e,t))}const jw=function(){return eh(lr(),it())};let Lc=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=jw,e})();function Zv(e){return e instanceof Lc?e.nativeElement:e}class bp{}let Hw=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ww(),e})();const Ww=function(){const e=it(),n=Rn(lr().index,e);return function(e){return e[11]}(rr(n)?n:e)};let lm=(()=>{class e{}return e.\u0275prov=En({token:e,providedIn:"root",factory:()=>null}),e})();class Yv{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const cm=new Yv("12.2.15");class qv{constructor(){}supports(t){return Zh(t)}create(t){return new Zw(t)}}const Kw=(e,t)=>t;class Zw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Kw}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,u=null;for(;n||r;){const p=!r||n&&n.currentIndex<Jv(r,o,u)?n:r,E=Jv(p,o,u),w=p.currentIndex;if(p===r)o--,r=r._nextRemoved;else if(n=n._next,null==p.previousIndex)o++;else{u||(u=[]);const P=E-o,U=w-o;if(P!=U){for(let ne=0;ne<P;ne++){const _e=ne<u.length?u[ne]:u[ne]=0,Ie=_e+ne;U<=Ie&&Ie<P&&(u[ne]=_e+1)}u[p.previousIndex]=U-P}}E!==w&&t(p,E,w)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Zh(t))throw new Error(`Error trying to diff '${ee(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,u,p,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let E=0;E<this.length;E++)u=t[E],p=this._trackByFn(E,u),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,u,p,E)),Object.is(n.item,u)||this._addIdentityChange(n,u)):(n=this._mismatch(n,u,p,E),r=!0),n=n._next}else o=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ud()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,E=>{p=this._trackByFn(o,E),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,E,p,o)),Object.is(n.item,E)||this._addIdentityChange(n,E)):(n=this._mismatch(n,E,p,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let u;return null===t?u=this._itTail:(u=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,u,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,u,o)):t=this._addAfter(new Yw(n,r),u,o),t}_verifyReinsertion(t,n,r,o){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==u?t=this._reinsertAfter(u,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,u=t._nextRemoved;return null===o?this._removalsHead=u:o._nextRemoved=u,null===u?this._removalsTail=o:u._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Qv),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Yw{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Qv{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new qw,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jv(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class Xv{constructor(){}supports(t){return t instanceof Map||Rg(t)}create(){return new Qw}}class Qw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Rg(t)))throw new Error(`Error trying to diff '${ee(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const u=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,u)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const u=o._prev,p=o._next;return u&&(u._next=p),p&&(p._prev=u),o._next=null,o._prev=null,o}const r=new Jw(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class Jw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eE(){return new wp([new qv])}let wp=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||eE()),deps:[[e,new Io,new Ma]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=En({token:e,providedIn:"root",factory:eE}),e})();function tE(){return new Ip([new Xv])}let Ip=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||tE()),deps:[[e,new Io,new Ma]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=En({token:e,providedIn:"root",factory:tE}),e})();function Dp(e,t,n,r,o=!1){for(;null!==n;){const u=t[n.index];if(null!==u&&r.push(pe(u)),Gr(u))for(let E=10;E<u.length;E++){const w=u[E],P=w[1].firstChild;null!==P&&Dp(w[1],w,P,r)}const p=n.type;if(8&p)Dp(e,t,n.child,r);else if(32&p){const E=f(n,t);let w;for(;w=E();)r.push(w)}else if(16&p){const E=Mf(t,n);if(Array.isArray(E))r.push(...E);else{const w=j(t[16]);Dp(w[1],w,E,r,!0)}}n=o?n.projectionNext:n.next}return r}class nf{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Dp(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Gr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(zu(t,r),xs(n,r))}this._attachedToViewContainer=!1}vu(this._lView[1],this._lView)}onDestroy(t){Nd(this._lView[1],this._lView,null,t)}markForCheck(){kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ld(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Ks(!0);try{Ld(e,t,n)}finally{Ks(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,bu(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class eI extends nf{constructor(t){super(t),this._view=t}detectChanges(){Uh(this._view)}checkNoChanges(){!function(e){Ks(!0);try{Uh(e)}finally{Ks(!1)}}(this._view)}get context(){return null}}const nI=function(e){return function(e,t,n){if(Hs(e)&&!n){const r=Rn(e.index,t);return new nf(r,r)}return 47&e.type?new nf(t[16],t):null}(lr(),it(),16==(16&e))};let rI=(()=>{class e{}return e.__NG_ELEMENT_ID__=nI,e})();const oI=[new Xv],lI=new wp([new qv]),cI=new Ip(oI),dI=function(){return Tp(lr(),it())};let rf=(()=>{class e{}return e.__NG_ELEMENT_ID__=dI,e})();const hI=rf,fI=class extends hI{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=wu(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[19];return null!==u&&(r[19]=u.createEmbeddedView(n)),Qu(n,r,t),new nf(r)}};function Tp(e,t){return 4&e.type?new fI(t,e,eh(e,t)):null}class od{}class nE{}const mI=function(){return sE(lr(),it())};let Ap=(()=>{class e{}return e.__NG_ELEMENT_ID__=mI,e})();const yI=Ap,rE=class extends yI{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return eh(this._hostTNode,this._hostLView)}get injector(){return new Jr(this._hostTNode,this._hostLView)}get parentInjector(){const t=z(this._hostTNode,this._hostLView);if(vs(t)){const n=li(t,this._hostLView),r=Es(t);return new Jr(n[1].data[r+8],n)}return new Jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=iE(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const o=t.createEmbeddedView(n||{});return this.insert(o,r),o}createComponent(t,n,r,o,u){const p=r||this.parentInjector;if(!u&&null==t.ngModule&&p){const w=p.get(od,null);w&&(u=w)}const E=t.create(p,o,void 0,u);return this.insert(E.hostView,n),E}insert(t,n){const r=t._lView,o=r[1];if(Gr(r[3])){const U=this.indexOf(t);if(-1!==U)this.detach(U);else{const Q=r[3],ne=new rE(Q,Q[6],Q[3]);ne.detach(ne.indexOf(t))}}const u=this._adjustIndex(n),p=this._lContainer;!function(e,t,n,r){const o=10+r,u=n.length;r>0&&(n[o-1][4]=t),r<u-10?(t[4]=n[o],Ha(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const p=t[17];null!==p&&n!==p&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(p,t);const E=t[19];null!==E&&E.insertView(e),t[2]|=128}(o,r,p,u);const E=gh(u,p),w=r[11],P=Ed(w,p[7]);return null!==P&&function(e,t,n,r,o,u){r[0]=o,r[6]=t,bu(e,r,n,1,o,u)}(o,p[6],w,r,P,E),t.attachToViewContainerRef(),Ha(um(p),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=iE(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=zu(this._lContainer,n);r&&(xs(um(this._lContainer),n),vu(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=zu(this._lContainer,n);return r&&null!=xs(um(this._lContainer),n)?new nf(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function iE(e){return e[8]}function um(e){return e[8]||(e[8]=[])}function sE(e,t){let n;const r=t[e.index];if(Gr(r))n=r;else{let o;if(8&e.type)o=pe(r);else{const u=t[11];o=u.createComment("");const p=ut(e,t);ha(u,Ed(u,p),o,function(e,t){return R(e)?e.nextSibling(t):t.nextSibling}(u,p),!1)}t[e.index]=n=mg(r,t,o,e),ed(t,n)}return new rE(n,e,t)}const ih={};class DE extends Xd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Cr(t);return new AE(n,this.ngModule)}}function TE(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const pD=new _r("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>fd});class AE extends Gv{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(g_).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return TE(this.componentDef.inputs)}get outputs(){return TE(this.componentDef.outputs)}create(t,n,r,o){const u=(o=o||this.ngModule)?function(e,t){return{get:(n,r,o)=>{const u=e.get(n,ih,o);return u!==ih||r===ih?u:t.get(n,r,o)}}}(t,o.injector):t,p=u.get(bp,x),E=u.get(lm,null),w=p.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",U=r?function(e,t,n){if(R(e))return e.selectRootElement(t,n===nt.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(w,r,this.componentDef.encapsulation):Xc(p.createRenderer(null,this.componentDef),P,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(P)),Q=this.componentDef.onPush?576:528,ne=function(e,t){return{components:[],scheduler:e||fd,clean:yg,playerHandler:t||null,flags:0}}(),_e=Rd(0,null,null,1,0,null,null,null,null,null),Ie=wu(null,_e,ne,Q,null,null,p,w,E,u);let Ye,Be;vo(Ie);try{const gt=function(e,t,n,r,o,u){const p=n[1];n[20]=e;const w=Iu(p,20,2,"#host",null),P=w.mergedAttrs=t.hostAttrs;null!==P&&(td(w,P,!0),null!==e&&(na(o,e,P),null!==w.classes&&yh(o,e,w.classes),null!==w.styles&&xf(o,e,w.styles)));const U=r.createRenderer(e,t),Q=wu(n,Qf(t),null,t.onPush?64:16,n[20],w,r,U,u||null,null);return p.firstCreatePass&&(ue(b(w,n),p,t.type),xd(p,w),gg(w,n.length,1)),ed(n,Q),n[20]=Q}(U,this.componentDef,Ie,p,w);if(U)if(r)na(w,U,["ng-version",cm.full]);else{const{attrs:ot,classes:Jt}=function(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let u=e[r];if("string"==typeof u)2===o?""!==u&&t.push(u,e[++r]):8===o&&n.push(u);else{if(!Rl(o))break;o=u}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);ot&&na(w,U,ot),Jt&&Jt.length>0&&yh(w,U,Jt.join(" "))}if(Be=An(_e,20),void 0!==n){const ot=Be.projection=[];for(let Jt=0;Jt<this.ngContentSelectors.length;Jt++){const Dn=n[Jt];ot.push(null!=Dn?Array.from(Dn):null)}}Ye=function(e,t,n,r,o){const u=n[1],p=function(e,t,n){const r=lr();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ip(e,r,t,ac(e,t,1,null),n));const o=Hi(t,e,r.directiveStart,r);Tt(o,t);const u=ut(r,t);return u&&Tt(u,t),o}(u,n,t);if(r.components.push(p),e[8]=p,o&&o.forEach(w=>w(p,t)),t.contentQueries){const w=lr();t.contentQueries(1,p,w.directiveStart)}const E=lr();return!u.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Os(E.index),hg(n[1],E,0,E.directiveStart,E.directiveEnd,t),kh(t,p)),p}(gt,this.componentDef,Ie,ne,[m0]),Qu(_e,Ie,null)}finally{Ms()}return new _D(this.componentType,Ye,eh(Be,Ie),Ie,Be)}}class _D extends class{}{constructor(t,n,r,o,u){super(),this.location=r,this._rootLView=o,this._tNode=u,this.instance=n,this.hostView=this.changeDetectorRef=new eI(o),this.componentType=t}get injector(){return new Jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const sh=new Map;class ED extends od{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new DE(this);const r=br(t),o=t[Vt]||null;o&&em(o),this._bootstrapComponents=da(r.bootstrap),this._r3Injector=Gh(t,n,[{provide:od,useValue:this},{provide:Xd,useValue:this.componentFactoryResolver}],ee(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Se.THROW_IF_NOT_FOUND,r=vt.Default){return t===Se||t===od||t===ru?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wm extends nE{constructor(t){super(),this.moduleType=t,null!==br(t)&&function(e){const t=new Set;!function n(r){const o=br(r,!0),u=o.id;null!==u&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${ee(t)} vs ${ee(t.name)}`)}(u,sh.get(u),r),sh.set(u,r));const p=da(o.imports);for(const E of p)t.has(E)||(t.add(E),n(E))}(e)}(t)}create(t){return new ED(this.moduleType,t)}}function ME(e,t,n){const r=kr()+e,o=it();return o[r]===Tn?kc(o,r,n?t.call(n):t()):function(e,t){return e[t]}(o,r)}function OE(e,t,n,r){return RE(it(),kr(),e,t,n,r)}function hf(e,t){const n=e[t];return n===Tn?void 0:n}function RE(e,t,n,r,o,u){const p=t+n;return ga(e,p,o)?kc(e,p+1,u?r.call(u,o):r(o)):hf(e,p+1)}function NE(e,t,n,r,o,u,p){const E=t+n;return function(e,t,n,r){const o=ga(e,t,n);return ga(e,t+1,r)||o}(e,E,o,u)?kc(e,E+2,p?r.call(p,o,u):r(o,u)):hf(e,E+2)}function LE(e,t){const n=bn();let r;const o=e+20;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new je("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,r.onDestroy)):r=n.data[o];const u=r.factory||(r.factory=Vi(r.type)),p=Sr(qh);try{const E=Oi(!1),w=u();return Oi(E),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,it(),o,w),w}finally{Sr(p)}}function VE(e,t,n){const r=e+20,o=it(),u=$t(o,r);return pf(o,ff(o,r)?RE(o,kr(),t,u.transform,n,u):u.transform(n))}function UE(e,t,n,r){const o=e+20,u=it(),p=$t(u,o);return pf(u,ff(u,o)?NE(u,kr(),t,p.transform,n,r,p):p.transform(n,r))}function ff(e,t){return e[1].data[t].pure}function pf(e,t){return uc.isWrapped(t)&&(t=uc.unwrap(t),e[Kt.lFrame.bindingIndex]=Tn),t}function Im(e){return t=>{setTimeout(e,void 0,t)}}const Vc=class extends D.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var o,u,p;let E=t,w=n||(()=>null),P=r;if(t&&"object"==typeof t){const Q=t;E=null===(o=Q.next)||void 0===o?void 0:o.bind(Q),w=null===(u=Q.error)||void 0===u?void 0:u.bind(Q),P=null===(p=Q.complete)||void 0===p?void 0:p.bind(Q)}this.__isAsync&&(w=Im(w),E&&(E=Im(E)),P&&(P=Im(P)));const U=super.subscribe({next:E,error:w,complete:P});return t instanceof m.w&&t.add(U),U}};function xD(){return this._results[Ud()]()}class Rp{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ud(),r=Rp.prototype;r[n]||(r[n]=xD)}get changes(){return this._changes||(this._changes=new Vc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=$i(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],u=t[r];if(n&&(o=n(o),u=n(u)),u!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Dm{constructor(t){this.queryList=t,this.matches=null}clone(){return new Dm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let u=0;u<r;u++){const p=n.getByIndex(u);o.push(this.queries[p.indexInDeclarationView].clone())}return new Tm(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==ZE(t,n).matches&&this.queries[n].setDirty()}}class BE{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Am{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,u=this.getByIndex(r).embeddedTView(t,o);u&&(u.indexInDeclarationView=r,null!==n?n.push(u):n=[u])}return null!==n?new Am(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Sm{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Sm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const u=r[o];this.matchTNodeWithReadOption(t,n,LD(n,u)),this.matchTNodeWithReadOption(t,n,Ii(n,t,u,!1,!1))}else r===rf?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ii(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Lc||o===Ap||o===rf&&4&n.type)this.addMatch(n.index,-2);else{const u=Ii(n,t,o,!1,!1);null!==u&&this.addMatch(n.index,u)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function LD(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function UD(e,t,n,r){return-1===n?function(e,t){return 11&e.type?eh(e,t):4&e.type?Tp(e,t):null}(t,e):-2===n?function(e,t,n){return n===Lc?eh(t,e):n===rf?Tp(t,e):n===Ap?sE(t,e):void 0}(e,t,r):Hi(e,e[1],n,t)}function jE(e,t,n,r){const o=t[19].queries[r];if(null===o.matches){const u=e.data,p=n.matches,E=[];for(let w=0;w<p.length;w+=2){const P=p[w];E.push(P<0?null:UD(t,u[P],p[w+1],n.metadata.read))}o.matches=E}return o.matches}function Pm(e,t,n,r){const o=e.queries.getByIndex(n),u=o.matches;if(null!==u){const p=jE(e,t,o,n);for(let E=0;E<u.length;E+=2){const w=u[E];if(w>0)r.push(p[E/2]);else{const P=u[E+1],U=t[-w];for(let Q=10;Q<U.length;Q++){const ne=U[Q];ne[17]===ne[3]&&Pm(ne[1],ne,P,r)}if(null!==U[9]){const Q=U[9];for(let ne=0;ne<Q.length;ne++){const _e=Q[ne];Pm(_e[1],_e,P,r)}}}}}return r}function HE(e){const t=it(),n=bn(),r=Zs();Ys(r+1);const o=ZE(n,r);if(e.dirty&&zn(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const u=o.crossesNgTemplate?Pm(n,t,r,[]):jE(n,t,o,r);e.reset(u,Zv),e.notifyOnChanges()}return!0}return!1}function $E(e,t,n){const r=bn();r.firstCreatePass&&(KE(r,new BE(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),zE(r,it(),t)}function WE(e,t,n,r){const o=bn();if(o.firstCreatePass){const u=lr();KE(o,new BE(t,n,r),u.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}zE(o,it(),n)}function GE(){return e=it(),t=Zs(),e[19].queries[t].queryList;var e,t}function zE(e,t,n){const r=new Rp(4==(4&n));Nd(e,t,r,r.destroy),null===t[19]&&(t[19]=new Tm),t[19].queries.push(new Dm(r))}function KE(e,t,n){null===e.queries&&(e.queries=new Am),e.queries.track(new Sm(t,n))}function ZE(e,t){return e.queries.getByIndex(t)}function YE(e,t){return Tp(e,t)}const km=new _r("Application Initializer");let ah=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Cp,this.reject=Cp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const u=this.appInits[o]();if(Hg(u))n.push(u);else if($g(u)){const p=new Promise((E,w)=>{u.subscribe({complete:E,error:w})});n.push(p)}}Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ci(km,8))},e.\u0275prov=En({token:e,factory:e.\u0275fac}),e})();const fC=new _r("AppId"),gT={provide:fC,useFactory:function(){return`${Fm()}${Fm()}${Fm()}`},deps:[]};function Fm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pC=new _r("Platform Initializer"),gC=new _r("Platform ID"),mC=new _r("appBootstrapListener");let _C=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=En({token:e,factory:e.\u0275fac}),e})();const kp=new _r("LocaleId"),yC=new _r("DefaultCurrencyCode");class _T{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const Lm=function(e){return new wm(e)},yT=Lm,vT=function(e){return Promise.resolve(Lm(e))},vC=function(e){const t=Lm(e),r=da(br(e).declarations).reduce((o,u)=>{const p=Cr(u);return p&&o.push(new AE(p)),o},[]);return new _T(t,r)},ET=vC,CT=function(e){return Promise.resolve(vC(e))};let mf=(()=>{class e{constructor(){this.compileModuleSync=yT,this.compileModuleAsync=vT,this.compileModuleAndAllComponentsSync=ET,this.compileModuleAndAllComponentsAsync=CT}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=En({token:e,factory:e.\u0275fac}),e})();const IT=(()=>Promise.resolve(0))();function Vm(e){"undefined"==typeof Zone?IT.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class _l{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vc(!1),this.onMicrotaskEmpty=new Vc(!1),this.onStable=new Vc(!1),this.onError=new Vc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function(){let e=At.requestAnimationFrame,t=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(At,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Bm(e),e.isCheckStableRunning=!0,Um(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Bm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,u,p,E)=>{try{return EC(e),n.invokeTask(o,u,p,E)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),CC(e)}},onInvoke:(n,r,o,u,p,E,w)=>{try{return EC(e),n.invoke(o,u,p,E,w)}finally{e.shouldCoalesceRunChangeDetection&&t(),CC(e)}},onHasTask:(n,r,o,u)=>{n.hasTask(o,u),r===o&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,Bm(e),Um(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,r,o,u)=>(n.handleError(o,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(o)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_l.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_l.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const u=this._inner,p=u.scheduleEventTask("NgZoneEvent: "+o,t,TT,Cp,Cp);try{return u.runTask(p,n,r)}finally{u.cancelTask(p)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const TT={};function Um(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Bm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function EC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function CC(e){e._nesting--,Um(e)}class PT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vc,this.onMicrotaskEmpty=new Vc,this.onStable=new Vc,this.onError=new Vc}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}let bC=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_l.assertNotInAngularZone(),Vm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==u),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:u,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(ci(_l))},e.\u0275prov=En({token:e,factory:e.\u0275fac}),e})(),wC=(()=>{class e{constructor(){this._applications=new Map,jm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return jm.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=En({token:e,factory:e.\u0275fac}),e})();class MT{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}function OT(e){jm=e}let jm=new MT,IC=!0,DC=!1;function Hm(){return DC=!0,IC}function RT(){if(DC)throw new Error("Cannot enable prod mode after platform setup.");IC=!1}let mc;const TC=new _r("AllowMultipleToken");class UT{constructor(t,n){this.name=t,this.token=n}}function AC(e,t,n=[]){const r=`Platform: ${t}`,o=new _r(r);return(u=[])=>{let p=SC();if(!p||p.injector.get(TC,!1))if(e)e(n.concat(u).concat({provide:o,useValue:!0}));else{const E=n.concat(u).concat({provide:o,useValue:!0},{provide:nd,useValue:"platform"});!function(e){if(mc&&!mc.destroyed&&!mc.injector.get(TC,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mc=e.get(PC);const t=e.get(pC,null);t&&t.forEach(n=>n())}(Se.create({providers:E,name:r}))}return function(e){const t=SC();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(o)}}function SC(){return mc&&!mc.destroyed?mc:null}let PC=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const E=function(e,t){let n;return n="noop"===e?new PT:("zone.js"===e?void 0:e)||new _l({enableLongStackTrace:Hm(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),w=[{provide:_l,useValue:E}];return E.run(()=>{const P=Se.create({providers:w,parent:this.injector,name:n.moduleType.name}),U=n.create(P),Q=U.injector.get(Qn,null);if(!Q)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const ne=E.onError.subscribe({next:_e=>{Q.handleError(_e)}});U.onDestroy(()=>{$m(this._modules,U),ne.unsubscribe()})}),function(e,t,n){try{const r=n();return Hg(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(Q,E,()=>{const ne=U.injector.get(ah);return ne.runInitializers(),ne.donePromise.then(()=>(em(U.injector.get(kp,mp)||mp),this._moduleDoBootstrap(U),U))})})}bootstrapModule(n,r=[]){const o=MC({},r);return function(e,t,n){const r=new wm(n);return Promise.resolve(r)}(0,0,n).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(n){const r=n.injector.get(_f);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${ee(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ci(Se))},e.\u0275prov=En({token:e,factory:e.\u0275fac}),e})();function MC(e,t){return Array.isArray(t)?t.reduce(MC,e):Object.assign(Object.assign({},e),t)}let _f=(()=>{class e{constructor(n,r,o,u,p){this._zone=n,this._injector=r,this._exceptionHandler=o,this._componentFactoryResolver=u,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new B.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),w=new B.y(P=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{_l.assertNotInAngularZone(),Vm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{_l.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{U.unsubscribe(),Q.unsubscribe()}});this.isStable=(0,Ee.T)(E,w.pipe((0,de.B)()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let o;o=n instanceof Gv?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(o.componentType);const u=function(e){return e.isBoundToModule}(o)?void 0:this._injector.get(od),E=o.create(Se.NULL,[],r||o.selector,u),w=E.location.nativeElement,P=E.injector.get(bC,null),U=P&&E.injector.get(wC);return P&&U&&U.registerApplication(w,P),E.onDestroy(()=>{this.detachView(E.hostView),$m(this.components,E),U&&U.unregisterApplication(w)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;$m(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(mC,[]).concat(this._bootstrapListeners).forEach(o=>o(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(ci(_l),ci(Se),ci(Qn),ci(Xd),ci(ah))},e.\u0275prov=En({token:e,factory:e.\u0275fac}),e})();function $m(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class GT{}class KT{}const ZT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let YT=(()=>{class e{constructor(n,r){this._compiler=n,this._config=r||ZT}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,o]=n.split("#");return void 0===o&&(o="default"),L(8255)(r).then(u=>u[o]).then(u=>xC(u,r,o)).then(u=>this._compiler.compileModuleAsync(u))}loadFactory(n){let[r,o]=n.split("#"),u="NgFactory";return void 0===o&&(o="default",u=""),L(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(p=>p[o+u]).then(p=>xC(p,r,o))}}return e.\u0275fac=function(n){return new(n||e)(ci(mf),ci(KT,8))},e.\u0275prov=En({token:e,factory:e.\u0275fac}),e})();function xC(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const rA=function(e){return null},sA=AC(null,"core",[{provide:gC,useValue:"unknown"},{provide:PC,deps:[Se]},{provide:wC,deps:[]},{provide:_C,deps:[]}]),uA=[{provide:_f,useClass:_f,deps:[_l,Se,Qn,Xd,ah]},{provide:pD,deps:[_l],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:ah,useClass:ah,deps:[[new Ma,km]]},{provide:mf,useClass:mf,deps:[]},gT,{provide:wp,useFactory:function(){return lI},deps:[]},{provide:Ip,useFactory:function(){return cI},deps:[]},{provide:kp,useFactory:function(e){return em(e=e||"undefined"!=typeof $localize&&$localize.locale||mp),e},deps:[[new sl(kp),new Ma,new Io]]},{provide:yC,useValue:"USD"}];let hA=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ci(_f))},e.\u0275mod=gi({type:e}),e.\u0275inj=Wn({providers:uA}),e})()},8747:(ft,Pe,L)=>{"use strict";L.d(Pe,{hO:()=>fe,xv:()=>ie,Dh:()=>ee,GT:()=>X,cc:()=>xe,on:()=>q,pX:()=>de});var D=L(7716),m=L(7841),B=L(5096);ft=L.hmd(ft);const Ee=["ngOnDestroy"],de=(Te,$e,Ge,Ae={})=>new Proxy(Te,{get:(Ve,Oe)=>Ge.runOutsideAngular(()=>{var Qe;if(Te[Oe])return(null===(Qe=null==Ae?void 0:Ae.spy)||void 0===Qe?void 0:Qe.get)&&Ae.spy.get(Oe,Te[Oe]),Te[Oe];if(Ee.indexOf(Oe)>-1)return()=>{};const ht=$e.toPromise().then(pt=>{const Y=pt&&pt[Oe];return"function"==typeof Y?Y.bind(pt):Y&&Y.then?Y.then(mt=>Ge.run(()=>mt)):Ge.run(()=>Y)});return new Proxy(()=>{},{get:(pt,Y)=>ht[Y],apply:(pt,Y,mt)=>ht.then(Wt=>{var Ft;const tn=Wt&&Wt(...mt);return(null===(Ft=null==Ae?void 0:Ae.spy)||void 0===Ft?void 0:Ft.apply)&&Ae.spy.apply(Oe,mt,tn),tn})})})}),X=(Te,$e)=>{$e.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Ae=>{Object.defineProperty(Te.prototype,Ae,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Ae))})})};class oe{constructor($e){return $e}}const ee=new D.OlP("angularfire2.app.options"),ie=new D.OlP("angularfire2.app.name");function q(Te,$e,Ge){const Ve="object"==typeof Ge&&Ge||{};Ve.name=Ve.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Qe=m.Z.apps.filter(ht=>ht&&ht.name===Ve.name)[0]||$e.runOutsideAngular(()=>m.Z.initializeApp(Te,Ve));try{JSON.stringify(Te)!==JSON.stringify(Qe.options)&&J("error",`${Qe.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ht){}return new oe(Qe)}const J=(Te,...$e)=>{(0,D.X6Q)()&&"undefined"!=typeof console&&console[Te](...$e)},G={provide:oe,useFactory:q,deps:[ee,D.R0b,[new D.FiY,ie]]};let fe=(()=>{class Te{constructor(Ge){m.Z.registerVersion("angularfire",B.q4.full,"core"),m.Z.registerVersion("angularfire",B.q4.full,"app-compat"),m.Z.registerVersion("angular",D.q4F.full,Ge.toString())}static initializeApp(Ge,Ae){return{ngModule:Te,providers:[{provide:ee,useValue:Ge},{provide:ie,useValue:Ae}]}}}return Te.\u0275fac=function(Ge){return new(Ge||Te)(D.LFG(D.Lbi))},Te.\u0275mod=D.oAB({type:Te}),Te.\u0275inj=D.cJS({providers:[G]}),Te})();function xe(Te,$e,Ge,Ae,Ve){const[,Oe,Qe]=globalThis.\u0275AngularfireInstanceCache.find(ht=>ht[0]===Te)||[];if(Oe)return function(Te,$e){try{return Te.toString()===$e.toString()}catch(Ge){return Te===$e}}(Ve,Qe)||(Me("error",`${$e} was already initialized on the ${Ge} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:Ve,was:Qe})),Oe;{const ht=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Te,ht,Ve]),ht}}const Ue=!!ft.hot,Me=(Te,...$e)=>{(0,D.X6Q)()&&"undefined"!=typeof console&&console[Te](...$e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5096:(ft,Pe,L)=>{"use strict";L.d(Pe,{q4:()=>$l,iC:()=>Aa,HU:()=>bl,vb:()=>Ha,JM:()=>Ni});var D=L(7716),m=L(2329),B=L(8239),Ee=L(8026),de=L(3854),X=L(3910),oe=L(5422),ee=L(6676);const ie="@firebase/installations",q="0.5.4",G=`w:${q}`,fe="FIS_v2",$e=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(S){return S instanceof de.ZR&&S.code.includes("request-failed")}function Ae({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Ve(S){return{token:S.token,requestStatus:2,expiresIn:Wt(S.expiresIn),creationTime:Date.now()}}function Oe(S,F){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,B.Z)(function*(S,F){const le=(yield F.json()).error;return $e.create("request-failed",{requestName:S,serverCode:le.code,serverMessage:le.message,serverStatus:le.status})})).apply(this,arguments)}function ht({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function pt(S,{refreshToken:F}){const Z=ht(S);return Z.append("Authorization",function(S){return`${fe} ${S}`}(F)),Z}function Y(S){return mt.apply(this,arguments)}function mt(){return(mt=(0,B.Z)(function*(S){const F=yield S();return F.status>=500&&F.status<600?S():F})).apply(this,arguments)}function Wt(S){return Number(S.replace("s","000"))}function tn(S,F){return bt.apply(this,arguments)}function bt(){return(bt=(0,B.Z)(function*(S,{fid:F}){const Z=Ae(S),ze={method:"POST",headers:ht(S),body:JSON.stringify({fid:F,authVersion:fe,appId:S.appId,sdkVersion:G})},lt=yield Y(()=>fetch(Z,ze));if(lt.ok){const Dt=yield lt.json();return{fid:Dt.fid||F,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:Ve(Dt.authToken)}}throw yield Oe("Create Installation",lt)})).apply(this,arguments)}function Lr(S){return new Promise(F=>{setTimeout(F,S)})}const $n=/^[cdef][\w-]{21}$/;function yn(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const Z=function(S){return function(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return $n.test(Z)?Z:""}catch(S){return""}}function Ir(S){return`${S.appName}!${S.appId}`}const ri=new Map;function vr(S,F){const Z=Ir(S);Wn(Z,F),function(S,F){const Z=(!qt&&"BroadcastChannel"in self&&(qt=new BroadcastChannel("[Firebase] FID Change"),qt.onmessage=S=>{Wn(S.data.key,S.data.fid)}),qt);Z&&Z.postMessage({key:S,fid:F}),0===ri.size&&qt&&(qt.close(),qt=null)}(Z,F)}function Wn(S,F){const Z=ri.get(S);if(Z)for(const le of Z)le(F)}let qt=null;const rt="firebase-installations-store";let Tr=null;function rn(){return Tr||(Tr=(0,ee.openDb)("firebase-installations-database",1,S=>{switch(S.oldVersion){case 0:S.createObjectStore(rt)}})),Tr}function vt(S,F){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,B.Z)(function*(S,F){const Z=Ir(S),Ne=(yield rn()).transaction(rt,"readwrite"),ze=Ne.objectStore(rt),lt=yield ze.get(Z);return yield ze.put(F,Z),yield Ne.complete,(!lt||lt.fid!==F.fid)&&vr(S,F.fid),F})).apply(this,arguments)}function jt(S){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,B.Z)(function*(S){const F=Ir(S),le=(yield rn()).transaction(rt,"readwrite");yield le.objectStore(rt).delete(F),yield le.complete})).apply(this,arguments)}function ke(S,F){return ce.apply(this,arguments)}function ce(){return(ce=(0,B.Z)(function*(S,F){const Z=Ir(S),Ne=(yield rn()).transaction(rt,"readwrite"),ze=Ne.objectStore(rt),lt=yield ze.get(Z),Dt=F(lt);return void 0===Dt?yield ze.delete(Z):yield ze.put(Dt,Z),yield Ne.complete,Dt&&(!lt||lt.fid!==Dt.fid)&&vr(S,Dt.fid),Dt})).apply(this,arguments)}function he(S){return qe.apply(this,arguments)}function qe(){return(qe=(0,B.Z)(function*(S){let F;const Z=yield ke(S,le=>{const Ne=at(le),ze=yt(S,Ne);return F=ze.registrationPromise,ze.installationEntry});return""===Z.fid?{installationEntry:yield F}:{installationEntry:Z,registrationPromise:F}})).apply(this,arguments)}function at(S){return At(S||{fid:yn(),registrationStatus:0})}function yt(S,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject($e.create("app-offline"))};const Z={fid:F.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:Z,registrationPromise:function(S,F){return Ct.apply(this,arguments)}(S,Z)}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:hn(S)}:{installationEntry:F}}function Ct(){return(Ct=(0,B.Z)(function*(S,F){try{return vt(S,yield tn(S,F))}catch(Z){throw Ge(Z)&&409===Z.customData.serverCode?yield jt(S):yield vt(S,{fid:F.fid,registrationStatus:0}),Z}})).apply(this,arguments)}function hn(S){return nr.apply(this,arguments)}function nr(){return(nr=(0,B.Z)(function*(S){let F=yield vn(S);for(;1===F.registrationStatus;)yield Lr(100),F=yield vn(S);if(0===F.registrationStatus){const{installationEntry:Z,registrationPromise:le}=yield he(S);return le||Z}return F})).apply(this,arguments)}function vn(S){return ke(S,F=>{if(!F)throw $e.create("installation-not-found");return At(F)})}function At(S){return function(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function un(S,F){return me.apply(this,arguments)}function me(){return(me=(0,B.Z)(function*({appConfig:S,platformLoggerProvider:F},Z){const le=ae(S,Z),Ne=pt(S,Z),ze=F.getImmediate({optional:!0});ze&&Ne.append("x-firebase-client",ze.getPlatformInfoString());const Dt={method:"POST",headers:Ne,body:JSON.stringify({installation:{sdkVersion:G}})},St=yield Y(()=>fetch(le,Dt));if(St.ok)return Ve(yield St.json());throw yield Oe("Generate Auth Token",St)})).apply(this,arguments)}function ae(S,{fid:F}){return`${Ae(S)}/${F}/authTokens:generate`}function Ce(S){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,B.Z)(function*(S,F=!1){let Z;const le=yield ke(S.appConfig,ze=>{if(!Gn(ze))throw $e.create("not-registered");const lt=ze.authToken;if(!F&&Ht(lt))return ze;if(1===lt.requestStatus)return Z=Le(S,F),ze;{if(!navigator.onLine)throw $e.create("app-offline");const Dt=Or(ze);return Z=wn(S,Dt),Dt}});return Z?yield Z:le.authToken})).apply(this,arguments)}function Le(S,F){return wt.apply(this,arguments)}function wt(){return(wt=(0,B.Z)(function*(S,F){let Z=yield Vt(S.appConfig);for(;1===Z.authToken.requestStatus;)yield Lr(100),Z=yield Vt(S.appConfig);const le=Z.authToken;return 0===le.requestStatus?Ce(S,F):le})).apply(this,arguments)}function Vt(S){return ke(S,F=>{if(!Gn(F))throw $e.create("not-registered");return function(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function wn(S,F){return sr.apply(this,arguments)}function sr(){return(sr=(0,B.Z)(function*(S,F){try{const Z=yield un(S,F),le=Object.assign(Object.assign({},F),{authToken:Z});return yield vt(S.appConfig,le),Z}catch(Z){if(!Ge(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const le=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield vt(S.appConfig,le)}else yield jt(S.appConfig);throw Z}})).apply(this,arguments)}function Gn(S){return void 0!==S&&2===S.registrationStatus}function Ht(S){return 2===S.requestStatus&&!function(S){const F=Date.now();return F<S.creationTime||S.creationTime+S.expiresIn<F+36e5}(S)}function Or(S){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:F})}function gi(){return(gi=(0,B.Z)(function*(S){const F=S,{installationEntry:Z,registrationPromise:le}=yield he(F.appConfig);return le?le.catch(console.error):Ce(F).catch(console.error),Z.fid})).apply(this,arguments)}function qi(){return(qi=(0,B.Z)(function*(S,F=!1){const Z=S;return yield Li(Z.appConfig),(yield Ce(Z,F)).token})).apply(this,arguments)}function Li(S){return Er.apply(this,arguments)}function Er(){return(Er=(0,B.Z)(function*(S){const{registrationPromise:F}=yield he(S);F&&(yield F)})).apply(this,arguments)}function Ln(S){return $e.create("missing-app-config-values",{valueName:S})}const Ur="installations";(0,Ee._registerComponent)(new X.wA(Ur,S=>{const F=S.getProvider("app").getImmediate();return{app:F,appConfig:function(S){if(!S||!S.options)throw Ln("App Configuration");if(!S.name)throw Ln("App Name");const F=["projectId","apiKey","appId"];for(const Z of F)if(!S.options[Z])throw Ln(Z);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(F),platformLoggerProvider:(0,Ee._getProvider)(F,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Ee._registerComponent)(new X.wA("installations-internal",S=>{const F=S.getProvider("app").getImmediate(),Z=(0,Ee._getProvider)(F,Ur).getImmediate();return{getId:()=>function(S){return gi.apply(this,arguments)}(Z),getToken:Ne=>function(S){return qi.apply(this,arguments)}(Z,Ne)}},"PRIVATE")),(0,Ee.registerVersion)(ie,q),(0,Ee.registerVersion)(ie,q,"esm2017");const ui="@firebase/remote-config",re=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qi{constructor(F,Z,le,Ne){this.client=F,this.storage=Z,this.storageCache=le,this.logger=Ne}isCachedDataFresh(F,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-Z,Ne=le<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Ne}.`),Ne}fetch(F){var Z=this;return(0,B.Z)(function*(){const[le,Ne]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(Ne&&Z.isCachedDataFresh(F.cacheMaxAgeMillis,le))return Ne;F.eTag=Ne&&Ne.eTag;const ze=yield Z.client.fetch(F),lt=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ze.status&&lt.push(Z.storage.setLastSuccessfulFetchResponse(ze)),yield Promise.all(lt),ze})()}}function zr(S=navigator){return S.languages&&S.languages[0]||S.language}class di{constructor(F,Z,le,Ne,ze,lt){this.firebaseInstallations=F,this.sdkVersion=Z,this.namespace=le,this.projectId=Ne,this.apiKey=ze,this.appId=lt}fetch(F){var Z=this;return(0,B.Z)(function*(){const[le,Ne]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),lt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,Dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},St={sdk_version:Z.sdkVersion,app_instance_id:le,app_instance_id_token:Ne,app_id:Z.appId,language_code:zr()},xn={method:"POST",headers:Dt,body:JSON.stringify(St)},cr=fetch(lt,xn),ei=new Promise((ro,Gi)=>{F.signal.addEventListener(()=>{const io=new Error("The operation was aborted.");io.name="AbortError",Gi(io)})});let Wi;try{yield Promise.race([cr,ei]),Wi=yield cr}catch(ro){let Gi="fetch-client-network";throw"AbortError"===ro.name&&(Gi="fetch-timeout"),re.create(Gi,{originalErrorMessage:ro.message})}let Di=Wi.status;const il=Wi.headers.get("ETag")||void 0;let Pa,aa;if(200===Wi.status){let ro;try{ro=yield Wi.json()}catch(Gi){throw re.create("fetch-client-parse",{originalErrorMessage:Gi.message})}Pa=ro.entries,aa=ro.state}if("INSTANCE_STATE_UNSPECIFIED"===aa?Di=500:"NO_CHANGE"===aa?Di=304:("NO_TEMPLATE"===aa||"EMPTY_CONFIG"===aa)&&(Pa={}),304!==Di&&200!==Di)throw re.create("fetch-status",{httpStatus:Di});return{status:Di,eTag:il,config:Pa}})()}}class As{constructor(F,Z){this.client=F,this.storage=Z}fetch(F){var Z=this;return(0,B.Z)(function*(){const le=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(F,le)})()}attemptFetch(F,{throttleEndTimeMillis:Z,backoffCount:le}){var Ne=this;return(0,B.Z)(function*(){yield function(S,F){return new Promise((Z,le)=>{const Ne=Math.max(F-Date.now(),0),ze=setTimeout(Z,Ne);S.addEventListener(()=>{clearTimeout(ze),le(re.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,Z);try{const ze=yield Ne.client.fetch(F);return yield Ne.storage.deleteThrottleMetadata(),ze}catch(ze){if(!function(S){if(!(S instanceof de.ZR&&S.customData))return!1;const F=Number(S.customData.httpStatus);return 429===F||500===F||503===F||504===F}(ze))throw ze;const lt={throttleEndTimeMillis:Date.now()+(0,de.$s)(le),backoffCount:le+1};return yield Ne.storage.setThrottleMetadata(lt),Ne.attemptFetch(F,lt)}})()}}class qn{constructor(F,Z,le,Ne,ze){this.app=F,this._client=Z,this._storageCache=le,this._storage=Ne,this._logger=ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cn(S,F){const Z=S.target.error||void 0;return re.create(F,{originalErrorMessage:Z&&Z.message})}const en="app_namespace_store";class qa{constructor(F,Z,le,Ne=function(){return new Promise((S,F)=>{try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=le=>{F(Cn(le,"storage-open"))},Z.onsuccess=le=>{S(le.target.result)},Z.onupgradeneeded=le=>{const Ne=le.target.result;switch(le.oldVersion){case 0:Ne.createObjectStore(en,{keyPath:"compositeKey"})}}}catch(Z){F(re.create("storage-open",{originalErrorMessage:Z}))}})}()){this.appId=F,this.appName=Z,this.namespace=le,this.openDbPromise=Ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var Z=this;return(0,B.Z)(function*(){const le=yield Z.openDbPromise;return new Promise((Ne,ze)=>{const Dt=le.transaction([en],"readonly").objectStore(en),St=Z.createCompositeKey(F);try{const xn=Dt.get(St);xn.onerror=cr=>{ze(Cn(cr,"storage-get"))},xn.onsuccess=cr=>{const ei=cr.target.result;Ne(ei?ei.value:void 0)}}catch(xn){ze(re.create("storage-get",{originalErrorMessage:xn&&xn.message}))}})})()}set(F,Z){var le=this;return(0,B.Z)(function*(){const Ne=yield le.openDbPromise;return new Promise((ze,lt)=>{const St=Ne.transaction([en],"readwrite").objectStore(en),xn=le.createCompositeKey(F);try{const cr=St.put({compositeKey:xn,value:Z});cr.onerror=ei=>{lt(Cn(ei,"storage-set"))},cr.onsuccess=()=>{ze()}}catch(cr){lt(re.create("storage-set",{originalErrorMessage:cr&&cr.message}))}})})()}delete(F){var Z=this;return(0,B.Z)(function*(){const le=yield Z.openDbPromise;return new Promise((Ne,ze)=>{const Dt=le.transaction([en],"readwrite").objectStore(en),St=Z.createCompositeKey(F);try{const xn=Dt.delete(St);xn.onerror=cr=>{ze(Cn(cr,"storage-delete"))},xn.onsuccess=()=>{Ne()}}catch(xn){ze(re.create("storage-delete",{originalErrorMessage:xn&&xn.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class $s{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,B.Z)(function*(){const Z=F.storage.getLastFetchStatus(),le=F.storage.getLastSuccessfulFetchTimestampMillis(),Ne=F.storage.getActiveConfig(),ze=yield Z;ze&&(F.lastFetchStatus=ze);const lt=yield le;lt&&(F.lastSuccessfulFetchTimestampMillis=lt);const Dt=yield Ne;Dt&&(F.activeConfig=Dt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Nr(){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,B.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(S){return!1}})).apply(this,arguments)}(0,Ee._registerComponent)(new X.wA("remote-config",function(F,{instanceIdentifier:Z}){const le=F.getProvider("app").getImmediate(),Ne=F.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw re.create("registration-window");if(!(0,de.hl)())throw re.create("indexed-db-unavailable");const{projectId:ze,apiKey:lt,appId:Dt}=le.options;if(!ze)throw re.create("registration-project-id");if(!lt)throw re.create("registration-api-key");if(!Dt)throw re.create("registration-app-id");const St=new qa(Dt,le.name,Z=Z||"firebase"),xn=new $s(St),cr=new oe.Yd(ui);cr.logLevel=oe.in.ERROR;const ei=new di(Ne,Ee.SDK_VERSION,Z,ze,lt,Dt),Wi=new As(ei,St),Di=new Qi(Wi,St,xn,cr),il=new qn(le,Di,xn,St,cr);return function(S){const F=(0,de.m9)(S);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(il),il},"PUBLIC").setMultipleInstances(!0)),(0,Ee.registerVersion)(ui,"0.3.3"),(0,Ee.registerVersion)(ui,"0.3.3","esm2017");const Ss="/firebase-messaging-sw.js",Ar="/firebase-cloud-messaging-push-scope",Ro="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vi="google.c.a.c_id",ho="google.c.a.c_l",Br="google.c.a.ts",Ws="google.c.a.e";var xr=(()=>{return(S=xr||(xr={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",xr;var S})();function Ui(S){const F=new Uint8Array(S);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gs(S){const Z=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(Z),Ne=new Uint8Array(le.length);for(let ze=0;ze<le.length;++ze)Ne[ze]=le.charCodeAt(ze);return Ne}const qo="fcm_token_details_db",Jo="fcm_token_object_Store";function ar(S){return Si.apply(this,arguments)}function Si(){return(Si=(0,B.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ze=>ze.name).includes(qo))return null;let F=null;return(yield(0,ee.openDb)(qo,5,function(){var le=(0,B.Z)(function*(Ne){var ze;if(Ne.oldVersion<2||!Ne.objectStoreNames.contains(Jo))return;const lt=Ne.transaction.objectStore(Jo),Dt=yield lt.index("fcmSenderId").get(S);if(yield lt.clear(),Dt)if(2===Ne.oldVersion){const St=Dt;if(!St.auth||!St.p256dh||!St.endpoint)return;F={token:St.fcmToken,createTime:null!==(ze=St.createTime)&&void 0!==ze?ze:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:Ui(St.vapidKey)}}}else if(3===Ne.oldVersion){const St=Dt;F={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Ui(St.auth),p256dh:Ui(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Ui(St.vapidKey)}}}else if(4===Ne.oldVersion){const St=Dt;F={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Ui(St.auth),p256dh:Ui(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Ui(St.vapidKey)}}}});return function(Ne){return le.apply(this,arguments)}}())).close(),yield(0,ee.deleteDb)(qo),yield(0,ee.deleteDb)("fcm_vapid_details_db"),yield(0,ee.deleteDb)("undefined"),pn(F)?F:null})).apply(this,arguments)}function pn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:F}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const Ji="firebase-messaging-store";let Xi=null;function R(){return Xi||(Xi=(0,ee.openDb)("firebase-messaging-database",1,S=>{switch(S.oldVersion){case 0:S.createObjectStore(Ji)}})),Xi}function W(S){return x.apply(this,arguments)}function x(){return(x=(0,B.Z)(function*(S){const F=Pt(S),le=yield(yield R()).transaction(Ji).objectStore(Ji).get(F);if(le)return le;{const Ne=yield ar(S.appConfig.senderId);if(Ne)return yield K(S,Ne),Ne}})).apply(this,arguments)}function K(S,F){return pe.apply(this,arguments)}function pe(){return(pe=(0,B.Z)(function*(S,F){const Z=Pt(S),Ne=(yield R()).transaction(Ji,"readwrite");return yield Ne.objectStore(Ji).put(F,Z),yield Ne.complete,F})).apply(this,arguments)}function Ze(S){return ct.apply(this,arguments)}function ct(){return(ct=(0,B.Z)(function*(S){const F=Pt(S),le=(yield R()).transaction(Ji,"readwrite");yield le.objectStore(Ji).delete(F),yield le.complete})).apply(this,arguments)}function Pt({appConfig:S}){return S.appId}const cn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function An(S,F){return $t.apply(this,arguments)}function $t(){return($t=(0,B.Z)(function*(S,F){const Z=yield In(S),le=Kt(F),Ne={method:"POST",headers:Z,body:JSON.stringify(le)};let ze;try{ze=yield(yield fetch(gn(S.appConfig),Ne)).json()}catch(lt){throw cn.create("token-subscribe-failed",{errorInfo:lt})}if(ze.error)throw cn.create("token-subscribe-failed",{errorInfo:ze.error.message});if(!ze.token)throw cn.create("token-subscribe-no-token");return ze.token})).apply(this,arguments)}function Rn(S,F){return zn.apply(this,arguments)}function zn(){return(zn=(0,B.Z)(function*(S,F){const Z=yield In(S),le=Kt(F.subscriptionOptions),Ne={method:"PATCH",headers:Z,body:JSON.stringify(le)};let ze;try{ze=yield(yield fetch(`${gn(S.appConfig)}/${F.token}`,Ne)).json()}catch(lt){throw cn.create("token-update-failed",{errorInfo:lt})}if(ze.error)throw cn.create("token-update-failed",{errorInfo:ze.error.message});if(!ze.token)throw cn.create("token-update-no-token");return ze.token})).apply(this,arguments)}function pr(S,F){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,B.Z)(function*(S,F){const le={method:"DELETE",headers:yield In(S)};try{const ze=yield(yield fetch(`${gn(S.appConfig)}/${F}`,le)).json();if(ze.error)throw cn.create("token-unsubscribe-failed",{errorInfo:ze.error.message})}catch(Ne){throw cn.create("token-unsubscribe-failed",{errorInfo:Ne})}})).apply(this,arguments)}function gn({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function In(S){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,B.Z)(function*({appConfig:S,installations:F}){const Z=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function Kt({p256dh:S,auth:F,endpoint:Z,vapidKey:le}){const Ne={web:{endpoint:Z,auth:F,p256dh:S}};return le!==Ro&&(Ne.web.applicationPubKey=le),Ne}const Ci=6048e5;function Xo(S){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,B.Z)(function*(S){const F=yield gr(S.swRegistration,S.vapidKey),Z={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:F.endpoint,auth:Ui(F.getKey("auth")),p256dh:Ui(F.getKey("p256dh"))},le=yield W(S.firebaseDependencies);if(le){if(va(le.subscriptionOptions,Z))return Date.now()>=le.createTime+Ci?Qt(S,{token:le.token,createTime:Date.now(),subscriptionOptions:Z}):le.token;try{yield pr(S.firebaseDependencies,le.token)}catch(Ne){console.warn(Ne)}return it(S.firebaseDependencies,Z)}return it(S.firebaseDependencies,Z)})).apply(this,arguments)}function zs(S){return hs.apply(this,arguments)}function hs(){return(hs=(0,B.Z)(function*(S){const F=yield W(S.firebaseDependencies);F&&(yield pr(S.firebaseDependencies,F.token),yield Ze(S.firebaseDependencies));const Z=yield S.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function Qt(S,F){return fs.apply(this,arguments)}function fs(){return(fs=(0,B.Z)(function*(S,F){try{const Z=yield Rn(S.firebaseDependencies,F),le=Object.assign(Object.assign({},F),{token:Z,createTime:Date.now()});return yield K(S.firebaseDependencies,le),Z}catch(Z){throw yield zs(S),Z}})).apply(this,arguments)}function it(S,F){return bn.apply(this,arguments)}function bn(){return(bn=(0,B.Z)(function*(S,F){const le={token:yield An(S,F),createTime:Date.now(),subscriptionOptions:F};return yield K(S,le),le.token})).apply(this,arguments)}function gr(S,F){return lr.apply(this,arguments)}function lr(){return(lr=(0,B.Z)(function*(S,F){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gs(F)})})).apply(this,arguments)}function va(S,F){return F.vapidKey===S.vapidKey&&F.endpoint===S.endpoint&&F.auth===S.auth&&F.p256dh===S.p256dh}function es(S){const F={from:S.from,collapseKey:S.collapse_key,messageId:S.fcm_message_id};return function(S,F){if(!F.notification)return;S.notification={};const Z=F.notification.title;Z&&(S.notification.title=Z);const le=F.notification.body;le&&(S.notification.body=le);const Ne=F.notification.image;Ne&&(S.notification.image=Ne)}(F,S),function(S,F){!F.data||(S.data=F.data)}(F,S),function(S,F){if(!F.fcmOptions)return;S.fcmOptions={};const Z=F.fcmOptions.link;Z&&(S.fcmOptions.link=Z);const le=F.fcmOptions.analytics_label;le&&(S.fcmOptions.analyticsLabel=le)}(F,S),F}function Qa(S){return"object"==typeof S&&!!S&&Vi in S}function Fa(S,F){const Z=[];for(let le=0;le<S.length;le++)Z.push(S.charAt(le)),le<F.length&&Z.push(F.charAt(le));return Z.join("")}function Ks(S){return cn.create("missing-app-config-values",{valueName:S})}Fa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kr{constructor(F,Z,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ne=function(S){if(!S||!S.options)throw Ks("App Configuration Object");if(!S.name)throw Ks("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=S;for(const le of F)if(!Z[le])throw Ks(le);return{appName:S.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Ne,installations:Z,analyticsProvider:le}}_delete(){return Promise.resolve()}}function hi(S){return go.apply(this,arguments)}function go(){return(go=(0,B.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Ss,{scope:Ar}),S.swRegistration.update().catch(()=>{})}catch(F){throw cn.create("failed-service-worker-registration",{browserErrorMessage:F.message})}})).apply(this,arguments)}function oi(S,F){return ai.apply(this,arguments)}function ai(){return(ai=(0,B.Z)(function*(S,F){if(!F&&!S.swRegistration&&(yield hi(S)),F||!S.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");S.swRegistration=F}})).apply(this,arguments)}function mo(S,F){return ps.apply(this,arguments)}function ps(){return(ps=(0,B.Z)(function*(S,F){F?S.vapidKey=F:S.vapidKey||(S.vapidKey=Ro)})).apply(this,arguments)}function _o(){return(_o=(0,B.Z)(function*(S,F){if(!navigator)throw cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cn.create("permission-blocked");return yield mo(S,null==F?void 0:F.vapidKey),yield oi(S,null==F?void 0:F.serviceWorkerRegistration),Xo(S)})).apply(this,arguments)}function yo(S,F,Z){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,B.Z)(function*(S,F,Z){const le=Zs(F);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:Z[Vi],message_name:Z[ho],message_time:Z[Br],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zs(S){switch(S){case xr.NOTIFICATION_CLICKED:return"notification_open";case xr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ts(){return(ts=(0,B.Z)(function*(S,F){const Z=F.data;if(!Z.isFirebaseMessaging)return;S.onMessageHandler&&Z.messageType===xr.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(es(Z)):S.onMessageHandler.next(es(Z)));const le=Z.data;Qa(le)&&"1"===le[Ws]&&(yield yo(S,Z.messageType,le))})).apply(this,arguments)}const ea="@firebase/messaging";function gs(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,B.Z)(function*(){return"undefined"!=typeof window&&(0,de.hl)()&&(yield(0,de.eu)())&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Ee._registerComponent)(new X.wA("messaging",S=>{const F=new kr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function(S,F){return ts.apply(this,arguments)}(F,Z)),F},"PUBLIC")),(0,Ee._registerComponent)(new X.wA("messaging-internal",S=>{const F=S.getProvider("messaging").getImmediate();return{getToken:le=>function(S,F){return _o.apply(this,arguments)}(F,le)}},"PRIVATE")),(0,Ee.registerVersion)(ea,"0.9.4"),(0,Ee.registerVersion)(ea,"0.9.4","esm2017");const Fr="analytics",ba="firebase_id",qs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ko="https://www.googletagmanager.com/gtag/js",ir=new oe.Yd("@firebase/analytics");function Rs(S){return Promise.all(S.map(F=>F.catch(Z=>Z)))}function Qs(S,F){const Z=document.createElement("script");Z.src=`${ko}?l=${S}&id=${F}`,Z.async=!0,document.head.appendChild(Z)}function wi(S,F,Z,le,Ne,ze){return ta.apply(this,arguments)}function ta(){return(ta=(0,B.Z)(function*(S,F,Z,le,Ne,ze){const lt=le[Ne];try{if(lt)yield F[lt];else{const St=(yield Rs(Z)).find(xn=>xn.measurementId===Ne);St&&(yield F[St.appId])}}catch(Dt){ir.error(Dt)}S("config",Ne,ze)})).apply(this,arguments)}function Js(S,F,Z,le,Ne){return ys.apply(this,arguments)}function ys(){return(ys=(0,B.Z)(function*(S,F,Z,le,Ne){try{let ze=[];if(Ne&&Ne.send_to){let lt=Ne.send_to;Array.isArray(lt)||(lt=[lt]);const Dt=yield Rs(Z);for(const St of lt){const xn=Dt.find(ei=>ei.measurementId===St),cr=xn&&F[xn.appId];if(!cr){ze=[];break}ze.push(cr)}}0===ze.length&&(ze=Object.values(F)),yield Promise.all(ze),S("event",le,Ne||{})}catch(ze){ir.error(ze)}})).apply(this,arguments)}function La(){const S=window.document.getElementsByTagName("script");for(const F of Object.values(S))if(F.src&&F.src.includes(ko))return F;return null}const pi=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ia=new class{constructor(F={},Z=1e3){this.throttleMetadata=F,this.intervalMillis=Z}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,Z){this.throttleMetadata[F]=Z}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Jn(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function vs(S){return Es.apply(this,arguments)}function Es(){return(Es=(0,B.Z)(function*(S){var F;const{appId:Z,apiKey:le}=S,Ne={method:"GET",headers:Jn(le)},ze=qs.replace("{app-id}",Z),lt=yield fetch(ze,Ne);if(200!==lt.status&&304!==lt.status){let Dt="";try{const St=yield lt.json();(null===(F=St.error)||void 0===F?void 0:F.message)&&(Dt=St.error.message)}catch(St){}throw pi.create("config-fetch-failed",{httpStatus:lt.status,responseMessage:Dt})}return lt.json()})).apply(this,arguments)}function wa(S){return li.apply(this,arguments)}function li(){return(li=(0,B.Z)(function*(S,F=ia,Z){const{appId:le,apiKey:Ne,measurementId:ze}=S.options;if(!le)throw pi.create("no-app-id");if(!Ne){if(ze)return{measurementId:ze,appId:le};throw pi.create("no-api-key")}const lt=F.getThrottleMetadata(le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dt=new Ia;return setTimeout((0,B.Z)(function*(){Dt.abort()}),void 0!==Z?Z:6e4),Eo({appId:le,apiKey:Ne,measurementId:ze},lt,Dt,F)})).apply(this,arguments)}function Eo(S,F,Z){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,B.Z)(function*(S,{throttleEndTimeMillis:F,backoffCount:Z},le,Ne=ia){const{appId:ze,measurementId:lt}=S;try{yield vl(le,F)}catch(Dt){if(lt)return ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${Dt.message}]`),{appId:ze,measurementId:lt};throw Dt}try{const Dt=yield vs(S);return Ne.deleteThrottleMetadata(ze),Dt}catch(Dt){if(!rs(Dt)){if(Ne.deleteThrottleMetadata(ze),lt)return ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${Dt.message}]`),{appId:ze,measurementId:lt};throw Dt}const St=503===Number(Dt.customData.httpStatus)?(0,de.$s)(Z,Ne.intervalMillis,30):(0,de.$s)(Z,Ne.intervalMillis),xn={throttleEndTimeMillis:Date.now()+St,backoffCount:Z+1};return Ne.setThrottleMetadata(ze,xn),ir.debug(`Calling attemptFetch again in ${St} millis`),Eo(S,xn,le,Ne)}})).apply(this,arguments)}function vl(S,F){return new Promise((Z,le)=>{const Ne=Math.max(F-Date.now(),0),ze=setTimeout(Z,Ne);S.addEventListener(()=>{clearTimeout(ze),le(pi.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function rs(S){if(!(S instanceof de.ZR&&S.customData))return!1;const F=Number(S.customData.httpStatus);return 429===F||500===F||503===F||504===F}class Ia{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}function A(){return I.apply(this,arguments)}function I(){return(I=(0,B.Z)(function*(){if(!(0,de.hl)())return ir.warn(pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(S){return ir.warn(pi.create("indexeddb-unavailable",{errorInfo:S}).message),!1}return!0})).apply(this,arguments)}function N(){return(N=(0,B.Z)(function*(S,F,Z,le,Ne,ze,lt){var Dt;const St=wa(S);St.then(Di=>{Z[Di.measurementId]=Di.appId,S.options.measurementId&&Di.measurementId!==S.options.measurementId&&ir.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Di.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Di=>ir.error(Di)),F.push(St);const xn=A().then(Di=>{if(Di)return le.getId()}),[cr,ei]=yield Promise.all([St,xn]);La()||Qs(ze,cr.measurementId),Ne("js",new Date);const Wi=null!==(Dt=null==lt?void 0:lt.config)&&void 0!==Dt?Dt:{};return Wi.origin="firebase",Wi.update=!0,null!=ei&&(Wi[ba]=ei),Ne("config",cr.measurementId,Wi),cr.measurementId})).apply(this,arguments)}class V{constructor(F){this.app=F}_delete(){return delete z[this.app.options.appId],Promise.resolve()}}let z={},ue=[];const we={};let Nn,Mt,et="dataLayer",Xn=!1;function Hi(S,F,Z){!function(){const S=[];if((0,de.ru)()&&S.push("This is a browser extension environment."),(0,de.zI)()||S.push("Cookies are not available."),S.length>0){const F=S.map((le,Ne)=>`(${Ne+1}) ${le}`).join(" "),Z=pi.create("invalid-analytics-context",{errorInfo:F});ir.warn(Z.message)}}();const le=S.options.appId;if(!le)throw pi.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw pi.create("no-api-key");ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=z[le])throw pi.create("already-exists",{id:le});if(!Xn){!function(S){let F=[];Array.isArray(window[S])?F=window[S]:window[S]=F}(et);const{wrappedGtag:ze,gtagCore:lt}=function(S,F,Z,le,Ne){let ze=function(...lt){window[le].push(arguments)};return window[Ne]&&"function"==typeof window[Ne]&&(ze=window[Ne]),window[Ne]=function(S,F,Z,le){function ze(){return(ze=(0,B.Z)(function*(lt,Dt,St){try{"event"===lt?yield Js(S,F,Z,Dt,St):"config"===lt?yield wi(S,F,Z,le,Dt,St):S("set",Dt)}catch(xn){ir.error(xn)}})).apply(this,arguments)}return function(lt,Dt,St){return ze.apply(this,arguments)}}(ze,S,F,Z),{gtagCore:ze,wrappedGtag:window[Ne]}}(z,ue,we,et,"gtag");Mt=ze,Nn=lt,Xn=!0}return z[le]=function(S,F,Z,le,Ne,ze,lt){return N.apply(this,arguments)}(S,ue,we,F,Nn,et,Z),new V(S)}function Co(){return(Co=(0,B.Z)(function*(S,F,Z,le,Ne){if(Ne&&Ne.global)S("event",Z,le);else{const ze=yield F;S("event",Z,Object.assign(Object.assign({},le),{send_to:ze}))}})).apply(this,arguments)}function to(){return el.apply(this,arguments)}function el(){return(el=(0,B.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(S){return!1}})).apply(this,arguments)}const Ua="@firebase/analytics";(0,Ee._registerComponent)(new X.wA(Fr,(F,{options:Z})=>Hi(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,Ee._registerComponent)(new X.wA("analytics-internal",function(F){try{const Z=F.getProvider(Fr).getImmediate();return{logEvent:(le,Ne,ze)=>function(S,F,Z,le){S=(0,de.m9)(S),function(S,F,Z,le,Ne){return Co.apply(this,arguments)}(Mt,z[S.app.options.appId],F,Z,le).catch(Ne=>ir.error(Ne))}(Z,le,Ne,ze)}}catch(Z){throw pi.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,Ee.registerVersion)(Ua,"0.7.4"),(0,Ee.registerVersion)(Ua,"0.7.4","esm2017");var Mu=L(7771),nl=L(3637),rl=L(3342),su=L(3101),Bc=L(6136);const $l=new D.GfV("7.2.0"),Ba="__angularfire_symbol__analyticsIsSupported",bs="__angularfire_symbol__remoteConfigIsSupported",Lo="__angularfire_symbol__messagingIsSupported";function Ni(S,F,Z){if(F){if(1===F.length)return F[0];const ze=F.filter(lt=>lt.app===Z);if(1===ze.length)return ze[0]}return Z.container.getProvider(S).getImmediate({optional:!0})}globalThis[Ba]||(globalThis[Ba]=to().then(S=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=S)),globalThis[Lo]||(globalThis[Lo]=gs().then(S=>globalThis.__angularfire_symbol__messagingIsSupportedValue=S)),globalThis[bs]||(globalThis[bs]=Nr().then(S=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=S));const Ha=(S,F)=>{const Z=F?[F]:(0,m.C6)(),le=[];return Z.forEach(Ne=>{Ne.container.getProvider(S).instances.forEach(lt=>{le.includes(lt)||le.push(lt)})}),le};function xs(){}class no{constructor(F,Z=Mu.N){this.zone=F,this.delegate=Z}now(){return this.delegate.now()}schedule(F,Z,le){const Ne=this.zone;return this.delegate.schedule(function(lt){Ne.runGuarded(()=>{F.apply(this,[lt])})},Z,le)}}class Ec{constructor(F){this.zone=F,this.task=null}call(F,Z){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs)),Z.pipe((0,rl.b)({next:le,complete:le,error:le})).subscribe(F).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bl=(()=>{class S{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new no(Zone.current)),this.insideAngular=Z.run(()=>new no(Zone.current,nl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(Z){return new(Z||S)(D.LFG(D.R0b))},S.\u0275prov=D.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Vo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Aa(S){return Vo(),function(S){return function(Z){return(Z=Z.lift(new Ec(S.ngZone))).pipe((0,su.R)(S.outsideAngular),(0,Bc.QV)(S.insideAngular))}}(Vo())(S)}},9075:(ft,Pe,L)=>{"use strict";L.d(Pe,{b2:()=>gi,H7:()=>Ce,q6:()=>si,se:()=>qt});var D=L(8583),m=L(7716);class B extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends B{static makeCurrent(){(0,D.HT)(new Ee)}onAndCancel(be,re,Re){return be.addEventListener(re,Re,!1),()=>{be.removeEventListener(re,Re,!1)}}dispatchEvent(be,re){be.dispatchEvent(re)}remove(be){be.parentNode&&be.parentNode.removeChild(be)}createElement(be,re){return(re=re||this.getDefaultDocument()).createElement(be)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(be){return be.nodeType===Node.ELEMENT_NODE}isShadowRoot(be){return be instanceof DocumentFragment}getGlobalEventTarget(be,re){return"window"===re?window:"document"===re?be:"body"===re?be.body:null}getBaseHref(be){const re=(de=de||document.querySelector("base"),de?de.getAttribute("href"):null);return null==re?null:function(De){oe=oe||document.createElement("a"),oe.setAttribute("href",De);const be=oe.pathname;return"/"===be.charAt(0)?be:`/${be}`}(re)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(be){return(0,D.Mx)(document.cookie,be)}}let oe,de=null;const ie=new m.OlP("TRANSITION_ID"),J=[{provide:m.ip1,useFactory:function(De,be,re){return()=>{re.get(m.CZH).donePromise.then(()=>{const Re=(0,D.q)(),Xe=be.querySelectorAll(`style[ng-transition="${De}"]`);for(let xt=0;xt<Xe.length;xt++)Re.remove(Xe[xt])})}},deps:[ie,D.K0,m.zs3],multi:!0}];class G{static init(){(0,m.VLi)(new G)}addToWindow(be){m.dqk.getAngularTestability=(Re,Xe=!0)=>{const xt=be.findTestabilityInTree(Re,Xe);if(null==xt)throw new Error("Could not find testability for element.");return xt},m.dqk.getAllAngularTestabilities=()=>be.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>be.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(Re=>{const Xe=m.dqk.getAllAngularTestabilities();let xt=Xe.length,sn=!1;const nn=function(zt){sn=sn||zt,xt--,0==xt&&Re(sn)};Xe.forEach(function(zt){zt.whenStable(nn)})})}findTestabilityInTree(be,re,Re){if(null==re)return null;const Xe=be.getTestability(re);return null!=Xe?Xe:Re?(0,D.q)().isShadowRoot(re)?this.findTestabilityInTree(be,re.host,!0):this.findTestabilityInTree(be,re.parentElement,!0):null}}let fe=(()=>{class De{build(){return new XMLHttpRequest}}return De.\u0275fac=function(re){return new(re||De)},De.\u0275prov=m.Yz7({token:De,factory:De.\u0275fac}),De})();const Wt=new m.OlP("EventManagerPlugins");let Ft=(()=>{class De{constructor(re,Re){this._zone=Re,this._eventNameToPlugin=new Map,re.forEach(Xe=>Xe.manager=this),this._plugins=re.slice().reverse()}addEventListener(re,Re,Xe){return this._findPluginFor(Re).addEventListener(re,Re,Xe)}addGlobalEventListener(re,Re,Xe){return this._findPluginFor(Re).addGlobalEventListener(re,Re,Xe)}getZone(){return this._zone}_findPluginFor(re){const Re=this._eventNameToPlugin.get(re);if(Re)return Re;const Xe=this._plugins;for(let xt=0;xt<Xe.length;xt++){const sn=Xe[xt];if(sn.supports(re))return this._eventNameToPlugin.set(re,sn),sn}throw new Error(`No event manager plugin found for event ${re}`)}}return De.\u0275fac=function(re){return new(re||De)(m.LFG(Wt),m.LFG(m.R0b))},De.\u0275prov=m.Yz7({token:De,factory:De.\u0275fac}),De})();class tn{constructor(be){this._doc=be}addGlobalEventListener(be,re,Re){const Xe=(0,D.q)().getGlobalEventTarget(this._doc,be);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${re}`);return this.addEventListener(Xe,re,Re)}}let bt=(()=>{class De{constructor(){this._stylesSet=new Set}addStyles(re){const Re=new Set;re.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),Re.add(Xe))}),this.onStylesAdded(Re)}onStylesAdded(re){}getAllStyles(){return Array.from(this._stylesSet)}}return De.\u0275fac=function(re){return new(re||De)},De.\u0275prov=m.Yz7({token:De,factory:De.\u0275fac}),De})(),Lr=(()=>{class De extends bt{constructor(re){super(),this._doc=re,this._hostNodes=new Map,this._hostNodes.set(re.head,[])}_addStylesToHost(re,Re,Xe){re.forEach(xt=>{const sn=this._doc.createElement("style");sn.textContent=xt,Xe.push(Re.appendChild(sn))})}addHost(re){const Re=[];this._addStylesToHost(this._stylesSet,re,Re),this._hostNodes.set(re,Re)}removeHost(re){const Re=this._hostNodes.get(re);Re&&Re.forEach(tr),this._hostNodes.delete(re)}onStylesAdded(re){this._hostNodes.forEach((Re,Xe)=>{this._addStylesToHost(re,Xe,Re)})}ngOnDestroy(){this._hostNodes.forEach(re=>re.forEach(tr))}}return De.\u0275fac=function(re){return new(re||De)(m.LFG(D.K0))},De.\u0275prov=m.Yz7({token:De,factory:De.\u0275fac}),De})();function tr(De){(0,D.q)().remove(De)}const $n={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zn=/%COMP%/g;function ii(De,be,re){for(let Re=0;Re<be.length;Re++){let Xe=be[Re];Array.isArray(Xe)?ii(De,Xe,re):(Xe=Xe.replace(Zn,De),re.push(Xe))}return re}function Wn(De){return be=>{if("__ngUnwrap__"===be)return De;!1===De(be)&&(be.preventDefault(),be.returnValue=!1)}}let qt=(()=>{class De{constructor(re,Re,Xe){this.eventManager=re,this.sharedStylesHost=Re,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new Mn(re)}createRenderer(re,Re){if(!re||!Re)return this.defaultRenderer;switch(Re.encapsulation){case m.ifc.Emulated:{let Xe=this.rendererByCompId.get(Re.id);return Xe||(Xe=new rt(this.eventManager,this.sharedStylesHost,Re,this.appId),this.rendererByCompId.set(Re.id,Xe)),Xe.applyToHost(re),Xe}case 1:case m.ifc.ShadowDom:return new Tr(this.eventManager,this.sharedStylesHost,re,Re);default:if(!this.rendererByCompId.has(Re.id)){const Xe=ii(Re.id,Re.styles,[]);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(Re.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return De.\u0275fac=function(re){return new(re||De)(m.LFG(Ft),m.LFG(Lr),m.LFG(m.AFp))},De.\u0275prov=m.Yz7({token:De,factory:De.\u0275fac}),De})();class Mn{constructor(be){this.eventManager=be,this.data=Object.create(null)}destroy(){}createElement(be,re){return re?document.createElementNS($n[re]||re,be):document.createElement(be)}createComment(be){return document.createComment(be)}createText(be){return document.createTextNode(be)}appendChild(be,re){be.appendChild(re)}insertBefore(be,re,Re){be&&be.insertBefore(re,Re)}removeChild(be,re){be&&be.removeChild(re)}selectRootElement(be,re){let Re="string"==typeof be?document.querySelector(be):be;if(!Re)throw new Error(`The selector "${be}" did not match any elements`);return re||(Re.textContent=""),Re}parentNode(be){return be.parentNode}nextSibling(be){return be.nextSibling}setAttribute(be,re,Re,Xe){if(Xe){re=Xe+":"+re;const xt=$n[Xe];xt?be.setAttributeNS(xt,re,Re):be.setAttribute(re,Re)}else be.setAttribute(re,Re)}removeAttribute(be,re,Re){if(Re){const Xe=$n[Re];Xe?be.removeAttributeNS(Xe,re):be.removeAttribute(`${Re}:${re}`)}else be.removeAttribute(re)}addClass(be,re){be.classList.add(re)}removeClass(be,re){be.classList.remove(re)}setStyle(be,re,Re,Xe){Xe&(m.JOm.DashCase|m.JOm.Important)?be.style.setProperty(re,Re,Xe&m.JOm.Important?"important":""):be.style[re]=Re}removeStyle(be,re,Re){Re&m.JOm.DashCase?be.style.removeProperty(re):be.style[re]=""}setProperty(be,re,Re){be[re]=Re}setValue(be,re){be.nodeValue=re}listen(be,re,Re){return"string"==typeof be?this.eventManager.addGlobalEventListener(be,re,Wn(Re)):this.eventManager.addEventListener(be,re,Wn(Re))}}class rt extends Mn{constructor(be,re,Re,Xe){super(be),this.component=Re;const xt=ii(Xe+"-"+Re.id,Re.styles,[]);re.addStyles(xt),this.contentAttr="_ngcontent-%COMP%".replace(Zn,Xe+"-"+Re.id),this.hostAttr="_nghost-%COMP%".replace(Zn,Xe+"-"+Re.id)}applyToHost(be){super.setAttribute(be,this.hostAttr,"")}createElement(be,re){const Re=super.createElement(be,re);return super.setAttribute(Re,this.contentAttr,""),Re}}class Tr extends Mn{constructor(be,re,Re,Xe){super(be),this.sharedStylesHost=re,this.hostEl=Re,this.shadowRoot=Re.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const xt=ii(Xe.id,Xe.styles,[]);for(let sn=0;sn<xt.length;sn++){const nn=document.createElement("style");nn.textContent=xt[sn],this.shadowRoot.appendChild(nn)}}nodeOrShadowRoot(be){return be===this.hostEl?this.shadowRoot:be}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(be,re){return super.appendChild(this.nodeOrShadowRoot(be),re)}insertBefore(be,re,Re){return super.insertBefore(this.nodeOrShadowRoot(be),re,Re)}removeChild(be,re){return super.removeChild(this.nodeOrShadowRoot(be),re)}parentNode(be){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(be)))}}let rn=(()=>{class De extends tn{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Re,Xe){return re.addEventListener(Re,Xe,!1),()=>this.removeEventListener(re,Re,Xe)}removeEventListener(re,Re,Xe){return re.removeEventListener(Re,Xe)}}return De.\u0275fac=function(re){return new(re||De)(m.LFG(D.K0))},De.\u0275prov=m.Yz7({token:De,factory:De.\u0275fac}),De})();const yt=["alt","control","meta","shift"],Ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},un={alt:De=>De.altKey,control:De=>De.ctrlKey,meta:De=>De.metaKey,shift:De=>De.shiftKey};let me=(()=>{class De extends tn{constructor(re){super(re)}supports(re){return null!=De.parseEventName(re)}addEventListener(re,Re,Xe){const xt=De.parseEventName(Re),sn=De.eventCallback(xt.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(re,xt.domEventName,sn))}static parseEventName(re){const Re=re.toLowerCase().split("."),Xe=Re.shift();if(0===Re.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const xt=De._normalizeKey(Re.pop());let sn="";if(yt.forEach(zt=>{const Bs=Re.indexOf(zt);Bs>-1&&(Re.splice(Bs,1),sn+=zt+".")}),sn+=xt,0!=Re.length||0===xt.length)return null;const nn={};return nn.domEventName=Xe,nn.fullKey=sn,nn}static getEventFullKey(re){let Re="",Xe=function(De){let be=De.key;if(null==be){if(be=De.keyIdentifier,null==be)return"Unidentified";be.startsWith("U+")&&(be=String.fromCharCode(parseInt(be.substring(2),16)),3===De.location&&hn.hasOwnProperty(be)&&(be=hn[be]))}return Ct[be]||be}(re);return Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),yt.forEach(xt=>{xt!=Xe&&un[xt](re)&&(Re+=xt+".")}),Re+=Xe,Re}static eventCallback(re,Re,Xe){return xt=>{De.getEventFullKey(xt)===re&&Xe.runGuarded(()=>Re(xt))}}static _normalizeKey(re){switch(re){case"esc":return"escape";default:return re}}}return De.\u0275fac=function(re){return new(re||De)(m.LFG(D.K0))},De.\u0275prov=m.Yz7({token:De,factory:De.\u0275fac}),De})(),Ce=(()=>{class De{}return De.\u0275fac=function(re){return new(re||De)},De.\u0275prov=(0,m.Yz7)({factory:function(){return(0,m.LFG)(Le)},token:De,providedIn:"root"}),De})(),Le=(()=>{class De extends Ce{constructor(re){super(),this._doc=re}sanitize(re,Re){if(null==Re)return null;switch(re){case m.q3G.NONE:return Re;case m.q3G.HTML:return(0,m.qzn)(Re,"HTML")?(0,m.z3N)(Re):(0,m.EiD)(this._doc,String(Re)).toString();case m.q3G.STYLE:return(0,m.qzn)(Re,"Style")?(0,m.z3N)(Re):Re;case m.q3G.SCRIPT:if((0,m.qzn)(Re,"Script"))return(0,m.z3N)(Re);throw new Error("unsafe value used in a script context");case m.q3G.URL:return(0,m.yhl)(Re),(0,m.qzn)(Re,"URL")?(0,m.z3N)(Re):(0,m.mCW)(String(Re));case m.q3G.RESOURCE_URL:if((0,m.qzn)(Re,"ResourceURL"))return(0,m.z3N)(Re);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${re} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(re){return(0,m.JVY)(re)}bypassSecurityTrustStyle(re){return(0,m.L6k)(re)}bypassSecurityTrustScript(re){return(0,m.eBb)(re)}bypassSecurityTrustUrl(re){return(0,m.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,m.pB0)(re)}}return De.\u0275fac=function(re){return new(re||De)(m.LFG(D.K0))},De.\u0275prov=(0,m.Yz7)({factory:function(){return function(De){return new Le(De.get(D.K0))}((0,m.LFG)(m.gxx))},token:De,providedIn:"root"}),De})();const si=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:D.bD},{provide:m.g9A,useValue:function(){Ee.makeCurrent(),G.init()},multi:!0},{provide:D.K0,useFactory:function(){return(0,m.RDi)(document),document},deps:[]}]),Is=[[],{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function(){return new m.qLn},deps:[]},{provide:Wt,useClass:rn,multi:!0,deps:[D.K0,m.R0b,m.Lbi]},{provide:Wt,useClass:me,multi:!0,deps:[D.K0]},[],{provide:qt,useClass:qt,deps:[Ft,Lr,m.AFp]},{provide:m.FYo,useExisting:qt},{provide:bt,useExisting:Lr},{provide:Lr,useClass:Lr,deps:[D.K0]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:Ft,useClass:Ft,deps:[Wt,m.R0b]},{provide:D.JF,useClass:fe,deps:[]},[]];let gi=(()=>{class De{constructor(re){if(re)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(re){return{ngModule:De,providers:[{provide:m.AFp,useValue:re.appId},{provide:ie,useExisting:m.AFp},J]}}}return De.\u0275fac=function(re){return new(re||De)(m.LFG(De,12))},De.\u0275mod=m.oAB({type:De}),De.\u0275inj=m.cJS({providers:Is,imports:[D.ez,m.hGG]}),De})();"undefined"!=typeof window&&window},3128:(ft,Pe,L)=>{"use strict";L.d(Pe,{gz:()=>nn,F0:()=>Qr,Od:()=>qs,yS:()=>jr,Bz:()=>na,lC:()=>ir});var D=L(8583),m=L(7716),B=L(5917),Ee=L(3282);function X(...A){return(0,Ee.J)(1)((0,B.of)(...A))}var oe=L(7574),ee=L(4402),ie=L(9193);function q(A){return new oe.y(I=>{let b;try{b=A()}catch(V){return void I.error(V)}return(b?(0,ee.D)(b):(0,ie.c)()).subscribe(I)})}var J=L(6215),G=L(9112),fe=L(3410),xe=L(2441),je=L(9765),Ue=L(4869),Te=L(5435),$e=L(7393),Ge=L(7108);function Ae(A){return function(b){return 0===A?(0,ie.c)():b.lift(new Ve(A))}}class Ve{constructor(I){if(this.total=I,this.total<0)throw new Ge.W}call(I,b){return b.subscribe(new Oe(I,this.total))}}class Oe extends $e.L{constructor(I,b){super(I),this.total=b,this.ring=new Array,this.count=0}_next(I){const b=this.ring,N=this.total,V=this.count++;b.length<N?b.push(I):b[V%N]=I}_complete(){const I=this.destination;let b=this.count;if(b>0){const N=this.count>=this.total?this.total:this.count,V=this.ring;for(let z=0;z<N;z++){const ue=b++%N;I.next(V[ue])}}I.complete()}}var Qe=L(4635),ht=L(5242),pt=L(4487),mt=L(8002),Wt=L(3190),Ft=L(5257),tn=L(2145),bt=L(5304),Lr=L(4612),tr=L(8049),$n=L(9773),Zn=L(3342),yn=L(1307),an=L(8939);class Ir{constructor(I,b){this.id=I,this.url=b}}class ri extends Ir{constructor(I,b,N="imperative",V=null){super(I,b),this.navigationTrigger=N,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vr extends Ir{constructor(I,b,N){super(I,b),this.urlAfterRedirects=N}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class En extends Ir{constructor(I,b,N){super(I,b),this.reason=N}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ii extends Ir{constructor(I,b,N){super(I,b),this.error=N}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wn extends Ir{constructor(I,b,N,V){super(I,b),this.urlAfterRedirects=N,this.state=V}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends Ir{constructor(I,b,N,V){super(I,b),this.urlAfterRedirects=N,this.state=V}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qt extends Ir{constructor(I,b,N,V,z){super(I,b),this.urlAfterRedirects=N,this.state=V,this.shouldActivate=z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mn extends Ir{constructor(I,b,N,V){super(I,b),this.urlAfterRedirects=N,this.state=V}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr extends Ir{constructor(I,b,N,V){super(I,b),this.urlAfterRedirects=N,this.state=V}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class On{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mr{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rt{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vt{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xt{constructor(I,b,N){this.routerEvent=I,this.position=b,this.anchor=N}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jt="primary";class Sr{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const b=this.params[I];return Array.isArray(b)?b[0]:b}return null}getAll(I){if(this.has(I)){const b=this.params[I];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function ke(A){return new Sr(A)}const ce="ngNavigationCancelingError";function he(A){const I=Error("NavigationCancelingError: "+A);return I[ce]=!0,I}function at(A,I,b){const N=b.path.split("/");if(N.length>A.length||"full"===b.pathMatch&&(I.hasChildren()||N.length<A.length))return null;const V={};for(let z=0;z<N.length;z++){const ue=N[z],we=A[z];if(ue.startsWith(":"))V[ue.substring(1)]=we;else if(ue!==we.path)return null}return{consumed:A.slice(0,N.length),posParams:V}}function nt(A,I){const b=A?Object.keys(A):void 0,N=I?Object.keys(I):void 0;if(!b||!N||b.length!=N.length)return!1;let V;for(let z=0;z<b.length;z++)if(V=b[z],!Ct(A[V],I[V]))return!1;return!0}function Ct(A,I){if(Array.isArray(A)&&Array.isArray(I)){if(A.length!==I.length)return!1;const b=[...A].sort(),N=[...I].sort();return b.every((V,z)=>N[z]===V)}return A===I}function hn(A){return Array.prototype.concat.apply([],A)}function nr(A){return A.length>0?A[A.length-1]:null}function At(A,I){for(const b in A)A.hasOwnProperty(b)&&I(A[b],b)}function Bn(A){return(0,m.CqO)(A)?A:(0,m.QGY)(A)?(0,ee.D)(Promise.resolve(A)):(0,B.of)(A)}const me={exact:function Le(A,I,b){if(!si(A.segments,I.segments)||!sr(A.segments,I.segments,b)||A.numberOfChildren!==I.numberOfChildren)return!1;for(const N in I.children)if(!A.children[N]||!Le(A.children[N],I.children[N],b))return!1;return!0},subset:Vt},ae={exact:function(A,I){return nt(A,I)},subset:function(A,I){return Object.keys(I).length<=Object.keys(A).length&&Object.keys(I).every(b=>Ct(A[b],I[b]))},ignored:()=>!0};function Ce(A,I,b){return me[b.paths](A.root,I.root,b.matrixParams)&&ae[b.queryParams](A.queryParams,I.queryParams)&&!("exact"===b.fragment&&A.fragment!==I.fragment)}function Vt(A,I,b){return wn(A,I,I.segments,b)}function wn(A,I,b,N){if(A.segments.length>b.length){const V=A.segments.slice(0,b.length);return!(!si(V,b)||I.hasChildren()||!sr(V,b,N))}if(A.segments.length===b.length){if(!si(A.segments,b)||!sr(A.segments,b,N))return!1;for(const V in I.children)if(!A.children[V]||!Vt(A.children[V],I.children[V],N))return!1;return!0}{const V=b.slice(0,A.segments.length),z=b.slice(A.segments.length);return!!(si(A.segments,V)&&sr(A.segments,V,N)&&A.children[jt])&&wn(A.children[jt],I,z,N)}}function sr(A,I,b){return I.every((N,V)=>ae[b](A[V].parameters,N.parameters))}class Gn{constructor(I,b,N){this.root=I,this.queryParams=b,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ke(this.queryParams)),this._queryParamMap}toString(){return qi.serialize(this)}}class Ht{constructor(I,b){this.segments=I,this.children=b,this.parent=null,At(b,(N,V)=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Li(this)}}class ln{constructor(I,b){this.path=I,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=ke(this.parameters)),this._parameterMap}toString(){return Et(this)}}function si(A,I){return A.length===I.length&&A.every((b,N)=>b.path===I[N].path)}class gi{}class Us{parse(I){const b=new ls(I);return new Gn(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(I){var A;return`${`/${Er(I.root,!0)}`}${function(A){const I=Object.keys(A).map(b=>{const N=A[b];return Array.isArray(N)?N.map(V=>`${Yn(b)}=${Yn(V)}`).join("&"):`${Yn(b)}=${Yn(N)}`}).filter(b=>!!b);return I.length?`?${I.join("&")}`:""}(I.queryParams)}${"string"==typeof I.fragment?`#${A=I.fragment,encodeURI(A)}`:""}`}}const qi=new Us;function Li(A){return A.segments.map(I=>Et(I)).join("/")}function Er(A,I){if(!A.hasChildren())return Li(A);if(I){const b=A.children[jt]?Er(A.children[jt],!1):"",N=[];return At(A.children,(V,z)=>{z!==jt&&N.push(`${z}:${Er(V,!1)}`)}),N.length>0?`${b}(${N.join("//")})`:b}{const b=function(A,I){let b=[];return At(A.children,(N,V)=>{V===jt&&(b=b.concat(I(N,V)))}),At(A.children,(N,V)=>{V!==jt&&(b=b.concat(I(N,V)))}),b}(A,(N,V)=>V===jt?[Er(A.children[jt],!1)]:[`${V}:${Er(N,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[jt]?`${Li(A)}/${b[0]}`:`${Li(A)}/(${b.join("//")})`}}function Cr(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yn(A){return Cr(A).replace(/%3B/gi,";")}function br(A){return Cr(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vr(A){return decodeURIComponent(A)}function Rr(A){return Vr(A.replace(/\+/g,"%20"))}function Et(A){return`${br(A.path)}${function(A){return Object.keys(A).map(I=>`;${br(I)}=${br(A[I])}`).join("")}(A.parameters)}`}const Ur=/^[^\/()?;=#]+/;function mi(A){const I=A.match(Ur);return I?I[0]:""}const dr=/^[^=?&#]+/,jn=/^[^?&#]+/;class ls{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(I.length>0||Object.keys(b).length>0)&&(N[jt]=new Ht(I,b)),N}parseSegment(){const I=mi(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new ln(Vr(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const b=mi(this.remaining);if(!b)return;this.capture(b);let N="";if(this.consumeOptional("=")){const V=mi(this.remaining);V&&(N=V,this.capture(N))}I[Vr(b)]=Vr(N)}parseQueryParam(I){const b=function(A){const I=A.match(dr);return I?I[0]:""}(this.remaining);if(!b)return;this.capture(b);let N="";if(this.consumeOptional("=")){const ue=function(A){const I=A.match(jn);return I?I[0]:""}(this.remaining);ue&&(N=ue,this.capture(N))}const V=Rr(b),z=Rr(N);if(I.hasOwnProperty(V)){let ue=I[V];Array.isArray(ue)||(ue=[ue],I[V]=ue),ue.push(z)}else I[V]=z}parseParens(I){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=mi(this.remaining),V=this.remaining[N.length];if("/"!==V&&")"!==V&&";"!==V)throw new Error(`Cannot parse url '${this.url}'`);let z;N.indexOf(":")>-1?(z=N.substr(0,N.indexOf(":")),this.capture(z),this.capture(":")):I&&(z=jt);const ue=this.parseChildren();b[z]=1===Object.keys(ue).length?ue[jt]:new Ht([],ue),this.consumeOptional("//")}return b}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class Gt{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const b=this.pathFromRoot(I);return b.length>1?b[b.length-2]:null}children(I){const b=De(I,this._root);return b?b.children.map(N=>N.value):[]}firstChild(I){const b=De(I,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(I){const b=be(I,this._root);return b.length<2?[]:b[b.length-2].children.map(V=>V.value).filter(V=>V!==I)}pathFromRoot(I){return be(I,this._root).map(b=>b.value)}}function De(A,I){if(A===I.value)return I;for(const b of I.children){const N=De(A,b);if(N)return N}return null}function be(A,I){if(A===I.value)return[I];for(const b of I.children){const N=be(A,b);if(N.length)return N.unshift(I),N}return[]}class re{constructor(I,b){this.value=I,this.children=b}toString(){return`TreeNode(${this.value})`}}function Re(A){const I={};return A&&A.children.forEach(b=>I[b.value.outlet]=b),I}class Xe extends Gt{constructor(I,b){super(I),this.snapshot=b,co(this,I)}toString(){return this.snapshot.toString()}}function xt(A,I){const b=function(A,I){const ue=new Ds([],{},{},"",{},jt,I,null,A.root,-1,{});return new cs("",new re(ue,[]))}(A,I),N=new J.X([new ln("",{})]),V=new J.X({}),z=new J.X({}),ue=new J.X({}),we=new J.X(""),et=new nn(N,V,ue,we,z,jt,I,b.root);return et.snapshot=b.root,new Xe(new re(et,[]),b)}class nn{constructor(I,b,N,V,z,ue,we,et){this.url=I,this.params=b,this.queryParams=N,this.fragment=V,this.data=z,this.outlet=ue,this.component=we,this._futureSnapshot=et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(I=>ke(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(I=>ke(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zt(A,I="emptyOnly"){const b=A.pathFromRoot;let N=0;if("always"!==I)for(N=b.length-1;N>=1;){const V=b[N],z=b[N-1];if(V.routeConfig&&""===V.routeConfig.path)N--;else{if(z.component)break;N--}}return function(A){return A.reduce((I,b)=>({params:Object.assign(Object.assign({},I.params),b.params),data:Object.assign(Object.assign({},I.data),b.data),resolve:Object.assign(Object.assign({},I.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(N))}class Ds{constructor(I,b,N,V,z,ue,we,et,It,Nn,Mt){this.url=I,this.params=b,this.queryParams=N,this.fragment=V,this.data=z,this.outlet=ue,this.component=we,this.routeConfig=et,this._urlSegment=It,this._lastPathIndex=Nn,this._resolve=Mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ke(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ke(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cs extends Gt{constructor(I,b){super(b),this.url=I,co(this,b)}toString(){return js(this._root)}}function co(A,I){I.value._routerState=A,I.children.forEach(b=>co(A,b))}function js(A){const I=A.children.length>0?` { ${A.children.map(js).join(", ")} } `:"";return`${A.value}${I}`}function _i(A){if(A.snapshot){const I=A.snapshot,b=A._futureSnapshot;A.snapshot=b,nt(I.queryParams,b.queryParams)||A.queryParams.next(b.queryParams),I.fragment!==b.fragment&&A.fragment.next(b.fragment),nt(I.params,b.params)||A.params.next(b.params),function(A,I){if(A.length!==I.length)return!1;for(let b=0;b<A.length;++b)if(!nt(A[b],I[b]))return!1;return!0}(I.url,b.url)||A.url.next(b.url),nt(I.data,b.data)||A.data.next(b.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function Ai(A,I){return nt(A.params,I.params)&&function(A,I){return si(A,I)&&A.every((b,N)=>nt(b.parameters,I[N].parameters))}(A.url,I.url)&&!(!A.parent!=!I.parent)&&(!A.parent||Ai(A.parent,I.parent))}function ya(A,I,b){if(b&&A.shouldReuseRoute(I.value,b.value.snapshot)){const N=b.value;N._futureSnapshot=I.value;const V=function(A,I,b){return I.children.map(N=>{for(const V of b.children)if(A.shouldReuseRoute(N.value,V.value.snapshot))return ya(A,N,V);return ya(A,N)})}(A,I,b);return new re(N,V)}{if(A.shouldAttach(I.value)){const z=A.retrieve(I.value);if(null!==z){const ue=z.route;return rr(I,ue),ue}}const N=function(A){return new nn(new J.X(A.url),new J.X(A.params),new J.X(A.queryParams),new J.X(A.fragment),new J.X(A.data),A.outlet,A.component,A)}(I.value),V=I.children.map(z=>ya(A,z));return new re(N,V)}}function rr(A,I){if(A.value.routeConfig!==I.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(A.children.length!==I.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");I.value._futureSnapshot=A.value;for(let b=0;b<A.children.length;++b)rr(A.children[b],I.children[b])}function Qi(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function zr(A){return"object"==typeof A&&null!=A&&A.outlets}function di(A,I,b,N,V){let z={};return N&&At(N,(ue,we)=>{z[we]=Array.isArray(ue)?ue.map(et=>`${et}`):`${ue}`}),new Gn(b.root===A?I:Ts(b.root,A,I),z,V)}function Ts(A,I,b){const N={};return At(A.children,(V,z)=>{N[z]=V===I?b:Ts(V,I,b)}),new Ht(A.segments,N)}class zo{constructor(I,b,N){if(this.isAbsolute=I,this.numberOfDoubleDots=b,this.commands=N,I&&N.length>0&&Qi(N[0]))throw new Error("Root segment cannot have matrix parameters");const V=N.find(zr);if(V&&V!==nr(N))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ko{constructor(I,b,N){this.segmentGroup=I,this.processChildren=b,this.index=N}}function en(A,I,b){if(A||(A=new Ht([],{})),0===A.segments.length&&A.hasChildren())return yi(A,I,b);const N=function(A,I,b){let N=0,V=I;const z={match:!1,pathIndex:0,commandIndex:0};for(;V<A.segments.length;){if(N>=b.length)return z;const ue=A.segments[V],we=b[N];if(zr(we))break;const et=`${we}`,It=N<b.length-1?b[N+1]:null;if(V>0&&void 0===et)break;if(et&&It&&"object"==typeof It&&void 0===It.outlets){if(!Zo(et,It,ue))return z;N+=2}else{if(!Zo(et,{},ue))return z;N++}V++}return{match:!0,pathIndex:V,commandIndex:N}}(A,I,b),V=b.slice(N.commandIndex);if(N.match&&N.pathIndex<A.segments.length){const z=new Ht(A.segments.slice(0,N.pathIndex),{});return z.children[jt]=new Ht(A.segments.slice(N.pathIndex),A.children),yi(z,0,V)}return N.match&&0===V.length?new Ht(A.segments,{}):N.match&&!A.hasChildren()?uo(A,I,b):N.match?yi(A,0,V):uo(A,I,b)}function yi(A,I,b){if(0===b.length)return new Ht(A.segments,{});{const N=function(A){return zr(A[0])?A[0].outlets:{[jt]:A}}(b),V={};return At(N,(z,ue)=>{"string"==typeof z&&(z=[z]),null!==z&&(V[ue]=en(A.children[ue],I,z))}),At(A.children,(z,ue)=>{void 0===N[ue]&&(V[ue]=z)}),new Ht(A.segments,V)}}function uo(A,I,b){const N=A.segments.slice(0,I);let V=0;for(;V<b.length;){const z=b[V];if(zr(z)){const et=qa(z.outlets);return new Ht(N,et)}if(0===V&&Qi(b[0])){N.push(new ln(A.segments[I].path,$s(b[0]))),V++;continue}const ue=zr(z)?z.outlets[jt]:`${z}`,we=V<b.length-1?b[V+1]:null;ue&&we&&Qi(we)?(N.push(new ln(ue,$s(we))),V+=2):(N.push(new ln(ue,{})),V++)}return new Ht(N,{})}function qa(A){const I={};return At(A,(b,N)=>{"string"==typeof b&&(b=[b]),null!==b&&(I[N]=uo(new Ht([],{}),0,b))}),I}function $s(A){const I={};return At(A,(b,N)=>I[N]=`${b}`),I}function Zo(A,I,b){return A==b.path&&nt(I,b.parameters)}class fn{constructor(I,b,N,V){this.routeReuseStrategy=I,this.futureState=b,this.currState=N,this.forwardEvent=V}activate(I){const b=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,N,I),_i(this.futureState.root),this.activateChildRoutes(b,N,I)}deactivateChildRoutes(I,b,N){const V=Re(b);I.children.forEach(z=>{const ue=z.value.outlet;this.deactivateRoutes(z,V[ue],N),delete V[ue]}),At(V,(z,ue)=>{this.deactivateRouteAndItsChildren(z,N)})}deactivateRoutes(I,b,N){const V=I.value,z=b?b.value:null;if(V===z)if(V.component){const ue=N.getContext(V.outlet);ue&&this.deactivateChildRoutes(I,b,ue.children)}else this.deactivateChildRoutes(I,b,N);else z&&this.deactivateRouteAndItsChildren(b,N)}deactivateRouteAndItsChildren(I,b){this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,b):this.deactivateRouteAndOutlet(I,b)}detachAndStoreRouteSubtree(I,b){const N=b.getContext(I.value.outlet);if(N&&N.outlet){const V=N.outlet.detach(),z=N.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:V,route:I,contexts:z})}}deactivateRouteAndOutlet(I,b){const N=b.getContext(I.value.outlet),V=N&&I.value.component?N.children:b,z=Re(I);for(const ue of Object.keys(z))this.deactivateRouteAndItsChildren(z[ue],V);N&&N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated(),N.attachRef=null,N.resolver=null,N.route=null)}activateChildRoutes(I,b,N){const V=Re(b);I.children.forEach(z=>{this.activateRoutes(z,V[z.value.outlet],N),this.forwardEvent(new vt(z.value.snapshot))}),I.children.length&&this.forwardEvent(new Tr(I.value.snapshot))}activateRoutes(I,b,N){const V=I.value,z=b?b.value:null;if(_i(V),V===z)if(V.component){const ue=N.getOrCreateContext(V.outlet);this.activateChildRoutes(I,b,ue.children)}else this.activateChildRoutes(I,b,N);else if(V.component){const ue=N.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const we=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),ue.children.onOutletReAttached(we.contexts),ue.attachRef=we.componentRef,ue.route=we.route.value,ue.outlet&&ue.outlet.attach(we.componentRef,we.route.value),Nr(we.route)}else{const we=function(A){for(let I=A.parent;I;I=I.parent){const b=I.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(V.snapshot),et=we?we.module.componentFactoryResolver:null;ue.attachRef=null,ue.route=V,ue.resolver=et,ue.outlet&&ue.outlet.activateWith(V,et),this.activateChildRoutes(I,null,ue.children)}}else this.activateChildRoutes(I,null,N)}}function Nr(A){_i(A.value),A.children.forEach(Nr)}class Ss{constructor(I,b){this.routes=I,this.module=b}}function Ar(A){return"function"==typeof A}function us(A){return A instanceof Gn}const ds=Symbol("INITIAL_VALUE");function xr(){return(0,Wt.w)(A=>(0,G.aj)(A.map(I=>I.pipe((0,Ft.q)(1),function(...A){const I=A[A.length-1];return(0,Ue.K)(I)?(A.pop(),b=>X(A,b,I)):b=>X(A,b)}(ds)))).pipe((0,tn.R)((I,b)=>{let N=!1;return b.reduce((V,z,ue)=>V!==ds?V:(z===ds&&(N=!0),N||!1!==z&&ue!==b.length-1&&!us(z)?V:z),I)},ds),(0,Te.h)(I=>I!==ds),(0,mt.U)(I=>us(I)?I:!0===I),(0,Ft.q)(1)))}let Ui=(()=>{class A{}return A.\u0275fac=function(b){return new(b||A)},A.\u0275cmp=m.Xpm({type:A,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,N){1&b&&m._UZ(0,"router-outlet")},directives:function(){return[ir]},encapsulation:2}),A})();function Gs(A,I=""){for(let b=0;b<A.length;b++){const N=A[b];qo(N,Qo(I,N))}}function qo(A,I){A.children&&Gs(A.children,I)}function Qo(A,I){return I?A||I.path?A&&!I.path?`${A}/`:!A&&I.path?I.path:`${A}/${I.path}`:"":A}function Jo(A){const I=A.children&&A.children.map(Jo),b=I?Object.assign(Object.assign({},A),{children:I}):Object.assign({},A);return!b.component&&(I||b.loadChildren)&&b.outlet&&b.outlet!==jt&&(b.component=Ui),b}function ar(A){return A.outlet||jt}function Si(A,I){const b=A.filter(N=>ar(N)===I);return b.push(...A.filter(N=>ar(N)!==I)),b}const pn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function vi(A,I,b){var N;if(""===I.path)return"full"===I.pathMatch&&(A.hasChildren()||b.length>0)?Object.assign({},pn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const z=(I.matcher||at)(b,A,I);if(!z)return Object.assign({},pn);const ue={};At(z.posParams,(et,It)=>{ue[It]=et.path});const we=z.consumed.length>0?Object.assign(Object.assign({},ue),z.consumed[z.consumed.length-1].parameters):ue;return{matched:!0,consumedSegments:z.consumed,lastChild:z.consumed.length,parameters:we,positionalParamSegments:null!==(N=z.posParams)&&void 0!==N?N:{}}}function Ei(A,I,b,N,V="corrected"){if(b.length>0&&function(A,I,b){return b.some(N=>x(A,I,N)&&ar(N)!==jt)}(A,b,N)){const ue=new Ht(I,function(A,I,b,N){const V={};V[jt]=N,N._sourceSegment=A,N._segmentIndexShift=I.length;for(const z of b)if(""===z.path&&ar(z)!==jt){const ue=new Ht([],{});ue._sourceSegment=A,ue._segmentIndexShift=I.length,V[ar(z)]=ue}return V}(A,I,N,new Ht(b,A.children)));return ue._sourceSegment=A,ue._segmentIndexShift=I.length,{segmentGroup:ue,slicedSegments:[]}}if(0===b.length&&function(A,I,b){return b.some(N=>x(A,I,N))}(A,b,N)){const ue=new Ht(A.segments,function(A,I,b,N,V,z){const ue={};for(const we of N)if(x(A,b,we)&&!V[ar(we)]){const et=new Ht([],{});et._sourceSegment=A,et._segmentIndexShift="legacy"===z?A.segments.length:I.length,ue[ar(we)]=et}return Object.assign(Object.assign({},V),ue)}(A,I,b,N,A.children,V));return ue._sourceSegment=A,ue._segmentIndexShift=I.length,{segmentGroup:ue,slicedSegments:b}}const z=new Ht(A.segments,A.children);return z._sourceSegment=A,z._segmentIndexShift=I.length,{segmentGroup:z,slicedSegments:b}}function x(A,I,b){return(!(A.hasChildren()||I.length>0)||"full"!==b.pathMatch)&&""===b.path}function K(A,I,b,N){return!!(ar(A)===N||N!==jt&&x(I,b,A))&&("**"===A.path||vi(I,A,b).matched)}function pe(A,I,b){return 0===I.length&&!A.children[b]}class Ze{constructor(I){this.segmentGroup=I||null}}class ct{constructor(I){this.urlTree=I}}function Pt(A){return new oe.y(I=>I.error(new Ze(A)))}function ut(A){return new oe.y(I=>I.error(new ct(A)))}function cn(A){return new oe.y(I=>I.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${A}'`)))}class Rn{constructor(I,b,N,V,z){this.configLoader=b,this.urlSerializer=N,this.urlTree=V,this.config=z,this.allowRedirects=!0,this.ngModule=I.get(m.h0i)}apply(){const I=Ei(this.urlTree.root,[],[],this.config).segmentGroup,b=new Ht(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,b,jt).pipe((0,mt.U)(z=>this.createUrlTree(pr(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,bt.K)(z=>{if(z instanceof ct)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof Ze?this.noMatchError(z):z}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,jt).pipe((0,mt.U)(V=>this.createUrlTree(pr(V),I.queryParams,I.fragment))).pipe((0,bt.K)(V=>{throw V instanceof Ze?this.noMatchError(V):V}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,b,N){const V=I.segments.length>0?new Ht([],{[jt]:I}):I;return new Gn(V,b,N)}expandSegmentGroup(I,b,N,V){return 0===N.segments.length&&N.hasChildren()?this.expandChildren(I,b,N).pipe((0,mt.U)(z=>new Ht([],z))):this.expandSegment(I,N,b,N.segments,V,!0)}expandChildren(I,b,N){const V=[];for(const z of Object.keys(N.children))"primary"===z?V.unshift(z):V.push(z);return(0,ee.D)(V).pipe((0,Lr.b)(z=>{const ue=N.children[z],we=Si(b,z);return this.expandSegmentGroup(I,we,ue,z).pipe((0,mt.U)(et=>({segment:et,outlet:z})))}),(0,tn.R)((z,ue)=>(z[ue.outlet]=ue.segment,z),{}),function(A,I){const b=arguments.length>=2;return N=>N.pipe(A?(0,Te.h)((V,z)=>A(V,z,N)):pt.y,Ae(1),b?(0,ht.d)(I):(0,Qe.T)(()=>new fe.K))}())}expandSegment(I,b,N,V,z,ue){return(0,ee.D)(N).pipe((0,Lr.b)(we=>this.expandSegmentAgainstRoute(I,b,N,we,V,z,ue).pipe((0,bt.K)(It=>{if(It instanceof Ze)return(0,B.of)(null);throw It}))),(0,tr.P)(we=>!!we),(0,bt.K)((we,et)=>{if(we instanceof fe.K||"EmptyError"===we.name){if(pe(b,V,z))return(0,B.of)(new Ht([],{}));throw new Ze(b)}throw we}))}expandSegmentAgainstRoute(I,b,N,V,z,ue,we){return K(V,b,z,ue)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(I,b,V,z,ue):we&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,b,N,V,z,ue):Pt(b):Pt(b)}expandSegmentAgainstRouteUsingRedirect(I,b,N,V,z,ue){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,N,V,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(I,b,N,V,z,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,b,N,V){const z=this.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?ut(z):this.lineralizeSegments(N,z).pipe((0,$n.zg)(ue=>{const we=new Ht(ue,{});return this.expandSegment(I,we,b,ue,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,b,N,V,z,ue){const{matched:we,consumedSegments:et,lastChild:It,positionalParamSegments:Nn}=vi(b,V,z);if(!we)return Pt(b);const Mt=this.applyRedirectCommands(et,V.redirectTo,Nn);return V.redirectTo.startsWith("/")?ut(Mt):this.lineralizeSegments(V,Mt).pipe((0,$n.zg)(Xn=>this.expandSegment(I,b,N,Xn.concat(z.slice(It)),ue,!1)))}matchSegmentAgainstRoute(I,b,N,V,z){if("**"===N.path)return N.loadChildren?(N._loadedConfig?(0,B.of)(N._loadedConfig):this.configLoader.load(I.injector,N)).pipe((0,mt.U)(Xn=>(N._loadedConfig=Xn,new Ht(V,{})))):(0,B.of)(new Ht(V,{}));const{matched:ue,consumedSegments:we,lastChild:et}=vi(b,N,V);if(!ue)return Pt(b);const It=V.slice(et);return this.getChildConfig(I,N,V).pipe((0,$n.zg)(Mt=>{const Xn=Mt.module,Vn=Mt.routes,{segmentGroup:Ii,slicedSegments:Hi}=Ei(b,we,It,Vn),or=new Ht(Ii.segments,Ii.children);if(0===Hi.length&&or.hasChildren())return this.expandChildren(Xn,Vn,or).pipe((0,mt.U)(Fo=>new Ht(we,Fo)));if(0===Vn.length&&0===Hi.length)return(0,B.of)(new Ht(we,{}));const Co=ar(N)===z;return this.expandSegment(Xn,or,Vn,Hi,Co?jt:z,!0).pipe((0,mt.U)(Jr=>new Ht(we.concat(Jr.segments),Jr.children)))}))}getChildConfig(I,b,N){return b.children?(0,B.of)(new Ss(b.children,I)):b.loadChildren?void 0!==b._loadedConfig?(0,B.of)(b._loadedConfig):this.runCanLoadGuards(I.injector,b,N).pipe((0,$n.zg)(V=>{return V?this.configLoader.load(I.injector,b).pipe((0,mt.U)(z=>(b._loadedConfig=z,z))):(A=b,new oe.y(I=>I.error(he(`Cannot load children because the guard of the route "path: '${A.path}'" returned false`))));var A})):(0,B.of)(new Ss([],I))}runCanLoadGuards(I,b,N){const V=b.canLoad;if(!V||0===V.length)return(0,B.of)(!0);const z=V.map(ue=>{const we=I.get(ue);let et;if((A=we)&&Ar(A.canLoad))et=we.canLoad(b,N);else{if(!Ar(we))throw new Error("Invalid CanLoad guard");et=we(b,N)}var A;return Bn(et)});return(0,B.of)(z).pipe(xr(),(0,Zn.b)(ue=>{if(!us(ue))return;const we=he(`Redirecting to "${this.urlSerializer.serialize(ue)}"`);throw we.url=ue,we}),(0,mt.U)(ue=>!0===ue))}lineralizeSegments(I,b){let N=[],V=b.root;for(;;){if(N=N.concat(V.segments),0===V.numberOfChildren)return(0,B.of)(N);if(V.numberOfChildren>1||!V.children[jt])return cn(I.redirectTo);V=V.children[jt]}}applyRedirectCommands(I,b,N){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),I,N)}applyRedirectCreatreUrlTree(I,b,N,V){const z=this.createSegmentGroup(I,b.root,N,V);return new Gn(z,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(I,b){const N={};return At(I,(V,z)=>{if("string"==typeof V&&V.startsWith(":")){const we=V.substring(1);N[z]=b[we]}else N[z]=V}),N}createSegmentGroup(I,b,N,V){const z=this.createSegments(I,b.segments,N,V);let ue={};return At(b.children,(we,et)=>{ue[et]=this.createSegmentGroup(I,we,N,V)}),new Ht(z,ue)}createSegments(I,b,N,V){return b.map(z=>z.path.startsWith(":")?this.findPosParam(I,z,V):this.findOrReturn(z,N))}findPosParam(I,b,N){const V=N[b.path.substring(1)];if(!V)throw new Error(`Cannot redirect to '${I}'. Cannot find '${b.path}'.`);return V}findOrReturn(I,b){let N=0;for(const V of b){if(V.path===I.path)return b.splice(N),V;N++}return I}}function pr(A){const I={};for(const N of Object.keys(A.children)){const z=pr(A.children[N]);(z.segments.length>0||z.hasChildren())&&(I[N]=z)}return function(A){if(1===A.numberOfChildren&&A.children[jt]){const I=A.children[jt];return new Ht(A.segments.concat(I.segments),I.children)}return A}(new Ht(A.segments,I))}class gn{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class In{constructor(I,b){this.component=I,this.route=b}}function Pi(A,I,b){const N=A._root;return Mi(N,I?I._root:null,b,[N.value])}function Ci(A,I,b){const N=function(A){if(!A)return null;for(let I=A.parent;I;I=I.parent){const b=I.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(I);return(N?N.module.injector:b).get(A)}function Mi(A,I,b,N,V={canDeactivateChecks:[],canActivateChecks:[]}){const z=Re(I);return A.children.forEach(ue=>{(function(A,I,b,N,V={canDeactivateChecks:[],canActivateChecks:[]}){const z=A.value,ue=I?I.value:null,we=b?b.getContext(A.value.outlet):null;if(ue&&z.routeConfig===ue.routeConfig){const et=function(A,I,b){if("function"==typeof b)return b(A,I);switch(b){case"pathParamsChange":return!si(A.url,I.url);case"pathParamsOrQueryParamsChange":return!si(A.url,I.url)||!nt(A.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ai(A,I)||!nt(A.queryParams,I.queryParams);case"paramsChange":default:return!Ai(A,I)}}(ue,z,z.routeConfig.runGuardsAndResolvers);et?V.canActivateChecks.push(new gn(N)):(z.data=ue.data,z._resolvedData=ue._resolvedData),Mi(A,I,z.component?we?we.children:null:b,N,V),et&&we&&we.outlet&&we.outlet.isActivated&&V.canDeactivateChecks.push(new In(we.outlet.component,ue))}else ue&&Qt(I,we,V),V.canActivateChecks.push(new gn(N)),Mi(A,null,z.component?we?we.children:null:b,N,V)})(ue,z[ue.value.outlet],b,N.concat([ue.value]),V),delete z[ue.value.outlet]}),At(z,(ue,we)=>Qt(ue,b.getContext(we),V)),V}function Qt(A,I,b){const N=Re(A),V=A.value;At(N,(z,ue)=>{Qt(z,V.component?I?I.children.getContext(ue):null:I,b)}),b.canDeactivateChecks.push(new In(V.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,V))}class fo{}function po(A){return new oe.y(I=>I.error(A))}class Fa{constructor(I,b,N,V,z,ue){this.rootComponentType=I,this.config=b,this.urlTree=N,this.url=V,this.paramsInheritanceStrategy=z,this.relativeLinkResolution=ue}recognize(){const I=Ei(this.urlTree.root,[],[],this.config.filter(ue=>void 0===ue.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,I,jt);if(null===b)return null;const N=new Ds([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new re(N,b),z=new cs(this.url,V);return this.inheritParamsAndData(z._root),z}inheritParamsAndData(I){const b=I.value,N=zt(b,this.paramsInheritanceStrategy);b.params=Object.freeze(N.params),b.data=Object.freeze(N.data),I.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(I,b,N){return 0===b.segments.length&&b.hasChildren()?this.processChildren(I,b):this.processSegment(I,b,b.segments,N)}processChildren(I,b){const N=[];for(const z of Object.keys(b.children)){const ue=b.children[z],we=Si(I,z),et=this.processSegmentGroup(we,ue,z);if(null===et)return null;N.push(...et)}const V=hi(N);return V.sort((I,b)=>I.value.outlet===jt?-1:b.value.outlet===jt?1:I.value.outlet.localeCompare(b.value.outlet)),V}processSegment(I,b,N,V){for(const z of I){const ue=this.processSegmentAgainstRoute(z,b,N,V);if(null!==ue)return ue}return pe(b,N,V)?[]:null}processSegmentAgainstRoute(I,b,N,V){if(I.redirectTo||!K(I,b,N,V))return null;let z,ue=[],we=[];if("**"===I.path){const Vn=N.length>0?nr(N).parameters:{};z=new Ds(N,Vn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mo(I),ar(I),I.component,I,oi(b),ai(b)+N.length,ps(I))}else{const Vn=vi(b,I,N);if(!Vn.matched)return null;ue=Vn.consumedSegments,we=N.slice(Vn.lastChild),z=new Ds(ue,Vn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mo(I),ar(I),I.component,I,oi(b),ai(b)+ue.length,ps(I))}const et=(A=I).children?A.children:A.loadChildren?A._loadedConfig.routes:[],{segmentGroup:It,slicedSegments:Nn}=Ei(b,ue,we,et.filter(Vn=>void 0===Vn.redirectTo),this.relativeLinkResolution);var A;if(0===Nn.length&&It.hasChildren()){const Vn=this.processChildren(et,It);return null===Vn?null:[new re(z,Vn)]}if(0===et.length&&0===Nn.length)return[new re(z,[])];const Mt=ar(I)===V,Xn=this.processSegment(et,It,Nn,Mt?jt:V);return null===Xn?null:[new re(z,Xn)]}}function kr(A){const I=A.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function hi(A){const I=[],b=new Set;for(const N of A){if(!kr(N)){I.push(N);continue}const V=I.find(z=>N.value.routeConfig===z.value.routeConfig);void 0!==V?(V.children.push(...N.children),b.add(V)):I.push(N)}for(const N of b){const V=hi(N.children);I.push(new re(N.value,V))}return I.filter(N=>!b.has(N))}function oi(A){let I=A;for(;I._sourceSegment;)I=I._sourceSegment;return I}function ai(A){let I=A,b=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,b+=I._segmentIndexShift?I._segmentIndexShift:0;return b-1}function mo(A){return A.data||{}}function ps(A){return A.resolve||{}}function Ys(A){return(0,Wt.w)(I=>{const b=A(I);return b?(0,ee.D)(b).pipe((0,mt.U)(()=>I)):(0,B.of)(I)})}class vo extends class{shouldDetach(I){return!1}store(I,b){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,b){return I.routeConfig===b.routeConfig}}{}const fi=new m.OlP("ROUTES");class ns{constructor(I,b,N,V){this.loader=I,this.compiler=b,this.onLoadStartListener=N,this.onLoadEndListener=V}load(I,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const V=this.loadModuleFactory(b.loadChildren).pipe((0,mt.U)(z=>{this.onLoadEndListener&&this.onLoadEndListener(b);const ue=z.create(I);return new Ss(hn(ue.injector.get(fi,void 0,m.XFs.Self|m.XFs.Optional)).map(Jo),ue)}),(0,bt.K)(z=>{throw b._loader$=void 0,z}));return b._loader$=new xe.c(V,()=>new je.xQ).pipe((0,yn.x)()),b._loader$}loadModuleFactory(I){return"string"==typeof I?(0,ee.D)(this.loader.load(I)):Bn(I()).pipe((0,$n.zg)(b=>b instanceof m.YKP?(0,B.of)(b):(0,ee.D)(this.compiler.compileModuleAsync(b))))}}class xo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gs,this.attachRef=null}}class gs{constructor(){this.contexts=new Map}onChildOutletCreated(I,b){const N=this.getOrCreateContext(I);N.outlet=b,this.contexts.set(I,N)}onChildOutletDestroyed(I){const b=this.getContext(I);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let b=this.getContext(I);return b||(b=new xo,this.contexts.set(I,b)),b}getContext(I){return this.contexts.get(I)||null}}class Ca{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,b){return I}}function ms(A){throw A}function Pr(A,I,b){return I.parse("/")}function Os(A,I){return(0,B.of)(null)}const mr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ja={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qr=(()=>{class A{constructor(b,N,V,z,ue,we,et,It){this.rootComponentType=b,this.urlSerializer=N,this.rootContexts=V,this.location=z,this.config=It,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je.xQ,this.errorHandler=ms,this.malformedUriErrorHandler=Pr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Os,afterPreactivation:Os},this.urlHandlingStrategy=new Ca,this.routeReuseStrategy=new vo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ue.get(m.h0i),this.console=ue.get(m.c2e);const Xn=ue.get(m.R0b);this.isNgZoneEnabled=Xn instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(It),this.currentUrlTree=new Gn(new Ht([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ns(we,et,Vn=>this.triggerEvent(new On(Vn)),Vn=>this.triggerEvent(new Mr(Vn))),this.routerState=xt(this.currentUrlTree,this.rootComponentType),this.transitions=new J.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const N=this.events;return b.pipe((0,Te.h)(V=>0!==V.id),(0,mt.U)(V=>Object.assign(Object.assign({},V),{extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl)})),(0,Wt.w)(V=>{let z=!1,ue=!1;return(0,B.of)(V).pipe((0,Zn.b)(we=>{this.currentNavigation={id:we.id,initialUrl:we.currentRawUrl,extractedUrl:we.extractedUrl,trigger:we.source,extras:we.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Wt.w)(we=>{const et=this.browserUrlTree.toString(),It=!this.navigated||we.extractedUrl.toString()!==et||et!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||It)&&this.urlHandlingStrategy.shouldProcessUrl(we.rawUrl))return Fr(we.source)&&(this.browserUrlTree=we.extractedUrl),(0,B.of)(we).pipe((0,Wt.w)(Mt=>{const Xn=this.transitions.getValue();return N.next(new ri(Mt.id,this.serializeUrl(Mt.extractedUrl),Mt.source,Mt.restoredState)),Xn!==this.transitions.getValue()?ie.E:Promise.resolve(Mt)}),function(A,I,b,N){return(0,Wt.w)(V=>function(A,I,b,N,V){return new Rn(A,I,b,N,V).apply()}(A,I,b,V.extractedUrl,N).pipe((0,mt.U)(z=>Object.assign(Object.assign({},V),{urlAfterRedirects:z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zn.b)(Mt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Mt.urlAfterRedirects})}),function(A,I,b,N,V){return(0,$n.zg)(z=>function(A,I,b,N,V="emptyOnly",z="legacy"){try{const ue=new Fa(A,I,b,N,V,z).recognize();return null===ue?po(new fo):(0,B.of)(ue)}catch(ue){return po(ue)}}(A,I,z.urlAfterRedirects,b(z.urlAfterRedirects),N,V).pipe((0,mt.U)(ue=>Object.assign(Object.assign({},z),{targetSnapshot:ue}))))}(this.rootComponentType,this.config,Mt=>this.serializeUrl(Mt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zn.b)(Mt=>{"eager"===this.urlUpdateStrategy&&(Mt.extras.skipLocationChange||this.setBrowserUrl(Mt.urlAfterRedirects,Mt),this.browserUrlTree=Mt.urlAfterRedirects);const Xn=new Wn(Mt.id,this.serializeUrl(Mt.extractedUrl),this.serializeUrl(Mt.urlAfterRedirects),Mt.targetSnapshot);N.next(Xn)}));if(It&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Xn,extractedUrl:Vn,source:Ii,restoredState:Hi,extras:or}=we,Co=new ri(Xn,this.serializeUrl(Vn),Ii,Hi);N.next(Co);const Ri=xt(Vn,this.rootComponentType).snapshot;return(0,B.of)(Object.assign(Object.assign({},we),{targetSnapshot:Ri,urlAfterRedirects:Vn,extras:Object.assign(Object.assign({},or),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=we.rawUrl,this.browserUrlTree=we.urlAfterRedirects,we.resolve(null),ie.E}),Ys(we=>{const{targetSnapshot:et,id:It,extractedUrl:Nn,rawUrl:Mt,extras:{skipLocationChange:Xn,replaceUrl:Vn}}=we;return this.hooks.beforePreactivation(et,{navigationId:It,appliedUrlTree:Nn,rawUrlTree:Mt,skipLocationChange:!!Xn,replaceUrl:!!Vn})}),(0,Zn.b)(we=>{const et=new dn(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot);this.triggerEvent(et)}),(0,mt.U)(we=>Object.assign(Object.assign({},we),{guards:Pi(we.targetSnapshot,we.currentSnapshot,this.rootContexts)})),function(A,I){return(0,$n.zg)(b=>{const{targetSnapshot:N,currentSnapshot:V,guards:{canActivateChecks:z,canDeactivateChecks:ue}}=b;return 0===ue.length&&0===z.length?(0,B.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function(A,I,b,N){return(0,ee.D)(A).pipe((0,$n.zg)(V=>function(A,I,b,N,V){const z=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,B.of)(!0);const ue=z.map(we=>{const et=Ci(we,I,V);let It;if(function(A){return A&&Ar(A.canDeactivate)}(et))It=Bn(et.canDeactivate(A,I,b,N));else{if(!Ar(et))throw new Error("Invalid CanDeactivate guard");It=Bn(et(A,I,b,N))}return It.pipe((0,tr.P)())});return(0,B.of)(ue).pipe(xr())}(V.component,V.route,b,I,N)),(0,tr.P)(V=>!0!==V,!0))}(ue,N,V,A).pipe((0,$n.zg)(we=>we&&function(A){return"boolean"==typeof A}(we)?function(A,I,b,N){return(0,ee.D)(I).pipe((0,Lr.b)(V=>X(function(A,I){return null!==A&&I&&I(new rt(A)),(0,B.of)(!0)}(V.route.parent,N),function(A,I){return null!==A&&I&&I(new rn(A)),(0,B.of)(!0)}(V.route,N),function(A,I,b){const N=I[I.length-1],z=I.slice(0,I.length-1).reverse().map(ue=>function(A){const I=A.routeConfig?A.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:A,guards:I}:null}(ue)).filter(ue=>null!==ue).map(ue=>q(()=>{const we=ue.guards.map(et=>{const It=Ci(et,ue.node,b);let Nn;if(function(A){return A&&Ar(A.canActivateChild)}(It))Nn=Bn(It.canActivateChild(N,A));else{if(!Ar(It))throw new Error("Invalid CanActivateChild guard");Nn=Bn(It(N,A))}return Nn.pipe((0,tr.P)())});return(0,B.of)(we).pipe(xr())}));return(0,B.of)(z).pipe(xr())}(A,V.path,b),function(A,I,b){const N=I.routeConfig?I.routeConfig.canActivate:null;if(!N||0===N.length)return(0,B.of)(!0);const V=N.map(z=>q(()=>{const ue=Ci(z,I,b);let we;if(function(A){return A&&Ar(A.canActivate)}(ue))we=Bn(ue.canActivate(I,A));else{if(!Ar(ue))throw new Error("Invalid CanActivate guard");we=Bn(ue(I,A))}return we.pipe((0,tr.P)())}));return(0,B.of)(V).pipe(xr())}(A,V.route,b))),(0,tr.P)(V=>!0!==V,!0))}(N,z,A,I):(0,B.of)(we)),(0,mt.U)(we=>Object.assign(Object.assign({},b),{guardsResult:we})))})}(this.ngModule.injector,we=>this.triggerEvent(we)),(0,Zn.b)(we=>{if(us(we.guardsResult)){const It=he(`Redirecting to "${this.serializeUrl(we.guardsResult)}"`);throw It.url=we.guardsResult,It}const et=new qt(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot,!!we.guardsResult);this.triggerEvent(et)}),(0,Te.h)(we=>!!we.guardsResult||(this.restoreHistory(we),this.cancelNavigationTransition(we,""),!1)),Ys(we=>{if(we.guards.canActivateChecks.length)return(0,B.of)(we).pipe((0,Zn.b)(et=>{const It=new Mn(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(It)}),(0,Wt.w)(et=>{let It=!1;return(0,B.of)(et).pipe(function(A,I){return(0,$n.zg)(b=>{const{targetSnapshot:N,guards:{canActivateChecks:V}}=b;if(!V.length)return(0,B.of)(b);let z=0;return(0,ee.D)(V).pipe((0,Lr.b)(ue=>function(A,I,b,N){return function(A,I,b,N){const V=Object.keys(A);if(0===V.length)return(0,B.of)({});const z={};return(0,ee.D)(V).pipe((0,$n.zg)(ue=>function(A,I,b,N){const V=Ci(A,I,N);return Bn(V.resolve?V.resolve(I,b):V(I,b))}(A[ue],I,b,N).pipe((0,Zn.b)(we=>{z[ue]=we}))),Ae(1),(0,$n.zg)(()=>Object.keys(z).length===V.length?(0,B.of)(z):ie.E))}(A._resolve,A,I,N).pipe((0,mt.U)(z=>(A._resolvedData=z,A.data=Object.assign(Object.assign({},A.data),zt(A,b).resolve),null)))}(ue.route,N,A,I)),(0,Zn.b)(()=>z++),Ae(1),(0,$n.zg)(ue=>z===V.length?(0,B.of)(b):ie.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zn.b)({next:()=>It=!0,complete:()=>{It||(this.restoreHistory(et),this.cancelNavigationTransition(et,"At least one route resolver didn't emit any value."))}}))}),(0,Zn.b)(et=>{const It=new Dr(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(It)}))}),Ys(we=>{const{targetSnapshot:et,id:It,extractedUrl:Nn,rawUrl:Mt,extras:{skipLocationChange:Xn,replaceUrl:Vn}}=we;return this.hooks.afterPreactivation(et,{navigationId:It,appliedUrlTree:Nn,rawUrlTree:Mt,skipLocationChange:!!Xn,replaceUrl:!!Vn})}),(0,mt.U)(we=>{const et=function(A,I,b){const N=ya(A,I._root,b?b._root:void 0);return new Xe(N,I)}(this.routeReuseStrategy,we.targetSnapshot,we.currentRouterState);return Object.assign(Object.assign({},we),{targetRouterState:et})}),(0,Zn.b)(we=>{this.currentUrlTree=we.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(we.urlAfterRedirects,we.rawUrl),this.routerState=we.targetRouterState,"deferred"===this.urlUpdateStrategy&&(we.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,we),this.browserUrlTree=we.urlAfterRedirects)}),((A,I,b)=>(0,mt.U)(N=>(new fn(I,N.targetRouterState,N.currentRouterState,b).activate(A),N)))(this.rootContexts,this.routeReuseStrategy,we=>this.triggerEvent(we)),(0,Zn.b)({next(){z=!0},complete(){z=!0}}),(0,an.x)(()=>{var we;if(!z&&!ue){const et=`Navigation ID ${V.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(V),this.cancelNavigationTransition(V,et)):this.cancelNavigationTransition(V,et)}(null===(we=this.currentNavigation)||void 0===we?void 0:we.id)===V.id&&(this.currentNavigation=null)}),(0,bt.K)(we=>{if(ue=!0,function(A){return A&&A[ce]}(we)){const et=us(we.url);et||(this.navigated=!0,this.restoreHistory(V,!0));const It=new En(V.id,this.serializeUrl(V.extractedUrl),we.message);N.next(It),et?setTimeout(()=>{const Nn=this.urlHandlingStrategy.merge(we.url,this.rawUrlTree),Mt={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Fr(V.source)};this.scheduleNavigation(Nn,"imperative",null,Mt,{resolve:V.resolve,reject:V.reject,promise:V.promise})},0):V.resolve(!1)}else{this.restoreHistory(V,!0);const et=new ii(V.id,this.serializeUrl(V.extractedUrl),we);N.next(et);try{V.resolve(this.errorHandler(we))}catch(It){V.reject(It)}}return ie.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}getTransition(){const b=this.transitions.value;return b.urlAfterRedirects=this.browserUrlTree,b}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const N=this.extractLocationChangeInfoFromEvent(b);this.shouldScheduleNavigation(this.lastLocationChangeInfo,N)&&setTimeout(()=>{const{source:V,state:z,urlTree:ue}=N,we={replaceUrl:!0};if(z){const et=Object.assign({},z);delete et.navigationId,delete et.\u0275routerPageId,0!==Object.keys(et).length&&(we.state=et)}this.scheduleNavigation(ue,V,z,we)},0),this.lastLocationChangeInfo=N}))}extractLocationChangeInfoFromEvent(b){var N;return{source:"popstate"===b.type?"popstate":"hashchange",urlTree:this.parseUrl(b.url),state:(null===(N=b.state)||void 0===N?void 0:N.navigationId)?b.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(b,N){if(!b)return!0;const V=N.urlTree.toString()===b.urlTree.toString();return N.transitionId!==b.transitionId||!V||!("hashchange"===N.source&&"popstate"===b.source||"popstate"===N.source&&"hashchange"===b.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){Gs(b),this.config=b.map(Jo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,N={}){const{relativeTo:V,queryParams:z,fragment:ue,queryParamsHandling:we,preserveFragment:et}=N,It=V||this.routerState.root,Nn=et?this.currentUrlTree.fragment:ue;let Mt=null;switch(we){case"merge":Mt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),z);break;case"preserve":Mt=this.currentUrlTree.queryParams;break;default:Mt=z||null}return null!==Mt&&(Mt=this.removeEmptyProps(Mt)),function(A,I,b,N,V){if(0===b.length)return di(I.root,I.root,I,N,V);const z=function(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new zo(!0,0,A);let I=0,b=!1;const N=A.reduce((V,z,ue)=>{if("object"==typeof z&&null!=z){if(z.outlets){const we={};return At(z.outlets,(et,It)=>{we[It]="string"==typeof et?et.split("/"):et}),[...V,{outlets:we}]}if(z.segmentPath)return[...V,z.segmentPath]}return"string"!=typeof z?[...V,z]:0===ue?(z.split("/").forEach((we,et)=>{0==et&&"."===we||(0==et&&""===we?b=!0:".."===we?I++:""!=we&&V.push(we))}),V):[...V,z]},[]);return new zo(b,I,N)}(b);if(z.toRoot())return di(I.root,new Ht([],{}),I,N,V);const ue=function(A,I,b){if(A.isAbsolute)return new Ko(I.root,!0,0);if(-1===b.snapshot._lastPathIndex){const z=b.snapshot._urlSegment;return new Ko(z,z===I.root,0)}const N=Qi(A.commands[0])?0:1;return function(A,I,b){let N=A,V=I,z=b;for(;z>V;){if(z-=V,N=N.parent,!N)throw new Error("Invalid number of '../'");V=N.segments.length}return new Ko(N,!1,V-z)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+N,A.numberOfDoubleDots)}(z,I,A),we=ue.processChildren?yi(ue.segmentGroup,ue.index,z.commands):en(ue.segmentGroup,ue.index,z.commands);return di(ue.segmentGroup,we,I,N,V)}(It,this.currentUrlTree,b,Mt,null!=Nn?Nn:null)}navigateByUrl(b,N={skipLocationChange:!1}){const V=us(b)?b:this.parseUrl(b),z=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(z,"imperative",null,N)}navigate(b,N={skipLocationChange:!1}){return function(A){for(let I=0;I<A.length;I++){const b=A[I];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${I}`)}}(b),this.navigateByUrl(this.createUrlTree(b,N),N)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let N;try{N=this.urlSerializer.parse(b)}catch(V){N=this.malformedUriErrorHandler(V,this.urlSerializer,b)}return N}isActive(b,N){let V;if(V=!0===N?Object.assign({},mr):!1===N?Object.assign({},Ja):N,us(b))return Ce(this.currentUrlTree,b,V);const z=this.parseUrl(b);return Ce(this.currentUrlTree,z,V)}removeEmptyProps(b){return Object.keys(b).reduce((N,V)=>{const z=b[V];return null!=z&&(N[V]=z),N},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new vr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,N,V,z,ue){var we,et;if(this.disposed)return Promise.resolve(!1);const It=this.getTransition(),Nn=Fr(N)&&It&&!Fr(It.source),Vn=(this.lastSuccessfulId===It.id||this.currentNavigation?It.rawUrl:It.urlAfterRedirects).toString()===b.toString();if(Nn&&Vn)return Promise.resolve(!0);let Ii,Hi,or;ue?(Ii=ue.resolve,Hi=ue.reject,or=ue.promise):or=new Promise((Jr,Fo)=>{Ii=Jr,Hi=Fo});const Co=++this.navigationId;let Ri;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(V=this.location.getState()),Ri=V&&V.\u0275routerPageId?V.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?null!==(we=this.browserPageId)&&void 0!==we?we:0:(null!==(et=this.browserPageId)&&void 0!==et?et:0)+1):Ri=0,this.setTransition({id:Co,targetPageId:Ri,source:N,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:z,resolve:Ii,reject:Hi,promise:or,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),or.catch(Jr=>Promise.reject(Jr))}setBrowserUrl(b,N){const V=this.urlSerializer.serialize(b),z=Object.assign(Object.assign({},N.extras.state),this.generateNgRouterState(N.id,N.targetPageId));this.location.isCurrentPathEqualTo(V)||N.extras.replaceUrl?this.location.replaceState(V,"",z):this.location.go(V,"",z)}restoreHistory(b,N=!1){var V,z;if("computed"===this.canceledNavigationResolution){const ue=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)||0===ue?this.currentUrlTree===(null===(z=this.currentNavigation)||void 0===z?void 0:z.finalUrl)&&0===ue&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ue)}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,N){const V=new En(b.id,this.serializeUrl(b.extractedUrl),N);this.triggerEvent(V),b.resolve(!1)}generateNgRouterState(b,N){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:N}:{navigationId:b}}}return A.\u0275fac=function(b){return new(b||A)(m.LFG(m.DyG),m.LFG(gi),m.LFG(gs),m.LFG(D.Ye),m.LFG(m.zs3),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(void 0))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac}),A})();function Fr(A){return"imperative"!==A}let ba=(()=>{class A{constructor(b,N,V,z,ue){this.router=b,this.route=N,this.commands=[],this.onChanges=new je.xQ,null==V&&z.setAttribute(ue.nativeElement,"tabindex","0")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:[]}onClick(){const b={skipLocationChange:_s(this.skipLocationChange),replaceUrl:_s(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_s(this.preserveFragment)})}}return A.\u0275fac=function(b){return new(b||A)(m.Y36(Qr),m.Y36(nn),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},A.\u0275dir=m.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,N){1&b&&m.NdJ("click",function(){return N.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[m.TTD]}),A})(),jr=(()=>{class A{constructor(b,N,V){this.router=b,this.route=N,this.locationStrategy=V,this.commands=[],this.onChanges=new je.xQ,this.subscription=b.events.subscribe(z=>{z instanceof vr&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:[]}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,N,V,z,ue){if(0!==b||N||V||z||ue||"string"==typeof this.target&&"_self"!=this.target)return!0;const we={skipLocationChange:_s(this.skipLocationChange),replaceUrl:_s(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,we),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_s(this.preserveFragment)})}}return A.\u0275fac=function(b){return new(b||A)(m.Y36(Qr),m.Y36(nn),m.Y36(D.S$))},A.\u0275dir=m.lG2({type:A,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,N){1&b&&m.NdJ("click",function(z){return N.onClick(z.button,z.ctrlKey,z.shiftKey,z.altKey,z.metaKey)}),2&b&&(m.Ikx("href",N.href,m.LSH),m.uIk("target",N.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[m.TTD]}),A})();function _s(A){return""===A||!!A}let qs=(()=>{class A{constructor(b,N,V,z,ue,we){this.router=b,this.element=N,this.renderer=V,this.cdr=z,this.link=ue,this.linkWithHref=we,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=b.events.subscribe(et=>{et instanceof vr&&this.update()})}ngAfterContentInit(){(0,B.of)(this.links.changes,this.linksWithHrefs.changes,(0,B.of)(null)).pipe((0,Ee.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var b;null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe();const N=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(V=>!!V).map(V=>V.onChanges);this.linkInputChangesSubscription=(0,ee.D)(N).pipe((0,Ee.J)()).subscribe(V=>{this.isActive!==this.isLinkActive(this.router)(V)&&this.update()})}set routerLinkActive(b){const N=Array.isArray(b)?b:b.split(" ");this.classes=N.filter(V=>!!V)}ngOnChanges(b){this.update()}ngOnDestroy(){var b;this.routerEventsSubscription.unsubscribe(),null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this.isActive!==b&&(this.isActive=b,this.cdr.markForCheck(),this.classes.forEach(N=>{b?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}))})}isLinkActive(b){const N=function(A){return!!A.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return V=>b.isActive(V.urlTree,N)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.linkWithHref&&b(this.linkWithHref)||this.links.some(b)||this.linksWithHrefs.some(b)}}return A.\u0275fac=function(b){return new(b||A)(m.Y36(Qr),m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(ba,8),m.Y36(jr,8))},A.\u0275dir=m.lG2({type:A,selectors:[["","routerLinkActive",""]],contentQueries:function(b,N,V){if(1&b&&(m.Suo(V,ba,5),m.Suo(V,jr,5)),2&b){let z;m.iGM(z=m.CRH())&&(N.links=z),m.iGM(z=m.CRH())&&(N.linksWithHrefs=z)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[m.TTD]}),A})(),ir=(()=>{class A{constructor(b,N,V,z,ue){this.parentContexts=b,this.location=N,this.resolver=V,this.changeDetector=ue,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.name=z||jt,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,b}attach(b,N){this.activated=b,this._activatedRoute=N,this.location.insert(b.hostView)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,N){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const ue=(N=N||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),we=this.parentContexts.getOrCreateContext(this.name).children,et=new Rs(b,we,this.location.injector);this.activated=this.location.createComponent(ue,this.location.length,et),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(b){return new(b||A)(m.Y36(gs),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},A.\u0275dir=m.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),A})();class Rs{constructor(I,b,N){this.route=I,this.childContexts=b,this.parent=N}get(I,b){return I===nn?this.route:I===gs?this.childContexts:this.parent.get(I,b)}}class Qs{}class wi{preload(I,b){return(0,B.of)(null)}}let ta=(()=>{class A{constructor(b,N,V,z,ue){this.router=b,this.injector=z,this.preloadingStrategy=ue,this.loader=new ns(N,V,It=>b.triggerEvent(new On(It)),It=>b.triggerEvent(new Mr(It)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Te.h)(b=>b instanceof vr),(0,Lr.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(m.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,N){const V=[];for(const z of N)if(z.loadChildren&&!z.canLoad&&z._loadedConfig){const ue=z._loadedConfig;V.push(this.processRoutes(ue.module,ue.routes))}else z.loadChildren&&!z.canLoad?V.push(this.preloadConfig(b,z)):z.children&&V.push(this.processRoutes(b,z.children));return(0,ee.D)(V).pipe((0,Ee.J)(),(0,mt.U)(z=>{}))}preloadConfig(b,N){return this.preloadingStrategy.preload(N,()=>(N._loadedConfig?(0,B.of)(N._loadedConfig):this.loader.load(b.injector,N)).pipe((0,$n.zg)(z=>(N._loadedConfig=z,this.processRoutes(z.module,z.routes)))))}}return A.\u0275fac=function(b){return new(b||A)(m.LFG(Qr),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(Qs))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac}),A})(),Js=(()=>{class A{constructor(b,N,V={}){this.router=b,this.viewportScroller=N,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof ri?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof vr&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Xt&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,N){this.router.triggerEvent(new Xt(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(b){return new(b||A)(m.LFG(Qr),m.LFG(D.EM),m.LFG(void 0))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac}),A})();const Xs=new m.OlP("ROUTER_CONFIGURATION"),yl=new m.OlP("ROUTER_FORROOT_GUARD"),Va=[D.Ye,{provide:gi,useClass:Us},{provide:Qr,useFactory:function(A,I,b,N,V,z,ue,we={},et,It){const Nn=new Qr(null,A,I,b,N,V,z,hn(ue));return et&&(Nn.urlHandlingStrategy=et),It&&(Nn.routeReuseStrategy=It),function(A,I){A.errorHandler&&(I.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(I.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(I.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(I.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(I.urlUpdateStrategy=A.urlUpdateStrategy)}(we,Nn),we.enableTracing&&Nn.events.subscribe(Mt=>{var Xn,Vn;null===(Xn=console.group)||void 0===Xn||Xn.call(console,`Router Event: ${Mt.constructor.name}`),console.log(Mt.toString()),console.log(Mt),null===(Vn=console.groupEnd)||void 0===Vn||Vn.call(console)}),Nn},deps:[gi,gs,D.Ye,m.zs3,m.v3s,m.Sil,fi,Xs,[class{},new m.FiY],[class{},new m.FiY]]},gs,{provide:nn,useFactory:function(A){return A.routerState.root},deps:[Qr]},{provide:m.v3s,useClass:m.EAV},ta,wi,class{preload(I,b){return b().pipe((0,bt.K)(()=>(0,B.of)(null)))}},{provide:Xs,useValue:{enableTracing:!1}}];function pi(){return new m.PXZ("Router",Qr)}let na=(()=>{class A{constructor(b,N){}static forRoot(b,N){return{ngModule:A,providers:[Va,Jn(b),{provide:yl,useFactory:ia,deps:[[Qr,new m.FiY,new m.tp0]]},{provide:Xs,useValue:N||{}},{provide:D.S$,useFactory:ra,deps:[D.lw,[new m.tBr(D.mr),new m.FiY],Xs]},{provide:Js,useFactory:ji,deps:[Qr,D.EM,Xs]},{provide:Qs,useExisting:N&&N.preloadingStrategy?N.preloadingStrategy:wi},{provide:m.PXZ,multi:!0,useFactory:pi},[li,{provide:m.ip1,multi:!0,useFactory:Eo,deps:[li]},{provide:vl,useFactory:Oi,deps:[li]},{provide:m.tb,multi:!0,useExisting:vl}]]}}static forChild(b){return{ngModule:A,providers:[Jn(b)]}}}return A.\u0275fac=function(b){return new(b||A)(m.LFG(yl,8),m.LFG(Qr,8))},A.\u0275mod=m.oAB({type:A}),A.\u0275inj=m.cJS({}),A})();function ji(A,I,b){return b.scrollOffset&&I.setOffset(b.scrollOffset),new Js(A,I,b)}function ra(A,I,b={}){return b.useHash?new D.Do(A,I):new D.b0(A,I)}function ia(A){return"guarded"}function Jn(A){return[{provide:m.deG,multi:!0,useValue:A},{provide:fi,multi:!0,useValue:A}]}let li=(()=>{class A{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new je.xQ}appInitializer(){return this.injector.get(D.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let N=null;const V=new Promise(we=>N=we),z=this.injector.get(Qr),ue=this.injector.get(Xs);return"disabled"===ue.initialNavigation?(z.setUpLocationChangeListener(),N(!0)):"enabled"===ue.initialNavigation||"enabledBlocking"===ue.initialNavigation?(z.hooks.afterPreactivation=()=>this.initNavigation?(0,B.of)(null):(this.initNavigation=!0,N(!0),this.resultOfPreactivationDone),z.initialNavigation()):N(!0),V})}bootstrapListener(b){const N=this.injector.get(Xs),V=this.injector.get(ta),z=this.injector.get(Js),ue=this.injector.get(Qr),we=this.injector.get(m.z2F);b===we.components[0]&&(("enabledNonBlocking"===N.initialNavigation||void 0===N.initialNavigation)&&ue.initialNavigation(),V.setUpPreloading(),z.init(),ue.resetRootComponentType(we.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return A.\u0275fac=function(b){return new(b||A)(m.LFG(m.zs3))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac}),A})();function Eo(A){return A.appInitializer.bind(A)}function Oi(A){return A.bootstrapListener.bind(A)}const vl=new m.OlP("Router Initializer")},3854:(ft,Pe,L)=>{"use strict";L.d(Pe,{BH:()=>fe,LL:()=>bt,ZR:()=>tn,gQ:()=>rt,zI:()=>mt,hu:()=>m,g5:()=>B,US:()=>X,tV:()=>ie,h$:()=>oe,$s:()=>vn,r3:()=>En,Sg:()=>xe,ne:()=>Tr,p$:()=>q,vZ:()=>qt,ZB:()=>J,gK:()=>ke,pd:()=>Mr,m9:()=>un,z$:()=>je,GJ:()=>vr,jU:()=>Te,ru:()=>$e,xb:()=>Wn,w1:()=>Ve,hl:()=>pt,uI:()=>Ue,UG:()=>Me,Yr:()=>Qe,b$:()=>Ge,w9:()=>ri,cI:()=>$n,UI:()=>dn,xO:()=>Dr,zd:()=>On,DV:()=>ii,ug:()=>yt,dS:()=>at,Pz:()=>Zn,Dv:()=>Sr,Wj:()=>he,lb:()=>qe,eu:()=>Y});const m=function(me,ae){if(!me)throw B(ae)},B=function(me){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+me)},Ee=function(me){const ae=[];let Ce=0;for(let Ke=0;Ke<me.length;Ke++){let Le=me.charCodeAt(Ke);Le<128?ae[Ce++]=Le:Le<2048?(ae[Ce++]=Le>>6|192,ae[Ce++]=63&Le|128):55296==(64512&Le)&&Ke+1<me.length&&56320==(64512&me.charCodeAt(Ke+1))?(Le=65536+((1023&Le)<<10)+(1023&me.charCodeAt(++Ke)),ae[Ce++]=Le>>18|240,ae[Ce++]=Le>>12&63|128,ae[Ce++]=Le>>6&63|128,ae[Ce++]=63&Le|128):(ae[Ce++]=Le>>12|224,ae[Ce++]=Le>>6&63|128,ae[Ce++]=63&Le|128)}return ae},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(me,ae){if(!Array.isArray(me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ke=[];for(let Le=0;Le<me.length;Le+=3){const wt=me[Le],Vt=Le+1<me.length,wn=Vt?me[Le+1]:0,sr=Le+2<me.length,Gn=sr?me[Le+2]:0;let Or=(15&wn)<<2|Gn>>6,si=63&Gn;sr||(si=64,Vt||(Or=64)),Ke.push(Ce[wt>>2],Ce[(3&wt)<<4|wn>>4],Ce[Or],Ce[si])}return Ke.join("")},encodeString(me,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(me):this.encodeByteArray(Ee(me),ae)},decodeString(me,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(me):function(me){const ae=[];let Ce=0,Ke=0;for(;Ce<me.length;){const Le=me[Ce++];if(Le<128)ae[Ke++]=String.fromCharCode(Le);else if(Le>191&&Le<224){const wt=me[Ce++];ae[Ke++]=String.fromCharCode((31&Le)<<6|63&wt)}else if(Le>239&&Le<365){const sr=((7&Le)<<18|(63&me[Ce++])<<12|(63&me[Ce++])<<6|63&me[Ce++])-65536;ae[Ke++]=String.fromCharCode(55296+(sr>>10)),ae[Ke++]=String.fromCharCode(56320+(1023&sr))}else{const wt=me[Ce++],Vt=me[Ce++];ae[Ke++]=String.fromCharCode((15&Le)<<12|(63&wt)<<6|63&Vt)}}return ae.join("")}(this.decodeStringToByteArray(me,ae))},decodeStringToByteArray(me,ae){this.init_();const Ce=ae?this.charToByteMapWebSafe_:this.charToByteMap_,Ke=[];for(let Le=0;Le<me.length;){const wt=Ce[me.charAt(Le++)],wn=Le<me.length?Ce[me.charAt(Le)]:0;++Le;const Gn=Le<me.length?Ce[me.charAt(Le)]:64;++Le;const ln=Le<me.length?Ce[me.charAt(Le)]:64;if(++Le,null==wt||null==wn||null==Gn||null==ln)throw Error();Ke.push(wt<<2|wn>>4),64!==Gn&&(Ke.push(wn<<4&240|Gn>>2),64!==ln&&Ke.push(Gn<<6&192|ln))}return Ke},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let me=0;me<this.ENCODED_VALS.length;me++)this.byteToCharMap_[me]=this.ENCODED_VALS.charAt(me),this.charToByteMap_[this.byteToCharMap_[me]]=me,this.byteToCharMapWebSafe_[me]=this.ENCODED_VALS_WEBSAFE.charAt(me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[me]]=me,me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(me)]=me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(me)]=me)}}},oe=function(me){const ae=Ee(me);return X.encodeByteArray(ae,!0)},ee=function(me){return oe(me).replace(/\./g,"")},ie=function(me){try{return X.decodeString(me,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function q(me){return J(void 0,me)}function J(me,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===me&&(me={});break;case Array:me=[];break;default:return ae}for(const Ce in ae)!ae.hasOwnProperty(Ce)||!G(Ce)||(me[Ce]=J(me[Ce],ae[Ce]));return me}function G(me){return"__proto__"!==me}class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,Ce)=>{this.resolve=ae,this.reject=Ce})}wrapCallback(ae){return(Ce,Ke)=>{Ce?this.reject(Ce):this.resolve(Ke),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(Ce):ae(Ce,Ke))}}}function xe(me,ae){if(me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ke=ae||"demo-project",Le=me.iat||0,wt=me.sub||me.user_id;if(!wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Vt=Object.assign({iss:`https://securetoken.google.com/${Ke}`,aud:Ke,iat:Le,exp:Le+3600,auth_time:Le,sub:wt,user_id:wt,firebase:{sign_in_provider:"custom",identities:{}}},me);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(Vt)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(me){return!1}}function Te(){return"object"==typeof self&&self.self===self}function $e(){const me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof me&&void 0!==me.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){const me=je();return me.indexOf("MSIE ")>=0||me.indexOf("Trident/")>=0}function Qe(){return!1}function pt(){return"object"==typeof indexedDB}function Y(){return new Promise((me,ae)=>{try{let Ce=!0;const Ke="validate-browser-context-for-indexeddb-analytics-module",Le=self.indexedDB.open(Ke);Le.onsuccess=()=>{Le.result.close(),Ce||self.indexedDB.deleteDatabase(Ke),me(!0)},Le.onupgradeneeded=()=>{Ce=!1},Le.onerror=()=>{var wt;ae((null===(wt=Le.error)||void 0===wt?void 0:wt.message)||"")}}catch(Ce){ae(Ce)}})}function mt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class tn extends Error{constructor(ae,Ce,Ke){super(Ce),this.code=ae,this.customData=Ke,this.name="FirebaseError",Object.setPrototypeOf(this,tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(ae,Ce,Ke){this.service=ae,this.serviceName=Ce,this.errors=Ke}create(ae,...Ce){const Ke=Ce[0]||{},Le=`${this.service}/${ae}`,wt=this.errors[ae],Vt=wt?function(me,ae){return me.replace(tr,(Ce,Ke)=>{const Le=ae[Ke];return null!=Le?String(Le):`<${Ke}?>`})}(wt,Ke):"Error";return new tn(Le,`${this.serviceName}: ${Vt} (${Le}).`,Ke)}}const tr=/\{\$([^}]+)}/g;function $n(me){return JSON.parse(me)}function Zn(me){return JSON.stringify(me)}const yn=function(me){let ae={},Ce={},Ke={},Le="";try{const wt=me.split(".");ae=$n(ie(wt[0])||""),Ce=$n(ie(wt[1])||""),Le=wt[2],Ke=Ce.d||{},delete Ce.d}catch(wt){}return{header:ae,claims:Ce,data:Ke,signature:Le}},ri=function(me){const Ce=yn(me).claims;return!!Ce&&"object"==typeof Ce&&Ce.hasOwnProperty("iat")},vr=function(me){const ae=yn(me).claims;return"object"==typeof ae&&!0===ae.admin};function En(me,ae){return Object.prototype.hasOwnProperty.call(me,ae)}function ii(me,ae){if(Object.prototype.hasOwnProperty.call(me,ae))return me[ae]}function Wn(me){for(const ae in me)if(Object.prototype.hasOwnProperty.call(me,ae))return!1;return!0}function dn(me,ae,Ce){const Ke={};for(const Le in me)Object.prototype.hasOwnProperty.call(me,Le)&&(Ke[Le]=ae.call(Ce,me[Le],Le,me));return Ke}function qt(me,ae){if(me===ae)return!0;const Ce=Object.keys(me),Ke=Object.keys(ae);for(const Le of Ce){if(!Ke.includes(Le))return!1;const wt=me[Le],Vt=ae[Le];if(Mn(wt)&&Mn(Vt)){if(!qt(wt,Vt))return!1}else if(wt!==Vt)return!1}for(const Le of Ke)if(!Ce.includes(Le))return!1;return!0}function Mn(me){return null!==me&&"object"==typeof me}function Dr(me){const ae=[];for(const[Ce,Ke]of Object.entries(me))Array.isArray(Ke)?Ke.forEach(Le=>{ae.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Le))}):ae.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Ke));return ae.length?"&"+ae.join("&"):""}function On(me){const ae={};return me.replace(/^\?/,"").split("&").forEach(Ke=>{if(Ke){const[Le,wt]=Ke.split("=");ae[decodeURIComponent(Le)]=decodeURIComponent(wt)}}),ae}function Mr(me){const ae=me.indexOf("?");if(!ae)return"";const Ce=me.indexOf("#",ae);return me.substring(ae,Ce>0?Ce:void 0)}class rt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ae=1;ae<this.blockSize;++ae)this.pad_[ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ae,Ce){Ce||(Ce=0);const Ke=this.W_;if("string"==typeof ae)for(let ln=0;ln<16;ln++)Ke[ln]=ae.charCodeAt(Ce)<<24|ae.charCodeAt(Ce+1)<<16|ae.charCodeAt(Ce+2)<<8|ae.charCodeAt(Ce+3),Ce+=4;else for(let ln=0;ln<16;ln++)Ke[ln]=ae[Ce]<<24|ae[Ce+1]<<16|ae[Ce+2]<<8|ae[Ce+3],Ce+=4;for(let ln=16;ln<80;ln++){const Or=Ke[ln-3]^Ke[ln-8]^Ke[ln-14]^Ke[ln-16];Ke[ln]=4294967295&(Or<<1|Or>>>31)}let Gn,Ht,Le=this.chain_[0],wt=this.chain_[1],Vt=this.chain_[2],wn=this.chain_[3],sr=this.chain_[4];for(let ln=0;ln<80;ln++){ln<40?ln<20?(Gn=wn^wt&(Vt^wn),Ht=1518500249):(Gn=wt^Vt^wn,Ht=1859775393):ln<60?(Gn=wt&Vt|wn&(wt|Vt),Ht=2400959708):(Gn=wt^Vt^wn,Ht=3395469782);const Or=(Le<<5|Le>>>27)+Gn+sr+Ht+Ke[ln]&4294967295;sr=wn,wn=Vt,Vt=4294967295&(wt<<30|wt>>>2),wt=Le,Le=Or}this.chain_[0]=this.chain_[0]+Le&4294967295,this.chain_[1]=this.chain_[1]+wt&4294967295,this.chain_[2]=this.chain_[2]+Vt&4294967295,this.chain_[3]=this.chain_[3]+wn&4294967295,this.chain_[4]=this.chain_[4]+sr&4294967295}update(ae,Ce){if(null==ae)return;void 0===Ce&&(Ce=ae.length);const Ke=Ce-this.blockSize;let Le=0;const wt=this.buf_;let Vt=this.inbuf_;for(;Le<Ce;){if(0===Vt)for(;Le<=Ke;)this.compress_(ae,Le),Le+=this.blockSize;if("string"==typeof ae){for(;Le<Ce;)if(wt[Vt]=ae.charCodeAt(Le),++Vt,++Le,Vt===this.blockSize){this.compress_(wt),Vt=0;break}}else for(;Le<Ce;)if(wt[Vt]=ae[Le],++Vt,++Le,Vt===this.blockSize){this.compress_(wt),Vt=0;break}}this.inbuf_=Vt,this.total_+=Ce}digest(){const ae=[];let Ce=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Le=this.blockSize-1;Le>=56;Le--)this.buf_[Le]=255&Ce,Ce/=256;this.compress_(this.buf_);let Ke=0;for(let Le=0;Le<5;Le++)for(let wt=24;wt>=0;wt-=8)ae[Ke]=this.chain_[Le]>>wt&255,++Ke;return ae}}function Tr(me,ae){const Ce=new rn(me,ae);return Ce.subscribe.bind(Ce)}class rn{constructor(ae,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{ae(this)}).catch(Ke=>{this.error(Ke)})}next(ae){this.forEachObserver(Ce=>{Ce.next(ae)})}error(ae){this.forEachObserver(Ce=>{Ce.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,Ce,Ke){let Le;if(void 0===ae&&void 0===Ce&&void 0===Ke)throw new Error("Missing Observer.");Le=function(me,ae){if("object"!=typeof me||null===me)return!1;for(const Ce of["next","error","complete"])if(Ce in me&&"function"==typeof me[Ce])return!0;return!1}(ae)?ae:{next:ae,error:Ce,complete:Ke},void 0===Le.next&&(Le.next=jt),void 0===Le.error&&(Le.error=jt),void 0===Le.complete&&(Le.complete=jt);const wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Le.error(this.finalError):Le.complete()}catch(Vt){}}),this.observers.push(Le),wt}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,ae)}sendOne(ae,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{Ce(this.observers[ae])}catch(Ke){"undefined"!=typeof console&&console.error&&console.error(Ke)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jt(){}const Sr=function(me,ae,Ce,Ke){let Le;if(Ke<ae?Le="at least "+ae:Ke>Ce&&(Le=0===Ce?"none":"no more than "+Ce),Le)throw new Error(me+" failed: Was called with "+Ke+(1===Ke?" argument.":" arguments.")+" Expects "+Le+".")};function ke(me,ae){return`${me} failed: ${ae} argument `}function he(me,ae,Ce,Ke){if((!Ke||Ce)&&"function"!=typeof Ce)throw new Error(ke(me,ae)+"must be a valid function.")}function qe(me,ae,Ce,Ke){if((!Ke||Ce)&&("object"!=typeof Ce||null===Ce))throw new Error(ke(me,ae)+"must be a valid context object.")}const at=function(me){const ae=[];let Ce=0;for(let Ke=0;Ke<me.length;Ke++){let Le=me.charCodeAt(Ke);if(Le>=55296&&Le<=56319){const wt=Le-55296;Ke++,m(Ke<me.length,"Surrogate pair missing trail surrogate."),Le=65536+(wt<<10)+(me.charCodeAt(Ke)-56320)}Le<128?ae[Ce++]=Le:Le<2048?(ae[Ce++]=Le>>6|192,ae[Ce++]=63&Le|128):Le<65536?(ae[Ce++]=Le>>12|224,ae[Ce++]=Le>>6&63|128,ae[Ce++]=63&Le|128):(ae[Ce++]=Le>>18|240,ae[Ce++]=Le>>12&63|128,ae[Ce++]=Le>>6&63|128,ae[Ce++]=63&Le|128)}return ae},yt=function(me){let ae=0;for(let Ce=0;Ce<me.length;Ce++){const Ke=me.charCodeAt(Ce);Ke<128?ae++:Ke<2048?ae+=2:Ke>=55296&&Ke<=56319?(ae+=4,Ce++):ae+=3}return ae};function vn(me,ae=1e3,Ce=2){const Ke=ae*Math.pow(Ce,me),Le=Math.round(.5*Ke*(Math.random()-.5)*2);return Math.min(144e5,Ke+Le)}function un(me){return me&&me._delegate?me._delegate:me}},2329:(ft,Pe,L)=>{"use strict";L.d(Pe,{Mq:()=>D.getApp,C6:()=>D.getApps});var D=L(8026);(0,D.registerVersion)("firebase","9.6.1","app")},7841:(ft,Pe,L)=>{"use strict";L.d(Pe,{Z:()=>D.Z});var D=L(3394);D.Z.registerVersion("firebase","9.6.1","app-compat")},2755:(ft,Pe,L)=>{"use strict";L.r(Pe);var D=L(8239),m=L(3394),B=L(3854),Ee=L(8026);function ee(y,d){var f={};for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&d.indexOf(C)<0&&(f[C]=y[C]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(C=Object.getOwnPropertySymbols(y);k<C.length;k++)d.indexOf(C[k])<0&&Object.prototype.propertyIsEnumerable.call(y,C[k])&&(f[C[k]]=y[C[k]])}return f}var tn=L(5422),bt=L(3910);const ri=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},vr=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},En=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wn=new tn.Yd("@firebase/auth");function dn(y,...d){Wn.logLevel<=tn.in.ERROR&&Wn.error(`Auth (${Ee.SDK_VERSION}): ${y}`,...d)}function qt(y,...d){throw Mr(y,...d)}function Mn(y,...d){return Mr(y,...d)}function Dr(y,d,f){const C=Object.assign(Object.assign({},vr()),{[d]:f});return new B.LL("auth","Firebase",C).create(d,{appName:y.name})}function On(y,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&qt(y,"argument-error"),Dr(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mr(y,...d){if("string"!=typeof y){const f=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(f,...C)}return En.create(y,...d)}function rt(y,d,...f){if(!y)throw Mr(d,...f)}function Tr(y){const d="INTERNAL ASSERTION FAILED: "+y;throw dn(d),new Error(d)}function rn(y,d){y||Tr(d)}const vt=new Map;function Xt(y){rn(y instanceof Function,"Expected a class definition");let d=vt.get(y);return d?(rn(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,vt.set(y,d),d)}function ke(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ce(){return"http:"===he()||"https:"===he()}function he(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class yt{constructor(d,f){this.shortDelay=d,this.longDelay=f,rn(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ce()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function nt(y,d){rn(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class Ct{static initialize(d,f,C){this.fetchImpl=d,f&&(this.headersImpl=f),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nr=new yt(3e4,6e4);function vn(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function At(y,d,f,C){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,D.Z)(function*(y,d,f,C,k={}){return un(y,k,(0,D.Z)(function*(){let j={},ve={};C&&("GET"===d?ve=C:j={body:JSON.stringify(C)});const He=(0,B.xO)(Object.assign({key:y.config.apiKey},ve)).slice(1),_t=yield y._getAdditionalHeaders();return _t["Content-Type"]="application/json",y.languageCode&&(_t["X-Firebase-Locale"]=y.languageCode),Ct.fetch()(Ke(y,y.config.apiHost,f,He),Object.assign({method:d,headers:_t,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function un(y,d,f){return me.apply(this,arguments)}function me(){return(me=(0,D.Z)(function*(y,d,f){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},hn),d);try{const k=new Le(y),j=yield Promise.race([f(),k.promise]);k.clearNetworkTimeout();const ve=yield j.json();if("needConfirmation"in ve)throw wt(y,"account-exists-with-different-credential",ve);if(j.ok&&!("errorMessage"in ve))return ve;{const He=j.ok?ve.errorMessage:ve.error.message,[_t,dt]=He.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_t)throw wt(y,"credential-already-in-use",ve);if("EMAIL_EXISTS"===_t)throw wt(y,"email-already-in-use",ve);const Lt=C[_t]||_t.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw Dr(y,Lt,dt);qt(y,Lt)}}catch(k){if(k instanceof B.ZR)throw k;qt(y,"network-request-failed")}})).apply(this,arguments)}function ae(y,d,f,C){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,D.Z)(function*(y,d,f,C,k={}){const j=yield At(y,d,f,C,k);return"mfaPendingCredential"in j&&qt(y,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function Ke(y,d,f,C){const k=`${d}${f}?${C}`;return y.config.emulator?nt(y.config,k):`${y.config.apiScheme}://${k}`}class Le{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,C)=>{this.timer=setTimeout(()=>C(Mn(this.auth,"timeout")),nr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wt(y,d,f){const C={appName:y.name};f.email&&(C.email=f.email),f.phoneNumber&&(C.phoneNumber=f.phoneNumber);const k=Mn(y,d,C);return k.customData._tokenResponse=f,k}function wn(){return(wn=(0,D.Z)(function*(y,d){return At(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function sr(y,d){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,D.Z)(function*(y,d){return At(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ht(y,d){return ln.apply(this,arguments)}function ln(){return(ln=(0,D.Z)(function*(y,d){return At(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Or(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function gi(){return(gi=(0,D.Z)(function*(y,d=!1){const f=(0,B.m9)(y),C=yield f.getIdToken(d),k=qi(C);rt(k&&k.exp&&k.auth_time&&k.iat,f.auth,"internal-error");const j="object"==typeof k.firebase?k.firebase:void 0,ve=null==j?void 0:j.sign_in_provider;return{claims:k,token:C,authTime:Or(Us(k.auth_time)),issuedAtTime:Or(Us(k.iat)),expirationTime:Or(Us(k.exp)),signInProvider:ve||null,signInSecondFactor:(null==j?void 0:j.sign_in_second_factor)||null}})).apply(this,arguments)}function Us(y){return 1e3*Number(y)}function qi(y){const[d,f,C]=y.split(".");if(void 0===d||void 0===f||void 0===C)return dn("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,B.tV)(f);return k?JSON.parse(k):(dn("Failed to decode base64 JWT payload"),null)}catch(k){return dn("Caught error parsing JWT payload as JSON",k),null}}function Er(y,d){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,D.Z)(function*(y,d,f=!1){if(f)return d;try{return yield d}catch(C){throw C instanceof B.ZR&&Yn(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Yn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Yr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const k=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,D.Z)(function*(){yield f.iteration()}),C)}iteration(){var d=this;return(0,D.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&d.schedule(!0))}d.schedule()})()}}class br{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Or(this.lastLoginAt),this.creationTime=Or(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vr(y){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,D.Z)(function*(y){var d;const f=y.auth,C=yield y.getIdToken(),k=yield Er(y,Ht(f,{idToken:C}));rt(null==k?void 0:k.users.length,f,"internal-error");const j=k.users[0];y._notifyReloadListener(j);const ve=(null===(d=j.providerUserInfo)||void 0===d?void 0:d.length)?Ur(j.providerUserInfo):[],He=Ln(y.providerData,ve),Lt=!!y.isAnonymous&&!(y.email&&j.passwordHash||(null==He?void 0:He.length)),Ut={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:He,metadata:new br(j.createdAt,j.lastLoginAt),isAnonymous:Lt};Object.assign(y,Ut)})).apply(this,arguments)}function on(){return(on=(0,D.Z)(function*(y){const d=(0,B.m9)(y);yield Vr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ln(y,d){return[...y.filter(C=>!d.some(k=>k.providerId===C.providerId)),...d]}function Ur(y){return y.map(d=>{var{providerId:f}=d,C=ee(d,["providerId"]);return{providerId:f,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function dr(){return(dr=(0,D.Z)(function*(y,d){const f=yield un(y,{},(0,D.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:k,apiKey:j}=y.config,ve=Ke(y,k,"/v1/token",`key=${j}`),He=yield y._getAdditionalHeaders();return He["Content-Type"]="application/x-www-form-urlencoded",Ct.fetch()(ve,{method:"POST",headers:He,body:C})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Wr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){rt(d.idToken,"internal-error"),rt(void 0!==d.idToken,"internal-error"),rt(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(y){const d=qi(y);return rt(d,"internal-error"),rt(void 0!==d.exp,"internal-error"),rt(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var C=this;return(0,D.Z)(function*(){return rt(!C.accessToken||C.refreshToken,d,"user-token-expired"),f||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(d,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var C=this;return(0,D.Z)(function*(){const{accessToken:k,refreshToken:j,expiresIn:ve}=yield function(y,d){return dr.apply(this,arguments)}(d,f);C.updateTokensAndExpiration(k,j,Number(ve))})()}updateTokensAndExpiration(d,f,C){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,f){const{refreshToken:C,accessToken:k,expirationTime:j}=f,ve=new Wr;return C&&(rt("string"==typeof C,"internal-error",{appName:d}),ve.refreshToken=C),k&&(rt("string"==typeof k,"internal-error",{appName:d}),ve.accessToken=k),j&&(rt("number"==typeof j,"internal-error",{appName:d}),ve.expirationTime=j),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Wr,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function jn(y,d){rt("string"==typeof y||void 0===y,"internal-error",{appName:d})}class ui{constructor(d){var{uid:f,auth:C,stsTokenManager:k}=d,j=ee(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=C,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.metadata=new br(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,D.Z)(function*(){const C=yield Er(f,f.stsTokenManager.getToken(f.auth,d));return rt(C,f.auth,"internal-error"),f.accessToken!==C&&(f.accessToken=C,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),C})()}getIdTokenResult(d){return function(y){return gi.apply(this,arguments)}(this,d)}reload(){return function(y){return on.apply(this,arguments)}(this)}_assign(d){this!==d&&(rt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new ui(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var C=this;return(0,D.Z)(function*(){let k=!1;d.idToken&&d.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(d),k=!0),f&&(yield Vr(C)),yield C.auth._persistUserIfCurrent(C),k&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var d=this;return(0,D.Z)(function*(){const f=yield d.getIdToken();return yield Er(d,function(y,d){return wn.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var C,k,j,ve,He,_t,dt,Lt;const Ut=null!==(C=f.displayName)&&void 0!==C?C:void 0,kn=null!==(k=f.email)&&void 0!==k?k:void 0,Fi=null!==(j=f.phoneNumber)&&void 0!==j?j:void 0,gl=null!==(ve=f.photoURL)&&void 0!==ve?ve:void 0,yu=null!==(He=f.tenantId)&&void 0!==He?He:void 0,Xc=null!==(_t=f._redirectEventId)&&void 0!==_t?_t:void 0,md=null!==(dt=f.createdAt)&&void 0!==dt?dt:void 0,_d=null!==(Lt=f.lastLoginAt)&&void 0!==Lt?Lt:void 0,{uid:Wu,emailVerified:yd,isAnonymous:fh,providerData:vd,stsTokenManager:Gu}=f;rt(Wu&&Gu,d,"internal-error");const zu=Wr.fromJSON(this.name,Gu);rt("string"==typeof Wu,d,"internal-error"),jn(Ut,d.name),jn(kn,d.name),rt("boolean"==typeof yd,d,"internal-error"),rt("boolean"==typeof fh,d,"internal-error"),jn(Fi,d.name),jn(gl,d.name),jn(yu,d.name),jn(Xc,d.name),jn(md,d.name),jn(_d,d.name);const vu=new ui({uid:Wu,auth:d,email:kn,emailVerified:yd,displayName:Ut,isAnonymous:fh,photoURL:gl,phoneNumber:Fi,tenantId:yu,stsTokenManager:zu,createdAt:md,lastLoginAt:_d});return vd&&Array.isArray(vd)&&(vu.providerData=vd.map(Eu=>Object.assign({},Eu))),Xc&&(vu._redirectEventId=Xc),vu}static _fromIdTokenResponse(d,f,C=!1){return(0,D.Z)(function*(){const k=new Wr;k.updateFromServerResponse(f);const j=new ui({uid:f.localId,auth:d,stsTokenManager:k,isAnonymous:C});return yield Vr(j),j})()}}const Gt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.Z)(function*(){return!0})()}_set(f,C){var k=this;return(0,D.Z)(function*(){k.storage[f]=C})()}_get(f){var C=this;return(0,D.Z)(function*(){const k=C.storage[f];return void 0===k?null:k})()}_remove(f){var C=this;return(0,D.Z)(function*(){delete C.storage[f]})()}_addListener(f,C){}_removeListener(f,C){}}return y.type="NONE",y})();function De(y,d,f){return`firebase:${y}:${d}:${f}`}class be{constructor(d,f,C){this.persistence=d,this.auth=f,this.userKey=C;const{config:k,name:j}=this.auth;this.fullUserKey=De(this.userKey,k.apiKey,j),this.fullPersistenceKey=De("persistence",k.apiKey,j),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,D.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?ui._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,D.Z)(function*(){if(f.persistence===d)return;const C=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,C?f.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,C="authUser"){return(0,D.Z)(function*(){if(!f.length)return new be(Xt(Gt),d,C);const k=(yield Promise.all(f.map(function(){var dt=(0,D.Z)(function*(Lt){if(yield Lt._isAvailable())return Lt});return function(Lt){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let j=k[0]||Xt(Gt);const ve=De(C,d.config.apiKey,d.name);let He=null;for(const dt of f)try{const Lt=yield dt._get(ve);if(Lt){const Ut=ui._fromJSON(d,Lt);dt!==j&&(He=Ut),j=dt;break}}catch(Lt){}const _t=k.filter(dt=>dt._shouldAllowMigration);return j._shouldAllowMigration&&_t.length?(j=_t[0],He&&(yield j._set(ve,He.toJSON())),yield Promise.all(f.map(function(){var dt=(0,D.Z)(function*(Lt){if(Lt!==j)try{yield Lt._remove(ve)}catch(Ut){}});return function(Lt){return dt.apply(this,arguments)}}())),new be(j,d,C)):new be(j,d,C)})()}}function re(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(sn(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Re(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(zt(d))return"Blackberry";if(Bs(d))return"Webos";if(Xe(d))return"Safari";if((d.includes("chrome/")||xt(d))&&!d.includes("edge/"))return"Chrome";if(nn(d))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Re(y=(0,B.z$)()){return/firefox\//i.test(y)}function Xe(y=(0,B.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function xt(y=(0,B.z$)()){return/crios\//i.test(y)}function sn(y=(0,B.z$)()){return/iemobile/i.test(y)}function nn(y=(0,B.z$)()){return/android/i.test(y)}function zt(y=(0,B.z$)()){return/blackberry/i.test(y)}function Bs(y=(0,B.z$)()){return/webos/i.test(y)}function Ds(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)}function _i(y=(0,B.z$)()){return Ds(y)||nn(y)||Bs(y)||zt(y)||/windows phone/i.test(y)||sn(y)}function qr(y,d=[]){let f;switch(y){case"Browser":f=re((0,B.z$)());break;case"Worker":f=`${re((0,B.z$)())}-${y}`;break;default:f=y}const C=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${Ee.SDK_VERSION}/${C}`}class ya{constructor(d,f){this.app=d,this.config=f,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gr(this),this.idTokenSubscription=new Gr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=En,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=f.sdkClientVersion}_initializeWithPersistence(d,f){var C=this;return f&&(this._popupRedirectResolver=Xt(f)),this._initializationPromise=this.queue((0,D.Z)(function*(){var k,j;if(!C._deleted&&(C.persistenceManager=yield be.create(C,d),!C._deleted)){if(null===(k=C._popupRedirectResolver)||void 0===k?void 0:k._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(ve){}yield C.initializeCurrentUser(f),C.lastNotifiedUid=(null===(j=C.currentUser)||void 0===j?void 0:j.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,D.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f)}})()}initializeCurrentUser(d){var f=this;return(0,D.Z)(function*(){var C;let k=yield f.assertedPersistence.getCurrentUser();if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const j=null===(C=f.redirectUser)||void 0===C?void 0:C._redirectEventId,ve=null==k?void 0:k._redirectEventId,He=yield f.tryRedirectSignIn(d);(!j||j===ve)&&(null==He?void 0:He.user)&&(k=He.user)}return k?k._redirectEventId?(rt(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===k._redirectEventId?f.directlySetCurrentUser(k):f.reloadAndSetCurrentUserOrClear(k)):f.reloadAndSetCurrentUserOrClear(k):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var f=this;return(0,D.Z)(function*(){let C=null;try{C=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(k){yield f._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,D.Z)(function*(){try{yield Vr(d)}catch(C){if("auth/network-request-failed"!==C.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,D.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,D.Z)(function*(){const C=d?(0,B.m9)(d):null;return C&&rt(C.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(C&&C._clone(f))})()}_updateCurrentUser(d){var f=this;return(0,D.Z)(function*(){if(!f._deleted)return d&&rt(f.tenantId===d.tenantId,f,"tenant-id-mismatch"),f.queue((0,D.Z)(function*(){yield f.directlySetCurrentUser(d),f.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,D.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var f=this;return this.queue((0,D.Z)(function*(){yield f.assertedPersistence.setPersistence(Xt(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new B.LL("auth","Firebase",d())}onAuthStateChanged(d,f,C){return this.registerStateListener(this.authStateSubscription,d,f,C)}onIdTokenChanged(d,f,C){return this.registerStateListener(this.idTokenSubscription,d,f,C)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var C=this;return(0,D.Z)(function*(){const k=yield C.getOrInitRedirectPersistenceManager(f);return null===d?k.removeCurrentUser():k.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,D.Z)(function*(){if(!f.redirectPersistenceManager){const C=d&&Xt(d)||f._popupRedirectResolver;rt(C,f,"argument-error"),f.redirectPersistenceManager=yield be.create(f,[Xt(C._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,D.Z)(function*(){var C,k;return f._isInitialized&&(yield f.queue((0,D.Z)(function*(){}))),(null===(C=f._currentUser)||void 0===C?void 0:C._redirectEventId)===d?f._currentUser:(null===(k=f.redirectUser)||void 0===k?void 0:k._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,D.Z)(function*(){if(d===f.currentUser)return f.queue((0,D.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,C,k){if(this._deleted)return()=>{};const j="function"==typeof f?f:f.next.bind(f),ve=this._isInitialized?Promise.resolve():this._initializationPromise;return rt(ve,this,"internal-error"),ve.then(()=>j(this.currentUser)),"function"==typeof f?d.addObserver(f,C,k):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,D.Z)(function*(){f.currentUser&&f.currentUser!==d&&(f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh()),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=qr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,D.Z)(function*(){const f={"X-Client-Version":d.clientVersion};return d.app.options.appId&&(f["X-Firebase-gmpid"]=d.app.options.appId),f})()}}function rr(y){return(0,B.m9)(y)}class Gr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,B.ne)(f=>this.observer=f)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hs(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function zr(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class Ts{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return Tr("not implemented")}_getIdTokenResponse(d){return Tr("not implemented")}_linkToIdToken(d,f){return Tr("not implemented")}_getReauthenticationResolver(d){return Tr("not implemented")}}function zo(y,d){return As.apply(this,arguments)}function As(){return(As=(0,D.Z)(function*(y,d){return At(y,"POST","/v1/accounts:resetPassword",vn(y,d))})).apply(this,arguments)}function Ko(y,d){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,D.Z)(function*(y,d){return At(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function qn(y,d){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,D.Z)(function*(y,d){return At(y,"POST","/v1/accounts:update",vn(y,d))})).apply(this,arguments)}function yi(){return(yi=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithPassword",vn(y,d))})).apply(this,arguments)}function Hn(y,d){return uo.apply(this,arguments)}function uo(){return(uo=(0,D.Z)(function*(y,d){return At(y,"POST","/v1/accounts:sendOobCode",vn(y,d))})).apply(this,arguments)}function qa(y,d){return $s.apply(this,arguments)}function $s(){return($s=(0,D.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function Zo(y,d){return hr.apply(this,arguments)}function hr(){return(hr=(0,D.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function fn(y,d){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,D.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function Yo(y,d){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,D.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function Ro(){return(Ro=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithEmailLink",vn(y,d))})).apply(this,arguments)}function Vi(){return(Vi=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithEmailLink",vn(y,d))})).apply(this,arguments)}class ho extends Ts{constructor(d,f,C,k=null){super("password",C),this._email=d,this._password=f,this._tenantId=k}static _fromEmailAndPassword(d,f){return new ho(d,f,"password")}static _fromEmailAndCode(d,f,C=null){return new ho(d,f,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,D.Z)(function*(){switch(f.signInMethod){case"password":return function(y,d){return yi.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function(y,d){return Ro.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:qt(d,"internal-error")}})()}_linkToIdToken(d,f){var C=this;return(0,D.Z)(function*(){switch(C.signInMethod){case"password":return Ko(d,{idToken:f,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(y,d){return Vi.apply(this,arguments)}(d,{idToken:f,email:C._email,oobCode:C._password});default:qt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Br(y,d){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithIdp",vn(y,d))})).apply(this,arguments)}class xr extends Ts{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new xr(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):qt("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:k}=f,j=ee(f,["providerId","signInMethod"]);if(!C||!k)return null;const ve=new xr(C,k);return ve.idToken=j.idToken||void 0,ve.accessToken=j.accessToken||void 0,ve.secret=j.secret,ve.nonce=j.nonce,ve.pendingToken=j.pendingToken||null,ve}_getIdTokenResponse(d){return Br(d,this.buildRequest())}_linkToIdToken(d,f){const C=this.buildRequest();return C.idToken=f,Br(d,C)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Br(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,B.xO)(f)}return d}}function Ui(y,d){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,D.Z)(function*(y,d){return At(y,"POST","/v1/accounts:sendVerificationCode",vn(y,d))})).apply(this,arguments)}function Qo(){return(Qo=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithPhoneNumber",vn(y,d))})).apply(this,arguments)}function ar(){return(ar=(0,D.Z)(function*(y,d){const f=yield ae(y,"POST","/v1/accounts:signInWithPhoneNumber",vn(y,d));if(f.temporaryProof)throw wt(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Si={USER_NOT_FOUND:"user-not-found"};function vi(){return(vi=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithPhoneNumber",vn(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Si)})).apply(this,arguments)}class Ei extends Ts{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new Ei({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new Ei({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function(y,d){return Qo.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function(y,d){return ar.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(y,d){return vi.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:C,verificationCode:k}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:C,code:k}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:C,phoneNumber:k,temporaryProof:j}=d;return C||f||k||j?new Ei({verificationId:f,verificationCode:C,phoneNumber:k,temporaryProof:j}):null}}class R{constructor(d){var f,C,k,j,ve,He;const _t=(0,B.zd)((0,B.pd)(d)),dt=null!==(f=_t.apiKey)&&void 0!==f?f:null,Lt=null!==(C=_t.oobCode)&&void 0!==C?C:null,Ut=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=_t.mode)&&void 0!==k?k:null);rt(dt&&Lt&&Ut,"argument-error"),this.apiKey=dt,this.operation=Ut,this.code=Lt,this.continueUrl=null!==(j=_t.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(ve=_t.languageCode)&&void 0!==ve?ve:null,this.tenantId=null!==(He=_t.tenantId)&&void 0!==He?He:null}static parseLink(d){const f=function(y){const d=(0,B.zd)((0,B.pd)(y)).link,f=d?(0,B.zd)((0,B.pd)(d)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||f||d||y}(d);try{return new R(f)}catch(C){return null}}}let x=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(f,C){return ho._fromEmailAndPassword(f,C)}static credentialWithLink(f,C){const k=R.parseLink(C);return rt(k,"argument-error"),ho._fromEmailAndCode(f,k.code,k.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class K{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class pe extends K{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ze extends pe{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return rt("providerId"in f&&"signInMethod"in f,"argument-error"),xr._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return rt(d.idToken||d.accessToken,"argument-error"),xr._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ze.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ze.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:C,oauthTokenSecret:k,pendingToken:j,nonce:ve,providerId:He}=d;if(!C&&!k&&!f&&!j||!He)return null;try{return new Ze(He)._credential({idToken:f,accessToken:C,nonce:ve,pendingToken:j})}catch(_t){return null}}}let ct=(()=>{class y extends pe{constructor(){super("facebook.com")}static credential(f){return xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Pt=(()=>{class y extends pe{constructor(){super("google.com"),this.addScope("profile")}static credential(f,C){return xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:C})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:C,oauthAccessToken:k}=f;if(!C&&!k)return null;try{return y.credential(C,k)}catch(j){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ut=(()=>{class y extends pe{constructor(){super("github.com")}static credential(f){return xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class An extends Ts{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return Br(d,this.buildRequest())}_linkToIdToken(d,f){const C=this.buildRequest();return C.idToken=f,Br(d,C)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Br(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:k,pendingToken:j}=f;return C&&k&&j&&C===k?new An(C,j):null}static _create(d,f){return new An(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rn extends K{constructor(d){rt(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Rn.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Rn.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=An.fromJSON(d);return rt(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:C}=d;if(!f||!C)return null;try{return An._create(C,f)}catch(k){return null}}}let zn=(()=>{class y extends pe{constructor(){super("twitter.com")}static credential(f,C){return xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:C})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:C,oauthTokenSecret:k}=f;if(!C||!k)return null;try{return y.credential(C,k)}catch(j){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function pr(y,d){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signUp",vn(y,d))})).apply(this,arguments)}class gn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,C,k=!1){return(0,D.Z)(function*(){const j=yield ui._fromIdTokenResponse(d,C,k),ve=In(C);return new gn({user:j,providerId:ve,_tokenResponse:C,operationType:f})})()}static _forOperation(d,f,C){return(0,D.Z)(function*(){yield d._updateTokensIfNecessary(C,!0);const k=In(C);return new gn({user:d,providerId:k,_tokenResponse:C,operationType:f})})()}}function In(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Kt(){return(Kt=(0,D.Z)(function*(y){var d;const f=rr(y);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new gn({user:f.currentUser,providerId:null,operationType:"signIn"});const C=yield pr(f,{returnSecureToken:!0}),k=yield gn._fromIdTokenResponse(f,"signIn",C,!0);return yield f._updateCurrentUser(k.user),k})).apply(this,arguments)}class Ci extends B.ZR{constructor(d,f,C,k){var j;super(f.code,f.message),this.operationType=C,this.user=k,Object.setPrototypeOf(this,Ci.prototype),this.customData={appName:d.name,tenantId:null!==(j=d.tenantId)&&void 0!==j?j:void 0,_serverResponse:f.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,f,C,k){return new Ci(d,f,C,k)}}function Xo(y,d,f,C){return("reauthenticate"===d?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?Ci._fromErrorAndOperation(y,j,d,C):j})}function Mi(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function hs(){return(hs=(0,D.Z)(function*(y,d){const f=(0,B.m9)(y);yield it(!0,f,d);const{providerUserInfo:C}=yield sr(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),k=Mi(C||[]);return f.providerData=f.providerData.filter(j=>k.has(j.providerId)),k.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function Qt(y,d){return fs.apply(this,arguments)}function fs(){return(fs=(0,D.Z)(function*(y,d,f=!1){const C=yield Er(y,d._linkToIdToken(y.auth,yield y.getIdToken()),f);return gn._forOperation(y,"link",C)})).apply(this,arguments)}function it(y,d,f){return bn.apply(this,arguments)}function bn(){return(bn=(0,D.Z)(function*(y,d,f){yield Vr(d);const k=!1===y?"provider-already-linked":"no-such-provider";rt(Mi(d.providerData).has(f)===y,d.auth,k)})).apply(this,arguments)}function gr(y,d){return lr.apply(this,arguments)}function lr(){return(lr=(0,D.Z)(function*(y,d,f=!1){const{auth:C}=y,k="reauthenticate";try{const j=yield Er(y,Xo(C,k,d,y),f);rt(j.idToken,C,"internal-error");const ve=qi(j.idToken);rt(ve,C,"internal-error");const{sub:He}=ve;return rt(y.uid===He,C,"user-mismatch"),gn._forOperation(y,k,j)}catch(j){throw"auth/user-not-found"===(null==j?void 0:j.code)&&qt(C,"user-mismatch"),j}})).apply(this,arguments)}function va(y,d){return es.apply(this,arguments)}function es(){return(es=(0,D.Z)(function*(y,d,f=!1){const C="signIn",k=yield Xo(y,C,d),j=yield gn._fromIdTokenResponse(y,C,k);return f||(yield y._updateCurrentUser(j.user)),j})).apply(this,arguments)}function Kr(y,d){return fo.apply(this,arguments)}function fo(){return(fo=(0,D.Z)(function*(y,d){return va(rr(y),d)})).apply(this,arguments)}function po(y,d){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,D.Z)(function*(y,d){const f=(0,B.m9)(y);return yield it(!1,f,d.providerId),Qt(f,d)})).apply(this,arguments)}function Fa(y,d){return No.apply(this,arguments)}function No(){return(No=(0,D.Z)(function*(y,d){return gr((0,B.m9)(y),d)})).apply(this,arguments)}function Ks(y,d){return kr.apply(this,arguments)}function kr(){return(kr=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithCustomToken",vn(y,d))})).apply(this,arguments)}function go(){return(go=(0,D.Z)(function*(y,d){const f=rr(y),C=yield Ks(f,{token:d,returnSecureToken:!0}),k=yield gn._fromIdTokenResponse(f,"signIn",C);return yield f._updateCurrentUser(k.user),k})).apply(this,arguments)}class oi{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?ai._fromServerResponse(d,f):qt(d,"internal-error")}}class ai extends oi{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new ai(f)}}function mo(y,d,f){var C;rt((null===(C=f.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),rt(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(rt(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(rt(f.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function Ps(){return(Ps=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y),k={requestType:"PASSWORD_RESET",email:d};f&&mo(C,k,f),yield Zo(C,k)})).apply(this,arguments)}function yo(){return(yo=(0,D.Z)(function*(y,d,f){yield zo((0,B.m9)(y),{oobCode:d,newPassword:f})})).apply(this,arguments)}function Zs(){return(Zs=(0,D.Z)(function*(y,d){yield qn((0,B.m9)(y),{oobCode:d})})).apply(this,arguments)}function Ys(y,d){return ts.apply(this,arguments)}function ts(){return(ts=(0,D.Z)(function*(y,d){const f=(0,B.m9)(y),C=yield zo(f,{oobCode:d}),k=C.requestType;switch(rt(k,f,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":rt(C.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":rt(C.mfaInfo,f,"internal-error");default:rt(C.email,f,"internal-error")}let j=null;return C.mfaInfo&&(j=oi._fromServerResponse(rr(f),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:j},operation:k}})).apply(this,arguments)}function vo(){return(vo=(0,D.Z)(function*(y,d){const{data:f}=yield Ys((0,B.m9)(y),d);return f.email})).apply(this,arguments)}function ns(){return(ns=(0,D.Z)(function*(y,d,f){const C=rr(y),k=yield pr(C,{returnSecureToken:!0,email:d,password:f}),j=yield gn._fromIdTokenResponse(C,"signIn",k);return yield C._updateCurrentUser(j.user),j})).apply(this,arguments)}function Ms(){return(Ms=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y),k={requestType:"EMAIL_SIGNIN",email:d};rt(f.handleCodeInApp,C,"argument-error"),f&&mo(C,k,f),yield fn(C,k)})).apply(this,arguments)}function Pr(){return(Pr=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y),k=x.credentialWithLink(d,f||ke());return rt(k._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Kr(C,k)})).apply(this,arguments)}function Os(y,d){return mr.apply(this,arguments)}function mr(){return(mr=(0,D.Z)(function*(y,d){return At(y,"POST","/v1/accounts:createAuthUri",vn(y,d))})).apply(this,arguments)}function Qr(){return(Qr=(0,D.Z)(function*(y,d){const C={identifier:d,continueUri:ce()?ke():"http://localhost"},{signinMethods:k}=yield Os((0,B.m9)(y),C);return k||[]})).apply(this,arguments)}function Fr(){return(Fr=(0,D.Z)(function*(y,d){const f=(0,B.m9)(y),k={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&mo(f.auth,k,d);const{email:j}=yield qa(f.auth,k);j!==y.email&&(yield y.reload())})).apply(this,arguments)}function jr(){return(jr=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};f&&mo(C.auth,j,f);const{email:ve}=yield Yo(C.auth,j);ve!==y.email&&(yield y.reload())})).apply(this,arguments)}function _s(y,d){return qs.apply(this,arguments)}function qs(){return(qs=(0,D.Z)(function*(y,d){return At(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ir(){return(ir=(0,D.Z)(function*(y,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const C=(0,B.m9)(y),j={idToken:yield C.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},ve=yield Er(C,_s(C.auth,j));C.displayName=ve.displayName||null,C.photoURL=ve.photoUrl||null;const He=C.providerData.find(({providerId:_t})=>"password"===_t);He&&(He.displayName=C.displayName,He.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ve)})).apply(this,arguments)}function bi(y,d,f){return wi.apply(this,arguments)}function wi(){return(wi=(0,D.Z)(function*(y,d,f){const{auth:C}=y,j={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(j.email=d),f&&(j.password=f);const ve=yield Er(y,Ko(C,j));yield y._updateTokensIfNecessary(ve,!0)})).apply(this,arguments)}class Js{constructor(d,f,C={}){this.isNewUser=d,this.providerId=f,this.profile=C}}class ys extends Js{constructor(d,f,C,k){super(d,f,C),this.username=k}}class Xs extends Js{constructor(d,f){super(d,"facebook.com",f)}}class yl extends ys{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class La extends Js{constructor(d,f){super(d,"google.com",f)}}class Va extends ys{constructor(d,f,C){super(d,"twitter.com",f,C)}}function pi(y){const{user:d,_tokenResponse:f}=y;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function(y){var d,f;if(!y)return null;const{providerId:C}=y,k=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},j=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const ve=null===(f=null===(d=qi(y.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(ve)return new Js(j,"anonymous"!==ve&&"custom"!==ve?ve:null)}if(!C)return null;switch(C){case"facebook.com":return new Xs(j,k);case"github.com":return new yl(j,k);case"google.com":return new La(j,k);case"twitter.com":return new Va(j,k,y.screenName||null);case"custom":case"anonymous":return new Js(j,null);default:return new Js(j,C,k)}}(f)}class li{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new li("enroll",d)}static _fromMfaPendingCredential(d){return new li("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,C;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return li._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(C=d.multiFactorSession)||void 0===C?void 0:C.idToken)return li._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Eo{constructor(d,f,C){this.session=d,this.hints=f,this.signInResolver=C}static _fromError(d,f){const C=rr(d),k=f.customData._serverResponse,j=(k.mfaInfo||[]).map(He=>oi._fromServerResponse(C,He));rt(k.mfaPendingCredential,C,"internal-error");const ve=li._fromMfaPendingCredential(k.mfaPendingCredential);return new Eo(ve,j,function(){var He=(0,D.Z)(function*(_t){const dt=yield _t._process(C,ve);delete k.mfaInfo,delete k.mfaPendingCredential;const Lt=Object.assign(Object.assign({},k),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(f.operationType){case"signIn":const Ut=yield gn._fromIdTokenResponse(C,f.operationType,Lt);return yield C._updateCurrentUser(Ut.user),Ut;case"reauthenticate":return rt(f.user,C,"internal-error"),gn._forOperation(f.user,f.operationType,Lt);default:qt(C,"internal-error")}});return function(_t){return He.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,D.Z)(function*(){return f.signInResolver(d)})()}}function vl(y,d){return At(y,"POST","/v2/accounts/mfaEnrollment:start",vn(y,d))}class A{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(C=>oi._fromServerResponse(d.auth,C)))})}static _fromUser(d){return new A(d)}getSession(){var d=this;return(0,D.Z)(function*(){return li._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var C=this;return(0,D.Z)(function*(){const k=d,j=yield C.getSession(),ve=yield Er(C.user,k._process(C.user.auth,j,f));return yield C.user._updateTokensIfNecessary(ve),C.user.reload()})()}unenroll(d){var f=this;return(0,D.Z)(function*(){const C="string"==typeof d?d:d.uid,k=yield f.user.getIdToken(),j=yield Er(f.user,function(y,d){return At(y,"POST","/v2/accounts/mfaEnrollment:withdraw",vn(y,d))}(f.user.auth,{idToken:k,mfaEnrollmentId:C}));f.enrolledFactors=f.enrolledFactors.filter(({uid:ve})=>ve!==C),yield f.user._updateTokensIfNecessary(j);try{yield f.user.reload()}catch(ve){if("auth/user-token-expired"!==ve.code)throw ve}})()}}const I=new WeakMap,N="__sak";class V{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(N,"1"),this.storage.removeItem(N),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const It=(()=>{class y extends V{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,C)=>this.onStorageEvent(f,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,B.z$)();return Xe(y)||Ds(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=_i(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const C of Object.keys(this.listeners)){const k=this.storage.getItem(C),j=this.localCache[C];k!==j&&f(C,j,k)}}onStorageEvent(f,C=!1){if(!f.key)return void this.forAllChangedKeys((He,_t,dt)=>{this.notifyListeners(He,dt)});const k=f.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const He=this.storage.getItem(k);if(f.newValue!==He)null!==f.newValue?this.storage.setItem(k,f.newValue):this.storage.removeItem(k);else if(this.localCache[k]===f.newValue&&!C)return}const j=()=>{const He=this.storage.getItem(k);!C&&this.localCache[k]===He||this.notifyListeners(k,He)},ve=this.storage.getItem(k);(0,B.w1)()&&10===document.documentMode&&ve!==f.newValue&&f.newValue!==f.oldValue?setTimeout(j,10):j()}notifyListeners(f,C){this.localCache[f]=C;const k=this.listeners[f];if(k)for(const j of Array.from(k))j(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,C,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:C,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(C)}_removeListener(f,C){this.listeners[f]&&(this.listeners[f].delete(C),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,C){var k=()=>super._set,j=this;return(0,D.Z)(function*(){yield k().call(j,f,C),j.localCache[f]=JSON.stringify(C)})()}_get(f){var C=()=>super._get,k=this;return(0,D.Z)(function*(){const j=yield C().call(k,f);return k.localCache[f]=JSON.stringify(j),j})()}_remove(f){var C=()=>super._remove,k=this;return(0,D.Z)(function*(){yield C().call(k,f),delete k.localCache[f]})()}}return y.type="LOCAL",y})(),Mt=(()=>{class y extends V{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,C){}_removeListener(f,C){}}return y.type="SESSION",y})();let Vn=(()=>{class y{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const C=this.receivers.find(j=>j.isListeningto(f));if(C)return C;const k=new y(f);return this.receivers.push(k),k}isListeningto(f){return this.eventTarget===f}handleEvent(f){var C=this;return(0,D.Z)(function*(){const k=f,{eventId:j,eventType:ve,data:He}=k.data,_t=C.handlersMap[ve];if(!(null==_t?void 0:_t.size))return;k.ports[0].postMessage({status:"ack",eventId:j,eventType:ve});const dt=Array.from(_t).map(function(){var Ut=(0,D.Z)(function*(kn){return kn(k.origin,He)});return function(kn){return Ut.apply(this,arguments)}}()),Lt=yield function(y){return Promise.all(y.map(function(){var d=(0,D.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(C){return{fulfilled:!1,reason:C}}});return function(f){return d.apply(this,arguments)}}()))}(dt);k.ports[0].postMessage({status:"done",eventId:j,eventType:ve,response:Lt})})()}_subscribe(f,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(C)}_unsubscribe(f,C){this.handlersMap[f]&&C&&this.handlersMap[f].delete(C),(!C||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ii(y="",d=10){let f="";for(let C=0;C<d;C++)f+=Math.floor(10*Math.random());return y+f}class Hi{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,C=50){var k=this;return(0,D.Z)(function*(){const j="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let ve,He;return new Promise((_t,dt)=>{const Lt=Ii("",20);j.port1.start();const Ut=setTimeout(()=>{dt(new Error("unsupported_event"))},C);He={messageChannel:j,onMessage(kn){const Fi=kn;if(Fi.data.eventId===Lt)switch(Fi.data.status){case"ack":clearTimeout(Ut),ve=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),_t(Fi.data.response);break;default:clearTimeout(Ut),clearTimeout(ve),dt(new Error("invalid_response"))}}},k.handlers.add(He),j.port1.addEventListener("message",He.onMessage),k.target.postMessage({eventType:d,eventId:Lt,data:f},[j.port2])}).finally(()=>{He&&k.removeMessageHandler(He)})})()}}function or(){return window}function Ri(){return void 0!==or().WorkerGlobalScope&&"function"==typeof or().importScripts}function Fo(){return(Fo=(0,D.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const eo="firebaseLocalStorageDb",Cs="firebaseLocalStorage",Xa="fbase_key";class Da{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function to(y,d){return y.transaction([Cs],d?"readwrite":"readonly").objectStore(Cs)}function Uc(){const y=indexedDB.open(eo,1);return new Promise((d,f)=>{y.addEventListener("error",()=>{f(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Cs,{keyPath:Xa})}catch(k){f(k)}}),y.addEventListener("success",(0,D.Z)(function*(){const C=y.result;C.objectStoreNames.contains(Cs)?d(C):(C.close(),yield function(){const y=indexedDB.deleteDatabase(eo);return new Da(y).toPromise()}(),d(yield Uc()))}))})}function Ns(y,d,f){return jl.apply(this,arguments)}function jl(){return(jl=(0,D.Z)(function*(y,d,f){const C=to(y,!0).put({[Xa]:d,value:f});return new Da(C).toPromise()})).apply(this,arguments)}function _r(){return(_r=(0,D.Z)(function*(y,d){const f=to(y,!1).get(d),C=yield new Da(f).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ua(y,d){const f=to(y,!0).delete(d);return new Da(f).toPromise()}const nl=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,D.Z)(function*(){return f.db||(f.db=yield Uc()),f.db})()}_withRetries(f){var C=this;return(0,D.Z)(function*(){let k=0;for(;;)try{const j=yield C._openDb();return yield f(j)}catch(j){if(k++>3)throw j;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,D.Z)(function*(){return Ri()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,D.Z)(function*(){f.receiver=Vn._getInstance(Ri()?self:null),f.receiver._subscribe("keyChanged",function(){var C=(0,D.Z)(function*(k,j){return{keyProcessed:(yield f._poll()).includes(j.key)}});return function(k,j){return C.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var C=(0,D.Z)(function*(k,j){return["keyChanged"]});return function(k,j){return C.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,D.Z)(function*(){var C,k;if(f.activeServiceWorker=yield function(){return Fo.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Hi(f.activeServiceWorker);const j=yield f.sender._send("ping",{},800);!j||(null===(C=j[0])||void 0===C?void 0:C.fulfilled)&&(null===(k=j[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var C=this;return(0,D.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:f},C.serviceWorkerReceiverAvailable?800:50)}catch(k){}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Uc();return yield Ns(f,N,"1"),yield Ua(f,N),!0}catch(f){}return!1})()}_withPendingWrite(f){var C=this;return(0,D.Z)(function*(){C.pendingWrites++;try{yield f()}finally{C.pendingWrites--}})()}_set(f,C){var k=this;return(0,D.Z)(function*(){return k._withPendingWrite((0,D.Z)(function*(){return yield k._withRetries(j=>Ns(j,f,C)),k.localCache[f]=C,k.notifyServiceWorker(f)}))})()}_get(f){var C=this;return(0,D.Z)(function*(){const k=yield C._withRetries(j=>function(y,d){return _r.apply(this,arguments)}(j,f));return C.localCache[f]=k,k})()}_remove(f){var C=this;return(0,D.Z)(function*(){return C._withPendingWrite((0,D.Z)(function*(){return yield C._withRetries(k=>Ua(k,f)),delete C.localCache[f],C.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,D.Z)(function*(){const C=yield f._withRetries(ve=>{const He=to(ve,!1).getAll();return new Da(He).toPromise()});if(!C)return[];if(0!==f.pendingWrites)return[];const k=[],j=new Set;for(const{fbase_key:ve,value:He}of C)j.add(ve),JSON.stringify(f.localCache[ve])!==JSON.stringify(He)&&(f.notifyListeners(ve,He),k.push(ve));for(const ve of Object.keys(f.localCache))f.localCache[ve]&&!j.has(ve)&&(f.notifyListeners(ve,null),k.push(ve));return k})()}notifyListeners(f,C){this.localCache[f]=C;const k=this.listeners[f];if(k)for(const j of Array.from(k))j(C)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(C)}_removeListener(f,C){this.listeners[f]&&(this.listeners[f].delete(C),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function rl(y,d){return At(y,"POST","/v2/accounts/mfaSignIn:start",vn(y,d))}function $l(){return($l=(0,D.Z)(function*(y){return(yield At(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ba(y){return new Promise((d,f)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=d,C.onerror=k=>{const j=Mn("internal-error");j.customData=k,f(j)},C.type="text/javascript",C.charset="UTF-8",function(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(C)})}function ja(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Lo=1e12;class Ta{constructor(d){this.auth=d,this.counter=Lo,this._widgets=new Map}render(d,f){const C=this.counter;return this._widgets.set(C,new jc(d,this.auth.name,f||{})),this.counter++,C}reset(d){var f;const C=d||Lo;null===(f=this._widgets.get(C))||void 0===f||f.delete(),this._widgets.delete(C)}getResponse(d){var f;return(null===(f=this._widgets.get(d||Lo))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,D.Z)(function*(){var C;return null===(C=f._widgets.get(d||Lo))||void 0===C||C.execute(),""})()}}class jc{constructor(d,f,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof d?document.getElementById(d):d;rt(k,"argument-error",{appName:f}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}();const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $i=ja("rcb"),Ni=new yt(3e4,6e4);class xs{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!or().grecaptcha}load(d,f=""){return rt((y=f).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(or().grecaptcha):new Promise((C,k)=>{const j=or().setTimeout(()=>{k(Mn(d,"network-request-failed"))},Ni.get());or()[$i]=()=>{or().clearTimeout(j),delete or()[$i];const He=or().grecaptcha;if(!He)return void k(Mn(d,"internal-error"));const _t=He.render;He.render=(dt,Lt)=>{const Ut=_t(dt,Lt);return this.counter++,Ut},this.hostLanguage=f,C(He)},Ba(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:$i,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(j),k(Mn(d,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!or().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ec{load(d){return(0,D.Z)(function*(){return new Ta(d)})()}clearedOneInstance(){}}const bl="recaptcha",Vo={theme:"light",type:"image"};class Hc{constructor(d,f=Object.assign({},Vo),C){this.parameters=f,this.type=bl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rr(C),this.isInvisible="invisible"===this.parameters.size,rt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof d?document.getElementById(d):d;rt(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ec:new xs,this.validateStartingState()}verify(){var d=this;return(0,D.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),C=d.getAssertedRecaptcha();return C.getResponse(f)||new Promise(j=>{const ve=He=>{!He||(d.tokenChangeListeners.delete(ve),j(He))};d.tokenChangeListeners.add(ve),d.isInvisible&&C.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){rt(!this.parameters.sitekey,this.auth,"argument-error"),rt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),rt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(C=>C(f)),"function"==typeof d)d(f);else if("string"==typeof d){const C=or()[d];"function"==typeof C&&C(f)}}}assertNotDestroyed(){rt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,D.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const C=document.createElement("div");f.appendChild(C),f=C}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,D.Z)(function*(){rt(ce()&&!Ri(),d.auth,"internal-error"),yield function(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function(y){return $l.apply(this,arguments)}(d.auth);rt(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return rt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wl{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=Ei._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function Aa(){return(Aa=(0,D.Z)(function*(y,d,f){const C=rr(y),k=yield F(C,d,(0,B.m9)(f));return new wl(k,j=>Kr(C,j))})).apply(this,arguments)}function bo(){return(bo=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y);yield it(!1,C,"phone");const k=yield F(C.auth,d,(0,B.m9)(f));return new wl(k,j=>po(C,j))})).apply(this,arguments)}function S(){return(S=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y),k=yield F(C.auth,d,(0,B.m9)(f));return new wl(k,j=>Fa(C,j))})).apply(this,arguments)}function F(y,d,f){return Z.apply(this,arguments)}function Z(){return(Z=(0,D.Z)(function*(y,d,f){var C;const k=yield f.verify();try{let j;if(rt("string"==typeof k,y,"argument-error"),rt(f.type===bl,y,"argument-error"),j="string"==typeof d?{phoneNumber:d}:d,"session"in j){const ve=j.session;if("phoneNumber"in j)return rt("enroll"===ve.type,y,"internal-error"),(yield vl(y,{idToken:ve.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{rt("signin"===ve.type,y,"internal-error");const He=(null===(C=j.multiFactorHint)||void 0===C?void 0:C.uid)||j.multiFactorUid;return rt(He,y,"missing-multi-factor-info"),(yield rl(y,{mfaPendingCredential:ve.credential,mfaEnrollmentId:He,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ve}=yield Ui(y,{phoneNumber:j.phoneNumber,recaptchaToken:k});return ve}}finally{f._reset()}})).apply(this,arguments)}function Ne(){return(Ne=(0,D.Z)(function*(y,d){yield Qt((0,B.m9)(y),d)})).apply(this,arguments)}let ze=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=rr(f)}verifyPhoneNumber(f,C){return F(this.auth,f,(0,B.m9)(C))}static credential(f,C){return Ei._fromVerification(f,C)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:C,temporaryProof:k}=f;return C&&k?Ei._fromTokenResponse(C,k):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function lt(y,d){return d?Xt(d):(rt(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Dt extends Ts{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Br(d,this._buildIdpRequest())}_linkToIdToken(d,f){return Br(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return Br(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function St(y){return va(y.auth,new Dt(y),y.bypassAuthState)}function xn(y){const{auth:d,user:f}=y;return rt(f,d,"internal-error"),gr(f,new Dt(y),y.bypassAuthState)}function cr(y){return ei.apply(this,arguments)}function ei(){return(ei=(0,D.Z)(function*(y){const{auth:d,user:f}=y;return rt(f,d,"internal-error"),Qt(f,new Dt(y),y.bypassAuthState)})).apply(this,arguments)}class Wi{constructor(d,f,C,k,j=!1){this.auth=d,this.resolver=C,this.user=k,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,D.Z)(function*(C,k){d.pendingPromise={resolve:C,reject:k};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(j){d.reject(j)}});return function(C,k){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,D.Z)(function*(){const{urlResponse:C,sessionId:k,postBody:j,tenantId:ve,error:He,type:_t}=d;if(He)return void f.reject(He);const dt={auth:f.auth,requestUri:C,sessionId:k,tenantId:ve||void 0,postBody:j||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(_t)(dt))}catch(Lt){f.reject(Lt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return St;case"linkViaPopup":case"linkViaRedirect":return cr;case"reauthViaPopup":case"reauthViaRedirect":return xn;default:qt(this.auth,"internal-error")}}resolve(d){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Di=new yt(2e3,1e4);function Pa(){return(Pa=(0,D.Z)(function*(y,d,f){const C=rr(y);On(y,d,K);const k=lt(C,f);return new Cc(C,"signInViaPopup",d,k).executeNotNull()})).apply(this,arguments)}function ro(){return(ro=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y);On(C.auth,d,K);const k=lt(C.auth,f);return new Cc(C.auth,"reauthViaPopup",d,k,C).executeNotNull()})).apply(this,arguments)}function io(){return(io=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y);On(C.auth,d,K);const k=lt(C.auth,f);return new Cc(C.auth,"linkViaPopup",d,k,C).executeNotNull()})).apply(this,arguments)}let Cc=(()=>{class y extends Wi{constructor(f,C,k,j,ve){super(f,C,j,ve),this.provider=k,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,D.Z)(function*(){const C=yield f.execute();return rt(C,f.auth,"internal-error"),C})()}onExecution(){var f=this;return(0,D.Z)(function*(){rn(1===f.filter.length,"Popup operations only handle one event");const C=Ii();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],C),f.authWindow.associatedEvent=C,f.resolver._originValidation(f.auth).catch(k=>{f.reject(k)}),f.resolver._isIframeWebStorageSupported(f.auth,k=>{k||f.reject(Mn(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var C,k;this.pollId=(null===(k=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===k?void 0:k.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Di.get())};f()}}return y.currentPopupAction=null,y})();const Ga=new Map;class bc extends Wi{constructor(d,f,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,D.Z)(function*(){let C=Ga.get(f.auth._key());if(!C){try{const j=(yield function(y,d){return la.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;C=()=>Promise.resolve(j)}catch(k){C=()=>Promise.reject(k)}Ga.set(f.auth._key(),C)}return f.bypassAuthState||Ga.set(f.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,C=this;return(0,D.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(C,d);if("unknown"!==d.type){if(d.eventId){const k=yield C.auth._redirectUserForId(d.eventId);if(k)return C.user=k,f().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function la(){return(la=(0,D.Z)(function*(y,d){const f=sl(d),C=Ou(y);if(!(yield C._isAvailable()))return!1;const k="true"===(yield C._get(f));return yield C._remove(f),k})).apply(this,arguments)}function Wl(y,d){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,D.Z)(function*(y,d){return Ou(y)._set(sl(d),"true")})).apply(this,arguments)}function Ou(y){return Xt(y._redirectPersistence)}function sl(y){return De("pendingRedirect",y.config.apiKey,y.name)}function Io(){return(Io=(0,D.Z)(function*(y,d,f){const C=rr(y);On(y,d,K);const k=lt(C,f);return yield Wl(k,C),k._openRedirect(C,d,"signInViaRedirect")})).apply(this,arguments)}function Tl(){return(Tl=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y);On(C.auth,d,K);const k=lt(C.auth,f);yield Wl(k,C.auth);const j=yield Al(C);return k._openRedirect(C.auth,d,"reauthViaRedirect",j)})).apply(this,arguments)}function Kl(){return(Kl=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y);On(C.auth,d,K);const k=lt(C.auth,f);yield it(!1,C,d.providerId),yield Wl(k,C.auth);const j=yield Al(C);return k._openRedirect(C.auth,d,"linkViaRedirect",j)})).apply(this,arguments)}function ks(){return(ks=(0,D.Z)(function*(y,d){return yield rr(y)._initializationPromise,Uo(y,d,!1)})).apply(this,arguments)}function Uo(y,d){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,D.Z)(function*(y,d,f=!1){const C=rr(y),k=lt(C,d),ve=yield new bc(C,k,f).execute();return ve&&!f&&(delete ve.user._redirectEventId,yield C._persistUserIfCurrent(ve.user),yield C._setRedirectUser(null,d)),ve})).apply(this,arguments)}function Al(y){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,D.Z)(function*(y){const d=Ii(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class Dc{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(f=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cu(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var C;if(d.error&&!cu(d)){const k=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";f.onError(Mn(this.auth,k))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const C=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ol(d))}saveEventToCache(d){this.cachedEventUids.add(ol(d)),this.lastProcessedEventTime=Date.now()}}function ol(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function cu({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===(null==d?void 0:d.code)}function al(y){return ql.apply(this,arguments)}function ql(){return(ql=(0,D.Z)(function*(y,d={}){return At(y,"GET","/v1/projects",d)})).apply(this,arguments)}const Sl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nu=/^https?/;function Ql(){return(Ql=(0,D.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield al(y);for(const f of d)try{if(Jl(f))return}catch(C){}qt(y,"unauthorized-domain")})).apply(this,arguments)}function Jl(y){const d=ke(),{protocol:f,hostname:C}=new URL(d);if(y.startsWith("chrome-extension://")){const ve=new URL(y);return""===ve.hostname&&""===C?"chrome-extension:"===f&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&ve.hostname===C}if(!Nu.test(f))return!1;if(Sl.test(y))return C===y;const k=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(C)}const Wc=new yt(3e4,6e4);function ll(){const y=or().___jsl;if(null==y?void 0:y.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let Oa=null;function cl(y){return Oa=Oa||function(y){return new Promise((d,f)=>{var C,k,j;function ve(){ll(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{ll(),f(Mn(y,"network-request-failed"))},timeout:Wc.get()})}if(null===(k=null===(C=or().gapi)||void 0===C?void 0:C.iframes)||void 0===k?void 0:k.Iframe)d(gapi.iframes.getContext());else{if(!(null===(j=or().gapi)||void 0===j?void 0:j.load)){const He=ja("iframefcb");return or()[He]=()=>{gapi.load?ve():f(Mn(y,"network-request-failed"))},Ba(`https://apis.google.com/js/api.js?onload=${He}`).catch(_t=>f(_t))}ve()}}).catch(d=>{throw Oa=null,d})}(y),Oa}const uu=new yt(5e3,15e3),ec={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ti(y){const d=y.config;rt(d.authDomain,y,"auth-domain-config-required");const f=d.emulator?nt(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:d.apiKey,appName:y.name,v:Ee.SDK_VERSION},k=xu.get(y.config.apiHost);k&&(C.eid=k);const j=y._getFrameworks();return j.length&&(C.fw=j.join(",")),`${f}?${(0,B.xO)(C).slice(1)}`}function Tc(){return(Tc=(0,D.Z)(function*(y){const d=yield cl(y),f=or().gapi;return rt(f,y,"internal-error"),d.open({where:document.body,url:ti(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ec,dontclear:!0},C=>new Promise(function(){var k=(0,D.Z)(function*(j,ve){yield C.restyle({setHideOnLeave:!1});const He=Mn(y,"network-request-failed"),_t=or().setTimeout(()=>{ve(He)},uu.get());function dt(){or().clearTimeout(_t),j(C)}C.ping(dt).then(dt,()=>{ve(He)})});return function(j,ve){return k.apply(this,arguments)}}()))})).apply(this,arguments)}const Ac={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sc{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Pl(y,d,f,C,k,j){rt(y.config.authDomain,y,"auth-domain-config-required"),rt(y.config.apiKey,y,"invalid-api-key");const ve={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:C,v:Ee.SDK_VERSION,eventId:k};if(d instanceof K){d.setDefaultLanguage(y.languageCode),ve.providerId=d.providerId||"",(0,B.xb)(d.getCustomParameters())||(ve.customParameters=JSON.stringify(d.getCustomParameters()));for(const[_t,dt]of Object.entries(j||{}))ve[_t]=dt}if(d instanceof pe){const _t=d.getScopes().filter(dt=>""!==dt);_t.length>0&&(ve.scopes=_t.join(","))}y.tenantId&&(ve.tid=y.tenantId);const He=ve;for(const _t of Object.keys(He))void 0===He[_t]&&delete He[_t];return`${function({config:y}){return y.emulator?nt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,B.xO)(He).slice(1)}`}const xi="webStorageSupport";class Pc extends class{constructor(d){this.factorId=d}_process(d,f,C){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,C);case"signin":return this._finalizeSignIn(d,f.credential);default:return Tr("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Pc(d)}_finalizeEnroll(d,f,C){return function(y,d){return At(y,"POST","/v2/accounts/mfaEnrollment:finalize",vn(y,d))}(d,{idToken:f,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function(y,d){return At(y,"POST","/v2/accounts/mfaSignIn:finalize",vn(y,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Mc=(()=>{class y{constructor(){}static assertion(f){return Pc._fromCredential(f)}}return y.FACTOR_ID="phone",y})();var y,Kc="@firebase/auth";class dd{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,D.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(C=>{var k;d((null===(k=C)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ca(){return window}function Oc(){return(Oc=(0,D.Z)(function*(y,d,f){var C;const{BuildInfo:k}=ca();rn(d.sessionId,"AuthEvent did not contain a session ID");const j=yield hl(d.sessionId),ve={};return Ds()?ve.ibi=k.packageName:nn()?ve.apn=k.packageName:qt(y,"operation-not-supported-in-this-environment"),k.displayName&&(ve.appDisplayName=k.displayName),ve.sessionId=j,Pl(y,f,d.type,void 0,null!==(C=d.eventId)&&void 0!==C?C:void 0,ve)})).apply(this,arguments)}function To(){return(To=(0,D.Z)(function*(y){const{BuildInfo:d}=ca(),f={};Ds()?f.iosBundleId=d.packageName:nn()?f.androidPackageName=d.packageName:qt(y,"operation-not-supported-in-this-environment"),yield al(y,f)})).apply(this,arguments)}function dl(){return(dl=(0,D.Z)(function*(y,d,f){const{cordova:C}=ca();let k=()=>{};try{yield new Promise((j,ve)=>{let He=null;function _t(){var Ut;j();const kn=null===(Ut=C.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof kn&&kn(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function dt(){He||(He=window.setTimeout(()=>{ve(Mn(y,"redirect-cancelled-by-user"))},2e3))}function Lt(){"visible"===(null==document?void 0:document.visibilityState)&&dt()}d.addPassiveListener(_t),document.addEventListener("resume",dt,!1),nn()&&document.addEventListener("visibilitychange",Lt,!1),k=()=>{d.removePassiveListener(_t),document.removeEventListener("resume",dt,!1),document.removeEventListener("visibilitychange",Lt,!1),He&&window.clearTimeout(He)}})}finally{k()}})).apply(this,arguments)}function hl(y){return tc.apply(this,arguments)}function tc(){return(tc=(0,D.Z)(function*(y){const d=qc(y),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qc(y){if(rn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),f=new Uint8Array(d);for(let C=0;C<y.length;C++)f[C]=y.charCodeAt(C);return f}y="Browser",(0,Ee._registerComponent)(new bt.wA("auth",(d,{options:f})=>{const C=d.getProvider("app").getImmediate(),{apiKey:k,authDomain:j}=C.options;return(ve=>{rt(k&&!k.includes(":"),"invalid-api-key",{appName:ve.name}),rt(!(null==j?void 0:j.includes(":")),"argument-error",{appName:ve.name});const He={apiKey:k,authDomain:j,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qr(y)},_t=new ya(ve,He);return function(y,d){const f=(null==d?void 0:d.persistence)||[],C=(Array.isArray(f)?f:[f]).map(Xt);(null==d?void 0:d.errorMap)&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(C,null==d?void 0:d.popupRedirectResolver)}(_t,f),_t})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,C)=>{d.getProvider("auth-internal").initialize()})),(0,Ee._registerComponent)(new bt.wA("auth-internal",d=>{const f=rr(d.getProvider("auth").getImmediate());return new dd(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)(Kc,"0.19.4",void 0),(0,Ee.registerVersion)(Kc,"0.19.4","esm2017");class mu extends Dc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,D.Z)(function*(){yield d.initPromise})()}}function c(y){return l.apply(this,arguments)}function l(){return(l=(0,D.Z)(function*(y){const d=yield $()._get(se(y));return d&&(yield $()._remove(se(y))),d})).apply(this,arguments)}function O(){const y=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const C=Math.floor(Math.random()*d.length);y.push(d.charAt(C))}return y.join("")}function $(){return Xt(It)}function se(y){return De("authEvent",y.config.apiKey,y.name)}function Je(y){if(!(null==y?void 0:y.includes("?")))return{};const[d,...f]=y.split("?");return(0,B.zd)(f.join("?"))}function Sn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Mn("no-auth-event")}}function fr(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function ki(y=(0,B.z$)()){return!("file:"!==fr()&&"ionic:"!==fr()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ua(){try{const y=self.localStorage,d=Ii();if(y)return y.setItem(d,"1"),y.removeItem(d),!function(y=(0,B.z$)()){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,B.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.hl)()}catch(y){return Ho()&&(0,B.hl)()}return!1}function Ho(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ka(){return("http:"===fr()||"https:"===fr()||(0,B.ru)()||ki())&&!((0,B.b$)()||(0,B.UG)())&&ua()&&!Ho()}function $o(){return ki()&&"undefined"!=typeof document}function Ol(){return(Ol=(0,D.Z)(function*(){return!!$o()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const Fs={LOCAL:"local",NONE:"none",SESSION:"session"},Rt=rt,Bt="persistence";function Kn(y){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,D.Z)(function*(y){yield y._initializationPromise;const d=Ls(),f=De(Bt,y.config.apiKey,y.name);(null==d?void 0:d.sessionStorage)&&d.sessionStorage.setItem(f,y._getPersistence())})).apply(this,arguments)}function Ls(){return"undefined"!=typeof window?window:null}const Za=rt;class yr{constructor(){this.browserResolver=Xt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mt,this._completeRedirectFn=Uo}_openPopup(d,f,C,k){var j=this;return(0,D.Z)(function*(){var ve;rn(null===(ve=j.eventManagers[d._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const He=Pl(d,f,C,ke(),k);return function(y,d,f,C=500,k=600){const j=Math.max((window.screen.availHeight-k)/2,0).toString(),ve=Math.max((window.screen.availWidth-C)/2,0).toString();let He="";const _t=Object.assign(Object.assign({},Ac),{width:C.toString(),height:k.toString(),top:j,left:ve}),dt=(0,B.z$)().toLowerCase();f&&(He=xt(dt)?"_blank":f),Re(dt)&&(d=d||"http://localhost",_t.scrollbars="yes");const Lt=Object.entries(_t).reduce((kn,[Fi,gl])=>`${kn}${Fi}=${gl},`,"");if(function(y=(0,B.z$)()){var d;return Ds(y)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(dt)&&"_self"!==He)return function(y,d){const f=document.createElement("a");f.href=y,f.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(C)}(d||"",He),new Sc(null);const Ut=window.open(d||"",He,Lt);rt(Ut,y,"popup-blocked");try{Ut.focus()}catch(kn){}return new Sc(Ut)}(d,He,Ii())})()}_openRedirect(d,f,C,k){var j=this;return(0,D.Z)(function*(){return yield j._originValidation(d),y=Pl(d,f,C,ke(),k),or().location.href=y,new Promise(()=>{});var y})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:k,promise:j}=this.eventManagers[f];return k?Promise.resolve(k):(rn(j,"If manager is not set, promise should be"),j)}const C=this.initAndGetManager(d);return this.eventManagers[f]={promise:C},C.catch(()=>{delete this.eventManagers[f]}),C}initAndGetManager(d){var f=this;return(0,D.Z)(function*(){const C=yield function(y){return Tc.apply(this,arguments)}(d),k=new Dc(d);return C.register("authEvent",j=>(rt(null==j?void 0:j.authEvent,d,"invalid-auth-event"),{status:k.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:k},f.iframes[d._key()]=C,k})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(xi,{type:xi},k=>{var j;const ve=null===(j=null==k?void 0:k[0])||void 0===j?void 0:j[xi];void 0!==ve&&f(!!ve),qt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(y){return Ql.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return _i()||Xe()||Ds()}}),this.cordovaResolver=Xt(class{constructor(){this._redirectPersistence=Mt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Uo}_initialize(d){var f=this;return(0,D.Z)(function*(){const C=d._key();let k=f.eventManagers.get(C);return k||(k=new mu(d),f.eventManagers.set(C,k),f.attachCallbackListeners(d,k)),k})()}_openPopup(d){qt(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,C,k){var j=this;return(0,D.Z)(function*(){!function(y){var d,f,C,k,j,ve,He,_t,dt,Lt;const Ut=ca();rt("function"==typeof(null===(d=null==Ut?void 0:Ut.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),rt(void 0!==(null===(f=null==Ut?void 0:Ut.BuildInfo)||void 0===f?void 0:f.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),rt("function"==typeof(null===(j=null===(k=null===(C=null==Ut?void 0:Ut.cordova)||void 0===C?void 0:C.plugins)||void 0===k?void 0:k.browsertab)||void 0===j?void 0:j.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),rt("function"==typeof(null===(_t=null===(He=null===(ve=null==Ut?void 0:Ut.cordova)||void 0===ve?void 0:ve.plugins)||void 0===He?void 0:He.browsertab)||void 0===_t?void 0:_t.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),rt("function"==typeof(null===(Lt=null===(dt=null==Ut?void 0:Ut.cordova)||void 0===dt?void 0:dt.InAppBrowser)||void 0===Lt?void 0:Lt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const ve=yield j._initialize(d);yield ve.initialized(),ve.resetRedirect(),Ga.clear(),yield j._originValidation(d);const He=function(y,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:O(),postBody:null,tenantId:y.tenantId,error:Mn(y,"no-auth-event")}}(d,C,k);yield function(y,d){return $()._set(se(y),d)}(d,He);const _t=yield function(y,d,f){return Oc.apply(this,arguments)}(d,He,f),dt=yield function(y){const{cordova:d}=ca();return new Promise(f=>{d.plugins.browsertab.isAvailable(C=>{let k=null;C?d.plugins.browsertab.openUrl(y):k=d.InAppBrowser.open(y,function(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),f(k)})})}(_t);return function(y,d,f){return dl.apply(this,arguments)}(d,ve,dt)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(y){return To.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:C,handleOpenURL:k,BuildInfo:j}=ca(),ve=setTimeout((0,D.Z)(function*(){yield c(d),f.onEvent(Sn())}),500),He=function(){var Lt=(0,D.Z)(function*(Ut){clearTimeout(ve);const kn=yield c(d);let Fi=null;kn&&(null==Ut?void 0:Ut.url)&&(Fi=function(y,d){var f,C;const k=function(y){const d=Je(y),f=d.link?decodeURIComponent(d.link):void 0,C=Je(f).link,k=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Je(k).link||k||C||f||y}(d);if(k.includes("/__/auth/callback")){const j=Je(k),ve=j.firebaseError?function(y){try{return JSON.parse(y)}catch(d){return null}}(decodeURIComponent(j.firebaseError)):null,He=null===(C=null===(f=null==ve?void 0:ve.code)||void 0===f?void 0:f.split("auth/"))||void 0===C?void 0:C[1],_t=He?Mn(He):null;return _t?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:_t,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:k,postBody:null}}return null}(kn,Ut.url)),f.onEvent(Fi||Sn())});return function(kn){return Lt.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,He);const _t=k,dt=`${j.packageName.toLowerCase()}://`;ca().handleOpenURL=function(){var Lt=(0,D.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(dt)&&He({url:Ut}),"function"==typeof _t)try{_t(Ut)}catch(kn){console.error(kn)}});return function(Ut){return Lt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Mt,this._completeRedirectFn=Uo}_initialize(d){var f=this;return(0,D.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,C,k){var j=this;return(0,D.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openPopup(d,f,C,k)})()}_openRedirect(d,f,C,k){var j=this;return(0,D.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openRedirect(d,f,C,k)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return $o()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Za(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,D.Z)(function*(){if(d.underlyingResolver)return;const f=yield function(){return Ol.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function Qc(y){return y.unwrap()}function ss(y){return Ya(y)}function Ya(y){const{_tokenResponse:d}=y instanceof B.ZR?y.customData:y;if(!d)return null;if(!(y instanceof B.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return ze.credentialFromResult(y);const f=d.providerId;if(!f||"password"===f)return null;let C;switch(f){case"google.com":C=Pt;break;case"facebook.com":C=ct;break;case"github.com":C=ut;break;case"twitter.com":C=zn;break;default:const{oauthIdToken:k,oauthAccessToken:j,oauthTokenSecret:ve,pendingToken:He,nonce:_t}=d;return j||ve||k||He?He?f.startsWith("saml.")?An._create(f,He):xr._fromParams({providerId:f,signInMethod:f,pendingToken:He,idToken:k,accessToken:j}):new Ze(f).credential({idToken:k,accessToken:j,rawNonce:_t}):null}return y instanceof B.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function os(y,d){return d.catch(f=>{throw f instanceof B.ZR&&function(y,d){var f;const C=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new fd(y,function(y,d){var f;const C=(0,B.m9)(y),k=d;return rt(d.customData.operationType,C,"argument-error"),rt(null===(f=k.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,C,"argument-error"),Eo._fromError(C,k)}(y,d));else if(C){const k=Ya(d),j=d;k&&(j.credential=k,j.tenantId=C.tenantId||void 0,j.email=C.email||void 0,j.phoneNumber=C.phoneNumber||void 0)}}(y,f),f}).then(f=>{const k=f.user;return{operationType:f.operationType,credential:ss(f),additionalUserInfo:pi(f),user:pl.getOrCreate(k)}})}function _u(y,d){return hd.apply(this,arguments)}function hd(){return(hd=(0,D.Z)(function*(y,d){const f=yield d;return{verificationId:f.verificationId,confirm:C=>os(y,f.confirm(C))}})).apply(this,arguments)}class fd{constructor(d,f){this.resolver=f,this.auth=function(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return os(Qc(this.auth),this.resolver.resolveSignIn(d))}}class pl{constructor(d){this._delegate=d,this.multiFactor=function(y){const d=(0,B.m9)(y);return I.has(d)||I.set(d,A._fromUser(d)),I.get(d)}(d)}static getOrCreate(d){return pl.USER_MAP.has(d)||pl.USER_MAP.set(d,new pl(d)),pl.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,D.Z)(function*(){return os(f.auth,po(f._delegate,d))})()}linkWithPhoneNumber(d,f){var C=this;return(0,D.Z)(function*(){return _u(C.auth,function(y,d,f){return bo.apply(this,arguments)}(C._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,D.Z)(function*(){return os(f.auth,function(y,d,f){return io.apply(this,arguments)}(f._delegate,d,yr))})()}linkWithRedirect(d){var f=this;return(0,D.Z)(function*(){return yield Kn(rr(f.auth)),function(y,d,f){return function(y,d,f){return Kl.apply(this,arguments)}(y,d,f)}(f._delegate,d,yr)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,D.Z)(function*(){return os(f.auth,Fa(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return _u(this.auth,function(y,d,f){return S.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return os(this.auth,function(y,d,f){return ro.apply(this,arguments)}(this._delegate,d,yr))}reauthenticateWithRedirect(d){var f=this;return(0,D.Z)(function*(){return yield Kn(rr(f.auth)),function(y,d,f){return function(y,d,f){return Tl.apply(this,arguments)}(y,d,f)}(f._delegate,d,yr)})()}sendEmailVerification(d){return function(y,d){return Fr.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,D.Z)(function*(){return yield function(y,d){return hs.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function(y,d){return bi((0,B.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function(y,d){return bi((0,B.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(y,d){return Ne.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(y,d){return ir.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function(y,d,f){return jr.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pl.USER_MAP=new WeakMap;const Jc=rt;let pd=(()=>{class y{constructor(f,C){if(this.app=f,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=f.options;Jc(k,"invalid-api-key",{appName:f.name});let j=[Gt];if("undefined"!=typeof window){j=function(y,d){const f=Ls();if(!(null==f?void 0:f.sessionStorage))return[];const C=De(Bt,y,d);switch(f.sessionStorage.getItem(C)){case Fs.NONE:return[Gt];case Fs.LOCAL:return[nl,Mt];case Fs.SESSION:return[Mt];default:return[]}}(k,f.name);for(const He of[nl,It,Mt])j.includes(He)||j.push(He)}Jc(k,"invalid-api-key",{appName:f.name});const ve="undefined"!=typeof window?yr:void 0;this._delegate=C.initialize({options:{persistence:j,popupRedirectResolver:ve}}),this._delegate._updateErrorMap(ri),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,C){!function(y,d,f){const C=rr(y);rt(C._canInitEmulator,C,"emulator-config-failed"),rt(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const k=!!(null==f?void 0:f.disableWarnings),j=Hs(d),{host:ve,port:He}=function(y){const d=Hs(y),f=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!f)return{host:"",port:null};const C=f[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(C);if(k){const j=k[1];return{host:j,port:zr(C.substr(j.length+1))}}{const[j,ve]=C.split(":");return{host:j,port:zr(ve)}}}(d);C.config.emulator={url:`${j}//${ve}${null===He?"":`:${He}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ve,port:He,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function(){function y(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,f,C)}applyActionCode(f){return function(y,d){return Zs.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Ys(this._delegate,f)}confirmPasswordReset(f,C){return function(y,d,f){return yo.apply(this,arguments)}(this._delegate,f,C)}createUserWithEmailAndPassword(f,C){var k=this;return(0,D.Z)(function*(){return os(k._delegate,function(y,d,f){return ns.apply(this,arguments)}(k._delegate,f,C))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function(y,d){return Qr.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function(y,d){const f=R.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,D.Z)(function*(){Jc(Ka(),f._delegate,"operation-not-supported-in-this-environment");const C=yield function(y,d){return ks.apply(this,arguments)}(f._delegate,yr);return C?os(f._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function(y,d){rr(y)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,C,k){const{next:j,error:ve,complete:He}=rc(f,C,k);return this._delegate.onAuthStateChanged(j,ve,He)}onIdTokenChanged(f,C,k){const{next:j,error:ve,complete:He}=rc(f,C,k);return this._delegate.onIdTokenChanged(j,ve,He)}sendSignInLinkToEmail(f,C){return function(y,d,f){return Ms.apply(this,arguments)}(this._delegate,f,C)}sendPasswordResetEmail(f,C){return function(y,d,f){return Ps.apply(this,arguments)}(this._delegate,f,C||void 0)}setPersistence(f){var C=this;return(0,D.Z)(function*(){let k;switch(function(y,d){Rt(Object.values(Fs).includes(d),y,"invalid-persistence-type"),(0,B.b$)()?Rt(d!==Fs.SESSION,y,"unsupported-persistence-type"):(0,B.UG)()?Rt(d===Fs.NONE,y,"unsupported-persistence-type"):Ho()?Rt(d===Fs.NONE||d===Fs.LOCAL&&(0,B.hl)(),y,"unsupported-persistence-type"):Rt(d===Fs.NONE||ua(),y,"unsupported-persistence-type")}(C._delegate,f),f){case Fs.SESSION:k=Mt;break;case Fs.LOCAL:k=(yield Xt(nl)._isAvailable())?nl:It;break;case Fs.NONE:k=Gt;break;default:return qt("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return os(this._delegate,function(y){return Kt.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return os(this._delegate,Kr(this._delegate,f))}signInWithCustomToken(f){return os(this._delegate,function(y,d){return go.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,C){return os(this._delegate,function(y,d,f){return Kr((0,B.m9)(y),x.credential(d,f))}(this._delegate,f,C))}signInWithEmailLink(f,C){return os(this._delegate,function(y,d,f){return Pr.apply(this,arguments)}(this._delegate,f,C))}signInWithPhoneNumber(f,C){return _u(this._delegate,function(y,d,f){return Aa.apply(this,arguments)}(this._delegate,f,C))}signInWithPopup(f){var C=this;return(0,D.Z)(function*(){return Jc(Ka(),C._delegate,"operation-not-supported-in-this-environment"),os(C._delegate,function(y,d,f){return Pa.apply(this,arguments)}(C._delegate,f,yr))})()}signInWithRedirect(f){var C=this;return(0,D.Z)(function*(){return Jc(Ka(),C._delegate,"operation-not-supported-in-this-environment"),yield Kn(C._delegate),function(y,d,f){return function(y,d,f){return Io.apply(this,arguments)}(y,d,f)}(C._delegate,f,yr)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function(y,d){return vo.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Fs,y})();function rc(y,d,f){let C=y;"function"!=typeof y&&({next:C,error:d,complete:f}=y);const k=C;return{next:ve=>k(ve&&pl.getOrCreate(ve)),error:d,complete:f}}class da{constructor(){this.providerId="phone",this._delegate=new ze(Qc(m.Z.auth()))}static credential(d,f){return ze.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}da.PHONE_SIGN_IN_METHOD=ze.PHONE_SIGN_IN_METHOD,da.PROVIDER_ID=ze.PROVIDER_ID;const wf=rt;class If{constructor(d,f,C=m.Z.app()){var k;wf(null===(k=C.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Hc(d,f,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new bt.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),C=d.getProvider("auth");return new pd(f,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:x,FacebookAuthProvider:ct,GithubAuthProvider:ut,GoogleAuthProvider:Pt,OAuthProvider:Ze,SAMLAuthProvider:Rn,PhoneAuthProvider:da,PhoneMultiFactorGenerator:Mc,RecaptchaVerifier:If,TwitterAuthProvider:zn,Auth:pd,AuthCredential:Ts,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.4")}(m.Z)},6676:function(ft,Pe){!function(L){"use strict";function D(Me){return Array.prototype.slice.call(Me)}function m(Me){return new Promise(function(Te,$e){Me.onsuccess=function(){Te(Me.result)},Me.onerror=function(){$e(Me.error)}})}function B(Me,Te,$e){var Ge,Ae=new Promise(function(Ve,Oe){m(Ge=Me[Te].apply(Me,$e)).then(Ve,Oe)});return Ae.request=Ge,Ae}function Ee(Me,Te,$e){var Ge=B(Me,Te,$e);return Ge.then(function(Ae){if(Ae)return new q(Ae,Ge.request)})}function de(Me,Te,$e){$e.forEach(function(Ge){Object.defineProperty(Me.prototype,Ge,{get:function(){return this[Te][Ge]},set:function(Ae){this[Te][Ge]=Ae}})})}function X(Me,Te,$e,Ge){Ge.forEach(function(Ae){Ae in $e.prototype&&(Me.prototype[Ae]=function(){return B(this[Te],Ae,arguments)})})}function oe(Me,Te,$e,Ge){Ge.forEach(function(Ae){Ae in $e.prototype&&(Me.prototype[Ae]=function(){return this[Te][Ae].apply(this[Te],arguments)})})}function ee(Me,Te,$e,Ge){Ge.forEach(function(Ae){Ae in $e.prototype&&(Me.prototype[Ae]=function(){return Ee(this[Te],Ae,arguments)})})}function ie(Me){this._index=Me}function q(Me,Te){this._cursor=Me,this._request=Te}function J(Me){this._store=Me}function G(Me){this._tx=Me,this.complete=new Promise(function(Te,$e){Me.oncomplete=function(){Te()},Me.onerror=function(){$e(Me.error)},Me.onabort=function(){$e(Me.error)}})}function fe(Me,Te,$e){this._db=Me,this.oldVersion=Te,this.transaction=new G($e)}function xe(Me){this._db=Me}de(ie,"_index",["name","keyPath","multiEntry","unique"]),X(ie,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ee(ie,"_index",IDBIndex,["openCursor","openKeyCursor"]),de(q,"_cursor",["direction","key","primaryKey","value"]),X(q,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Me){Me in IDBCursor.prototype&&(q.prototype[Me]=function(){var Te=this,$e=arguments;return Promise.resolve().then(function(){return Te._cursor[Me].apply(Te._cursor,$e),m(Te._request).then(function(Ge){if(Ge)return new q(Ge,Te._request)})})})}),J.prototype.createIndex=function(){return new ie(this._store.createIndex.apply(this._store,arguments))},J.prototype.index=function(){return new ie(this._store.index.apply(this._store,arguments))},de(J,"_store",["name","keyPath","indexNames","autoIncrement"]),X(J,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ee(J,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),oe(J,"_store",IDBObjectStore,["deleteIndex"]),G.prototype.objectStore=function(){return new J(this._tx.objectStore.apply(this._tx,arguments))},de(G,"_tx",["objectStoreNames","mode"]),oe(G,"_tx",IDBTransaction,["abort"]),fe.prototype.createObjectStore=function(){return new J(this._db.createObjectStore.apply(this._db,arguments))},de(fe,"_db",["name","version","objectStoreNames"]),oe(fe,"_db",IDBDatabase,["deleteObjectStore","close"]),xe.prototype.transaction=function(){return new G(this._db.transaction.apply(this._db,arguments))},de(xe,"_db",["name","version","objectStoreNames"]),oe(xe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Me){[J,ie].forEach(function(Te){Me in Te.prototype&&(Te.prototype[Me.replace("open","iterate")]=function(){var $e=D(arguments),Ge=$e[$e.length-1],Ae=this._store||this._index,Ve=Ae[Me].apply(Ae,$e.slice(0,-1));Ve.onsuccess=function(){Ge(Ve.result)}})})}),[ie,J].forEach(function(Me){Me.prototype.getAll||(Me.prototype.getAll=function(Te,$e){var Ge=this,Ae=[];return new Promise(function(Ve){Ge.iterateCursor(Te,function(Oe){Oe?(Ae.push(Oe.value),void 0===$e||Ae.length!=$e?Oe.continue():Ve(Ae)):Ve(Ae)})})})}),L.openDb=function(Me,Te,$e){var Ge=B(indexedDB,"open",[Me,Te]),Ae=Ge.request;return Ae&&(Ae.onupgradeneeded=function(Ve){$e&&$e(new fe(Ae.result,Ve.oldVersion,Ae.transaction))}),Ge.then(function(Ve){return new xe(Ve)})},L.deleteDb=function(Me){return B(indexedDB,"deleteDatabase",[Me])},Object.defineProperty(L,"__esModule",{value:!0})}(Pe)},6215:(ft,Pe,L)=>{"use strict";L.d(Pe,{X:()=>B});var D=L(9765),m=L(7971);class B extends D.xQ{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const X=super._subscribe(de);return X&&!X.closed&&de.next(this._value),X}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new m.N;return this._value}next(de){super.next(this._value=de)}}},7574:(ft,Pe,L)=>{"use strict";L.d(Pe,{y:()=>J});var D=L(7393),B=L(9181),Ee=L(6490),X=L(6554),oe=L(4487);var q=L(2494);let J=(()=>{class fe{constructor(je){this._isScalar=!1,je&&(this._subscribe=je)}lift(je){const Ue=new fe;return Ue.source=this,Ue.operator=je,Ue}subscribe(je,Ue,Me){const{operator:Te}=this,$e=function(fe,xe,je){if(fe){if(fe instanceof D.L)return fe;if(fe[B.b])return fe[B.b]()}return fe||xe||je?new D.L(fe,xe,je):new D.L(Ee.c)}(je,Ue,Me);if($e.add(Te?Te.call($e,this.source):this.source||q.v.useDeprecatedSynchronousErrorHandling&&!$e.syncErrorThrowable?this._subscribe($e):this._trySubscribe($e)),q.v.useDeprecatedSynchronousErrorHandling&&$e.syncErrorThrowable&&($e.syncErrorThrowable=!1,$e.syncErrorThrown))throw $e.syncErrorValue;return $e}_trySubscribe(je){try{return this._subscribe(je)}catch(Ue){q.v.useDeprecatedSynchronousErrorHandling&&(je.syncErrorThrown=!0,je.syncErrorValue=Ue),function(fe){for(;fe;){const{closed:xe,destination:je,isStopped:Ue}=fe;if(xe||Ue)return!1;fe=je&&je instanceof D.L?je:null}return!0}(je)?je.error(Ue):console.warn(Ue)}}forEach(je,Ue){return new(Ue=G(Ue))((Me,Te)=>{let $e;$e=this.subscribe(Ge=>{try{je(Ge)}catch(Ae){Te(Ae),$e&&$e.unsubscribe()}},Te,Me)})}_subscribe(je){const{source:Ue}=this;return Ue&&Ue.subscribe(je)}[X.L](){return this}pipe(...je){return 0===je.length?this:function(fe){return 0===fe.length?oe.y:1===fe.length?fe[0]:function(je){return fe.reduce((Ue,Me)=>Me(Ue),je)}}(je)(this)}toPromise(je){return new(je=G(je))((Ue,Me)=>{let Te;this.subscribe($e=>Te=$e,$e=>Me($e),()=>Ue(Te))})}}return fe.create=xe=>new fe(xe),fe})();function G(fe){if(fe||(fe=q.v.Promise||Promise),!fe)throw new Error("no Promise impl found");return fe}},6490:(ft,Pe,L)=>{"use strict";L.d(Pe,{c:()=>B});var D=L(2494),m=L(4449);const B={closed:!0,next(Ee){},error(Ee){if(D.v.useDeprecatedSynchronousErrorHandling)throw Ee;(0,m.z)(Ee)},complete(){}}},5197:(ft,Pe,L)=>{"use strict";L.d(Pe,{L:()=>m});var D=L(7393);class m extends D.L{notifyNext(Ee,de,X,oe,ee){this.destination.next(de)}notifyError(Ee,de){this.destination.error(Ee)}notifyComplete(Ee){this.destination.complete()}}},9765:(ft,Pe,L)=>{"use strict";L.d(Pe,{Yc:()=>oe,xQ:()=>ee});var D=L(7574),m=L(7393),B=L(5319),Ee=L(7971),de=L(8858),X=L(9181);class oe extends m.L{constructor(J){super(J),this.destination=J}}let ee=(()=>{class q extends D.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[X.b](){return new oe(this)}lift(G){const fe=new ie(this,this);return fe.operator=G,fe}next(G){if(this.closed)throw new Ee.N;if(!this.isStopped){const{observers:fe}=this,xe=fe.length,je=fe.slice();for(let Ue=0;Ue<xe;Ue++)je[Ue].next(G)}}error(G){if(this.closed)throw new Ee.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:fe}=this,xe=fe.length,je=fe.slice();for(let Ue=0;Ue<xe;Ue++)je[Ue].error(G);this.observers.length=0}complete(){if(this.closed)throw new Ee.N;this.isStopped=!0;const{observers:G}=this,fe=G.length,xe=G.slice();for(let je=0;je<fe;je++)xe[je].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new Ee.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new Ee.N;return this.hasError?(G.error(this.thrownError),B.w.EMPTY):this.isStopped?(G.complete(),B.w.EMPTY):(this.observers.push(G),new de.W(this,G))}asObservable(){const G=new D.y;return G.source=this,G}}return q.create=(J,G)=>new ie(J,G),q})();class ie extends ee{constructor(J,G){super(),this.destination=J,this.source=G}next(J){const{destination:G}=this;G&&G.next&&G.next(J)}error(J){const{destination:G}=this;G&&G.error&&this.destination.error(J)}complete(){const{destination:J}=this;J&&J.complete&&this.destination.complete()}_subscribe(J){const{source:G}=this;return G?this.source.subscribe(J):B.w.EMPTY}}},8858:(ft,Pe,L)=>{"use strict";L.d(Pe,{W:()=>m});var D=L(5319);class m extends D.w{constructor(Ee,de){super(),this.subject=Ee,this.subscriber=de,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ee=this.subject,de=Ee.observers;if(this.subject=null,!de||0===de.length||Ee.isStopped||Ee.closed)return;const X=de.indexOf(this.subscriber);-1!==X&&de.splice(X,1)}}},7393:(ft,Pe,L)=>{"use strict";L.d(Pe,{L:()=>oe});var D=L(9105),m=L(6490),B=L(5319),Ee=L(9181),de=L(2494),X=L(4449);class oe extends B.w{constructor(q,J,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=m.c;break;case 1:if(!q){this.destination=m.c;break}if("object"==typeof q){q instanceof oe?(this.syncErrorThrowable=q.syncErrorThrowable,this.destination=q,q.add(this)):(this.syncErrorThrowable=!0,this.destination=new ee(this,q));break}default:this.syncErrorThrowable=!0,this.destination=new ee(this,q,J,G)}}[Ee.b](){return this}static create(q,J,G){const fe=new oe(q,J,G);return fe.syncErrorThrowable=!1,fe}next(q){this.isStopped||this._next(q)}error(q){this.isStopped||(this.isStopped=!0,this._error(q))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(q){this.destination.next(q)}_error(q){this.destination.error(q),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:q}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=q,this}}class ee extends oe{constructor(q,J,G,fe){super(),this._parentSubscriber=q;let xe,je=this;(0,D.m)(J)?xe=J:J&&(xe=J.next,G=J.error,fe=J.complete,J!==m.c&&(je=Object.create(J),(0,D.m)(je.unsubscribe)&&this.add(je.unsubscribe.bind(je)),je.unsubscribe=this.unsubscribe.bind(this))),this._context=je,this._next=xe,this._error=G,this._complete=fe}next(q){if(!this.isStopped&&this._next){const{_parentSubscriber:J}=this;de.v.useDeprecatedSynchronousErrorHandling&&J.syncErrorThrowable?this.__tryOrSetError(J,this._next,q)&&this.unsubscribe():this.__tryOrUnsub(this._next,q)}}error(q){if(!this.isStopped){const{_parentSubscriber:J}=this,{useDeprecatedSynchronousErrorHandling:G}=de.v;if(this._error)G&&J.syncErrorThrowable?(this.__tryOrSetError(J,this._error,q),this.unsubscribe()):(this.__tryOrUnsub(this._error,q),this.unsubscribe());else if(J.syncErrorThrowable)G?(J.syncErrorValue=q,J.syncErrorThrown=!0):(0,X.z)(q),this.unsubscribe();else{if(this.unsubscribe(),G)throw q;(0,X.z)(q)}}}complete(){if(!this.isStopped){const{_parentSubscriber:q}=this;if(this._complete){const J=()=>this._complete.call(this._context);de.v.useDeprecatedSynchronousErrorHandling&&q.syncErrorThrowable?(this.__tryOrSetError(q,J),this.unsubscribe()):(this.__tryOrUnsub(J),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(q,J){try{q.call(this._context,J)}catch(G){if(this.unsubscribe(),de.v.useDeprecatedSynchronousErrorHandling)throw G;(0,X.z)(G)}}__tryOrSetError(q,J,G){if(!de.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{J.call(this._context,G)}catch(fe){return de.v.useDeprecatedSynchronousErrorHandling?(q.syncErrorValue=fe,q.syncErrorThrown=!0,!0):((0,X.z)(fe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:q}=this;this._context=null,this._parentSubscriber=null,q.unsubscribe()}}},5319:(ft,Pe,L)=>{"use strict";L.d(Pe,{w:()=>X});var D=L(9796),m=L(1555),B=L(9105);const de=(()=>{function ee(ie){return Error.call(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((q,J)=>`${J+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie,this}return ee.prototype=Object.create(Error.prototype),ee})();class X{constructor(ie){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ie&&(this._ctorUnsubscribe=!0,this._unsubscribe=ie)}unsubscribe(){let ie;if(this.closed)return;let{_parentOrParents:q,_ctorUnsubscribe:J,_unsubscribe:G,_subscriptions:fe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,q instanceof X)q.remove(this);else if(null!==q)for(let xe=0;xe<q.length;++xe)q[xe].remove(this);if((0,B.m)(G)){J&&(this._unsubscribe=void 0);try{G.call(this)}catch(xe){ie=xe instanceof de?oe(xe.errors):[xe]}}if((0,D.k)(fe)){let xe=-1,je=fe.length;for(;++xe<je;){const Ue=fe[xe];if((0,m.K)(Ue))try{Ue.unsubscribe()}catch(Me){ie=ie||[],Me instanceof de?ie=ie.concat(oe(Me.errors)):ie.push(Me)}}}if(ie)throw new de(ie)}add(ie){let q=ie;if(!ie)return X.EMPTY;switch(typeof ie){case"function":q=new X(ie);case"object":if(q===this||q.closed||"function"!=typeof q.unsubscribe)return q;if(this.closed)return q.unsubscribe(),q;if(!(q instanceof X)){const fe=q;q=new X,q._subscriptions=[fe]}break;default:throw new Error("unrecognized teardown "+ie+" added to Subscription.")}let{_parentOrParents:J}=q;if(null===J)q._parentOrParents=this;else if(J instanceof X){if(J===this)return q;q._parentOrParents=[J,this]}else{if(-1!==J.indexOf(this))return q;J.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[q]:G.push(q),q}remove(ie){const q=this._subscriptions;if(q){const J=q.indexOf(ie);-1!==J&&q.splice(J,1)}}}var ee;function oe(ee){return ee.reduce((ie,q)=>ie.concat(q instanceof de?q.errors:q),[])}X.EMPTY=((ee=new X).closed=!0,ee)},2494:(ft,Pe,L)=>{"use strict";L.d(Pe,{v:()=>m});let D=!1;const m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(B){if(B){const Ee=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ee.stack)}else D&&console.log("RxJS: Back to a better error behavior. Thank you. <3");D=B},get useDeprecatedSynchronousErrorHandling(){return D}}},5345:(ft,Pe,L)=>{"use strict";L.d(Pe,{IY:()=>Ee,Ds:()=>X,ft:()=>ee});var D=L(7393),m=L(7574),B=L(7444);class Ee extends D.L{constructor(q){super(),this.parent=q}_next(q){this.parent.notifyNext(q)}_error(q){this.parent.notifyError(q),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class X extends D.L{notifyNext(q){this.destination.next(q)}notifyError(q){this.destination.error(q)}notifyComplete(){this.destination.complete()}}function ee(ie,q){if(q.closed)return;if(ie instanceof m.y)return ie.subscribe(q);let J;try{J=(0,B.s)(ie)(q)}catch(G){q.error(G)}return J}},2441:(ft,Pe,L)=>{"use strict";L.d(Pe,{c:()=>de,N:()=>X});var D=L(9765),m=L(7574),B=L(5319),Ee=L(1307);class de extends m.y{constructor(J,G){super(),this.source=J,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let J=this._connection;return J||(this._isComplete=!1,J=this._connection=new B.w,J.add(this.source.subscribe(new oe(this.getSubject(),this))),J.closed&&(this._connection=null,J=B.w.EMPTY)),J}refCount(){return(0,Ee.x)()(this)}}const X=(()=>{const q=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:q._subscribe},_isComplete:{value:q._isComplete,writable:!0},getSubject:{value:q.getSubject},connect:{value:q.connect},refCount:{value:q.refCount}}})();class oe extends D.Yc{constructor(J,G){super(J),this.connectable=G}_error(J){this._unsubscribe(),super._error(J)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const J=this.connectable;if(J){this.connectable=null;const G=J._connection;J._refCount=0,J._subject=null,J._connection=null,G&&G.unsubscribe()}}}},9112:(ft,Pe,L)=>{"use strict";L.d(Pe,{aj:()=>oe});var D=L(4869),m=L(9796),B=L(5197),Ee=L(509),de=L(6693);const X={};function oe(...q){let J,G;return(0,D.K)(q[q.length-1])&&(G=q.pop()),"function"==typeof q[q.length-1]&&(J=q.pop()),1===q.length&&(0,m.k)(q[0])&&(q=q[0]),(0,de.n)(q,G).lift(new ee(J))}class ee{constructor(J){this.resultSelector=J}call(J,G){return G.subscribe(new ie(J,this.resultSelector))}}class ie extends B.L{constructor(J,G){super(J),this.resultSelector=G,this.active=0,this.values=[],this.observables=[]}_next(J){this.values.push(X),this.observables.push(J)}_complete(){const J=this.observables,G=J.length;if(0===G)this.destination.complete();else{this.active=G,this.toRespond=G;for(let fe=0;fe<G;fe++)this.add((0,Ee.D)(this,J[fe],void 0,fe))}}notifyComplete(J){0==(this.active-=1)&&this.destination.complete()}notifyNext(J,G,fe){const xe=this.values,Ue=this.toRespond?xe[fe]===X?--this.toRespond:this.toRespond:0;xe[fe]=G,0===Ue&&(this.resultSelector?this._tryResultSelector(xe):this.destination.next(xe.slice()))}_tryResultSelector(J){let G;try{G=this.resultSelector.apply(this,J)}catch(fe){return void this.destination.error(fe)}this.destination.next(G)}}},9193:(ft,Pe,L)=>{"use strict";L.d(Pe,{E:()=>m,c:()=>B});var D=L(7574);const m=new D.y(de=>de.complete());function B(de){return de?function(de){return new D.y(X=>de.schedule(()=>X.complete()))}(de):m}},4402:(ft,Pe,L)=>{"use strict";L.d(Pe,{D:()=>je});var D=L(7574),m=L(7444),B=L(5319),Ee=L(6554),oe=L(4087),ee=L(377),J=L(4072),G=L(9489);function je(Ue,Me){return Me?function(Ue,Me){if(null!=Ue){if(function(Ue){return Ue&&"function"==typeof Ue[Ee.L]}(Ue))return function(Ue,Me){return new D.y(Te=>{const $e=new B.w;return $e.add(Me.schedule(()=>{const Ge=Ue[Ee.L]();$e.add(Ge.subscribe({next(Ae){$e.add(Me.schedule(()=>Te.next(Ae)))},error(Ae){$e.add(Me.schedule(()=>Te.error(Ae)))},complete(){$e.add(Me.schedule(()=>Te.complete()))}}))})),$e})}(Ue,Me);if((0,J.t)(Ue))return function(Ue,Me){return new D.y(Te=>{const $e=new B.w;return $e.add(Me.schedule(()=>Ue.then(Ge=>{$e.add(Me.schedule(()=>{Te.next(Ge),$e.add(Me.schedule(()=>Te.complete()))}))},Ge=>{$e.add(Me.schedule(()=>Te.error(Ge)))}))),$e})}(Ue,Me);if((0,G.z)(Ue))return(0,oe.r)(Ue,Me);if(function(Ue){return Ue&&"function"==typeof Ue[ee.hZ]}(Ue)||"string"==typeof Ue)return function(Ue,Me){if(!Ue)throw new Error("Iterable cannot be null");return new D.y(Te=>{const $e=new B.w;let Ge;return $e.add(()=>{Ge&&"function"==typeof Ge.return&&Ge.return()}),$e.add(Me.schedule(()=>{Ge=Ue[ee.hZ](),$e.add(Me.schedule(function(){if(Te.closed)return;let Ae,Ve;try{const Oe=Ge.next();Ae=Oe.value,Ve=Oe.done}catch(Oe){return void Te.error(Oe)}Ve?Te.complete():(Te.next(Ae),this.schedule())}))})),$e})}(Ue,Me)}throw new TypeError((null!==Ue&&typeof Ue||Ue)+" is not observable")}(Ue,Me):Ue instanceof D.y?Ue:new D.y((0,m.s)(Ue))}},6693:(ft,Pe,L)=>{"use strict";L.d(Pe,{n:()=>Ee});var D=L(7574),m=L(5015),B=L(4087);function Ee(de,X){return X?(0,B.r)(de,X):new D.y((0,m.V)(de))}},2759:(ft,Pe,L)=>{"use strict";L.d(Pe,{R:()=>X});var D=L(7574),m=L(9796),B=L(9105),Ee=L(8002);function X(J,G,fe,xe){return(0,B.m)(fe)&&(xe=fe,fe=void 0),xe?X(J,G,fe).pipe((0,Ee.U)(je=>(0,m.k)(je)?xe(...je):xe(je))):new D.y(je=>{oe(J,G,function(Me){je.next(arguments.length>1?Array.prototype.slice.call(arguments):Me)},je,fe)})}function oe(J,G,fe,xe,je){let Ue;if(function(J){return J&&"function"==typeof J.addEventListener&&"function"==typeof J.removeEventListener}(J)){const Me=J;J.addEventListener(G,fe,je),Ue=()=>Me.removeEventListener(G,fe,je)}else if(function(J){return J&&"function"==typeof J.on&&"function"==typeof J.off}(J)){const Me=J;J.on(G,fe),Ue=()=>Me.off(G,fe)}else if(function(J){return J&&"function"==typeof J.addListener&&"function"==typeof J.removeListener}(J)){const Me=J;J.addListener(G,fe),Ue=()=>Me.removeListener(G,fe)}else{if(!J||!J.length)throw new TypeError("Invalid event target");for(let Me=0,Te=J.length;Me<Te;Me++)oe(J[Me],G,fe,xe,je)}xe.add(Ue)}},6682:(ft,Pe,L)=>{"use strict";L.d(Pe,{T:()=>de});var D=L(7574),m=L(4869),B=L(3282),Ee=L(6693);function de(...X){let oe=Number.POSITIVE_INFINITY,ee=null,ie=X[X.length-1];return(0,m.K)(ie)?(ee=X.pop(),X.length>1&&"number"==typeof X[X.length-1]&&(oe=X.pop())):"number"==typeof ie&&(oe=X.pop()),null===ee&&1===X.length&&X[0]instanceof D.y?X[0]:(0,B.J)(oe)((0,Ee.n)(X,ee))}},5917:(ft,Pe,L)=>{"use strict";L.d(Pe,{of:()=>Ee});var D=L(4869),m=L(6693),B=L(4087);function Ee(...de){let X=de[de.length-1];return(0,D.K)(X)?(de.pop(),(0,B.r)(de,X)):(0,m.n)(de)}},205:(ft,Pe,L)=>{"use strict";L.d(Pe,{_:()=>m});var D=L(7574);function m(Ee,de){return new D.y(de?X=>de.schedule(B,0,{error:Ee,subscriber:X}):X=>X.error(Ee))}function B({error:Ee,subscriber:de}){de.error(Ee)}},5304:(ft,Pe,L)=>{"use strict";L.d(Pe,{K:()=>m});var D=L(5345);function m(de){return function(oe){const ee=new B(de),ie=oe.lift(ee);return ee.caught=ie}}class B{constructor(X){this.selector=X}call(X,oe){return oe.subscribe(new Ee(X,this.selector,this.caught))}}class Ee extends D.Ds{constructor(X,oe,ee){super(X),this.selector=oe,this.caught=ee}error(X){if(!this.isStopped){let oe;try{oe=this.selector(X,this.caught)}catch(q){return void super.error(q)}this._unsubscribeAndRecycle();const ee=new D.IY(this);this.add(ee);const ie=(0,D.ft)(oe,ee);ie!==ee&&this.add(ie)}}}},4612:(ft,Pe,L)=>{"use strict";L.d(Pe,{b:()=>m});var D=L(9773);function m(B,Ee){return(0,D.zg)(B,Ee,1)}},5242:(ft,Pe,L)=>{"use strict";L.d(Pe,{d:()=>m});var D=L(7393);function m(de=null){return X=>X.lift(new B(de))}class B{constructor(X){this.defaultValue=X}call(X,oe){return oe.subscribe(new Ee(X,this.defaultValue))}}class Ee extends D.L{constructor(X,oe){super(X),this.defaultValue=oe,this.isEmpty=!0}_next(X){this.isEmpty=!1,this.destination.next(X)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(ft,Pe,L)=>{"use strict";L.d(Pe,{x:()=>m});var D=L(7393);function m(de,X){return oe=>oe.lift(new B(de,X))}class B{constructor(X,oe){this.compare=X,this.keySelector=oe}call(X,oe){return oe.subscribe(new Ee(X,this.compare,this.keySelector))}}class Ee extends D.L{constructor(X,oe,ee){super(X),this.keySelector=ee,this.hasKey=!1,"function"==typeof oe&&(this.compare=oe)}compare(X,oe){return X===oe}_next(X){let oe;try{const{keySelector:ie}=this;oe=ie?ie(X):X}catch(ie){return this.destination.error(ie)}let ee=!1;if(this.hasKey)try{const{compare:ie}=this;ee=ie(this.key,oe)}catch(ie){return this.destination.error(ie)}else this.hasKey=!0;ee||(this.key=oe,this.destination.next(X))}}},5435:(ft,Pe,L)=>{"use strict";L.d(Pe,{h:()=>m});var D=L(7393);function m(de,X){return function(ee){return ee.lift(new B(de,X))}}class B{constructor(X,oe){this.predicate=X,this.thisArg=oe}call(X,oe){return oe.subscribe(new Ee(X,this.predicate,this.thisArg))}}class Ee extends D.L{constructor(X,oe,ee){super(X),this.predicate=oe,this.thisArg=ee,this.count=0}_next(X){let oe;try{oe=this.predicate.call(this.thisArg,X,this.count++)}catch(ee){return void this.destination.error(ee)}oe&&this.destination.next(X)}}},8939:(ft,Pe,L)=>{"use strict";L.d(Pe,{x:()=>B});var D=L(7393),m=L(5319);function B(X){return oe=>oe.lift(new Ee(X))}class Ee{constructor(oe){this.callback=oe}call(oe,ee){return ee.subscribe(new de(oe,this.callback))}}class de extends D.L{constructor(oe,ee){super(oe),this.add(new m.w(ee))}}},8049:(ft,Pe,L)=>{"use strict";L.d(Pe,{P:()=>oe});var D=L(3410),m=L(5435),B=L(5257),Ee=L(5242),de=L(4635),X=L(4487);function oe(ee,ie){const q=arguments.length>=2;return J=>J.pipe(ee?(0,m.h)((G,fe)=>ee(G,fe,J)):X.y,(0,B.q)(1),q?(0,Ee.d)(ie):(0,de.T)(()=>new D.K))}},8002:(ft,Pe,L)=>{"use strict";L.d(Pe,{U:()=>m});var D=L(7393);function m(de,X){return function(ee){if("function"!=typeof de)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ee.lift(new B(de,X))}}class B{constructor(X,oe){this.project=X,this.thisArg=oe}call(X,oe){return oe.subscribe(new Ee(X,this.project,this.thisArg))}}class Ee extends D.L{constructor(X,oe,ee){super(X),this.project=oe,this.count=0,this.thisArg=ee||this}_next(X){let oe;try{oe=this.project.call(this.thisArg,X,this.count++)}catch(ee){return void this.destination.error(ee)}this.destination.next(oe)}}},3282:(ft,Pe,L)=>{"use strict";L.d(Pe,{J:()=>B});var D=L(9773),m=L(4487);function B(Ee=Number.POSITIVE_INFINITY){return(0,D.zg)(m.y,Ee)}},9773:(ft,Pe,L)=>{"use strict";L.d(Pe,{zg:()=>Ee});var D=L(8002),m=L(4402),B=L(5345);function Ee(ee,ie,q=Number.POSITIVE_INFINITY){return"function"==typeof ie?J=>J.pipe(Ee((G,fe)=>(0,m.D)(ee(G,fe)).pipe((0,D.U)((xe,je)=>ie(G,xe,fe,je))),q)):("number"==typeof ie&&(q=ie),J=>J.lift(new de(ee,q)))}class de{constructor(ie,q=Number.POSITIVE_INFINITY){this.project=ie,this.concurrent=q}call(ie,q){return q.subscribe(new X(ie,this.project,this.concurrent))}}class X extends B.Ds{constructor(ie,q,J=Number.POSITIVE_INFINITY){super(ie),this.project=q,this.concurrent=J,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ie){this.active<this.concurrent?this._tryNext(ie):this.buffer.push(ie)}_tryNext(ie){let q;const J=this.index++;try{q=this.project(ie,J)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(q)}_innerSub(ie){const q=new B.IY(this),J=this.destination;J.add(q);const G=(0,B.ft)(ie,q);G!==q&&J.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ie){this.destination.next(ie)}notifyComplete(){const ie=this.buffer;this.active--,ie.length>0?this._next(ie.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(ft,Pe,L)=>{"use strict";L.d(Pe,{ht:()=>ie,QV:()=>oe});var D=L(7393),m=L(9193),B=L(5917),Ee=L(205);class X{constructor(G,fe,xe){this.kind=G,this.value=fe,this.error=xe,this.hasValue="N"===G}observe(G){switch(this.kind){case"N":return G.next&&G.next(this.value);case"E":return G.error&&G.error(this.error);case"C":return G.complete&&G.complete()}}do(G,fe,xe){switch(this.kind){case"N":return G&&G(this.value);case"E":return fe&&fe(this.error);case"C":return xe&&xe()}}accept(G,fe,xe){return G&&"function"==typeof G.next?this.observe(G):this.do(G,fe,xe)}toObservable(){switch(this.kind){case"N":return(0,B.of)(this.value);case"E":return(0,Ee._)(this.error);case"C":return(0,m.c)()}throw new Error("unexpected notification kind value")}static createNext(G){return void 0!==G?new X("N",G):X.undefinedValueNotification}static createError(G){return new X("E",void 0,G)}static createComplete(){return X.completeNotification}}function oe(J,G=0){return function(xe){return xe.lift(new ee(J,G))}}X.completeNotification=new X("C"),X.undefinedValueNotification=new X("N",void 0);class ee{constructor(G,fe=0){this.scheduler=G,this.delay=fe}call(G,fe){return fe.subscribe(new ie(G,this.scheduler,this.delay))}}class ie extends D.L{constructor(G,fe,xe=0){super(G),this.scheduler=fe,this.delay=xe}static dispatch(G){const{notification:fe,destination:xe}=G;fe.observe(xe),this.unsubscribe()}scheduleMessage(G){this.destination.add(this.scheduler.schedule(ie.dispatch,this.delay,new q(G,this.destination)))}_next(G){this.scheduleMessage(X.createNext(G))}_error(G){this.scheduleMessage(X.createError(G)),this.unsubscribe()}_complete(){this.scheduleMessage(X.createComplete()),this.unsubscribe()}}class q{constructor(G,fe){this.notification=G,this.destination=fe}}},1307:(ft,Pe,L)=>{"use strict";L.d(Pe,{x:()=>m});var D=L(7393);function m(){return function(X){return X.lift(new B(X))}}class B{constructor(X){this.connectable=X}call(X,oe){const{connectable:ee}=this;ee._refCount++;const ie=new Ee(X,ee),q=oe.subscribe(ie);return ie.closed||(ie.connection=ee.connect()),q}}class Ee extends D.L{constructor(X,oe){super(X),this.connectable=oe}_unsubscribe(){const{connectable:X}=this;if(!X)return void(this.connection=null);this.connectable=null;const oe=X._refCount;if(oe<=0)return void(this.connection=null);if(X._refCount=oe-1,oe>1)return void(this.connection=null);const{connection:ee}=this,ie=X._connection;this.connection=null,ie&&(!ee||ie===ee)&&ie.unsubscribe()}}},2145:(ft,Pe,L)=>{"use strict";L.d(Pe,{R:()=>m});var D=L(7393);function m(de,X){let oe=!1;return arguments.length>=2&&(oe=!0),function(ie){return ie.lift(new B(de,X,oe))}}class B{constructor(X,oe,ee=!1){this.accumulator=X,this.seed=oe,this.hasSeed=ee}call(X,oe){return oe.subscribe(new Ee(X,this.accumulator,this.seed,this.hasSeed))}}class Ee extends D.L{constructor(X,oe,ee,ie){super(X),this.accumulator=oe,this._seed=ee,this.hasSeed=ie,this.index=0}get seed(){return this._seed}set seed(X){this.hasSeed=!0,this._seed=X}_next(X){if(this.hasSeed)return this._tryNext(X);this.seed=X,this.destination.next(X)}_tryNext(X){const oe=this.index++;let ee;try{ee=this.accumulator(this.seed,X,oe)}catch(ie){this.destination.error(ie)}this.seed=ee,this.destination.next(ee)}}},8819:(ft,Pe,L)=>{"use strict";L.d(Pe,{B:()=>oe});var D=L(2441);var Ee=L(1307),de=L(9765);function X(){return new de.xQ}function oe(){return ee=>(0,Ee.x)()(function(ee,ie){return function(J){let G;G="function"==typeof ee?ee:function(){return ee};const fe=Object.create(J,D.N);return fe.source=J,fe.subjectFactory=G,fe}}(X)(ee))}},3101:(ft,Pe,L)=>{"use strict";L.d(Pe,{R:()=>Me});var D=L(7574);let m=1;const B=Promise.resolve(),Ee={};function de($e){return $e in Ee&&(delete Ee[$e],!0)}const X={setImmediate($e){const Ge=m++;return Ee[Ge]=!0,B.then(()=>de(Ge)&&$e()),Ge},clearImmediate($e){de($e)}};var ee=L(6465),q=L(6102);const fe=new class extends q.v{flush(Ge){this.active=!0,this.scheduled=void 0;const{actions:Ae}=this;let Ve,Oe=-1,Qe=Ae.length;Ge=Ge||Ae.shift();do{if(Ve=Ge.execute(Ge.state,Ge.delay))break}while(++Oe<Qe&&(Ge=Ae.shift()));if(this.active=!1,Ve){for(;++Oe<Qe&&(Ge=Ae.shift());)Ge.unsubscribe();throw Ve}}}(class extends ee.o{constructor(Ge,Ae){super(Ge,Ae),this.scheduler=Ge,this.work=Ae}requestAsyncId(Ge,Ae,Ve=0){return null!==Ve&&Ve>0?super.requestAsyncId(Ge,Ae,Ve):(Ge.actions.push(this),Ge.scheduled||(Ge.scheduled=X.setImmediate(Ge.flush.bind(Ge,null))))}recycleAsyncId(Ge,Ae,Ve=0){if(null!==Ve&&Ve>0||null===Ve&&this.delay>0)return super.recycleAsyncId(Ge,Ae,Ve);0===Ge.actions.length&&(X.clearImmediate(Ae),Ge.scheduled=void 0)}});var xe=L(9796);class Ue extends D.y{constructor(Ge,Ae=0,Ve=fe){var $e;super(),this.source=Ge,this.delayTime=Ae,this.scheduler=Ve,(!(!(0,xe.k)($e=Ae)&&$e-parseFloat($e)+1>=0)||Ae<0)&&(this.delayTime=0),(!Ve||"function"!=typeof Ve.schedule)&&(this.scheduler=fe)}static create(Ge,Ae=0,Ve=fe){return new Ue(Ge,Ae,Ve)}static dispatch(Ge){const{source:Ae,subscriber:Ve}=Ge;return this.add(Ae.subscribe(Ve))}_subscribe(Ge){return this.scheduler.schedule(Ue.dispatch,this.delayTime,{source:this.source,subscriber:Ge})}}function Me($e,Ge=0){return function(Ve){return Ve.lift(new Te($e,Ge))}}class Te{constructor(Ge,Ae){this.scheduler=Ge,this.delay=Ae}call(Ge,Ae){return new Ue(Ae,this.delay,this.scheduler).subscribe(Ge)}}},3190:(ft,Pe,L)=>{"use strict";L.d(Pe,{w:()=>Ee});var D=L(8002),m=L(4402),B=L(5345);function Ee(oe,ee){return"function"==typeof ee?ie=>ie.pipe(Ee((q,J)=>(0,m.D)(oe(q,J)).pipe((0,D.U)((G,fe)=>ee(q,G,J,fe))))):ie=>ie.lift(new de(oe))}class de{constructor(ee){this.project=ee}call(ee,ie){return ie.subscribe(new X(ee,this.project))}}class X extends B.Ds{constructor(ee,ie){super(ee),this.project=ie,this.index=0}_next(ee){let ie;const q=this.index++;try{ie=this.project(ee,q)}catch(J){return void this.destination.error(J)}this._innerSub(ie)}_innerSub(ee){const ie=this.innerSubscription;ie&&ie.unsubscribe();const q=new B.IY(this),J=this.destination;J.add(q),this.innerSubscription=(0,B.ft)(ee,q),this.innerSubscription!==q&&J.add(this.innerSubscription)}_complete(){const{innerSubscription:ee}=this;(!ee||ee.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ee){this.destination.next(ee)}}},5257:(ft,Pe,L)=>{"use strict";L.d(Pe,{q:()=>Ee});var D=L(7393),m=L(7108),B=L(9193);function Ee(oe){return ee=>0===oe?(0,B.c)():ee.lift(new de(oe))}class de{constructor(ee){if(this.total=ee,this.total<0)throw new m.W}call(ee,ie){return ie.subscribe(new X(ee,this.total))}}class X extends D.L{constructor(ee,ie){super(ee),this.total=ie,this.count=0}_next(ee){const ie=this.total,q=++this.count;q<=ie&&(this.destination.next(ee),q===ie&&(this.destination.complete(),this.unsubscribe()))}}},3342:(ft,Pe,L)=>{"use strict";L.d(Pe,{b:()=>Ee});var D=L(7393);function m(){}var B=L(9105);function Ee(oe,ee,ie){return function(J){return J.lift(new de(oe,ee,ie))}}class de{constructor(ee,ie,q){this.nextOrObserver=ee,this.error=ie,this.complete=q}call(ee,ie){return ie.subscribe(new X(ee,this.nextOrObserver,this.error,this.complete))}}class X extends D.L{constructor(ee,ie,q,J){super(ee),this._tapNext=m,this._tapError=m,this._tapComplete=m,this._tapError=q||m,this._tapComplete=J||m,(0,B.m)(ie)?(this._context=this,this._tapNext=ie):ie&&(this._context=ie,this._tapNext=ie.next||m,this._tapError=ie.error||m,this._tapComplete=ie.complete||m)}_next(ee){try{this._tapNext.call(this._context,ee)}catch(ie){return void this.destination.error(ie)}this.destination.next(ee)}_error(ee){try{this._tapError.call(this._context,ee)}catch(ie){return void this.destination.error(ie)}this.destination.error(ee)}_complete(){try{this._tapComplete.call(this._context)}catch(ee){return void this.destination.error(ee)}return this.destination.complete()}}},4635:(ft,Pe,L)=>{"use strict";L.d(Pe,{T:()=>B});var D=L(3410),m=L(7393);function B(oe=X){return ee=>ee.lift(new Ee(oe))}class Ee{constructor(ee){this.errorFactory=ee}call(ee,ie){return ie.subscribe(new de(ee,this.errorFactory))}}class de extends m.L{constructor(ee,ie){super(ee),this.errorFactory=ie,this.hasValue=!1}_next(ee){this.hasValue=!0,this.destination.next(ee)}_complete(){if(this.hasValue)return this.destination.complete();{let ee;try{ee=this.errorFactory()}catch(ie){ee=ie}this.destination.error(ee)}}}function X(){return new D.K}},4087:(ft,Pe,L)=>{"use strict";L.d(Pe,{r:()=>B});var D=L(7574),m=L(5319);function B(Ee,de){return new D.y(X=>{const oe=new m.w;let ee=0;return oe.add(de.schedule(function(){ee!==Ee.length?(X.next(Ee[ee++]),X.closed||oe.add(this.schedule())):X.complete()})),oe})}},6465:(ft,Pe,L)=>{"use strict";L.d(Pe,{o:()=>B});var D=L(5319);class m extends D.w{constructor(de,X){super()}schedule(de,X=0){return this}}class B extends m{constructor(de,X){super(de,X),this.scheduler=de,this.work=X,this.pending=!1}schedule(de,X=0){if(this.closed)return this;this.state=de;const oe=this.id,ee=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(ee,oe,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(ee,this.id,X),this}requestAsyncId(de,X,oe=0){return setInterval(de.flush.bind(de,this),oe)}recycleAsyncId(de,X,oe=0){if(null!==oe&&this.delay===oe&&!1===this.pending)return X;clearInterval(X)}execute(de,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(de,X);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,X){let ee,oe=!1;try{this.work(de)}catch(ie){oe=!0,ee=!!ie&&ie||new Error(ie)}if(oe)return this.unsubscribe(),ee}_unsubscribe(){const de=this.id,X=this.scheduler,oe=X.actions,ee=oe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ee&&oe.splice(ee,1),null!=de&&(this.id=this.recycleAsyncId(X,de,null)),this.delay=null}}},6102:(ft,Pe,L)=>{"use strict";L.d(Pe,{v:()=>m});let D=(()=>{class B{constructor(de,X=B.now){this.SchedulerAction=de,this.now=X}schedule(de,X=0,oe){return new this.SchedulerAction(this,de).schedule(oe,X)}}return B.now=()=>Date.now(),B})();class m extends D{constructor(Ee,de=D.now){super(Ee,()=>m.delegate&&m.delegate!==this?m.delegate.now():de()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ee,de=0,X){return m.delegate&&m.delegate!==this?m.delegate.schedule(Ee,de,X):super.schedule(Ee,de,X)}flush(Ee){const{actions:de}=this;if(this.active)return void de.push(Ee);let X;this.active=!0;do{if(X=Ee.execute(Ee.state,Ee.delay))break}while(Ee=de.shift());if(this.active=!1,X){for(;Ee=de.shift();)Ee.unsubscribe();throw X}}}},3637:(ft,Pe,L)=>{"use strict";L.d(Pe,{z:()=>B,P:()=>Ee});var D=L(6465);const B=new(L(6102).v)(D.o),Ee=B},7771:(ft,Pe,L)=>{"use strict";L.d(Pe,{c:()=>X,N:()=>de});var D=L(6465),B=L(6102);const de=new class extends B.v{}(class extends D.o{constructor(ee,ie){super(ee,ie),this.scheduler=ee,this.work=ie}schedule(ee,ie=0){return ie>0?super.schedule(ee,ie):(this.delay=ie,this.state=ee,this.scheduler.flush(this),this)}execute(ee,ie){return ie>0||this.closed?super.execute(ee,ie):this._execute(ee,ie)}requestAsyncId(ee,ie,q=0){return null!==q&&q>0||null===q&&this.delay>0?super.requestAsyncId(ee,ie,q):ee.flush(this)}}),X=de},377:(ft,Pe,L)=>{"use strict";L.d(Pe,{hZ:()=>m});const m="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ft,Pe,L)=>{"use strict";L.d(Pe,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ft,Pe,L)=>{"use strict";L.d(Pe,{b:()=>D});const D="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(ft,Pe,L)=>{"use strict";L.d(Pe,{W:()=>m});const m=(()=>{function B(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return B.prototype=Object.create(Error.prototype),B})()},3410:(ft,Pe,L)=>{"use strict";L.d(Pe,{K:()=>m});const m=(()=>{function B(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return B.prototype=Object.create(Error.prototype),B})()},7971:(ft,Pe,L)=>{"use strict";L.d(Pe,{N:()=>m});const m=(()=>{function B(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return B.prototype=Object.create(Error.prototype),B})()},4449:(ft,Pe,L)=>{"use strict";function D(m){setTimeout(()=>{throw m},0)}L.d(Pe,{z:()=>D})},4487:(ft,Pe,L)=>{"use strict";function D(m){return m}L.d(Pe,{y:()=>D})},9796:(ft,Pe,L)=>{"use strict";L.d(Pe,{k:()=>D});const D=Array.isArray||(m=>m&&"number"==typeof m.length)},9489:(ft,Pe,L)=>{"use strict";L.d(Pe,{z:()=>D});const D=m=>m&&"number"==typeof m.length&&"function"!=typeof m},9105:(ft,Pe,L)=>{"use strict";function D(m){return"function"==typeof m}L.d(Pe,{m:()=>D})},1555:(ft,Pe,L)=>{"use strict";function D(m){return null!==m&&"object"==typeof m}L.d(Pe,{K:()=>D})},4072:(ft,Pe,L)=>{"use strict";function D(m){return!!m&&"function"!=typeof m.subscribe&&"function"==typeof m.then}L.d(Pe,{t:()=>D})},4869:(ft,Pe,L)=>{"use strict";function D(m){return m&&"function"==typeof m.schedule}L.d(Pe,{K:()=>D})},7444:(ft,Pe,L)=>{"use strict";L.d(Pe,{s:()=>J});var D=L(5015),m=L(4449),Ee=L(377),X=L(6554),ee=L(9489),ie=L(4072),q=L(1555);const J=G=>{if(G&&"function"==typeof G[X.L])return(G=>fe=>{const xe=G[X.L]();if("function"!=typeof xe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return xe.subscribe(fe)})(G);if((0,ee.z)(G))return(0,D.V)(G);if((0,ie.t)(G))return(G=>fe=>(G.then(xe=>{fe.closed||(fe.next(xe),fe.complete())},xe=>fe.error(xe)).then(null,m.z),fe))(G);if(G&&"function"==typeof G[Ee.hZ])return(G=>fe=>{const xe=G[Ee.hZ]();for(;;){let je;try{je=xe.next()}catch(Ue){return fe.error(Ue),fe}if(je.done){fe.complete();break}if(fe.next(je.value),fe.closed)break}return"function"==typeof xe.return&&fe.add(()=>{xe.return&&xe.return()}),fe})(G);{const xe=`You provided ${(0,q.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(xe)}}},5015:(ft,Pe,L)=>{"use strict";L.d(Pe,{V:()=>D});const D=m=>B=>{for(let Ee=0,de=m.length;Ee<de&&!B.closed;Ee++)B.next(m[Ee]);B.complete()}},509:(ft,Pe,L)=>{"use strict";L.d(Pe,{D:()=>de});var D=L(7393);class m extends D.L{constructor(oe,ee,ie){super(),this.parent=oe,this.outerValue=ee,this.outerIndex=ie,this.index=0}_next(oe){this.parent.notifyNext(this.outerValue,oe,this.outerIndex,this.index++,this)}_error(oe){this.parent.notifyError(oe,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var B=L(7444),Ee=L(7574);function de(X,oe,ee,ie,q=new m(X,ee,ie)){if(!q.closed)return oe instanceof Ee.y?oe.subscribe(q):(0,B.s)(oe)(q)}},2570:(ft,Pe,L)=>{"use strict";L.d(Pe,{n:()=>Ee});var D=L(8583),m=L(6215),B=L(7716);let Ee=(()=>{class de{constructor(oe){this.document=oe,this.imageUrl=new m.X(null)}setImage(oe){this.imageUrl.next(oe)}removeImage(){this.imageUrl.next(null)}}return de.\u0275fac=function(oe){return new(oe||de)(B.LFG(D.K0))},de.\u0275prov=B.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},8914:(ft,Pe,L)=>{"use strict";L.d(Pe,{o:()=>ie});var D=L(5917),m=L(8002),B=L(5257),Ee=L(3190),de=L(2340),X=L(6962),oe=L(7716),ee=L(1841);let ie=(()=>{class q{constructor(G){this.http=G,this.apiKey=de.N.tmdbApiKEy,this.apiUrl="https://api.themoviedb.org/3"}getConfig(){return this.http.get(`${this.apiUrl}/configuration?api_key=${this.apiKey}`).pipe((0,m.U)(G=>this.config=G))}setConfig(){this.http.get(`${this.apiUrl}/configuration?api_key=${this.apiKey}`).subscribe(G=>this.config=G)}getPopular(){return this.get("/movie/popular").pipe((0,m.U)(G=>Object.assign(Object.assign({},G),{results:this.formatResultsToMovieData(G.results)})))}getImagePath(G,fe=X.w.w342){return G?("/"!==G[0]&&(G=`/${G}`),`${this.config.images.secure_base_url}${this.config.images.poster_sizes[fe]}${G}`):""}getBackdropPath(G,fe=X.w.w342){return this.config?(0,D.of)(`${this.config.images.secure_base_url}${this.config.images.poster_sizes[fe]}${G}`).pipe((0,B.q)(1)):this.getConfig().pipe((0,Ee.w)(()=>(0,D.of)(`${this.config.images.secure_base_url}${this.config.images.poster_sizes[fe]}${G}`)),(0,B.q)(1))}getGenres(){return this.get("/genre/movie/list").pipe((0,m.U)(G=>G.genres))}getUpcoming(){return this.get("/movie/upcoming").pipe((0,m.U)(G=>Object.assign(Object.assign({},G),{results:this.formatResultsToComingMovieData(G.results)})))}getMovie(G){return this.get(`/movie/${G}`)}getDiscoverMovieBy(G){const fe=Object.keys(G).map(xe=>`${xe}=${G[xe]}`).join("&");return this.get("/discover/movie",fe).pipe((0,m.U)(xe=>Object.assign(Object.assign({},xe),{results:this.formatResultsToMovieData(xe.results)})))}getMovieCredits(G){return this.get(`/movie/${G}/credits`)}getMovieImages(G){return this.get(`/movie/${G}/images`)}getMovieVideos(G){return this.get(`/movie/${G}/videos`)}formatResultsToMovieData(G){return G.map(({id:fe,genre_ids:xe,title:je,poster_path:Ue,vote_average:Me,adult:Te})=>({id:fe,gengres:xe,title:je,coverUrl:Ue,duration:Me,pg:Te?"18+":"p"}))}formatResultsToComingMovieData(G){return this.formatResultsToMovieData(G).map((fe,xe)=>Object.assign(Object.assign({},fe),{comingDate:G[xe].release_date}))}get(G,fe){return this.http.get(`${this.apiUrl}${G}?api_key=${this.apiKey}${fe?`&${fe}`:""}`)}}return q.\u0275fac=function(G){return new(G||q)(oe.LFG(ee.eN))},q.\u0275prov=oe.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},6962:(ft,Pe,L)=>{"use strict";L.d(Pe,{w:()=>D});var D=(()=>{return(m=D||(D={}))[m.w92=0]="w92",m[m.w154=1]="w154",m[m.w185=2]="w185",m[m.w342=3]="w342",m[m.w500=4]="w500",m[m.w780=5]="w780",m[m.original=6]="original",D;var m})()},910:(ft,Pe,L)=>{"use strict";L.d(Pe,{k:()=>Au});var D=L(7716),m=L(3637),B=L(7574),Ee=L(5917),de=L(6682),X=L(8002),oe=L(8819),ee=L(3190),ie=L(2145),q=L(7519),J=L(5197),G=L(509);class xe{constructor(i,s){this.observables=i,this.project=s}call(i,s){return s.subscribe(new je(i,this.observables,this.project))}}class je extends J.L{constructor(i,s,h){super(i),this.observables=s,this.project=h,this.toRespond=[];const v=s.length;this.values=new Array(v);for(let T=0;T<v;T++)this.toRespond.push(T);for(let T=0;T<v;T++)this.add((0,G.D)(this,s[T],void 0,T))}notifyNext(i,s,h){this.values[h]=s;const v=this.toRespond;if(v.length>0){const T=v.indexOf(h);-1!==T&&v.splice(T,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const s=[i,...this.values];this.project?this._tryProject(s):this.destination.next(s)}}_tryProject(i){let s;try{s=this.project.apply(this,i)}catch(h){return void this.destination.error(h)}this.destination.next(s)}}var Ue=L(7393);class Te{constructor(i){this.predicate=i}call(i,s){return s.subscribe(new $e(i,this.predicate))}}class $e extends Ue.L{constructor(i,s){super(i),this.predicate=s,this.skipping=!0,this.index=0}_next(i){const s=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||s.next(i)}tryCallPredicate(i){try{const s=this.predicate(i,this.index++);this.skipping=Boolean(s)}catch(s){this.destination.error(s)}}}var Ge=L(5096),Ae=L(8747),Oe=(L(2755),L(3394)),Qe=L(3910),ht=L(8239),pt=L(8026),Y=L(3854),mt=L(5422);const Wt="@firebase/database";let tn="";function bt(a){tn=a}class Lr{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,s){null==s?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,Y.Pz)(s))}get(i){const s=this.domStorage_.getItem(this.prefixedName_(i));return null==s?null:(0,Y.cI)(s)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class tr{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,s){null==s?delete this.cache_[i]:this.cache_[i]=s}get(i){return(0,Y.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const $n=function(a){try{if("undefined"!=typeof window&&void 0!==window[a]){const i=window[a];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new Lr(i)}}catch(i){}return new tr},Zn=$n("localStorage"),yn=$n("sessionStorage"),an=new mt.Yd("@firebase/database"),Ir=function(){let a=1;return function(){return a++}}(),ri=function(a){const i=(0,Y.dS)(a),s=new Y.gQ;s.update(i);const h=s.digest();return Y.US.encodeByteArray(h)},vr=function(...a){let i="";for(let s=0;s<a.length;s++){const h=a[s];Array.isArray(h)||h&&"object"==typeof h&&"number"==typeof h.length?i+=vr.apply(null,h):i+="object"==typeof h?(0,Y.Pz)(h):h,i+=" "}return i};let En=null,ii=!0;const Wn=function(a,i){(0,Y.hu)(!i||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?(an.logLevel=mt.in.VERBOSE,En=an.log.bind(an),i&&yn.set("logging_enabled",!0)):"function"==typeof a?En=a:(En=null,yn.remove("logging_enabled"))},dn=function(...a){if(!0===ii&&(ii=!1,null===En&&!0===yn.get("logging_enabled")&&Wn(!0)),En){const i=vr.apply(null,a);En(i)}},qt=function(a){return function(...i){dn(a,...i)}},Mn=function(...a){const i="FIREBASE INTERNAL ERROR: "+vr(...a);an.error(i)},Dr=function(...a){const i=`FIREBASE FATAL ERROR: ${vr(...a)}`;throw an.error(i),new Error(i)},On=function(...a){const i="FIREBASE WARNING: "+vr(...a);an.warn(i)},rt=function(a){return"number"==typeof a&&(a!=a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},rn="[MIN_NAME]",vt="[MAX_NAME]",Xt=function(a,i){if(a===i)return 0;if(a===rn||i===vt)return-1;if(i===rn||a===vt)return 1;{const s=vn(a),h=vn(i);return null!==s?null!==h?s-h==0?a.length-i.length:s-h:-1:null!==h?1:a<i?-1:1}},jt=function(a,i){return a===i?0:a<i?-1:1},Sr=function(a,i){if(i&&a in i)return i[a];throw new Error("Missing required key ("+a+") in object: "+(0,Y.Pz)(i))},ke=function(a){if("object"!=typeof a||null===a)return(0,Y.Pz)(a);const i=[];for(const h in a)i.push(h);i.sort();let s="{";for(let h=0;h<i.length;h++)0!==h&&(s+=","),s+=(0,Y.Pz)(i[h]),s+=":",s+=ke(a[i[h]]);return s+="}",s},ce=function(a,i){const s=a.length;if(s<=i)return[a];const h=[];for(let v=0;v<s;v+=i)h.push(a.substring(v,v+i>s?s:v+i));return h};function he(a,i){for(const s in a)a.hasOwnProperty(s)&&i(s,a[s])}const qe=function(a){(0,Y.hu)(!rt(a),"Invalid JSON number");const h=1023;let v,T,M,H,te;0===a?(T=0,M=0,v=1/a==-1/0?1:0):(v=a<0,(a=Math.abs(a))>=Math.pow(2,1-h)?(H=Math.min(Math.floor(Math.log(a)/Math.LN2),h),T=H+h,M=Math.round(a*Math.pow(2,52-H)-Math.pow(2,52))):(T=0,M=Math.round(a/Math.pow(2,-1074))));const ge=[];for(te=52;te;te-=1)ge.push(M%2?1:0),M=Math.floor(M/2);for(te=11;te;te-=1)ge.push(T%2?1:0),T=Math.floor(T/2);ge.push(v?1:0),ge.reverse();const We=ge.join("");let Se="";for(te=0;te<64;te+=8){let tt=parseInt(We.substr(te,8),2).toString(16);1===tt.length&&(tt="0"+tt),Se+=tt}return Se.toLowerCase()},Ct=new RegExp("^-?(0*)\\d{1,10}$"),hn=-2147483648,nr=2147483647,vn=function(a){if(Ct.test(a)){const i=Number(a);if(i>=hn&&i<=nr)return i}return null},At=function(a){try{a()}catch(i){setTimeout(()=>{throw On("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},un=function(a,i){const s=setTimeout(a,i);return"object"==typeof s&&s.unref&&s.unref(),s};class me{constructor(i,s){this.appName_=i,this.appCheckProvider=s,this.appCheck=null==s?void 0:s.getImmediate({optional:!0}),this.appCheck||null==s||s.get().then(h=>this.appCheck=h)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((s,h)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(s,h):s(null)},0)})}addTokenChangeListener(i){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(h=>h.addTokenListener(i))}notifyForInvalidToken(){On(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ae{constructor(i,s,h){this.appName_=i,this.firebaseOptions_=s,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(v=>this.auth_=v)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(s=>s&&"auth/token-not-initialized"===s.code?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,h)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(s,h):s(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(s=>s.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(s=>s.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(i)}}let Ce=(()=>{class a{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return a.OWNER="owner",a})();const sr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Or="websocket",si="long_polling";class Is{constructor(i,s,h,v,T=!1,M="",H=!1){this.secure=s,this.namespace=h,this.webSocketOnly=v,this.nodeAdmin=T,this.persistenceKey=M,this.includeNamespaceInQueryParams=H,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zn.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Zn.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Us(a,i,s){let h;if((0,Y.hu)("string"==typeof i,"typeof type must == string"),(0,Y.hu)("object"==typeof s,"typeof params must == object"),i===Or)h=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else{if(i!==si)throw new Error("Unknown connection type: "+i);h=(a.secure?"https://":"http://")+a.internalHost+"/.lp?"}(function(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams})(a)&&(s.ns=a.namespace);const v=[];return he(s,(T,M)=>{v.push(T+"="+M)}),h+v.join("&")}class qi{constructor(){this.counters_={}}incrementCounter(i,s=1){(0,Y.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=s}get(){return(0,Y.p$)(this.counters_)}}const Li={},Er={};function Cr(a){const i=a.toString();return Li[i]||(Li[i]=new qi),Li[i]}class Yr{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,s){this.closeAfterResponse=i,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,s){for(this.pendingResponses[i]=s;this.pendingResponses[this.currentResponseNum];){const h=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let v=0;v<h.length;++v)h[v]&&At(()=>{this.onMessage_(h[v])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Re{constructor(i,s,h,v,T,M,H){this.connId=i,this.repoInfo=s,this.applicationId=h,this.appCheckToken=v,this.authToken=T,this.transportSessionId=M,this.lastSessionId=H,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qt(i),this.stats_=Cr(s),this.urlFn=te=>(this.appCheckToken&&(te.ac=this.appCheckToken),Us(s,si,te))}open(i,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new Yr(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(a){if((0,Y.Yr)()||"complete"===document.readyState)a();else{let i=!1;const s=function(){document.body?i||(i=!0,a()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xe((...T)=>{const[M,H,te,ge,We]=T;if(this.incrementIncomingBytes_(T),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===M)this.id=H,this.password=te;else{if("close"!==M)throw new Error("Unrecognized command received: "+M);H?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(H,()=>{this.onClosed_()})):this.onClosed_()}},(...T)=>{const[M,H]=T;this.incrementIncomingBytes_(T),this.myPacketOrderer.handleResponse(M,H)},()=>{this.onClosed_()},this.urlFn);const h={start:"t"};h.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(h.cb=this.scriptTagHolder.uniqueCallbackIdentifier),h.v="5",this.transportSessionId&&(h.s=this.transportSessionId),this.lastSessionId&&(h.ls=this.lastSessionId),this.applicationId&&(h.p=this.applicationId),this.appCheckToken&&(h.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&sr.test(location.hostname)&&(h.r="f");const v=this.urlFn(h);this.log_("Connecting via long-poll to "+v),this.scriptTagHolder.addTag(v,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Re.forceAllow_=!0}static forceDisallow(){Re.forceDisallow_=!0}static isAvailable(){return!((0,Y.Yr)()||!Re.forceAllow_&&(Re.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const s=(0,Y.Pz)(i);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const h=(0,Y.h$)(s),v=ce(h,1840);for(let T=0;T<v.length;T++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[T]),this.curSegmentNum++}addDisconnectPingFrame(i,s){if((0,Y.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const h={dframe:"t"};h.id=i,h.pw=s,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const s=(0,Y.Pz)(i).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Xe{constructor(i,s,h,v){if(this.onDisconnect=h,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Y.Yr)())this.commandCB=i,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=Ir(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=Xe.createIFrame_();let T="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(T='<script>document.domain="'+document.domain+'";<\/script>');const M="<html><body>"+T+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(M),this.myIFrame.doc.close()}catch(H){dn("frame writing exception"),H.stack&&dn(H.stack),dn(H)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||dn("No IE domain setting required")}catch(s){const h=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,s){for(this.myID=i,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let s=this.urlFn(i),h="",v=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){const M=this.pendingSegs.shift();h=h+"&seg"+v+"="+M.seg+"&ts"+v+"="+M.ts+"&d"+v+"="+M.d,v++}return s+=h,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(i,s,h){this.pendingSegs.push({seg:i,ts:s,d:h}),this.alive&&this.newRequest_()}addLongPollTag_(i,s){this.outstandingRequests.add(s);const h=()=>{this.outstandingRequests.delete(s),this.newRequest_()},v=setTimeout(h,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(v),h()})}addTag(i,s){(0,Y.Yr)()?this.doNodeLongPoll(i,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const h=this.myIFrame.doc.createElement("script");h.type="text/javascript",h.async=!0,h.src=i,h.onload=h.onreadystatechange=function(){const v=h.readyState;(!v||"loaded"===v||"complete"===v)&&(h.onload=h.onreadystatechange=null,h.parentNode&&h.parentNode.removeChild(h),s())},h.onerror=()=>{dn("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(h)}catch(h){}},Math.floor(1))}}let nn=null;"undefined"!=typeof MozWebSocket?nn=MozWebSocket:"undefined"!=typeof WebSocket&&(nn=WebSocket);let zt=(()=>{class a{constructor(s,h,v,T,M,H,te){this.connId=s,this.applicationId=v,this.appCheckToken=T,this.authToken=M,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qt(this.connId),this.stats_=Cr(h),this.connURL=a.connectionURL_(h,H,te,T),this.nodeAdmin=h.nodeAdmin}static connectionURL_(s,h,v,T){const M={v:"5"};return!(0,Y.Yr)()&&"undefined"!=typeof location&&location.hostname&&sr.test(location.hostname)&&(M.r="f"),h&&(M.s=h),v&&(M.ls=v),T&&(M.ac=T),Us(s,Or,M)}open(s,h){this.onDisconnect=h,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zn.set("previous_websocket_failure",!0);try{if((0,Y.Yr)()){const T={headers:{"User-Agent":`Firebase/5/${tn}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(T.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(T.headers["X-Firebase-AppCheck"]=this.appCheckToken);const M=process.env,H=0===this.connURL.indexOf("wss://")?M.HTTPS_PROXY||M.https_proxy:M.HTTP_PROXY||M.http_proxy;H&&(T.proxy={origin:H}),this.mySock=new nn(this.connURL,[],T)}else this.mySock=new nn(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(v){this.log_("Error instantiating WebSocket.");const T=v.message||v.data;return T&&this.log_(T),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=v=>{this.handleIncomingFrame(v)},this.mySock.onerror=v=>{this.log_("WebSocket error.  Closing connection.");const T=v.message||v.data;T&&this.log_(T),this.onClosed_()}}start(){}static forceDisallow(){a.forceDisallow_=!0}static isAvailable(){let s=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const v=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);v&&v.length>1&&parseFloat(v[1])<4.4&&(s=!0)}return!s&&null!==nn&&!a.forceDisallow_}static previouslyFailed(){return Zn.isInMemoryStorage||!0===Zn.get("previous_websocket_failure")}markConnectionHealthy(){Zn.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const h=this.frames.join("");this.frames=null;const v=(0,Y.cI)(h);this.onMessage(v)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,Y.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const h=Number(s);if(!isNaN(h))return this.handleNewFrameCount_(h),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const h=s.data;if(this.bytesReceived+=h.length,this.stats_.incrementCounter("bytes_received",h.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(h);else{const v=this.extractFrameCount_(h);null!==v&&this.appendFrame_(v)}}send(s){this.resetKeepAlive();const h=(0,Y.Pz)(s);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const v=ce(h,16384);v.length>1&&this.sendString_(String(v.length));for(let T=0;T<v.length;T++)this.sendString_(v[T])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(h){this.log_("Exception thrown from WebSocket.send():",h.message||h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return a.responsesRequiredToBeHealthy=2,a.healthyTimeout=3e4,a})();class Bs{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[Re,zt]}initTransports_(i){const s=zt&&zt.isAvailable();let h=s&&!zt.previouslyFailed();if(i.webSocketOnly&&(s||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),h=!0),h)this.transports_=[zt];else{const v=this.transports_=[];for(const T of Bs.ALL_TRANSPORTS)T&&T.isAvailable()&&v.push(T)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class di{constructor(i,s,h,v,T,M,H,te,ge,We){this.id=i,this.repoInfo_=s,this.applicationId_=h,this.appCheckToken_=v,this.authToken_=T,this.onMessage_=M,this.onReady_=H,this.onDisconnect_=te,this.onKill_=ge,this.lastSessionId=We,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qt("c:"+this.id+":"),this.transportManager_=new Bs(s),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),h=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,h)},Math.floor(0));const v=i.healthyTimeout||0;v>0&&(this.healthyTimeout_=un(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(v)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return s=>{i===this.conn_?this.onConnectionLost_(s):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return s=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(s):i===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const s=i.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const s=Sr("t",i),h=Sr("d",i);if("c"===s)this.onSecondaryControl_(h);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(h)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const s=Sr("t",i),h=Sr("d",i);"c"===s?this.onControl_(h):"d"===s&&this.onDataMessage_(h)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const s=Sr("t",i);if("d"in i){const h=i.d;if("h"===s)this.onHandshake_(h);else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(h):"r"===s?this.onReset_(h):"e"===s?Mn("Server Error: "+h):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mn("Unknown control packet command: "+s)}}onHandshake_(i){const s=i.ts,h=i.v,v=i.h;this.sessionId=i.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==h&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),h=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,h),un(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,s){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):un(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ts{put(i,s,h,v){}merge(i,s,h,v){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,s,h){}onDisconnectMerge(i,s,h){}onDisconnectCancel(i,s){}reportStats(i){}}class zo{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,Y.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...s){if(Array.isArray(this.listeners_[i])){const h=[...this.listeners_[i]];for(let v=0;v<h.length;v++)h[v].callback.apply(h[v].context,s)}}on(i,s,h){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:s,context:h});const v=this.getInitialEvent(i);v&&s.apply(h,v)}off(i,s,h){this.validateEventType_(i);const v=this.listeners_[i]||[];for(let T=0;T<v.length;T++)if(v[T].callback===s&&(!h||h===v[T].context))return void v.splice(T,1)}validateEventType_(i){(0,Y.hu)(this.allowedEvents_.find(s=>s===i),"Unknown event: "+i)}}class As extends zo{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,Y.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new As}getInitialEvent(i){return(0,Y.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class qn{constructor(i,s){if(void 0===s){this.pieces_=i.split("/");let h=0;for(let v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[h]=this.pieces_[v],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=s}toString(){let i="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(i+="/"+this.pieces_[s]);return i||"/"}}function Cn(){return new qn("")}function en(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function yi(a){return a.pieces_.length-a.pieceNum_}function Hn(a){let i=a.pieceNum_;return i<a.pieces_.length&&i++,new qn(a.pieces_,i)}function uo(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function $s(a,i=0){return a.pieces_.slice(a.pieceNum_+i)}function Zo(a){if(a.pieceNum_>=a.pieces_.length)return null;const i=[];for(let s=a.pieceNum_;s<a.pieces_.length-1;s++)i.push(a.pieces_[s]);return new qn(i,0)}function hr(a,i){const s=[];for(let h=a.pieceNum_;h<a.pieces_.length;h++)s.push(a.pieces_[h]);if(i instanceof qn)for(let h=i.pieceNum_;h<i.pieces_.length;h++)s.push(i.pieces_[h]);else{const h=i.split("/");for(let v=0;v<h.length;v++)h[v].length>0&&s.push(h[v])}return new qn(s,0)}function fn(a){return a.pieceNum_>=a.pieces_.length}function Nr(a,i){const s=en(a),h=en(i);if(null===s)return i;if(s===h)return Nr(Hn(a),Hn(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+a+")")}function Yo(a,i){const s=$s(a,0),h=$s(i,0);for(let v=0;v<s.length&&v<h.length;v++){const T=Xt(s[v],h[v]);if(0!==T)return T}return s.length===h.length?0:s.length<h.length?-1:1}function Ss(a,i){if(yi(a)!==yi(i))return!1;for(let s=a.pieceNum_,h=i.pieceNum_;s<=a.pieces_.length;s++,h++)if(a.pieces_[s]!==i.pieces_[h])return!1;return!0}function Ar(a,i){let s=a.pieceNum_,h=i.pieceNum_;if(yi(a)>yi(i))return!1;for(;s<a.pieces_.length;){if(a.pieces_[s]!==i.pieces_[h])return!1;++s,++h}return!0}class Ro{constructor(i,s){this.errorPrefix_=s,this.parts_=$s(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let h=0;h<this.parts_.length;h++)this.byteLength_+=(0,Y.ug)(this.parts_[h]);ho(this)}}function ho(a){if(a.byteLength_>768)throw new Error(a.errorPrefix_+"has a key path longer than 768 bytes ("+a.byteLength_+").");if(a.parts_.length>32)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Br(a))}function Br(a){return 0===a.parts_.length?"":"in property '"+a.parts_.join(".")+"'"}class Ws extends zo{constructor(){let i,s;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(s="visibilitychange",i="hidden"):void 0!==document.mozHidden?(s="mozvisibilitychange",i="mozHidden"):void 0!==document.msHidden?(s="msvisibilitychange",i="msHidden"):void 0!==document.webkitHidden&&(s="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const h=!document[i];h!==this.visible_&&(this.visible_=h,this.trigger("visible",h))},!1)}static getInstance(){return new Ws}getInitialEvent(i){return(0,Y.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const ds=1e3;let Ei,Si=(()=>{class a extends Ts{constructor(s,h,v,T,M,H,te,ge){if(super(),this.repoInfo_=s,this.applicationId_=h,this.onDataUpdate_=v,this.onConnectStatus_=T,this.onServerInfoUpdate_=M,this.authTokenProvider_=H,this.appCheckTokenProvider_=te,this.authOverride_=ge,this.id=a.nextPersistentConnectionId_++,this.log_=qt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ds,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ge&&!(0,Y.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ws.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&As.getInstance().on("online",this.onOnline_,this)}sendRequest(s,h,v){const T=++this.requestNumber_,M={r:T,a:s,b:h};this.log_((0,Y.Pz)(M)),(0,Y.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(M),v&&(this.requestCBHash_[T]=v)}get(s){this.initConnection_();const h=new Y.BH,v={p:s._path.toString(),q:s._queryObject},T={action:"g",request:v,onComplete:H=>{const te=H.d;"ok"===H.s?(this.onDataUpdate_(v.p,te,!1,null),h.resolve(te)):h.reject(te)}};this.outstandingGets_.push(T),this.outstandingGetCount_++;const M=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const H=this.outstandingGets_[M];void 0===H||T!==H||(delete this.outstandingGets_[M],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+M+" timed out on connection"),h.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(M),h.promise}listen(s,h,v,T){this.initConnection_();const M=s._queryIdentifier,H=s._path.toString();this.log_("Listen called for "+H+" "+M),this.listens.has(H)||this.listens.set(H,new Map),(0,Y.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Y.hu)(!this.listens.get(H).has(M),"listen() called twice for same path/queryId.");const te={onComplete:T,hashFn:h,query:s,tag:v};this.listens.get(H).set(M,te),this.connected_&&this.sendListen_(te)}sendGet_(s){const h=this.outstandingGets_[s];this.sendRequest("g",h.request,v=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),h.onComplete&&h.onComplete(v)})}sendListen_(s){const h=s.query,v=h._path.toString(),T=h._queryIdentifier;this.log_("Listen on "+v+" for "+T);const M={p:v};s.tag&&(M.q=h._queryObject,M.t=s.tag),M.h=s.hashFn(),this.sendRequest("q",M,te=>{const ge=te.d,We=te.s;a.warnOnListenWarnings_(ge,h),(this.listens.get(v)&&this.listens.get(v).get(T))===s&&(this.log_("listen response",te),"ok"!==We&&this.removeListen_(v,T),s.onComplete&&s.onComplete(We,ge))})}static warnOnListenWarnings_(s,h){if(s&&"object"==typeof s&&(0,Y.r3)(s,"w")){const v=(0,Y.DV)(s,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){const T='".indexOn": "'+h._queryParams.getIndex().toString()+'"',M=h._path.toString();On(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${T} at ${M} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,Y.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,h=(0,Y.w9)(s)?"auth":"gauth",v={cred:s};null===this.authOverride_?v.noauth=!0:"object"==typeof this.authOverride_&&(v.authvar=this.authOverride_),this.sendRequest(h,v,T=>{const M=T.s,H=T.d||"error";this.authToken_===s&&("ok"===M?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(M,H))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const h=s.s,v=s.d||"error";"ok"===h?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(h,v)})}unlisten(s,h){const v=s._path.toString(),T=s._queryIdentifier;this.log_("Unlisten called for "+v+" "+T),(0,Y.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,T)&&this.connected_&&this.sendUnlisten_(v,T,s._queryObject,h)}sendUnlisten_(s,h,v,T){this.log_("Unlisten on "+s+" for "+h);const M={p:s};T&&(M.q=v,M.t=T),this.sendRequest("n",M)}onDisconnectPut(s,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,h,v):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:h,onComplete:v})}onDisconnectMerge(s,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,h,v):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:h,onComplete:v})}onDisconnectCancel(s,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,h):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:h})}sendOnDisconnect_(s,h,v,T){const M={p:h,d:v};this.log_("onDisconnect "+s,M),this.sendRequest(s,M,H=>{T&&setTimeout(()=>{T(H.s,H.d)},Math.floor(0))})}put(s,h,v,T){this.putInternal("p",s,h,v,T)}merge(s,h,v,T){this.putInternal("m",s,h,v,T)}putInternal(s,h,v,T,M){this.initConnection_();const H={p:h,d:v};void 0!==M&&(H.h=M),this.outstandingPuts_.push({action:s,request:H,onComplete:T}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)}sendPut_(s){const h=this.outstandingPuts_[s].action,v=this.outstandingPuts_[s].request,T=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(h,v,M=>{this.log_(h+" response",M),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),T&&T(M.s,M.d)})}reportStats(s){if(this.connected_){const h={c:s};this.log_("reportStats",h),this.sendRequest("s",h,v=>{"ok"!==v.s&&this.log_("reportStats","Error sending stats: "+v.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,Y.Pz)(s));const h=s.r,v=this.requestCBHash_[h];v&&(delete this.requestCBHash_[h],v(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,h){this.log_("handleServerMessage",s,h),"d"===s?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===s?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===s?this.onListenRevoked_(h.p,h.q):"ac"===s?this.onAuthRevoked_(h.s,h.d):"apc"===s?this.onAppCheckRevoked_(h.s,h.d):"sd"===s?this.onSecurityDebugPacket_(h):Mn("Unrecognized action received from server: "+(0,Y.Pz)(s)+"\nAre you using the latest client?")}onReady_(s,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,Y.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ds),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let h=Math.max(0,this.reconnectDelay_-s);h=Math.random()*h,this.log_("Trying to reconnect in "+h+"ms"),this.scheduleConnect_(h),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,ht.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const h=s.onDataMessage_.bind(s),v=s.onReady_.bind(s),T=s.onRealtimeDisconnect_.bind(s),M=s.id+":"+a.nextConnectionId_++,H=s.lastSessionId;let te=!1,ge=null;const We=function(){ge?ge.close():(te=!0,T())};s.realtime_={close:We,sendRequest:function(Nt){(0,Y.hu)(ge,"sendRequest call when we're not connected not allowed."),ge.sendRequest(Nt)}};const tt=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[Nt,kt]=yield Promise.all([s.authTokenProvider_.getToken(tt),s.appCheckTokenProvider_.getToken(tt)]);te?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),s.authToken_=Nt&&Nt.accessToken,s.appCheckToken_=kt&&kt.token,ge=new di(M,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,h,v,T,er=>{On(er+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},H))}catch(Nt){s.log_("Failed to get token: "+Nt),te||(s.repoInfo_.nodeAdmin&&On(Nt),We())}}})()}interrupt(s){dn("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){dn("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,Y.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const h=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const h=this.outstandingPuts_[s];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,h){let v;v=h?h.map(M=>ke(M)).join("$"):"default";const T=this.removeListen_(s,v);T&&T.onComplete&&T.onComplete("permission_denied")}removeListen_(s,h){const v=new qn(s).toString();let T;if(this.listens.has(v)){const M=this.listens.get(v);T=M.get(h),M.delete(h),0===M.size&&this.listens.delete(v)}else T=void 0;return T}onAuthRevoked_(s,h){dn("Auth token revoked: "+s+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,h){dn("App check token revoked: "+s+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const h of s.values())this.sendListen_(h);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let h="js";(0,Y.Yr)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+h+"."+tn.replace(/\./g,"-")]=1,(0,Y.uI)()?s["framework.cordova"]=1:(0,Y.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=As.getInstance().currentlyOnline();return(0,Y.xb)(this.interruptReasons_)&&s}}return a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a})();class pn{constructor(i,s){this.name=i,this.node=s}static Wrap(i,s){return new pn(i,s)}}class vi{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,s){const h=new pn(rn,i),v=new pn(rn,s);return 0!==this.compare(h,v)}minPost(){return pn.MIN}}class Ji extends vi{static get __EMPTY_NODE(){return Ei}static set __EMPTY_NODE(i){Ei=i}compare(i,s){return Xt(i.name,s.name)}isDefinedOn(i){throw(0,Y.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,s){return!1}minPost(){return pn.MIN}maxPost(){return new pn(vt,Ei)}makePost(i,s){return(0,Y.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new pn(i,Ei)}toString(){return".key"}}const Xi=new Ji;class R{constructor(i,s,h,v,T=null){this.isReverse_=v,this.resultGenerator_=T,this.nodeStack_=[];let M=1;for(;!i.isEmpty();)if(i=i,M=s?h(i.key,s):1,v&&(M*=-1),M<0)i=this.isReverse_?i.left:i.right;else{if(0===M){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,i=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let ct,W=(()=>{class a{constructor(s,h,v,T,M){this.key=s,this.value=h,this.color=null!=v?v:a.RED,this.left=null!=T?T:K.EMPTY_NODE,this.right=null!=M?M:K.EMPTY_NODE}copy(s,h,v,T,M){return new a(null!=s?s:this.key,null!=h?h:this.value,null!=v?v:this.color,null!=T?T:this.left,null!=M?M:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,h,v){let T=this;const M=v(s,T.key);return T=M<0?T.copy(null,null,null,T.left.insert(s,h,v),null):0===M?T.copy(null,h,null,null,null):T.copy(null,null,null,null,T.right.insert(s,h,v)),T.fixUp_()}removeMin_(){if(this.left.isEmpty())return K.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,h){let v,T;if(v=this,h(s,v.key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(s,h),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===h(s,v.key)){if(v.right.isEmpty())return K.EMPTY_NODE;T=v.right.min_(),v=v.copy(T.key,T.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(s,h))}return v.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,h)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return a.RED=!0,a.BLACK=!1,a})();class K{constructor(i,s=K.EMPTY_NODE){this.comparator_=i,this.root_=s}insert(i,s){return new K(this.comparator_,this.root_.insert(i,s,this.comparator_).copy(null,null,W.BLACK,null,null))}remove(i){return new K(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,W.BLACK,null,null))}get(i){let s,h=this.root_;for(;!h.isEmpty();){if(s=this.comparator_(i,h.key),0===s)return h.value;s<0?h=h.left:s>0&&(h=h.right)}return null}getPredecessorKey(i){let s,h=this.root_,v=null;for(;!h.isEmpty();){if(s=this.comparator_(i,h.key),0===s){if(h.left.isEmpty())return v?v.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}s<0?h=h.left:s>0&&(v=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new R(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,s){return new R(this.root_,i,this.comparator_,!1,s)}getReverseIteratorFrom(i,s){return new R(this.root_,i,this.comparator_,!0,s)}getReverseIterator(i){return new R(this.root_,null,this.comparator_,!0,i)}}function pe(a,i){return Xt(a.name,i.name)}function Ze(a,i){return Xt(a,i)}K.EMPTY_NODE=new class{copy(i,s,h,v,T){return this}insert(i,s,h){return new W(i,s,null)}remove(i,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ut=function(a){return"number"==typeof a?"number:"+qe(a):"string:"+a},cn=function(a){if(a.isLeafNode()){const i=a.val();(0,Y.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,Y.r3)(i,".sv"),"Priority must be a string or number.")}else(0,Y.hu)(a===ct||a.isEmpty(),"priority of unexpected type.");(0,Y.hu)(a===ct||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let An,Rn,zn,$t=(()=>{class a{constructor(s,h=a.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=h,this.lazyHash_=null,(0,Y.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),cn(this.priorityNode_)}static set __childrenNodeConstructor(s){An=s}static get __childrenNodeConstructor(){return An}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new a(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return fn(s)?this:".priority"===en(s)?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,h){return null}updateImmediateChild(s,h){return".priority"===s?this.updatePriority(h):h.isEmpty()&&".priority"!==s?this:a.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,h).updatePriority(this.priorityNode_)}updateChild(s,h){const v=en(s);return null===v?h:h.isEmpty()&&".priority"!==v?this:((0,Y.hu)(".priority"!==v||1===yi(s),".priority must be the last token in a path"),this.updateImmediateChild(v,a.__childrenNodeConstructor.EMPTY_NODE.updateChild(Hn(s),h)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,h){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+ut(this.priorityNode_.val())+":");const h=typeof this.value_;s+=h+":",s+="number"===h?qe(this.value_):this.value_,this.lazyHash_=ri(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===a.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof a.__childrenNodeConstructor?-1:((0,Y.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const h=typeof s.value_,v=typeof this.value_,T=a.VALUE_TYPE_ORDER.indexOf(h),M=a.VALUE_TYPE_ORDER.indexOf(v);return(0,Y.hu)(T>=0,"Unknown leaf type: "+h),(0,Y.hu)(M>=0,"Unknown leaf type: "+v),T===M?"object"===v?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:M-T}withIndex(){return this}isIndexed(){return!0}equals(s){if(s===this)return!0;if(s.isLeafNode()){const h=s;return this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_)}return!1}}return a.VALUE_TYPE_ORDER=["object","boolean","number","string"],a})();const In=new class extends vi{compare(i,s){const h=i.node.getPriority(),v=s.node.getPriority(),T=h.compareTo(v);return 0===T?Xt(i.name,s.name):T}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,s){return!i.getPriority().equals(s.getPriority())}minPost(){return pn.MIN}maxPost(){return new pn(vt,new $t("[PRIORITY-POST]",zn))}makePost(i,s){const h=Rn(i);return new pn(s,new $t("[PRIORITY-POST]",h))}toString(){return".priority"}},Pi=Math.log(2);class Kt{constructor(i){this.count=parseInt(Math.log(i+1)/Pi,10),this.current_=this.count-1;const v=(T=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&v}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Ci=function(a,i,s,h){a.sort(i);const v=function(te,ge){const We=ge-te;let Se,tt;if(0===We)return null;if(1===We)return Se=a[te],tt=s?s(Se):Se,new W(tt,Se.node,W.BLACK,null,null);{const Nt=parseInt(We/2,10)+te,kt=v(te,Nt),er=v(Nt+1,ge);return Se=a[Nt],tt=s?s(Se):Se,new W(tt,Se.node,W.BLACK,kt,er)}},H=function(te){let ge=null,We=null,Se=a.length;const tt=function(kt,er){const ni=Se-kt,ml=Se;Se-=kt;const Na=v(ni+1,ml),xl=a[ni],Zi=s?s(xl):xl;Nt(new W(Zi,xl.node,er,null,Na))},Nt=function(kt){ge?(ge.left=kt,ge=kt):(We=kt,ge=kt)};for(let kt=0;kt<te.count;++kt){const er=te.nextBitIsOne(),ni=Math.pow(2,te.count-(kt+1));er?tt(ni,W.BLACK):(tt(ni,W.BLACK),tt(ni,W.RED))}return We}(new Kt(a.length));return new K(h||i,H)};let Xo;const Mi={};class zs{constructor(i,s){this.indexes_=i,this.indexSet_=s}static get Default(){return(0,Y.hu)(Mi&&In,"ChildrenNode.ts has not been loaded"),Xo=Xo||new zs({".priority":Mi},{".priority":In}),Xo}get(i){const s=(0,Y.DV)(this.indexes_,i);if(!s)throw new Error("No index defined for "+i);return s instanceof K?s:null}hasIndex(i){return(0,Y.r3)(this.indexSet_,i.toString())}addIndex(i,s){(0,Y.hu)(i!==Xi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const h=[];let v=!1;const T=s.getIterator(pn.Wrap);let H,M=T.getNext();for(;M;)v=v||i.isDefinedOn(M.node),h.push(M),M=T.getNext();H=v?Ci(h,i.getCompare()):Mi;const te=i.toString(),ge=Object.assign({},this.indexSet_);ge[te]=i;const We=Object.assign({},this.indexes_);return We[te]=H,new zs(We,ge)}addToIndexes(i,s){const h=(0,Y.UI)(this.indexes_,(v,T)=>{const M=(0,Y.DV)(this.indexSet_,T);if((0,Y.hu)(M,"Missing index implementation for "+T),v===Mi){if(M.isDefinedOn(i.node)){const H=[],te=s.getIterator(pn.Wrap);let ge=te.getNext();for(;ge;)ge.name!==i.name&&H.push(ge),ge=te.getNext();return H.push(i),Ci(H,M.getCompare())}return Mi}{const H=s.get(i.name);let te=v;return H&&(te=te.remove(new pn(i.name,H))),te.insert(i,i.node)}});return new zs(h,this.indexSet_)}removeFromIndexes(i,s){const h=(0,Y.UI)(this.indexes_,v=>{if(v===Mi)return v;{const T=s.get(i.name);return T?v.remove(new pn(i.name,T)):v}});return new zs(h,this.indexSet_)}}let hs,Qt=(()=>{class a{constructor(s,h,v){this.children_=s,this.priorityNode_=h,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&cn(this.priorityNode_),this.children_.isEmpty()&&(0,Y.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hs||(hs=new a(new K(Ze),null,zs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hs}updatePriority(s){return this.children_.isEmpty()?this:new a(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const h=this.children_.get(s);return null===h?hs:h}}getChild(s){const h=en(s);return null===h?this:this.getImmediateChild(h).getChild(Hn(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,h){if((0,Y.hu)(h,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(h);{const v=new pn(s,h);let T,M;h.isEmpty()?(T=this.children_.remove(s),M=this.indexMap_.removeFromIndexes(v,this.children_)):(T=this.children_.insert(s,h),M=this.indexMap_.addToIndexes(v,this.children_));const H=T.isEmpty()?hs:this.priorityNode_;return new a(T,H,M)}}updateChild(s,h){const v=en(s);if(null===v)return h;{(0,Y.hu)(".priority"!==en(s)||1===yi(s),".priority must be the last token in a path");const T=this.getImmediateChild(v).updateChild(Hn(s),h);return this.updateImmediateChild(v,T)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const h={};let v=0,T=0,M=!0;if(this.forEachChild(In,(H,te)=>{h[H]=te.val(s),v++,M&&a.INTEGER_REGEXP_.test(H)?T=Math.max(T,Number(H)):M=!1}),!s&&M&&T<2*v){const H=[];for(const te in h)H[te]=h[te];return H}return s&&!this.getPriority().isEmpty()&&(h[".priority"]=this.getPriority().val()),h}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+ut(this.getPriority().val())+":"),this.forEachChild(In,(h,v)=>{const T=v.hash();""!==T&&(s+=":"+h+":"+T)}),this.lazyHash_=""===s?"":ri(s)}return this.lazyHash_}getPredecessorChildName(s,h,v){const T=this.resolveIndex_(v);if(T){const M=T.getPredecessorKey(new pn(s,h));return M?M.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const h=this.resolveIndex_(s);if(h){const v=h.minKey();return v&&v.name}return this.children_.minKey()}getFirstChild(s){const h=this.getFirstChildName(s);return h?new pn(h,this.children_.get(h)):null}getLastChildName(s){const h=this.resolveIndex_(s);if(h){const v=h.maxKey();return v&&v.name}return this.children_.maxKey()}getLastChild(s){const h=this.getLastChildName(s);return h?new pn(h,this.children_.get(h)):null}forEachChild(s,h){const v=this.resolveIndex_(s);return v?v.inorderTraversal(T=>h(T.name,T.node)):this.children_.inorderTraversal(h)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,h){const v=this.resolveIndex_(h);if(v)return v.getIteratorFrom(s,T=>T);{const T=this.children_.getIteratorFrom(s.name,pn.Wrap);let M=T.peek();for(;null!=M&&h.compare(M,s)<0;)T.getNext(),M=T.peek();return T}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,h){const v=this.resolveIndex_(h);if(v)return v.getReverseIteratorFrom(s,T=>T);{const T=this.children_.getReverseIteratorFrom(s.name,pn.Wrap);let M=T.peek();for(;null!=M&&h.compare(M,s)>0;)T.getNext(),M=T.peek();return T}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===it?-1:0}withIndex(s){if(s===Xi||this.indexMap_.hasIndex(s))return this;{const h=this.indexMap_.addIndex(s,this.children_);return new a(this.children_,this.priorityNode_,h)}}isIndexed(s){return s===Xi||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const h=s;if(this.getPriority().equals(h.getPriority())){if(this.children_.count()===h.children_.count()){const v=this.getIterator(In),T=h.getIterator(In);let M=v.getNext(),H=T.getNext();for(;M&&H;){if(M.name!==H.name||!M.node.equals(H.node))return!1;M=v.getNext(),H=T.getNext()}return null===M&&null===H}return!1}return!1}}resolveIndex_(s){return s===Xi?null:this.indexMap_.get(s.toString())}}return a.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,a})();const it=new class extends Qt{constructor(){super(new K(Ze),Qt.EMPTY_NODE,zs.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Qt.EMPTY_NODE}isEmpty(){return!1}};function gr(a,i=null){if(null===a)return Qt.EMPTY_NODE;if("object"==typeof a&&".priority"in a&&(i=a[".priority"]),(0,Y.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new $t(a,gr(i));if(a instanceof Array){let s=Qt.EMPTY_NODE;return he(a,(h,v)=>{if((0,Y.r3)(a,h)&&"."!==h.substring(0,1)){const T=gr(v);(T.isLeafNode()||!T.isEmpty())&&(s=s.updateImmediateChild(h,T))}}),s.updatePriority(gr(i))}{const s=[];let h=!1;if(he(a,(M,H)=>{if("."!==M.substring(0,1)){const te=gr(H);te.isEmpty()||(h=h||!te.getPriority().isEmpty(),s.push(new pn(M,te)))}}),0===s.length)return Qt.EMPTY_NODE;const T=Ci(s,pe,M=>M.name,Ze);if(h){const M=Ci(s,In.getCompare());return new Qt(T,gr(i),new zs({".priority":M},{".priority":In}))}return new Qt(T,gr(i),zs.Default)}}Object.defineProperties(pn,{MIN:{value:new pn(rn,Qt.EMPTY_NODE)},MAX:{value:new pn(vt,it)}}),Ji.__EMPTY_NODE=Qt.EMPTY_NODE,$t.__childrenNodeConstructor=Qt,ct=it,zn=it,function(a){Rn=a}(gr);class lr extends vi{constructor(i){super(),this.indexPath_=i,(0,Y.hu)(!fn(i)&&".priority"!==en(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,s){const h=this.extractChild(i.node),v=this.extractChild(s.node),T=h.compareTo(v);return 0===T?Xt(i.name,s.name):T}makePost(i,s){const h=gr(i),v=Qt.EMPTY_NODE.updateChild(this.indexPath_,h);return new pn(s,v)}maxPost(){const i=Qt.EMPTY_NODE.updateChild(this.indexPath_,it);return new pn(vt,i)}toString(){return $s(this.indexPath_,0).join("/")}}const es=new class extends vi{compare(i,s){const h=i.node.compareTo(s.node);return 0===h?Xt(i.name,s.name):h}isDefinedOn(i){return!0}indexedValueChanged(i,s){return!i.equals(s)}minPost(){return pn.MIN}maxPost(){return pn.MAX}makePost(i,s){const h=gr(i);return new pn(s,h)}toString(){return".value"}},Kr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fa=function(){let a=0;const i=[];return function(s){const h=s===a;let v;a=s;const T=new Array(8);for(v=7;v>=0;v--)T[v]=Kr.charAt(s%64),s=Math.floor(s/64);(0,Y.hu)(0===s,"Cannot push at time == 0");let M=T.join("");if(h){for(v=11;v>=0&&63===i[v];v--)i[v]=0;i[v]++}else for(v=0;v<12;v++)i[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)M+=Kr.charAt(i[v]);return(0,Y.hu)(20===M.length,"nextPushId: Length should be 20."),M}}(),No=function(a){if(a===""+nr)return"-";const i=vn(a);if(null!=i)return""+(i+1);const s=new Array(a.length);for(let M=0;M<s.length;M++)s[M]=a.charAt(M);if(s.length<786)return s.push("-"),s.join("");let h=s.length-1;for(;h>=0&&"z"===s[h];)h--;if(-1===h)return vt;const T=Kr.charAt(Kr.indexOf(s[h])+1);return s[h]=T,s.slice(0,h+1).join("")},Ks=function(a){if(a===""+hn)return rn;const i=vn(a);if(null!=i)return""+(i-1);const s=new Array(a.length);for(let h=0;h<s.length;h++)s[h]=a.charAt(h);return"-"===s[s.length-1]?1===s.length?""+nr:(delete s[s.length-1],s.join("")):(s[s.length-1]=Kr.charAt(Kr.indexOf(s[s.length-1])-1),s.join("")+"z".repeat(786-s.length))};function kr(a){return{type:"value",snapshotNode:a}}function hi(a,i){return{type:"child_added",snapshotNode:i,childName:a}}function go(a,i){return{type:"child_removed",snapshotNode:i,childName:a}}function oi(a,i,s){return{type:"child_changed",snapshotNode:i,childName:a,oldSnap:s}}class mo{constructor(i){this.index_=i}updateChild(i,s,h,v,T,M){(0,Y.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const H=i.getImmediateChild(s);return H.getChild(v).equals(h.getChild(v))&&H.isEmpty()===h.isEmpty()||(null!=M&&(h.isEmpty()?i.hasChild(s)?M.trackChildChange(go(s,H)):(0,Y.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):H.isEmpty()?M.trackChildChange(hi(s,h)):M.trackChildChange(oi(s,h,H))),i.isLeafNode()&&h.isEmpty())?i:i.updateImmediateChild(s,h).withIndex(this.index_)}updateFullNode(i,s,h){return null!=h&&(i.isLeafNode()||i.forEachChild(In,(v,T)=>{s.hasChild(v)||h.trackChildChange(go(v,T))}),s.isLeafNode()||s.forEachChild(In,(v,T)=>{if(i.hasChild(v)){const M=i.getImmediateChild(v);M.equals(T)||h.trackChildChange(oi(v,T,M))}else h.trackChildChange(hi(v,T))})),s.withIndex(this.index_)}updatePriority(i,s){return i.isEmpty()?Qt.EMPTY_NODE:i.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ps{constructor(i){this.indexedFilter_=new mo(i.getIndex()),this.index_=i.getIndex(),this.startPost_=ps.getStartPost_(i),this.endPost_=ps.getEndPost_(i)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0}updateChild(i,s,h,v,T,M){return this.matches(new pn(s,h))||(h=Qt.EMPTY_NODE),this.indexedFilter_.updateChild(i,s,h,v,T,M)}updateFullNode(i,s,h){s.isLeafNode()&&(s=Qt.EMPTY_NODE);let v=s.withIndex(this.index_);v=v.updatePriority(Qt.EMPTY_NODE);const T=this;return s.forEachChild(In,(M,H)=>{T.matches(new pn(M,H))||(v=v.updateImmediateChild(M,Qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,v,h)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const s=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),s)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const s=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),s)}return i.getIndex().maxPost()}}class Ps{constructor(i){this.rangedFilter_=new ps(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}updateChild(i,s,h,v,T,M){return this.rangedFilter_.matches(new pn(s,h))||(h=Qt.EMPTY_NODE),i.getImmediateChild(s).equals(h)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,s,h,v,T,M):this.fullLimitUpdateChild_(i,s,h,T,M)}updateFullNode(i,s,h){let v;if(s.isLeafNode()||s.isEmpty())v=Qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let T;v=Qt.EMPTY_NODE.withIndex(this.index_),T=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let M=0;for(;T.hasNext()&&M<this.limit_;){const H=T.getNext();let te;if(te=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),H)<=0:this.index_.compare(H,this.rangedFilter_.getEndPost())<=0,!te)break;v=v.updateImmediateChild(H.name,H.node),M++}}else{let T,M,H,te;if(v=s.withIndex(this.index_),v=v.updatePriority(Qt.EMPTY_NODE),this.reverse_){te=v.getReverseIterator(this.index_),T=this.rangedFilter_.getEndPost(),M=this.rangedFilter_.getStartPost();const Se=this.index_.getCompare();H=(tt,Nt)=>Se(Nt,tt)}else te=v.getIterator(this.index_),T=this.rangedFilter_.getStartPost(),M=this.rangedFilter_.getEndPost(),H=this.index_.getCompare();let ge=0,We=!1;for(;te.hasNext();){const Se=te.getNext();!We&&H(T,Se)<=0&&(We=!0),We&&ge<this.limit_&&H(Se,M)<=0?ge++:v=v.updateImmediateChild(Se.name,Qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,v,h)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,s,h,v,T){let M;if(this.reverse_){const Se=this.index_.getCompare();M=(tt,Nt)=>Se(Nt,tt)}else M=this.index_.getCompare();const H=i;(0,Y.hu)(H.numChildren()===this.limit_,"");const te=new pn(s,h),ge=this.reverse_?H.getFirstChild(this.index_):H.getLastChild(this.index_),We=this.rangedFilter_.matches(te);if(H.hasChild(s)){const Se=H.getImmediateChild(s);let tt=v.getChildAfterChild(this.index_,ge,this.reverse_);for(;null!=tt&&(tt.name===s||H.hasChild(tt.name));)tt=v.getChildAfterChild(this.index_,tt,this.reverse_);const Nt=null==tt?1:M(tt,te);if(We&&!h.isEmpty()&&Nt>=0)return null!=T&&T.trackChildChange(oi(s,h,Se)),H.updateImmediateChild(s,h);{null!=T&&T.trackChildChange(go(s,Se));const er=H.updateImmediateChild(s,Qt.EMPTY_NODE);return null!=tt&&this.rangedFilter_.matches(tt)?(null!=T&&T.trackChildChange(hi(tt.name,tt.node)),er.updateImmediateChild(tt.name,tt.node)):er}}return h.isEmpty()?i:We&&M(ge,te)>=0?(null!=T&&(T.trackChildChange(go(ge.name,ge.node)),T.trackChildChange(hi(s,h))),H.updateImmediateChild(s,h).updateImmediateChild(ge.name,Qt.EMPTY_NODE)):i}}class _o{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=In}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Y.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===In}copy(){const i=new _o;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Ys(a,i,s){const h=a.copy();return h.startSet_=!0,void 0===i&&(i=null),h.indexStartValue_=i,null!=s?(h.startNameSet_=!0,h.indexStartName_=s):(h.startNameSet_=!1,h.indexStartName_=""),h}function ea(a,i,s){const h=a.copy();return h.endSet_=!0,void 0===i&&(i=null),h.indexEndValue_=i,void 0!==s?(h.endNameSet_=!0,h.indexEndName_=s):(h.endNameSet_=!1,h.indexEndName_=""),h}function fi(a,i){const s=a.copy();return s.index_=i,s}function ns(a){const i={};if(a.isDefault())return i;let s;return a.index_===In?s="$priority":a.index_===es?s="$value":a.index_===Xi?s="$key":((0,Y.hu)(a.index_ instanceof lr,"Unrecognized index type!"),s=a.index_.toString()),i.orderBy=(0,Y.Pz)(s),a.startSet_&&(i.startAt=(0,Y.Pz)(a.indexStartValue_),a.startNameSet_&&(i.startAt+=","+(0,Y.Pz)(a.indexStartName_))),a.endSet_&&(i.endAt=(0,Y.Pz)(a.indexEndValue_),a.endNameSet_&&(i.endAt+=","+(0,Y.Pz)(a.indexEndName_))),a.limitSet_&&(a.isViewFromLeft()?i.limitToFirst=a.limit_:i.limitToLast=a.limit_),i}function xo(a){const i={};if(a.startSet_&&(i.sp=a.indexStartValue_,a.startNameSet_&&(i.sn=a.indexStartName_)),a.endSet_&&(i.ep=a.indexEndValue_,a.endNameSet_&&(i.en=a.indexEndName_)),a.limitSet_){i.l=a.limit_;let s=a.viewFrom_;""===s&&(s=a.isViewFromLeft()?"l":"r"),i.vf=s}return a.index_!==In&&(i.i=a.index_.toString()),i}class gs extends Ts{constructor(i,s,h,v){super(),this.repoInfo_=i,this.onDataUpdate_=s,this.authTokenProvider_=h,this.appCheckTokenProvider_=v,this.log_=qt("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,s){return void 0!==s?"tag$"+s:((0,Y.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,s,h,v){const T=i._path.toString();this.log_("Listen called for "+T+" "+i._queryIdentifier);const M=gs.getListenId_(i,h),H={};this.listens_[M]=H;const te=ns(i._queryParams);this.restRequest_(T+".json",te,(ge,We)=>{let Se=We;if(404===ge&&(Se=null,ge=null),null===ge&&this.onDataUpdate_(T,Se,!1,h),(0,Y.DV)(this.listens_,M)===H){let tt;tt=ge?401===ge?"permission_denied":"rest_error:"+ge:"ok",v(tt,null)}})}unlisten(i,s){const h=gs.getListenId_(i,s);delete this.listens_[h]}get(i){const s=ns(i._queryParams),h=i._path.toString(),v=new Y.BH;return this.restRequest_(h+".json",s,(T,M)=>{let H=M;404===T&&(H=null,T=null),null===T?(this.onDataUpdate_(h,H,!1,null),v.resolve(H)):v.reject(new Error(H))}),v.promise}refreshAuthToken(i){}restRequest_(i,s={},h){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([v,T])=>{v&&v.accessToken&&(s.auth=v.accessToken),T&&T.token&&(s.ac=T.token);const M=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,Y.xO)(s);this.log_("Sending REST request for "+M);const H=new XMLHttpRequest;H.onreadystatechange=()=>{if(h&&4===H.readyState){this.log_("REST Response for "+M+" received. status:",H.status,"response:",H.responseText);let te=null;if(H.status>=200&&H.status<300){try{te=(0,Y.cI)(H.responseText)}catch(ge){On("Failed to parse JSON response for "+M+": "+H.responseText)}h(null,te)}else 401!==H.status&&404!==H.status&&On("Got unsuccessful REST response for "+M+" Status: "+H.status),h(H.status);h=null}},H.open("GET",M,!0),H.send()})}}class Ms{constructor(){this.rootNode_=Qt.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,s){this.rootNode_=this.rootNode_.updateChild(i,s)}}function Ca(){return{value:null,children:new Map}}function ms(a,i,s){if(fn(i))a.value=s,a.children.clear();else if(null!==a.value)a.value=a.value.updateChild(i,s);else{const h=en(i);a.children.has(h)||a.children.set(h,Ca()),ms(a.children.get(h),i=Hn(i),s)}}function Pr(a,i){if(fn(i))return a.value=null,a.children.clear(),!0;if(null!==a.value){if(a.value.isLeafNode())return!1;{const s=a.value;return a.value=null,s.forEachChild(In,(h,v)=>{ms(a,new qn(h),v)}),Pr(a,i)}}if(a.children.size>0){const s=en(i);return i=Hn(i),a.children.has(s)&&Pr(a.children.get(s),i)&&a.children.delete(s),0===a.children.size}return!0}function Os(a,i,s){null!==a.value?s(i,a.value):function(a,i){a.children.forEach((s,h)=>{i(h,s)})}(a,(h,v)=>{Os(v,new qn(i.toString()+"/"+h),s)})}class Ja{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),s=Object.assign({},i);return this.last_&&he(this.last_,(h,v)=>{s[h]=s[h]-v}),this.last_=i,s}}class ba{constructor(i,s){this.server_=s,this.statsToReport_={},this.statsListener_=new Ja(i);const h=1e4+2e4*Math.random();un(this.reportStats_.bind(this),Math.floor(h))}reportStats_(){const i=this.statsListener_.get(),s={};let h=!1;he(i,(v,T)=>{T>0&&(0,Y.r3)(this.statsToReport_,v)&&(s[v]=T,h=!0)}),h&&this.server_.reportStats(s),un(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var jr=(()=>(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(jr||(jr={})),jr))();function ko(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class ir{constructor(i,s,h){this.path=i,this.affectedTree=s,this.revert=h,this.type=jr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(fn(this.path)){if(null!=this.affectedTree.value)return(0,Y.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new qn(i));return new ir(Cn(),s,this.revert)}}return(0,Y.hu)(en(this.path)===i,"operationForChild called for unrelated child."),new ir(Hn(this.path),this.affectedTree,this.revert)}}class Rs{constructor(i,s){this.source=i,this.path=s,this.type=jr.LISTEN_COMPLETE}operationForChild(i){return fn(this.path)?new Rs(this.source,Cn()):new Rs(this.source,Hn(this.path))}}class Qs{constructor(i,s,h){this.source=i,this.path=s,this.snap=h,this.type=jr.OVERWRITE}operationForChild(i){return fn(this.path)?new Qs(this.source,Cn(),this.snap.getImmediateChild(i)):new Qs(this.source,Hn(this.path),this.snap)}}class bi{constructor(i,s,h){this.source=i,this.path=s,this.children=h,this.type=jr.MERGE}operationForChild(i){if(fn(this.path)){const s=this.children.subtree(new qn(i));return s.isEmpty()?null:s.value?new Qs(this.source,Cn(),s.value):new bi(this.source,Cn(),s)}return(0,Y.hu)(en(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new bi(this.source,Hn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class wi{constructor(i,s,h){this.node_=i,this.fullyInitialized_=s,this.filtered_=h}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(fn(i))return this.isFullyInitialized()&&!this.filtered_;const s=en(i);return this.isCompleteForChild(s)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class ta{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function ys(a,i,s,h,v,T){const M=h.filter(H=>H.type===s);M.sort((H,te)=>function(a,i,s){if(null==i.childName||null==s.childName)throw(0,Y.g5)("Should only compare child_ events.");const h=new pn(i.childName,i.snapshotNode),v=new pn(s.childName,s.snapshotNode);return a.index_.compare(h,v)}(a,H,te)),M.forEach(H=>{const te=function(a,i,s){return"value"===i.type||"child_removed"===i.type||(i.prevName=s.getPredecessorChildName(i.childName,i.snapshotNode,a.index_)),i}(a,H,T);v.forEach(ge=>{ge.respondsTo(H.type)&&i.push(ge.createEvent(te,a.query_))})})}function La(a,i){return{eventCache:a,serverCache:i}}function Va(a,i,s,h){return La(new wi(i,s,h),a.serverCache)}function pi(a,i,s,h){return La(a.eventCache,new wi(i,s,h))}function na(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function ji(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let ra;class Jn{constructor(i,s=(()=>(ra||(ra=new K(jt)),ra))()){this.value=i,this.children=s}static fromObject(i){let s=new Jn(null);return he(i,(h,v)=>{s=s.set(new qn(h),v)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,s){if(null!=this.value&&s(this.value))return{path:Cn(),value:this.value};if(fn(i))return null;{const h=en(i),v=this.children.get(h);if(null!==v){const T=v.findRootMostMatchingPathAndValue(Hn(i),s);return null!=T?{path:hr(new qn(h),T.path),value:T.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(fn(i))return this;{const s=en(i),h=this.children.get(s);return null!==h?h.subtree(Hn(i)):new Jn(null)}}set(i,s){if(fn(i))return new Jn(s,this.children);{const h=en(i),T=(this.children.get(h)||new Jn(null)).set(Hn(i),s),M=this.children.insert(h,T);return new Jn(this.value,M)}}remove(i){if(fn(i))return this.children.isEmpty()?new Jn(null):new Jn(null,this.children);{const s=en(i),h=this.children.get(s);if(h){const v=h.remove(Hn(i));let T;return T=v.isEmpty()?this.children.remove(s):this.children.insert(s,v),null===this.value&&T.isEmpty()?new Jn(null):new Jn(this.value,T)}return this}}get(i){if(fn(i))return this.value;{const s=en(i),h=this.children.get(s);return h?h.get(Hn(i)):null}}setTree(i,s){if(fn(i))return s;{const h=en(i),T=(this.children.get(h)||new Jn(null)).setTree(Hn(i),s);let M;return M=T.isEmpty()?this.children.remove(h):this.children.insert(h,T),new Jn(this.value,M)}}fold(i){return this.fold_(Cn(),i)}fold_(i,s){const h={};return this.children.inorderTraversal((v,T)=>{h[v]=T.fold_(hr(i,v),s)}),s(i,this.value,h)}findOnPath(i,s){return this.findOnPath_(i,Cn(),s)}findOnPath_(i,s,h){const v=!!this.value&&h(s,this.value);if(v)return v;if(fn(i))return null;{const T=en(i),M=this.children.get(T);return M?M.findOnPath_(Hn(i),hr(s,T),h):null}}foreachOnPath(i,s){return this.foreachOnPath_(i,Cn(),s)}foreachOnPath_(i,s,h){if(fn(i))return this;{this.value&&h(s,this.value);const v=en(i),T=this.children.get(v);return T?T.foreachOnPath_(Hn(i),hr(s,v),h):new Jn(null)}}foreach(i){this.foreach_(Cn(),i)}foreach_(i,s){this.children.inorderTraversal((h,v)=>{v.foreach_(hr(i,h),s)}),this.value&&s(i,this.value)}foreachChild(i){this.children.inorderTraversal((s,h)=>{h.value&&i(s,h.value)})}}class vs{constructor(i){this.writeTree_=i}static empty(){return new vs(new Jn(null))}}function Es(a,i,s){if(fn(i))return new vs(new Jn(s));{const h=a.writeTree_.findRootMostValueAndPath(i);if(null!=h){const v=h.path;let T=h.value;const M=Nr(v,i);return T=T.updateChild(M,s),new vs(a.writeTree_.set(v,T))}{const v=new Jn(s),T=a.writeTree_.setTree(i,v);return new vs(T)}}}function wa(a,i,s){let h=a;return he(s,(v,T)=>{h=Es(h,hr(i,v),T)}),h}function li(a,i){if(fn(i))return vs.empty();{const s=a.writeTree_.setTree(i,new Jn(null));return new vs(s)}}function Eo(a,i){return null!=Oi(a,i)}function Oi(a,i){const s=a.writeTree_.findRootMostValueAndPath(i);return null!=s?a.writeTree_.get(s.path).getChild(Nr(s.path,i)):null}function vl(a){const i=[],s=a.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(In,(h,v)=>{i.push(new pn(h,v))}):a.writeTree_.children.inorderTraversal((h,v)=>{null!=v.value&&i.push(new pn(h,v.value))}),i}function rs(a,i){if(fn(i))return a;{const s=Oi(a,i);return new vs(null!=s?new Jn(s):a.writeTree_.subtree(i))}}function Ia(a){return a.writeTree_.isEmpty()}function A(a,i){return I(Cn(),a.writeTree_,i)}function I(a,i,s){if(null!=i.value)return s.updateChild(a,i.value);{let h=null;return i.children.inorderTraversal((v,T)=>{".priority"===v?((0,Y.hu)(null!==T.value,"Priority writes must always be leaf nodes"),h=T.value):s=I(hr(a,v),T,s)}),!s.getChild(a).isEmpty()&&null!==h&&(s=s.updateChild(hr(a,".priority"),h)),s}}function b(a,i){return Cs(i,a)}function we(a,i){if(a.snap)return Ar(a.path,i);for(const s in a.children)if(a.children.hasOwnProperty(s)&&Ar(hr(a.path,s),i))return!0;return!1}function It(a){return a.visible}function Nn(a,i,s){let h=vs.empty();for(let v=0;v<a.length;++v){const T=a[v];if(i(T)){const M=T.path;let H;if(T.snap)Ar(s,M)?(H=Nr(s,M),h=Es(h,H,T.snap)):Ar(M,s)&&(H=Nr(M,s),h=Es(h,Cn(),T.snap.getChild(H)));else{if(!T.children)throw(0,Y.g5)("WriteRecord should have .snap or .children");if(Ar(s,M))H=Nr(s,M),h=wa(h,H,T.children);else if(Ar(M,s))if(H=Nr(M,s),fn(H))h=wa(h,Cn(),T.children);else{const te=(0,Y.DV)(T.children,en(H));if(te){const ge=te.getChild(Hn(H));h=Es(h,Cn(),ge)}}}}}return h}function Mt(a,i,s,h,v){if(h||v){const T=rs(a.visibleWrites,i);return!v&&Ia(T)?s:v||null!=s||Eo(T,Cn())?A(Nn(a.allWrites,function(ge){return(ge.visible||v)&&(!h||!~h.indexOf(ge.writeId))&&(Ar(ge.path,i)||Ar(i,ge.path))},i),s||Qt.EMPTY_NODE):null}{const T=Oi(a.visibleWrites,i);if(null!=T)return T;{const M=rs(a.visibleWrites,i);return Ia(M)?s:null!=s||Eo(M,Cn())?A(M,s||Qt.EMPTY_NODE):null}}}function Ri(a,i,s,h){return Mt(a.writeTree,a.treePath,i,s,h)}function Jr(a,i){return function(a,i,s){let h=Qt.EMPTY_NODE;const v=Oi(a.visibleWrites,i);if(v)return v.isLeafNode()||v.forEachChild(In,(T,M)=>{h=h.updateImmediateChild(T,M)}),h;if(s){const T=rs(a.visibleWrites,i);return s.forEachChild(In,(M,H)=>{const te=A(rs(T,new qn(M)),H);h=h.updateImmediateChild(M,te)}),vl(T).forEach(M=>{h=h.updateImmediateChild(M.name,M.node)}),h}return vl(rs(a.visibleWrites,i)).forEach(M=>{h=h.updateImmediateChild(M.name,M.node)}),h}(a.writeTree,a.treePath,i)}function Fo(a,i,s,h){return function(a,i,s,h,v){(0,Y.hu)(h||v,"Either existingEventSnap or existingServerSnap must exist");const T=hr(i,s);if(Eo(a.visibleWrites,T))return null;{const M=rs(a.visibleWrites,T);return Ia(M)?v.getChild(s):A(M,v.getChild(s))}}(a.writeTree,a.treePath,i,s,h)}function sa(a,i){return function(a,i){return Oi(a.visibleWrites,i)}(a.writeTree,hr(a.treePath,i))}function eo(a,i,s){return function(a,i,s,h){const v=hr(i,s),T=Oi(a.visibleWrites,v);return null!=T?T:h.isCompleteForChild(s)?A(rs(a.visibleWrites,v),h.getNode().getImmediateChild(s)):null}(a.writeTree,a.treePath,i,s)}function oa(a,i){return Cs(hr(a.treePath,i),a.writeTree)}function Cs(a,i){return{treePath:a,writeTree:i}}class Xa{constructor(){this.changeMap=new Map}trackChildChange(i){const s=i.type,h=i.childName;(0,Y.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,Y.hu)(".priority"!==h,"Only non-priority child changes can be tracked.");const v=this.changeMap.get(h);if(v){const T=v.type;if("child_added"===s&&"child_removed"===T)this.changeMap.set(h,oi(h,i.snapshotNode,v.snapshotNode));else if("child_removed"===s&&"child_added"===T)this.changeMap.delete(h);else if("child_removed"===s&&"child_changed"===T)this.changeMap.set(h,go(h,v.oldSnap));else if("child_changed"===s&&"child_added"===T)this.changeMap.set(h,hi(h,i.snapshotNode));else{if("child_changed"!==s||"child_changed"!==T)throw(0,Y.g5)("Illegal combination of changes: "+i+" occurred after "+v);this.changeMap.set(h,oi(h,i.snapshotNode,v.oldSnap))}}else this.changeMap.set(h,i)}getChanges(){return Array.from(this.changeMap.values())}}const to=new class{getCompleteChild(i){return null}getChildAfterChild(i,s,h){return null}};class el{constructor(i,s,h=null){this.writes_=i,this.viewCache_=s,this.optCompleteServerCache_=h}getCompleteChild(i){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(i))return s.getNode().getImmediateChild(i);{const h=null!=this.optCompleteServerCache_?new wi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return eo(this.writes_,i,h)}}getChildAfterChild(i,s,h){const v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ji(this.viewCache_),T=function(a,i,s,h,v,T){return function(a,i,s,h,v,T,M){let H;const te=rs(a.visibleWrites,i),ge=Oi(te,Cn());if(null!=ge)H=ge;else{if(null==s)return[];H=A(te,s)}if(H=H.withIndex(M),H.isEmpty()||H.isLeafNode())return[];{const We=[],Se=M.getCompare(),tt=T?H.getReverseIteratorFrom(h,M):H.getIteratorFrom(h,M);let Nt=tt.getNext();for(;Nt&&We.length<v;)0!==Se(Nt,h)&&We.push(Nt),Nt=tt.getNext();return We}}(a.writeTree,a.treePath,i,s,h,v,T)}(this.writes_,v,s,1,h,i);return 0===T.length?null:T[0]}}function _r(a,i,s,h,v,T){const M=i.eventCache;if(null!=sa(h,s))return i;{let H,te;if(fn(s))if((0,Y.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const ge=ji(i),Se=Jr(h,ge instanceof Qt?ge:Qt.EMPTY_NODE);H=a.filter.updateFullNode(i.eventCache.getNode(),Se,T)}else{const ge=Ri(h,ji(i));H=a.filter.updateFullNode(i.eventCache.getNode(),ge,T)}else{const ge=en(s);if(".priority"===ge){(0,Y.hu)(1===yi(s),"Can't have a priority with additional path components");const We=M.getNode();te=i.serverCache.getNode();const Se=Fo(h,s,We,te);H=null!=Se?a.filter.updatePriority(We,Se):M.getNode()}else{const We=Hn(s);let Se;if(M.isCompleteForChild(ge)){te=i.serverCache.getNode();const tt=Fo(h,s,M.getNode(),te);Se=null!=tt?M.getNode().getImmediateChild(ge).updateChild(We,tt):M.getNode().getImmediateChild(ge)}else Se=eo(h,ge,i.serverCache);H=null!=Se?a.filter.updateChild(M.getNode(),ge,Se,We,v,T):M.getNode()}}return Va(i,H,M.isFullyInitialized()||fn(s),a.filter.filtersNodes())}}function Ua(a,i,s,h,v,T,M,H){const te=i.serverCache;let ge;const We=M?a.filter:a.filter.getIndexedFilter();if(fn(s))ge=We.updateFullNode(te.getNode(),h,null);else if(We.filtersNodes()&&!te.isFiltered()){const Nt=te.getNode().updateChild(s,h);ge=We.updateFullNode(te.getNode(),Nt,null)}else{const Nt=en(s);if(!te.isCompleteForPath(s)&&yi(s)>1)return i;const kt=Hn(s),ni=te.getNode().getImmediateChild(Nt).updateChild(kt,h);ge=".priority"===Nt?We.updatePriority(te.getNode(),ni):We.updateChild(te.getNode(),Nt,ni,kt,to,null)}const Se=pi(i,ge,te.isFullyInitialized()||fn(s),We.filtersNodes());return _r(a,Se,s,v,new el(v,Se,T),H)}function tl(a,i,s,h,v,T,M){const H=i.eventCache;let te,ge;const We=new el(v,i,T);if(fn(s))ge=a.filter.updateFullNode(i.eventCache.getNode(),h,M),te=Va(i,ge,!0,a.filter.filtersNodes());else{const Se=en(s);if(".priority"===Se)ge=a.filter.updatePriority(i.eventCache.getNode(),h),te=Va(i,ge,H.isFullyInitialized(),H.isFiltered());else{const tt=Hn(s),Nt=H.getNode().getImmediateChild(Se);let kt;if(fn(tt))kt=h;else{const er=We.getCompleteChild(Se);kt=null!=er?".priority"===uo(tt)&&er.getChild(Zo(tt)).isEmpty()?er:er.updateChild(tt,h):Qt.EMPTY_NODE}te=Nt.equals(kt)?i:Va(i,a.filter.updateChild(H.getNode(),Se,kt,tt,We,M),H.isFullyInitialized(),a.filter.filtersNodes())}}return te}function Hl(a,i){return a.eventCache.isCompleteForChild(i)}function nl(a,i,s){return s.foreach((h,v)=>{i=i.updateChild(h,v)}),i}function rl(a,i,s,h,v,T,M,H){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let ge,te=i;ge=fn(s)?h:new Jn(null).setTree(s,h);const We=i.serverCache.getNode();return ge.children.inorderTraversal((Se,tt)=>{if(We.hasChild(Se)){const kt=nl(0,i.serverCache.getNode().getImmediateChild(Se),tt);te=Ua(a,te,new qn(Se),kt,v,T,M,H)}}),ge.children.inorderTraversal((Se,tt)=>{const Nt=!i.serverCache.isCompleteForChild(Se)&&void 0===tt.value;if(!We.hasChild(Se)&&!Nt){const er=nl(0,i.serverCache.getNode().getImmediateChild(Se),tt);te=Ua(a,te,new qn(Se),er,v,T,M,H)}}),te}class vc{constructor(i,s){this.query_=i,this.eventRegistrations_=[];const h=this.query_._queryParams,v=new mo(h.getIndex()),T=function(a){return a.loadsAllData()?new mo(a.getIndex()):a.hasLimit()?new Ps(a):new ps(a)}(h);this.processor_=function(a){return{filter:a}}(T);const M=s.serverCache,H=s.eventCache,te=v.updateFullNode(Qt.EMPTY_NODE,M.getNode(),null),ge=T.updateFullNode(Qt.EMPTY_NODE,H.getNode(),null),We=new wi(te,M.isFullyInitialized(),v.filtersNodes()),Se=new wi(ge,H.isFullyInitialized(),T.filtersNodes());this.viewCache_=La(Se,We),this.eventGenerator_=new ta(this.query_)}get query(){return this.query_}}function bs(a,i){const s=ji(a.viewCache_);return s&&(a.query._queryParams.loadsAllData()||!fn(i)&&!s.getImmediateChild(en(i)).isEmpty())?s.getChild(i):null}function wr(a){return 0===a.eventRegistrations_.length}function Ta(a,i,s){const h=[];if(s){(0,Y.hu)(null==i,"A cancel should cancel all event registrations.");const v=a.query._path;a.eventRegistrations_.forEach(T=>{const M=T.createCancelEvent(s,v);M&&h.push(M)})}if(i){let v=[];for(let T=0;T<a.eventRegistrations_.length;++T){const M=a.eventRegistrations_[T];if(M.matches(i)){if(i.hasAnyCallback()){v=v.concat(a.eventRegistrations_.slice(T+1));break}}else v.push(M)}a.eventRegistrations_=v}else a.eventRegistrations_=[];return h}function jc(a,i,s,h){i.type===jr.MERGE&&null!==i.source.queryId&&((0,Y.hu)(ji(a.viewCache_),"We should always have a full cache before handling merges"),(0,Y.hu)(na(a.viewCache_),"Missing event cache, even though we have a server cache"));const v=a.viewCache_,T=function(a,i,s,h,v){const T=new Xa;let M,H;if(s.type===jr.OVERWRITE){const ge=s;ge.source.fromUser?M=tl(a,i,ge.path,ge.snap,h,v,T):((0,Y.hu)(ge.source.fromServer,"Unknown source."),H=ge.source.tagged||i.serverCache.isFiltered()&&!fn(ge.path),M=Ua(a,i,ge.path,ge.snap,h,v,H,T))}else if(s.type===jr.MERGE){const ge=s;ge.source.fromUser?M=function(a,i,s,h,v,T,M){let H=i;return h.foreach((te,ge)=>{const We=hr(s,te);Hl(i,en(We))&&(H=tl(a,H,We,ge,v,T,M))}),h.foreach((te,ge)=>{const We=hr(s,te);Hl(i,en(We))||(H=tl(a,H,We,ge,v,T,M))}),H}(a,i,ge.path,ge.children,h,v,T):((0,Y.hu)(ge.source.fromServer,"Unknown source."),H=ge.source.tagged||i.serverCache.isFiltered(),M=rl(a,i,ge.path,ge.children,h,v,H,T))}else if(s.type===jr.ACK_USER_WRITE){const ge=s;M=ge.revert?function(a,i,s,h,v,T){let M;if(null!=sa(h,s))return i;{const H=new el(h,i,v),te=i.eventCache.getNode();let ge;if(fn(s)||".priority"===en(s)){let We;if(i.serverCache.isFullyInitialized())We=Ri(h,ji(i));else{const Se=i.serverCache.getNode();(0,Y.hu)(Se instanceof Qt,"serverChildren would be complete if leaf node"),We=Jr(h,Se)}We=We,ge=a.filter.updateFullNode(te,We,T)}else{const We=en(s);let Se=eo(h,We,i.serverCache);null==Se&&i.serverCache.isCompleteForChild(We)&&(Se=te.getImmediateChild(We)),ge=null!=Se?a.filter.updateChild(te,We,Se,Hn(s),H,T):i.eventCache.getNode().hasChild(We)?a.filter.updateChild(te,We,Qt.EMPTY_NODE,Hn(s),H,T):te,ge.isEmpty()&&i.serverCache.isFullyInitialized()&&(M=Ri(h,ji(i)),M.isLeafNode()&&(ge=a.filter.updateFullNode(ge,M,T)))}return M=i.serverCache.isFullyInitialized()||null!=sa(h,Cn()),Va(i,ge,M,a.filter.filtersNodes())}}(a,i,ge.path,h,v,T):function(a,i,s,h,v,T,M){if(null!=sa(v,s))return i;const H=i.serverCache.isFiltered(),te=i.serverCache;if(null!=h.value){if(fn(s)&&te.isFullyInitialized()||te.isCompleteForPath(s))return Ua(a,i,s,te.getNode().getChild(s),v,T,H,M);if(fn(s)){let ge=new Jn(null);return te.getNode().forEachChild(Xi,(We,Se)=>{ge=ge.set(new qn(We),Se)}),rl(a,i,s,ge,v,T,H,M)}return i}{let ge=new Jn(null);return h.foreach((We,Se)=>{const tt=hr(s,We);te.isCompleteForPath(tt)&&(ge=ge.set(We,te.getNode().getChild(tt)))}),rl(a,i,s,ge,v,T,H,M)}}(a,i,ge.path,ge.affectedTree,h,v,T)}else{if(s.type!==jr.LISTEN_COMPLETE)throw(0,Y.g5)("Unknown operation type: "+s.type);M=function(a,i,s,h,v){const T=i.serverCache;return _r(a,pi(i,T.getNode(),T.isFullyInitialized()||fn(s),T.isFiltered()),s,h,to,v)}(a,i,s.path,h,T)}const te=T.getChanges();return function(a,i,s){const h=i.eventCache;if(h.isFullyInitialized()){const v=h.getNode().isLeafNode()||h.getNode().isEmpty(),T=na(a);(s.length>0||!a.eventCache.isFullyInitialized()||v&&!h.getNode().equals(T)||!h.getNode().getPriority().equals(T.getPriority()))&&s.push(kr(na(i)))}}(i,M,te),{viewCache:M,changes:te}}(a.processor_,v,i,s,h);return function(a,i){(0,Y.hu)(i.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,Y.hu)(i.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}(a.processor_,T.viewCache),(0,Y.hu)(T.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=T.viewCache,$i(a,T.changes,T.viewCache.eventCache.getNode(),null)}function $i(a,i,s,h){return function(a,i,s,h){const v=[],T=[];return i.forEach(M=>{"child_changed"===M.type&&a.index_.indexedValueChanged(M.oldSnap,M.snapshotNode)&&T.push(function(a,i){return{type:"child_moved",snapshotNode:i,childName:a}}(M.childName,M.snapshotNode))}),ys(a,v,"child_removed",i,h,s),ys(a,v,"child_added",i,h,s),ys(a,v,"child_moved",T,h,s),ys(a,v,"child_changed",i,h,s),ys(a,v,"value",i,h,s),v}(a.eventGenerator_,i,s,h?[h]:a.eventRegistrations_)}let Ni,S;class Ha{constructor(){this.views=new Map}}function bl(a,i,s,h){const v=i.source.queryId;if(null!==v){const T=a.views.get(v);return(0,Y.hu)(null!=T,"SyncTree gave us an op for an invalid query."),jc(T,i,s,h)}{let T=[];for(const M of a.views.values())T=T.concat(jc(M,i,s,h));return T}}function Vo(a,i,s,h,v){const M=a.views.get(i._queryIdentifier);if(!M){let H=Ri(s,v?h:null),te=!1;H?te=!0:h instanceof Qt?(H=Jr(s,h),te=!1):(H=Qt.EMPTY_NODE,te=!1);const ge=La(new wi(H,te,!1),new wi(h,v,!1));return new vc(i,ge)}return M}function wl(a){const i=[];for(const s of a.views.values())s.query._queryParams.loadsAllData()||i.push(s);return i}function Xr(a,i){let s=null;for(const h of a.views.values())s=s||bs(h,i);return s}function Aa(a,i){return i._queryParams.loadsAllData()?Wa(a):a.views.get(i._queryIdentifier)}function Sa(a,i){return null!=Aa(a,i)}function bo(a){return null!=Wa(a)}function Wa(a){for(const i of a.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let le=1;class Ne{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Jn(null),this.pendingWriteTree_={visibleWrites:vs.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ze(a,i,s,h,v){return function(a,i,s,h,v){(0,Y.hu)(h>a.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),a.allWrites.push({path:i,snap:s,writeId:h,visible:v}),v&&(a.visibleWrites=Es(a.visibleWrites,i,s)),a.lastWriteId=h}(a.pendingWriteTree_,i,s,h,v),v?Gi(a,new Qs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,s)):[]}function Dt(a,i,s=!1){const h=function(a,i){for(let s=0;s<a.allWrites.length;s++){const h=a.allWrites[s];if(h.writeId===i)return h}return null}(a.pendingWriteTree_,i);if(function(a,i){const s=a.allWrites.findIndex(H=>H.writeId===i);(0,Y.hu)(s>=0,"removeWrite called with nonexistent writeId.");const h=a.allWrites[s];a.allWrites.splice(s,1);let v=h.visible,T=!1,M=a.allWrites.length-1;for(;v&&M>=0;){const H=a.allWrites[M];H.visible&&(M>=s&&we(H,h.path)?v=!1:Ar(h.path,H.path)&&(T=!0)),M--}return!!v&&(T?(function(a){a.visibleWrites=Nn(a.allWrites,It,Cn()),a.lastWriteId=a.allWrites.length>0?a.allWrites[a.allWrites.length-1].writeId:-1}(a),!0):(h.snap?a.visibleWrites=li(a.visibleWrites,h.path):he(h.children,te=>{a.visibleWrites=li(a.visibleWrites,hr(h.path,te))}),!0))}(a.pendingWriteTree_,i)){let T=new Jn(null);return null!=h.snap?T=T.set(Cn(),!0):he(h.children,M=>{T=T.set(new qn(M),!0)}),Gi(a,new ir(h.path,T,s))}return[]}function St(a,i,s){return Gi(a,new Qs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,s))}function Wi(a,i,s,h){const v=i._path,T=a.syncPointTree_.get(v);let M=[];if(T&&("default"===i._queryIdentifier||Sa(T,i))){const H=function(a,i,s,h){const v=i._queryIdentifier,T=[];let M=[];const H=bo(a);if("default"===v)for(const[te,ge]of a.views.entries())M=M.concat(Ta(ge,s,h)),wr(ge)&&(a.views.delete(te),ge.query._queryParams.loadsAllData()||T.push(ge.query));else{const te=a.views.get(v);te&&(M=M.concat(Ta(te,s,h)),wr(te)&&(a.views.delete(v),te.query._queryParams.loadsAllData()||T.push(te.query)))}return H&&!bo(a)&&T.push(new((0,Y.hu)(Ni,"Reference.ts has not been loaded"),Ni)(i._repo,i._path)),{removed:T,events:M}}(T,i,s,h);(function(a){return 0===a.views.size})(T)&&(a.syncPointTree_=a.syncPointTree_.remove(v));const te=H.removed;M=H.events;const ge=-1!==te.findIndex(Se=>Se._queryParams.loadsAllData()),We=a.syncPointTree_.findOnPath(v,(Se,tt)=>bo(tt));if(ge&&!We){const Se=a.syncPointTree_.subtree(v);if(!Se.isEmpty()){const tt=function(a){return a.fold((i,s,h)=>{if(s&&bo(s))return[Wa(s)];{let v=[];return s&&(v=wl(s)),he(h,(T,M)=>{v=v.concat(M)}),v}})}(Se);for(let Nt=0;Nt<tt.length;++Nt){const kt=tt[Nt],er=kt.query,ni=ci(a,kt);a.listenProvider_.startListening(Il(er),Ga(a,er),ni.hashFn,ni.onComplete)}}}if(!We&&te.length>0&&!h)if(ge){const Se=null;a.listenProvider_.stopListening(Il(i),Se)}else te.forEach(Se=>{const tt=a.queryToTagMap.get(bc(Se));a.listenProvider_.stopListening(Il(Se),tt)});!function(a,i){for(let s=0;s<i.length;++s){const h=i[s];if(!h._queryParams.loadsAllData()){const v=bc(h),T=a.queryToTagMap.get(v);a.queryToTagMap.delete(v),a.tagToQueryMap.delete(T)}}}(a,te)}return M}function Pa(a,i,s){const h=i._path;let v=null,T=!1;a.syncPointTree_.foreachOnPath(h,(Se,tt)=>{const Nt=Nr(Se,h);v=v||Xr(tt,Nt),T=T||bo(tt)});let H,M=a.syncPointTree_.get(h);M?(T=T||bo(M),v=v||Xr(M,Cn())):(M=new Ha,a.syncPointTree_=a.syncPointTree_.set(h,M)),null!=v?H=!0:(H=!1,v=Qt.EMPTY_NODE,a.syncPointTree_.subtree(h).foreachChild((tt,Nt)=>{const kt=Xr(Nt,Cn());kt&&(v=v.updateImmediateChild(tt,kt))}));const te=Sa(M,i);if(!te&&!i._queryParams.loadsAllData()){const Se=bc(i);(0,Y.hu)(!a.queryToTagMap.has(Se),"View does not exist, but we have a tag");const tt=le++;a.queryToTagMap.set(Se,tt),a.tagToQueryMap.set(tt,Se)}let We=function(a,i,s,h,v,T){const M=Vo(a,i,h,v,T);return a.views.has(i._queryIdentifier)||a.views.set(i._queryIdentifier,M),function(a,i){a.eventRegistrations_.push(i)}(M,s),function(a,i){const s=a.viewCache_.eventCache,h=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(In,(T,M)=>{h.push(hi(T,M))}),s.isFullyInitialized()&&h.push(kr(s.getNode())),$i(a,h,s.getNode(),i)}(M,s)}(M,i,s,b(a.pendingWriteTree_,h),v,H);if(!te&&!T){const Se=Aa(M,i);We=We.concat(function(a,i,s){const h=i._path,v=Ga(a,i),T=ci(a,s),M=a.listenProvider_.startListening(Il(i),v,T.hashFn,T.onComplete),H=a.syncPointTree_.subtree(h);if(v)(0,Y.hu)(!bo(H.value),"If we're adding a query, it shouldn't be shadowed");else{const te=H.fold((ge,We,Se)=>{if(!fn(ge)&&We&&bo(We))return[Wa(We).query];{let tt=[];return We&&(tt=tt.concat(wl(We).map(Nt=>Nt.query))),he(Se,(Nt,kt)=>{tt=tt.concat(kt)}),tt}});for(let ge=0;ge<te.length;++ge){const We=te[ge];a.listenProvider_.stopListening(Il(We),Ga(a,We))}}return M}(a,i,Se))}return We}function aa(a,i,s){const v=a.pendingWriteTree_,T=a.syncPointTree_.findOnPath(i,(M,H)=>{const ge=Xr(H,Nr(M,i));if(ge)return ge});return Mt(v,i,T,s,!0)}function Gi(a,i){return io(i,a.syncPointTree_,null,b(a.pendingWriteTree_,Cn()))}function io(a,i,s,h){if(fn(a.path))return Cc(a,i,s,h);{const v=i.get(Cn());null==s&&null!=v&&(s=Xr(v,Cn()));let T=[];const M=en(a.path),H=a.operationForChild(M),te=i.children.get(M);if(te&&H){const ge=s?s.getImmediateChild(M):null,We=oa(h,M);T=T.concat(io(H,te,ge,We))}return v&&(T=T.concat(bl(v,a,h,s))),T}}function Cc(a,i,s,h){const v=i.get(Cn());null==s&&null!=v&&(s=Xr(v,Cn()));let T=[];return i.children.inorderTraversal((M,H)=>{const te=s?s.getImmediateChild(M):null,ge=oa(h,M),We=a.operationForChild(M);We&&(T=T.concat(Cc(We,H,te,ge)))}),v&&(T=T.concat(bl(v,a,h,s))),T}function ci(a,i){const s=i.query,h=Ga(a,s);return{hashFn:()=>(function(a){return a.viewCache_.serverCache.getNode()}(i)||Qt.EMPTY_NODE).hash(),onComplete:v=>{if("ok"===v)return h?function(a,i,s){const h=wo(a,s);if(h){const v=la(h),T=v.path,M=v.queryId,H=Nr(T,i);return Wl(a,T,new Rs(ko(M),H))}return[]}(a,s._path,h):function(a,i){return Gi(a,new Rs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(a,s._path);{const T=function(a,i){let s="Unknown Error";"too_big"===a?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===a?s="Client doesn't have permission to access the desired data.":"unavailable"===a&&(s="The service is unavailable");const h=new Error(a+" at "+i._path.toString()+": "+s);return h.code=a.toUpperCase(),h}(v,s);return Wi(a,s,null,T)}}}}function Ga(a,i){const s=bc(i);return a.queryToTagMap.get(s)}function bc(a){return a._path.toString()+"$"+a._queryIdentifier}function wo(a,i){return a.tagToQueryMap.get(i)}function la(a){const i=a.indexOf("$");return(0,Y.hu)(-1!==i&&i<a.length-1,"Bad queryKey."),{queryId:a.substr(i+1),path:new qn(a.substr(0,i))}}function Wl(a,i,s){const h=a.syncPointTree_.get(i);return(0,Y.hu)(h,"Missing sync point for query tag that we're tracking"),bl(h,s,b(a.pendingWriteTree_,i),null)}function Il(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new((0,Y.hu)(S,"Reference.ts has not been loaded"),S)(a._repo,a._path):a}class Dl{constructor(i){this.node_=i}getImmediateChild(i){const s=this.node_.getImmediateChild(i);return new Dl(s)}node(){return this.node_}}class Io{constructor(i,s){this.syncTree_=i,this.path_=s}getImmediateChild(i){const s=hr(this.path_,i);return new Io(this.syncTree_,s)}node(){return aa(this.syncTree_,this.path_)}}const wc=function(a,i,s){return a&&"object"==typeof a?((0,Y.hu)(".sv"in a,"Unexpected leaf node or priority contents"),"string"==typeof a[".sv"]?Tl(a[".sv"],i,s):"object"==typeof a[".sv"]?zl(a[".sv"],i):void(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2))):a},Tl=function(a,i,s){switch(a){case"timestamp":return s.timestamp;default:(0,Y.hu)(!1,"Unexpected server value: "+a)}},zl=function(a,i,s){a.hasOwnProperty("increment")||(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const h=a.increment;"number"!=typeof h&&(0,Y.hu)(!1,"Unexpected increment value: "+h);const v=i.node();if((0,Y.hu)(null!=v,"Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return h;const M=v.getValue();return"number"!=typeof M?h:M+h},Ic=function(a,i,s,h){return au(i,new Io(s,a),h)},Kl=function(a,i,s){return au(a,new Dl(i),s)};function au(a,i,s){const h=a.getPriority().val(),v=wc(h,i.getImmediateChild(".priority"),s);let T;if(a.isLeafNode()){const M=a,H=wc(M.getValue(),i,s);return H!==M.getValue()||v!==M.getPriority().val()?new $t(H,gr(v)):a}{const M=a;return T=M,v!==M.getPriority().val()&&(T=T.updatePriority(new $t(v))),M.forEachChild(In,(H,te)=>{const ge=au(te,i.getImmediateChild(H),s);ge!==te&&(T=T.updateImmediateChild(H,ge))}),T}}class ks{constructor(i="",s=null,h={children:{},childCount:0}){this.name=i,this.parent=s,this.node=h}}function Uo(a,i){let s=i instanceof qn?i:new qn(i),h=a,v=en(s);for(;null!==v;){const T=(0,Y.DV)(h.node.children,v)||{children:{},childCount:0};h=new ks(v,h,T),s=Hn(s),v=en(s)}return h}function Bo(a){return a.node.value}function Al(a,i){a.node.value=i,al(a)}function Zl(a){return a.node.childCount>0}function Dc(a,i){he(a.node.children,(s,h)=>{i(new ks(s,a,h))})}function ol(a,i,s,h){s&&!h&&i(a),Dc(a,v=>{ol(v,i,!0,h)}),s&&h&&i(a)}function Yl(a){return new qn(null===a.parent?a.name:Yl(a.parent)+"/"+a.name)}function al(a){null!==a.parent&&function(a,i,s){const h=function(a){return void 0===Bo(a)&&!Zl(a)}(s),v=(0,Y.r3)(a.node.children,i);h&&v?(delete a.node.children[i],a.node.childCount--,al(a)):!h&&!v&&(a.node.children[i]=s.node,a.node.childCount++,al(a))}(a.parent,a.name,a)}const Sl=/[\[\].#$\/\u0000-\u001F\u007F]/,Nu=/[\[\].#$\u0000-\u001F\u007F]/,$c=10485760,Ql=function(a){return"string"==typeof a&&0!==a.length&&!Sl.test(a)},Jl=function(a){return"string"==typeof a&&0!==a.length&&!Nu.test(a)},ll=function(a){return null===a||"string"==typeof a||"number"==typeof a&&!rt(a)||a&&"object"==typeof a&&(0,Y.r3)(a,".sv")},jo=function(a,i,s,h){h&&void 0===i||Oa((0,Y.gK)(a,"value"),i,s)},Oa=function(a,i,s){const h=s instanceof qn?new Ro(s,a):s;if(void 0===i)throw new Error(a+"contains undefined "+Br(h));if("function"==typeof i)throw new Error(a+"contains a function "+Br(h)+" with contents = "+i.toString());if(rt(i))throw new Error(a+"contains "+i.toString()+" "+Br(h));if("string"==typeof i&&i.length>$c/3&&(0,Y.ug)(i)>$c)throw new Error(a+"contains a string greater than "+$c+" utf8 bytes "+Br(h)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let v=!1,T=!1;if(he(i,(M,H)=>{if(".value"===M)v=!0;else if(".priority"!==M&&".sv"!==M&&(T=!0,!Ql(M)))throw new Error(a+" contains an invalid key ("+M+") "+Br(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(a,i){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(i),a.byteLength_+=(0,Y.ug)(i),ho(a)})(h,M),Oa(a,H,h),function(a){const i=a.parts_.pop();a.byteLength_-=(0,Y.ug)(i),a.parts_.length>0&&(a.byteLength_-=1)}(h)}),v&&T)throw new Error(a+' contains ".value" child '+Br(h)+" in addition to actual children.")}},uu=function(a,i,s,h){if(h&&void 0===i)return;const v=(0,Y.gK)(a,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(v+" must be an object containing the children to replace.");const T=[];he(i,(M,H)=>{const te=new qn(M);if(Oa(v,H,hr(s,te)),".priority"===uo(te)&&!ll(H))throw new Error(v+"contains an invalid value for '"+te.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");T.push(te)}),function(a,i){let s,h;for(s=0;s<i.length;s++){h=i[s];const T=$s(h);for(let M=0;M<T.length;M++)if((".priority"!==T[M]||M!==T.length-1)&&!Ql(T[M]))throw new Error(a+"contains an invalid key ("+T[M]+") in path "+h.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(Yo);let v=null;for(s=0;s<i.length;s++){if(h=i[s],null!==v&&Ar(v,h))throw new Error(a+"contains a path "+v.toString()+" that is ancestor of another path "+h.toString());v=h}}(v,T)},Gc=function(a,i,s){if(!s||void 0!==i){if(rt(i))throw new Error((0,Y.gK)(a,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ll(i))throw new Error((0,Y.gK)(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Xl=function(a,i,s,h){if(!(h&&void 0===s||Ql(s)))throw new Error((0,Y.gK)(a,i)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ec=function(a,i,s,h){if(!(h&&void 0===s||Jl(s)))throw new Error((0,Y.gK)(a,i)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ti=function(a,i){if(".info"===en(i))throw new Error(a+" failed = Can't modify data under /.info/")},ul=function(a,i){const s=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Ql(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==s.length&&!function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Jl(a)}(s))throw new Error((0,Y.gK)(a,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Tc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ac(a,i){let s=null;for(let h=0;h<i.length;h++){const v=i[h],T=v.getPath();null!==s&&!Ss(T,s.path)&&(a.eventLists_.push(s),s=null),null===s&&(s={events:[],path:T}),s.events.push(v)}s&&a.eventLists_.push(s)}function zc(a,i,s){Ac(a,s),ku(a,h=>Ss(h,i))}function Do(a,i,s){Ac(a,s),ku(a,h=>Ar(h,i)||Ar(i,h))}function ku(a,i){a.recursionDepth_++;let s=!0;for(let h=0;h<a.eventLists_.length;h++){const v=a.eventLists_[h];v&&(i(v.path)?(Fu(a.eventLists_[h]),a.eventLists_[h]=null):s=!1)}s&&(a.eventLists_=[]),a.recursionDepth_--}function Fu(a){for(let i=0;i<a.events.length;i++){const s=a.events[i];if(null!==s){a.events[i]=null;const h=s.getEventRunner();En&&dn("event: "+s.toString()),At(h)}}}const Sc="repo_interrupt";class Vu{constructor(i,s,h,v){this.repoInfo_=i,this.forceRestClient_=s,this.authTokenProvider_=h,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ca(),this.transactionQueueTree_=new ks,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function du(a){const s=a.infoData_.getNode(new qn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function Pl(a){return function(a){return(a=a||{}).timestamp=a.timestamp||(new Date).getTime(),a}({timestamp:du(a)})}function hu(a,i,s,h,v){a.dataUpdateCount++;const T=new qn(i);s=a.interceptServerDataCallback_?a.interceptServerDataCallback_(i,s):s;let M=[];if(v)if(h){const te=(0,Y.UI)(s,ge=>gr(ge));M=function(a,i,s,h){const v=wo(a,h);if(v){const T=la(v),M=T.path,H=T.queryId,te=Nr(M,i),ge=Jn.fromObject(s);return Wl(a,M,new bi(ko(H),te,ge))}return[]}(a.serverSyncTree_,T,te,v)}else{const te=gr(s);M=function(a,i,s,h){const v=wo(a,h);if(null!=v){const T=la(v),M=T.path,H=T.queryId,te=Nr(M,i);return Wl(a,M,new Qs(ko(H),te,s))}return[]}(a.serverSyncTree_,T,te,v)}else if(h){const te=(0,Y.UI)(s,ge=>gr(ge));M=function(a,i,s){const h=Jn.fromObject(s);return Gi(a,new bi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,h))}(a.serverSyncTree_,T,te)}else{const te=gr(s);M=St(a.serverSyncTree_,T,te)}let H=T;M.length>0&&(H=hl(a,T)),Do(a.eventQueue_,H,M)}function xi(a,i){so(a,"connected",i),!1===i&&function(a){Ml(a,"onDisconnectEvents");const i=Pl(a),s=Ca();Os(a.onDisconnect_,Cn(),(v,T)=>{const M=Ic(v,T,a.serverSyncTree_,i);ms(s,v,M)});let h=[];Os(s,Cn(),(v,T)=>{h=h.concat(St(a.serverSyncTree_,v,T));const M=g(a,v);hl(a,M)}),a.onDisconnect_=Ca(),Do(a.eventQueue_,Cn(),h)}(a)}function so(a,i,s){const h=new qn("/.info/"+i),v=gr(s);a.infoData_.updateSnapshot(h,v);const T=St(a.infoSyncTree_,h,v);Do(a.eventQueue_,h,T)}function za(a){return a.nextWriteId_++}function Mc(a,i,s,h,v){Ml(a,"set",{path:i.toString(),value:s,priority:h});const T=Pl(a),M=gr(s,h),H=aa(a.serverSyncTree_,i),te=Kl(M,H,T),ge=za(a),We=ze(a.serverSyncTree_,i,te,ge,!0);Ac(a.eventQueue_,We),a.server_.put(i.toString(),M.val(!0),(tt,Nt)=>{const kt="ok"===tt;kt||On("set at "+i+" failed: "+tt);const er=Dt(a.serverSyncTree_,ge,!kt);Do(a.eventQueue_,i,er),To(0,v,tt,Nt)});const Se=g(a,i);hl(a,Se),Do(a.eventQueue_,Se,[])}function dd(a,i,s){a.server_.onDisconnectCancel(i.toString(),(h,v)=>{"ok"===h&&Pr(a.onDisconnect_,i),To(0,s,h,v)})}function ju(a,i,s,h){const v=gr(s);a.server_.onDisconnectPut(i.toString(),v.val(!0),(T,M)=>{"ok"===T&&ms(a.onDisconnect_,i,v),To(0,h,T,M)})}function gu(a,i,s){let h;h=".info"===en(i._path)?Wi(a.infoSyncTree_,i,s):Wi(a.serverSyncTree_,i,s),zc(a.eventQueue_,i._path,h)}function Hu(a){a.persistentConnection_&&a.persistentConnection_.interrupt(Sc)}function Ml(a,...i){let s="";a.persistentConnection_&&(s=a.persistentConnection_.id+":"),dn(s,...i)}function To(a,i,s,h){i&&At(()=>{if("ok"===s)i(null);else{const v=(s||"error").toUpperCase();let T=v;h&&(T+=": "+h);const M=new Error(T);M.code=v,i(M)}})}function Yc(a,i,s){return aa(a.serverSyncTree_,i,s)||Qt.EMPTY_NODE}function dl(a,i=a.transactionQueueTree_){if(i||Nc(a,i),Bo(i)){const s=Hr(a,i);(0,Y.hu)(s.length>0,"Sending zero length transaction queue"),s.every(v=>0===v.status)&&function(a,i,s){const h=s.map(ge=>ge.currentWriteId),v=Yc(a,i,h);let T=v;const M=v.hash();for(let ge=0;ge<s.length;ge++){const We=s[ge];(0,Y.hu)(0===We.status,"tryToSendTransactionQueue_: items in queue should all be run."),We.status=1,We.retryCount++;const Se=Nr(i,We.path);T=T.updateChild(Se,We.currentOutputSnapshotRaw)}const H=T.val(!0),te=i;a.server_.put(te.toString(),H,ge=>{Ml(a,"transaction put response",{path:te.toString(),status:ge});let We=[];if("ok"===ge){const Se=[];for(let tt=0;tt<s.length;tt++)s[tt].status=2,We=We.concat(Dt(a.serverSyncTree_,s[tt].currentWriteId)),s[tt].onComplete&&Se.push(()=>s[tt].onComplete(null,!0,s[tt].currentOutputSnapshotResolved)),s[tt].unwatcher();Nc(a,Uo(a.transactionQueueTree_,i)),dl(a,a.transactionQueueTree_),Do(a.eventQueue_,i,We);for(let tt=0;tt<Se.length;tt++)At(Se[tt])}else{if("datastale"===ge)for(let Se=0;Se<s.length;Se++)s[Se].status=3===s[Se].status?4:0;else{On("transaction at "+te.toString()+" failed: "+ge);for(let Se=0;Se<s.length;Se++)s[Se].status=4,s[Se].abortReason=ge}hl(a,i)}},M)}(a,Yl(i),s)}else Zl(i)&&Dc(i,s=>{dl(a,s)})}function hl(a,i){const s=qc(a,i),h=Yl(s);return function(a,i,s){if(0===i.length)return;const h=[];let v=[];const M=i.filter(H=>0===H.status).map(H=>H.currentWriteId);for(let H=0;H<i.length;H++){const te=i[H],ge=Nr(s,te.path);let Se,We=!1;if((0,Y.hu)(null!==ge,"rerunTransactionsUnderNode_: relativePath should not be null."),4===te.status)We=!0,Se=te.abortReason,v=v.concat(Dt(a.serverSyncTree_,te.currentWriteId,!0));else if(0===te.status)if(te.retryCount>=25)We=!0,Se="maxretry",v=v.concat(Dt(a.serverSyncTree_,te.currentWriteId,!0));else{const tt=Yc(a,te.path,M);te.currentInputSnapshot=tt;const Nt=i[H].update(tt.val());if(void 0!==Nt){Oa("transaction failed: Data returned ",Nt,te.path);let kt=gr(Nt);"object"==typeof Nt&&null!=Nt&&(0,Y.r3)(Nt,".priority")||(kt=kt.updatePriority(tt.getPriority()));const ni=te.currentWriteId,ml=Pl(a),Na=Kl(kt,tt,ml);te.currentOutputSnapshotRaw=kt,te.currentOutputSnapshotResolved=Na,te.currentWriteId=za(a),M.splice(M.indexOf(ni),1),v=v.concat(ze(a.serverSyncTree_,te.path,Na,te.currentWriteId,te.applyLocally)),v=v.concat(Dt(a.serverSyncTree_,ni,!0))}else We=!0,Se="nodata",v=v.concat(Dt(a.serverSyncTree_,te.currentWriteId,!0))}Do(a.eventQueue_,s,v),v=[],We&&(i[H].status=2,setTimeout(i[H].unwatcher,Math.floor(0)),i[H].onComplete&&h.push("nodata"===Se?()=>i[H].onComplete(null,!1,i[H].currentInputSnapshot):()=>i[H].onComplete(new Error(Se),!1,null)))}Nc(a,a.transactionQueueTree_);for(let H=0;H<h.length;H++)At(h[H]);dl(a,a.transactionQueueTree_)}(a,Hr(a,s),h),h}function qc(a,i){let s,h=a.transactionQueueTree_;for(s=en(i);null!==s&&void 0===Bo(h);)h=Uo(h,s),s=en(i=Hn(i));return h}function Hr(a,i){const s=[];return mu(a,i,s),s.sort((h,v)=>h.order-v.order),s}function mu(a,i,s){const h=Bo(i);if(h)for(let v=0;v<h.length;v++)s.push(h[v]);Dc(i,v=>{mu(a,v,s)})}function Nc(a,i){const s=Bo(i);if(s){let h=0;for(let v=0;v<s.length;v++)2!==s[v].status&&(s[h]=s[v],h++);s.length=h,Al(i,s.length>0?s:void 0)}Dc(i,h=>{Nc(a,h)})}function g(a,i){const s=Yl(qc(a,i)),h=Uo(a.transactionQueueTree_,i);return function(a,i,s){let h=a.parent;for(;null!==h;){if(i(h))return!0;h=h.parent}}(h,v=>{c(a,v)}),c(a,h),ol(h,v=>{c(a,v)}),s}function c(a,i){const s=Bo(i);if(s){const h=[];let v=[],T=-1;for(let M=0;M<s.length;M++)3===s[M].status||(1===s[M].status?((0,Y.hu)(T===M-1,"All SENT items should be at beginning of queue."),T=M,s[M].status=3,s[M].abortReason="set"):((0,Y.hu)(0===s[M].status,"Unexpected transaction status in abort"),s[M].unwatcher(),v=v.concat(Dt(a.serverSyncTree_,s[M].currentWriteId,!0)),s[M].onComplete&&h.push(s[M].onComplete.bind(null,new Error("set"),!1,null))));-1===T?Al(i,void 0):s.length=T+1,Do(a.eventQueue_,Yl(i),v);for(let M=0;M<h.length;M++)At(h[M])}}const O=function(a,i){const s=$(a),h=s.namespace;return"firebase.com"===s.domain&&Dr(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==s.domain&&Dr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Is(s.host,s.secure,h,i,"ws"===s.scheme||"wss"===s.scheme,"",h!==s.subdomain),path:new qn(s.pathString)}},$=function(a){let i="",s="",h="",v="",T="",M=!0,H="https",te=443;if("string"==typeof a){let ge=a.indexOf("//");ge>=0&&(H=a.substring(0,ge-1),a=a.substring(ge+2));let We=a.indexOf("/");-1===We&&(We=a.length);let Se=a.indexOf("?");-1===Se&&(Se=a.length),i=a.substring(0,Math.min(We,Se)),We<Se&&(v=function(a){let i="";const s=a.split("/");for(let h=0;h<s.length;h++)if(s[h].length>0){let v=s[h];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch(T){}i+="/"+v}return i}(a.substring(We,Se)));const tt=function(a){const i={};"?"===a.charAt(0)&&(a=a.substring(1));for(const s of a.split("&")){if(0===s.length)continue;const h=s.split("=");2===h.length?i[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):On(`Invalid query segment '${s}' in query '${a}'`)}return i}(a.substring(Math.min(a.length,Se)));ge=i.indexOf(":"),ge>=0?(M="https"===H||"wss"===H,te=parseInt(i.substring(ge+1),10)):ge=i.length;const Nt=i.slice(0,ge);if("localhost"===Nt.toLowerCase())s="localhost";else if(Nt.split(".").length<=2)s=Nt;else{const kt=i.indexOf(".");h=i.substring(0,kt).toLowerCase(),s=i.substring(kt+1),T=h}"ns"in tt&&(T=tt.ns)}return{host:i,port:te,domain:s,subdomain:h,secure:M,scheme:H,pathString:v,namespace:T}};class se{constructor(i,s,h,v){this.eventType=i,this.eventRegistration=s,this.snapshot=h,this.prevName=v}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Y.Pz)(this.snapshot.exportVal())}}class ye{constructor(i,s,h){this.eventRegistration=i,this.error=s,this.path=h}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Fe{constructor(i,s){this.snapshotCallback=i,this.cancelCallback=s}onValue(i,s){this.snapshotCallback.call(null,i,s)}onCancel(i){return(0,Y.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class Je{constructor(i,s){this._repo=i,this._path=s}cancel(){const i=new Y.BH;return dd(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){ti("OnDisconnect.remove",this._path);const i=new Y.BH;return ju(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){ti("OnDisconnect.set",this._path),jo("OnDisconnect.set",i,this._path,!1);const s=new Y.BH;return ju(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}setWithPriority(i,s){ti("OnDisconnect.setWithPriority",this._path),jo("OnDisconnect.setWithPriority",i,this._path,!1),Gc("OnDisconnect.setWithPriority",s,!1);const h=new Y.BH;return function(a,i,s,h,v){const T=gr(s,h);a.server_.onDisconnectPut(i.toString(),T.val(!0),(M,H)=>{"ok"===M&&ms(a.onDisconnect_,i,T),To(0,v,M,H)})}(this._repo,this._path,i,s,h.wrapCallback(()=>{})),h.promise}update(i){ti("OnDisconnect.update",this._path),uu("OnDisconnect.update",i,this._path,!1);const s=new Y.BH;return function(a,i,s,h){if((0,Y.xb)(s))return dn("onDisconnect().update() called with empty data.  Don't do anything."),void To(0,h,"ok",void 0);a.server_.onDisconnectMerge(i.toString(),s,(v,T)=>{"ok"===v&&he(s,(M,H)=>{const te=gr(H);ms(a.onDisconnect_,hr(i,M),te)}),To(0,h,v,T)})}(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}}class st{constructor(i,s,h,v){this._repo=i,this._path=s,this._queryParams=h,this._orderByCalled=v}get key(){return fn(this._path)?null:uo(this._path)}get ref(){return new Tt(this._repo,this._path)}get _queryIdentifier(){const i=xo(this._queryParams),s=ke(i);return"{}"===s?"default":s}get _queryObject(){return xo(this._queryParams)}isEqual(i){if(!((i=(0,Y.m9)(i))instanceof st))return!1;const s=this._repo===i._repo,h=Ss(this._path,i._path);return s&&h&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(a){let i="";for(let s=a.pieceNum_;s<a.pieces_.length;s++)""!==a.pieces_[s]&&(i+="/"+encodeURIComponent(String(a.pieces_[s])));return i||"/"}(this._path)}}function Ot(a,i){if(!0===a._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Zt(a){let i=null,s=null;if(a.hasStart()&&(i=a.getIndexStartValue()),a.hasEnd()&&(s=a.getIndexEndValue()),a.getIndex()===Xi){const h="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(a.hasStart()){if(a.getIndexStartName()!==rn)throw new Error(h);if("string"!=typeof i)throw new Error(v)}if(a.hasEnd()){if(a.getIndexEndName()!==vt)throw new Error(h);if("string"!=typeof s)throw new Error(v)}}else if(a.getIndex()===In){if(null!=i&&!ll(i)||null!=s&&!ll(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Y.hu)(a.getIndex()instanceof lr||a.getIndex()===es,"unknown index type."),null!=i&&"object"==typeof i||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Sn(a){if(a.hasStart()&&a.hasEnd()&&a.hasLimit()&&!a.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Tt extends st{constructor(i,s){super(i,s,new _o,!1)}get parent(){const i=Zo(this._path);return null===i?null:new Tt(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Yt{constructor(i,s,h){this._node=i,this.ref=s,this._index=h}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const s=new qn(i),h=fr(this.ref,i);return new Yt(this._node.getChild(s),h,In)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(h,v)=>i(new Yt(v,fr(this.ref,h),In)))}hasChild(i){const s=new qn(i);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Un(a,i){return(a=(0,Y.m9)(a))._checkNotDeleted("ref"),void 0!==i?fr(a._root,i):a._root}function Zr(a,i){(a=(0,Y.m9)(a))._checkNotDeleted("refFromURL");const s=O(i,a._repo.repoInfo_.nodeAdmin);ul("refFromURL",s);const h=s.repoInfo;return!a._repo.repoInfo_.isCustomHost()&&h.host!==a._repo.repoInfo_.host&&Dr("refFromURL: Host name does not match the current database: (found "+h.host+" but expected "+a._repo.repoInfo_.host+")"),Un(a,s.path.toString())}function fr(a,i){return null===en((a=(0,Y.m9)(a))._path)?((s=i)&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),ec("child","path",s,!1)):ec("child","path",i,!1),new Tt(a._repo,hr(a._path,i));var s}function Ao(a,i){a=(0,Y.m9)(a),ti("set",a._path),jo("set",i,a._path,!1);const s=new Y.BH;return Mc(a._repo,a._path,i,null,s.wrapCallback(()=>{})),s.promise}function ua(a,i){uu("update",i,a._path,!1);const s=new Y.BH;return function(a,i,s,h){Ml(a,"update",{path:i.toString(),value:s});let v=!0;const T=Pl(a),M={};if(he(s,(H,te)=>{v=!1,M[H]=Ic(hr(i,H),gr(te),a.serverSyncTree_,T)}),v)dn("update() called with empty data.  Don't do anything."),To(0,h,"ok",void 0);else{const H=za(a),te=function(a,i,s,h){!function(a,i,s,h){(0,Y.hu)(h>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:i,children:s,writeId:h,visible:!0}),a.visibleWrites=wa(a.visibleWrites,i,s),a.lastWriteId=h}(a.pendingWriteTree_,i,s,h);const v=Jn.fromObject(s);return Gi(a,new bi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,v))}(a.serverSyncTree_,i,M,H);Ac(a.eventQueue_,te),a.server_.merge(i.toString(),s,(ge,We)=>{const Se="ok"===ge;Se||On("update at "+i+" failed: "+ge);const tt=Dt(a.serverSyncTree_,H,!Se),Nt=tt.length>0?hl(a,i):i;Do(a.eventQueue_,Nt,tt),To(0,h,ge,We)}),he(s,ge=>{const We=g(a,hr(i,ge));hl(a,We)}),Do(a.eventQueue_,i,[])}}(a._repo,a._path,i,s.wrapCallback(()=>{})),s.promise}function Ho(a){return function(a,i){const s=function(a,i){const s=i._path;let h=null;a.syncPointTree_.foreachOnPath(s,(ge,We)=>{const Se=Nr(ge,s);h=h||Xr(We,Se)});let v=a.syncPointTree_.get(s);v?h=h||Xr(v,Cn()):(v=new Ha,a.syncPointTree_=a.syncPointTree_.set(s,v));const T=null!=h,M=T?new wi(h,!0,!1):null;return function(a){return na(a.viewCache_)}(Vo(v,i,b(a.pendingWriteTree_,i._path),T?M.getNode():Qt.EMPTY_NODE,T))}(a.serverSyncTree_,i);return null!=s?Promise.resolve(s):a.server_.get(i).then(h=>{const v=gr(h).withIndex(i._queryParams.getIndex()),T=St(a.serverSyncTree_,i._path,v);return zc(a.eventQueue_,i._path,T),Promise.resolve(v)},h=>(Ml(a,"get for query "+(0,Y.Pz)(i)+" failed: "+h),Promise.reject(new Error(h))))}((a=(0,Y.m9)(a))._repo,a).then(i=>new Yt(i,new Tt(a._repo,a._path),a._queryParams.getIndex()))}class Ka{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,s){const h=s._queryParams.getIndex();return new se("value",this,new Yt(i.snapshotNode,new Tt(s._repo,s._path),h))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new ye(this,i,s):null}matches(i){return i instanceof Ka&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class $o{constructor(i,s){this.eventType=i,this.callbackContext=s}respondsTo(i){let s="children_added"===i?"child_added":i;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new ye(this,i,s):null}createEvent(i,s){(0,Y.hu)(null!=i.childName,"Child events should have a childName.");const h=fr(new Tt(s._repo,s._path),i.childName),v=s._queryParams.getIndex();return new se(i.type,this,new Yt(i.snapshotNode,h,v),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof $o&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function So(a,i,s,h,v){let T;if("object"==typeof h&&(T=void 0,v=h),"function"==typeof h&&(T=h),v&&v.onlyOnce){const te=s,ge=(We,Se)=>{gu(a._repo,a,H),te(We,Se)};ge.userCallback=s.userCallback,ge.context=s.context,s=ge}const M=new Fe(s,T||void 0),H="value"===i?new Ka(M):new $o(i,M);return function(a,i,s){let h;h=".info"===en(i._path)?Pa(a.infoSyncTree_,i,s):Pa(a.serverSyncTree_,i,s),zc(a.eventQueue_,i._path,h)}(a._repo,a,H),()=>gu(a._repo,a,H)}function Ol(a,i,s,h){return So(a,"value",i,s,h)}function Fs(a,i,s,h){return So(a,"child_added",i,s,h)}function Rt(a,i,s,h){return So(a,"child_changed",i,s,h)}function Bt(a,i,s,h){return So(a,"child_moved",i,s,h)}function mn(a,i,s,h){return So(a,"child_removed",i,s,h)}function Kn(a,i,s){let h=null;const v=s?new Fe(s):null;"value"===i?h=new Ka(v):i&&(h=new $o(i,v)),gu(a._repo,a,h)}class Qn{}class Wo extends Qn{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){jo("endAt",this._value,i._path,!0);const s=ea(i._queryParams,this._value,this._key);if(Sn(s),Zt(s),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new st(i._repo,i._path,s,i._orderByCalled)}}class Za extends Qn{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){jo("endBefore",this._value,i._path,!1);const s=function(a,i,s){let h,v;return a.index_===Xi?("string"==typeof i&&(i=Ks(i)),v=ea(a,i,s)):(h=null==s?rn:Ks(s),v=ea(a,i,h)),v.endBeforeSet_=!0,v}(i._queryParams,this._value,this._key);if(Sn(s),Zt(s),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new st(i._repo,i._path,s,i._orderByCalled)}}class Qc extends Qn{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){jo("startAt",this._value,i._path,!0);const s=Ys(i._queryParams,this._value,this._key);if(Sn(s),Zt(s),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new st(i._repo,i._path,s,i._orderByCalled)}}class ss extends Qn{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){jo("startAfter",this._value,i._path,!1);const s=function(a,i,s){let h;if(a.index_===Xi)"string"==typeof i&&(i=No(i)),h=Ys(a,i,s);else{let v;v=null==s?vt:No(s),h=Ys(a,i,v)}return h.startAfterSet_=!0,h}(i._queryParams,this._value,this._key);if(Sn(s),Zt(s),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new st(i._repo,i._path,s,i._orderByCalled)}}class Ya extends Qn{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new st(i._repo,i._path,function(a,i){const s=a.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="l",s}(i._queryParams,this._limit),i._orderByCalled)}}class _u extends Qn{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new st(i._repo,i._path,function(a,i){const s=a.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="r",s}(i._queryParams,this._limit),i._orderByCalled)}}class fd extends Qn{constructor(i){super(),this._path=i}_apply(i){Ot(i,"orderByChild");const s=new qn(this._path);if(fn(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const h=new lr(s),v=fi(i._queryParams,h);return Zt(v),new st(i._repo,i._path,v,!0)}}class Jc extends Qn{_apply(i){Ot(i,"orderByKey");const s=fi(i._queryParams,Xi);return Zt(s),new st(i._repo,i._path,s,!0)}}class rc extends Qn{_apply(i){Ot(i,"orderByPriority");const s=fi(i._queryParams,In);return Zt(s),new st(i._repo,i._path,s,!0)}}class wf extends Qn{_apply(i){Ot(i,"orderByValue");const s=fi(i._queryParams,es);return Zt(s),new st(i._repo,i._path,s,!0)}}class gd extends Qn{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){if(jo("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Wo(this._value,this._key)._apply(new Qc(this._value,this._key)._apply(i))}}function y(a,...i){let s=(0,Y.m9)(a);for(const h of i)s=h._apply(s);return s}(function(a){(0,Y.hu)(!Ni,"__referenceConstructor has already been defined"),Ni=a})(Tt),function(a){(0,Y.hu)(!S,"__referenceConstructor has already been defined"),S=a}(Tt);const f={};function j(a,i,s,h,v){let T=h||a.options.databaseURL;void 0===T&&(a.options.projectId||Dr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",a.options.projectId),T=`${a.options.projectId}-default-rtdb.firebaseio.com`);let te,ge,M=O(T,v),H=M.repoInfo;"undefined"!=typeof process&&(ge=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ge?(te=!0,T=`http://${ge}?ns=${H.namespace}`,M=O(T,v),H=M.repoInfo):te=!M.repoInfo.secure;const We=v&&te?new Ce(Ce.OWNER):new ae(a.name,a.options,i);ul("Invalid Firebase Database URL",M),fn(M.path)||Dr("Database URL must point to the root of a Firebase Database (not including a child path).");const Se=function(a,i,s,h){let v=f[i.name];v||(v={},f[i.name]=v);let T=v[a.toURLString()];return T&&Dr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),T=new Vu(a,false,s,h),v[a.toURLString()]=T,T}(H,a,We,new me(a.name,s));return new dt(Se,a)}class dt{constructor(i,s){this._repoInternal=i,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(a,i,s){if(a.stats_=Cr(a.repoInfo_),a.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)a.server_=new gs(a.repoInfo_,(h,v,T,M)=>{hu(a,h,v,T,M)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>xi(a,!0),0);else{if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Y.Pz)(s)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}a.persistentConnection_=new Si(a.repoInfo_,i,(h,v,T,M)=>{hu(a,h,v,T,M)},h=>{xi(a,h)},h=>{!function(a,i){he(i,(s,h)=>{so(a,s,h)})}(a,h)},a.authTokenProvider_,a.appCheckProvider_,s),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(h=>{a.server_.refreshAuthToken(h)}),a.appCheckProvider_.addTokenChangeListener(h=>{a.server_.refreshAppCheckToken(h.token)}),a.statsReporter_=function(a,i){const s=a.toString();return Er[s]||(Er[s]=i()),Er[s]}(a.repoInfo_,()=>new ba(a.stats_,a.server_)),a.infoData_=new Ms,a.infoSyncTree_=new Ne({startListening:(h,v,T,M)=>{let H=[];const te=a.infoData_.getNode(h._path);return te.isEmpty()||(H=St(a.infoSyncTree_,h._path,te),setTimeout(()=>{M("ok")},0)),H},stopListening:()=>{}}),so(a,"connected",!1),a.serverSyncTree_=new Ne({startListening:(h,v,T,M)=>(a.server_.listen(h,T,v,(H,te)=>{const ge=M(H,te);Do(a.eventQueue_,h._path,ge)}),[]),stopListening:(h,v)=>{a.server_.unlisten(h,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tt(this._repo,Cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(a,i){const s=f[i];(!s||s[a.key]!==a)&&Dr(`Database ${i}(${a.repoInfo_}) has already been deleted.`),Hu(a),delete s[a.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&Dr("Cannot call "+i+" on a deleted database.")}}function gl(a,i){Wn(a,i)}class Wu{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Si.prototype.simpleListen=function(a,i){this.sendRequest("q",{p:a},i)},Si.prototype.echo=function(a,i){this.sendRequest("echo",{d:a},i)},bt(pt.SDK_VERSION),(0,pt._registerComponent)(new Qe.wA("database",(i,{instanceIdentifier:s})=>j(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,pt.registerVersion)(Wt,"0.12.4",void 0),(0,pt.registerVersion)(Wt,"0.12.4","esm2017");const vu=new mt.Yd("@firebase/database-compat"),Eu=function(a){vu.warn("FIREBASE WARNING: "+a)};class Tf{constructor(i){this._delegate=i}cancel(i){(0,Y.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.cancel","onComplete",i,!0);const s=this._delegate.cancel();return i&&s.then(()=>i(null),h=>i(h)),s}remove(i){(0,Y.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.remove","onComplete",i,!0);const s=this._delegate.remove();return i&&s.then(()=>i(null),h=>i(h)),s}set(i,s){(0,Y.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Y.Wj)("OnDisconnect.set","onComplete",s,!0);const h=this._delegate.set(i);return s&&h.then(()=>s(null),v=>s(v)),h}setWithPriority(i,s,h){(0,Y.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Y.Wj)("OnDisconnect.setWithPriority","onComplete",h,!0);const v=this._delegate.setWithPriority(i,s);return h&&v.then(()=>h(null),T=>h(T)),v}update(i,s){if((0,Y.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const v={};for(let T=0;T<i.length;++T)v[""+T]=i[T];i=v,Eu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Y.Wj)("OnDisconnect.update","onComplete",s,!0);const h=this._delegate.update(i);return s&&h.then(()=>s(null),v=>s(v)),h}}class Af{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return(0,Y.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ha{constructor(i,s){this._database=i,this._delegate=s}val(){return(0,Y.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Y.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Y.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Y.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,Y.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),ec("DataSnapshot.child","path",i,!1),new ha(this._database,this._delegate.child(i))}hasChild(i){return(0,Y.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ec("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,Y.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,Y.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Y.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(s=>i(new ha(this._database,s)))}hasChildren(){return(0,Y.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Y.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Y.Dv)("DataSnapshot.ref",0,0,arguments.length),new fa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vs{constructor(i,s){this.database=i,this._delegate=s}on(i,s,h,v){var T;(0,Y.Dv)("Query.on",2,4,arguments.length),(0,Y.Wj)("Query.on","callback",s,!1);const M=Vs.getCancelAndContextArgs_("Query.on",h,v),H=(ge,We)=>{s.call(M.context,new ha(this.database,ge),We)};H.userCallback=s,H.context=M.context;const te=null===(T=M.cancel)||void 0===T?void 0:T.bind(M.context);switch(i){case"value":return Ol(this._delegate,H,te),s;case"child_added":return Fs(this._delegate,H,te),s;case"child_removed":return mn(this._delegate,H,te),s;case"child_changed":return Rt(this._delegate,H,te),s;case"child_moved":return Bt(this._delegate,H,te),s;default:throw new Error((0,Y.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,s,h){if((0,Y.Dv)("Query.off",0,3,arguments.length),function(a,i,s){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Y.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,Y.Wj)("Query.off","callback",s,!0),(0,Y.lb)("Query.off","context",h,!0),s){const v=()=>{};v.userCallback=s,v.context=h,Kn(this._delegate,i,v)}else Kn(this._delegate,i)}get(){return Ho(this._delegate).then(i=>new ha(this.database,i))}once(i,s,h,v){(0,Y.Dv)("Query.once",1,4,arguments.length),(0,Y.Wj)("Query.once","callback",s,!0);const T=Vs.getCancelAndContextArgs_("Query.once",h,v),M=new Y.BH,H=(ge,We)=>{const Se=new ha(this.database,ge);s&&s.call(T.context,Se,We),M.resolve(Se)};H.userCallback=s,H.context=T.context;const te=ge=>{T.cancel&&T.cancel.call(T.context,ge),M.reject(ge)};switch(i){case"value":Ol(this._delegate,H,te,{onlyOnce:!0});break;case"child_added":Fs(this._delegate,H,te,{onlyOnce:!0});break;case"child_removed":mn(this._delegate,H,te,{onlyOnce:!0});break;case"child_changed":Rt(this._delegate,H,te,{onlyOnce:!0});break;case"child_moved":Bt(this._delegate,H,te,{onlyOnce:!0});break;default:throw new Error((0,Y.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return M.promise}limitToFirst(i){return(0,Y.Dv)("Query.limitToFirst",1,1,arguments.length),new Vs(this.database,y(this._delegate,function(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ya(a)}(i)))}limitToLast(i){return(0,Y.Dv)("Query.limitToLast",1,1,arguments.length),new Vs(this.database,y(this._delegate,function(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _u(a)}(i)))}orderByChild(i){return(0,Y.Dv)("Query.orderByChild",1,1,arguments.length),new Vs(this.database,y(this._delegate,function(a){if("$key"===a)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===a)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===a)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ec("orderByChild","path",a,!1),new fd(a)}(i)))}orderByKey(){return(0,Y.Dv)("Query.orderByKey",0,0,arguments.length),new Vs(this.database,y(this._delegate,new Jc))}orderByPriority(){return(0,Y.Dv)("Query.orderByPriority",0,0,arguments.length),new Vs(this.database,y(this._delegate,new rc))}orderByValue(){return(0,Y.Dv)("Query.orderByValue",0,0,arguments.length),new Vs(this.database,y(this._delegate,new wf))}startAt(i=null,s){return(0,Y.Dv)("Query.startAt",0,2,arguments.length),new Vs(this.database,y(this._delegate,function(a=null,i){return Xl("startAt","key",i,!0),new Qc(a,i)}(i,s)))}startAfter(i=null,s){return(0,Y.Dv)("Query.startAfter",0,2,arguments.length),new Vs(this.database,y(this._delegate,function(a,i){return Xl("startAfter","key",i,!0),new ss(a,i)}(i,s)))}endAt(i=null,s){return(0,Y.Dv)("Query.endAt",0,2,arguments.length),new Vs(this.database,y(this._delegate,function(a,i){return Xl("endAt","key",i,!0),new Wo(a,i)}(i,s)))}endBefore(i=null,s){return(0,Y.Dv)("Query.endBefore",0,2,arguments.length),new Vs(this.database,y(this._delegate,function(a,i){return Xl("endBefore","key",i,!0),new Za(a,i)}(i,s)))}equalTo(i,s){return(0,Y.Dv)("Query.equalTo",1,2,arguments.length),new Vs(this.database,y(this._delegate,function(a,i){return Xl("equalTo","key",i,!0),new gd(a,i)}(i,s)))}toString(){return(0,Y.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Y.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,Y.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof Vs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,s,h){const v={cancel:void 0,context:void 0};if(s&&h)v.cancel=s,(0,Y.Wj)(i,"cancel",v.cancel,!0),v.context=h,(0,Y.lb)(i,"context",v.context,!0);else if(s)if("object"==typeof s&&null!==s)v.context=s;else{if("function"!=typeof s)throw new Error((0,Y.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=s}return v}get ref(){return new fa(this.database,new Tt(this._delegate._repo,this._delegate._path))}}class fa extends Vs{constructor(i,s){super(i,new st(s._repo,s._path,new _o,!1)),this.database=i,this._delegate=s}getKey(){return(0,Y.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,Y.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new fa(this.database,fr(this._delegate,i))}getParent(){(0,Y.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new fa(this.database,i):null}getRoot(){return(0,Y.Dv)("Reference.root",0,0,arguments.length),new fa(this.database,this._delegate.root)}set(i,s){(0,Y.Dv)("Reference.set",1,2,arguments.length),(0,Y.Wj)("Reference.set","onComplete",s,!0);const h=Ao(this._delegate,i);return s&&h.then(()=>s(null),v=>s(v)),h}update(i,s){if((0,Y.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const v={};for(let T=0;T<i.length;++T)v[""+T]=i[T];i=v,Eu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ti("Reference.update",this._delegate._path),(0,Y.Wj)("Reference.update","onComplete",s,!0);const h=ua(this._delegate,i);return s&&h.then(()=>s(null),v=>s(v)),h}setWithPriority(i,s,h){(0,Y.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Y.Wj)("Reference.setWithPriority","onComplete",h,!0);const v=function(a,i,s){if(ti("setWithPriority",a._path),jo("setWithPriority",i,a._path,!1),Gc("setWithPriority",s,!1),".length"===a.key||".keys"===a.key)throw"setWithPriority failed: "+a.key+" is a read-only object.";const h=new Y.BH;return Mc(a._repo,a._path,i,s,h.wrapCallback(()=>{})),h.promise}(this._delegate,i,s);return h&&v.then(()=>h(null),T=>h(T)),v}remove(i){(0,Y.Dv)("Reference.remove",0,1,arguments.length),(0,Y.Wj)("Reference.remove","onComplete",i,!0);const s=function(a){return ti("remove",a._path),Ao(a,null)}(this._delegate);return i&&s.then(()=>i(null),h=>i(h)),s}transaction(i,s,h){(0,Y.Dv)("Reference.transaction",1,3,arguments.length),(0,Y.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,Y.Wj)("Reference.transaction","onComplete",s,!0),function(a,i,s,h){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,Y.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,h);const v=function(a,i,s){var h;if(a=(0,Y.m9)(a),ti("Reference.transaction",a._path),".length"===a.key||".keys"===a.key)throw"Reference.transaction failed: "+a.key+" is a read-only object.";const v=null===(h=null==s?void 0:s.applyLocally)||void 0===h||h,T=new Y.BH,H=Ol(a,()=>{});return function(a,i,s,h,v,T){Ml(a,"transaction on "+i);const M={path:i,update:s,onComplete:h,status:null,order:Ir(),applyLocally:T,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},H=Yc(a,i,void 0);M.currentInputSnapshot=H;const te=M.update(H.val());if(void 0===te)M.unwatcher(),M.currentOutputSnapshotRaw=null,M.currentOutputSnapshotResolved=null,M.onComplete&&M.onComplete(null,!1,M.currentInputSnapshot);else{Oa("transaction failed: Data returned ",te,M.path),M.status=0;const ge=Uo(a.transactionQueueTree_,i),We=Bo(ge)||[];let Se;We.push(M),Al(ge,We),"object"==typeof te&&null!==te&&(0,Y.r3)(te,".priority")?(Se=(0,Y.DV)(te,".priority"),(0,Y.hu)(ll(Se),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Se=(aa(a.serverSyncTree_,i)||Qt.EMPTY_NODE).getPriority().val();const tt=Pl(a),Nt=gr(te,Se),kt=Kl(Nt,H,tt);M.currentOutputSnapshotRaw=Nt,M.currentOutputSnapshotResolved=kt,M.currentWriteId=za(a);const er=ze(a.serverSyncTree_,i,kt,M.currentWriteId,M.applyLocally);Do(a.eventQueue_,i,er),dl(a,a.transactionQueueTree_)}}(a._repo,a._path,i,(te,ge,We)=>{let Se=null;te?T.reject(te):(Se=new Yt(We,new Tt(a._repo,a._path),In),T.resolve(new Wu(ge,Se)))},H,v),T.promise}(this._delegate,i,{applyLocally:h}).then(T=>new Af(T.committed,new ha(this.database,T.snapshot)));return s&&v.then(T=>s(null,T.committed,T.snapshot),T=>s(T,!1,null)),v}setPriority(i,s){(0,Y.Dv)("Reference.setPriority",1,2,arguments.length),(0,Y.Wj)("Reference.setPriority","onComplete",s,!0);const h=function(a,i){a=(0,Y.m9)(a),ti("setPriority",a._path),Gc("setPriority",i,!1);const s=new Y.BH;return Mc(a._repo,hr(a._path,".priority"),i,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,i);return s&&h.then(()=>s(null),v=>s(v)),h}push(i,s){(0,Y.Dv)("Reference.push",0,2,arguments.length),(0,Y.Wj)("Reference.push","onComplete",s,!0);const h=function(a,i){a=(0,Y.m9)(a),ti("push",a._path),jo("push",i,a._path,!0);const s=du(a._repo),h=Fa(s),v=fr(a,h),T=fr(a,h);let M;return M=null!=i?Ao(T,i).then(()=>T):Promise.resolve(T),v.then=M.then.bind(M),v.catch=M.then.bind(M,void 0),v}(this._delegate,i),v=h.then(M=>new fa(this.database,M));s&&v.then(()=>s(null),M=>s(M));const T=new fa(this.database,h);return T.then=v.then.bind(v),T.catch=v.catch.bind(v,void 0),T}onDisconnect(){return ti("Reference.onDisconnect",this._delegate._path),new Tf(new Je(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ku{constructor(i,s){this._delegate=i,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(i,s,h={}){!function(a,i,s,h={}){(a=(0,Y.m9)(a))._checkNotDeleted("useEmulator"),a._instanceStarted&&Dr("Cannot call useEmulator() after instance has already been initialized.");const v=a._repoInternal;let T;if(v.repoInfo_.nodeAdmin)h.mockUserToken&&Dr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),T=new Ce(Ce.OWNER);else if(h.mockUserToken){const M="string"==typeof h.mockUserToken?h.mockUserToken:(0,Y.Sg)(h.mockUserToken,a.app.options.projectId);T=new Ce(M)}!function(a,i,s,h){a.repoInfo_=new Is(`${i}:${s}`,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams),h&&(a.authTokenProvider_=h)}(v,i,s,T)}(this._delegate,i,s,h)}ref(i){if((0,Y.Dv)("database.ref",0,1,arguments.length),i instanceof fa){const s=Zr(this._delegate,i.toString());return new fa(this,s)}{const s=Un(this._delegate,i);return new fa(this,s)}}refFromURL(i){(0,Y.Dv)("database.refFromURL",1,1,arguments.length);const h=Zr(this._delegate,i);return new fa(this,h)}goOffline(){return(0,Y.Dv)("database.goOffline",0,0,arguments.length),function(a){(a=(0,Y.m9)(a))._checkNotDeleted("goOffline"),Hu(a._repo)}(this._delegate)}goOnline(){return(0,Y.Dv)("database.goOnline",0,0,arguments.length),function(a){(a=(0,Y.m9)(a))._checkNotDeleted("goOnline"),function(a){a.persistentConnection_&&a.persistentConnection_.resume(Sc)}(a._repo)}(this._delegate)}}Ku.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:a=>function(a){return{".sv":{increment:a}}}(a)};var Zp=Object.freeze({__proto__:null,initStandalone:function({app:a,url:i,version:s,customAuthImpl:h,namespace:v,nodeAdmin:T=!1}){bt(s);const M=new Qe.zt("auth-internal",new Qe.H0("database-standalone"));return M.setComponent(new Qe.wA("auth-internal",()=>h,"PRIVATE")),{instance:new Ku(j(a,M,void 0,i,T),a),namespace:v}}});const Sf=Ku.ServerValue;!function(a){a.INTERNAL.registerComponent(new Qe.wA("database-compat",(i,{instanceIdentifier:s})=>{const h=i.getProvider("app-compat").getImmediate(),v=i.getProvider("database").getImmediate({identifier:s});return new Ku(v,h)},"PUBLIC").setServiceProps({Reference:fa,Query:Vs,Database:Ku,DataSnapshot:ha,enableLogging:gl,INTERNAL:Zp,ServerValue:Sf}).setMultipleInstances(!0)),a.registerVersion("@firebase/database-compat","0.1.4")}(Oe.Z);var ph=L(9765),Cd=L(4402),Cu=L(6136),bd=L(7771),wd=L(5319),Mf=L(7971),gh=L(8858);class Of extends ph.xQ{constructor(i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,h){super(),this.scheduler=h,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=s<1?1:s,s===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const s=this._events;s.push(i),s.length>this._bufferSize&&s.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new mh(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const s=this._infiniteTimeWindow,h=s?this._events:this._trimBufferThenGetEvents(),v=this.scheduler,T=h.length;let M;if(this.closed)throw new Mf.N;if(this.isStopped||this.hasError?M=wd.w.EMPTY:(this.observers.push(i),M=new gh.W(this,i)),v&&i.add(i=new Cu.ht(i,v)),s)for(let H=0;H<T&&!i.closed;H++)i.next(h[H]);else for(let H=0;H<T&&!i.closed;H++)i.next(h[H].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),M}_getNow(){return(this.scheduler||bd.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),s=this._bufferSize,h=this._windowTime,v=this._events,T=v.length;let M=0;for(;M<T&&!(i-v[M].time<h);)M++;return T>s&&(M=Math.max(M,T-s)),M>0&&v.splice(0,M),v}}class mh{constructor(i,s){this.time=i,this.value=s}}function bu(a,i,s){let h;return h=a&&"object"==typeof a?a:{bufferSize:a,windowTime:i,refCount:!1,scheduler:s},v=>v.lift(function({bufferSize:a=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:s,scheduler:h}){let v,M,T=0,H=!1,te=!1;return function(We){let Se;T++,!v||H?(H=!1,v=new Of(a,i,h),Se=v.subscribe(this),M=We.subscribe({next(tt){v.next(tt)},error(tt){H=!0,v.error(tt)},complete(){te=!0,M=void 0,v.complete()}}),te&&(M=void 0)):Se=v.subscribe(this),this.add(()=>{T--,Se.unsubscribe(),Se=void 0,M&&!te&&s&&0===T&&(M.unsubscribe(),M=void 0,v=void 0)})}}(h))}var Rf=L(8049);function Nf(a,i){return i?(0,ee.w)(()=>a,i):(0,ee.w)(()=>a)}var _h=L(3101),xf=L(5435),yh=L(8583);L(2329);const Tn=new Map,Vf={activated:!1,tokenObservers:[]},Uf={initialized:!1,enabled:!1};function zi(a){return Tn.get(a)||Vf}function Ki(a,i){Tn.set(a,i)}function Zu(){return Uf}class y_{constructor(i,s,h,v,T){if(this.operation=i,this.retryPolicy=s,this.getWaitDuration=h,this.lowerBound=v,this.upperBound=T,this.pending=null,this.nextErrorWaitInterval=v,v>T)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(i){var s=this;return(0,ht.Z)(function*(){s.stop();try{s.pending=new Y.BH,yield function(a){return new Promise(i=>{setTimeout(i,a)})}(s.getNextRun(i)),s.pending.resolve(),yield s.pending.promise,s.pending=new Y.BH,yield s.operation(),s.pending.resolve(),yield s.pending.promise,s.process(!0).catch(()=>{})}catch(h){s.retryPolicy(h)?s.process(!1).catch(()=>{}):s.stop()}})()}getNextRun(i){if(i)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const s=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),s}}}const Ti=new Y.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Yu(a){if(!zi(a).activated)throw Ti.create("use-before-activation",{appName:a.name})}function Dd(a,i){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,ht.Z)(function*({url:a,body:i},s){const h={"Content-Type":"application/json"},v=s.getImmediate({optional:!0});v&&(h["X-Firebase-Client"]=v.getPlatformInfoString());const T={method:"POST",body:JSON.stringify(i),headers:h};let M,H;try{M=yield fetch(a,T)}catch(Se){throw Ti.create("fetch-network-error",{originalErrorMessage:Se.message})}if(200!==M.status)throw Ti.create("fetch-status-error",{httpStatus:M.status});try{H=yield M.json()}catch(Se){throw Ti.create("fetch-parse-error",{originalErrorMessage:Se.message})}const te=H.ttl.match(/^([\d.]+)(s)$/);if(!te||!te[2]||isNaN(Number(te[1])))throw Ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${H.ttl}`});const ge=1e3*Number(te[1]),We=Date.now();return{token:H.attestationToken,expireTimeMillis:We+ge,issuedAtTimeMillis:We}})).apply(this,arguments)}function $f(a,i){const{projectId:s,appId:h,apiKey:v}=a.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${s}/apps/${h}:exchangeDebugToken?key=${v}`,body:{debug_token:i}}}const tu="firebase-app-check-store";let Sh=null;function tg(){return Sh||(Sh=new Promise((a,i)=>{try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=h=>{a(h.target.result)},s.onerror=h=>{var v;i(Ti.create("storage-open",{originalErrorMessage:null===(v=h.target.error)||void 0===v?void 0:v.message}))},s.onupgradeneeded=h=>{const v=h.target.result;switch(h.oldVersion){case 0:v.createObjectStore(tu,{keyPath:"compositeKey"})}}}catch(s){i(Ti.create("storage-open",{originalErrorMessage:s.message}))}}),Sh)}function Gf(){return(Gf=(0,ht.Z)(function*(a,i){const h=(yield tg()).transaction(tu,"readwrite"),T=h.objectStore(tu).put({compositeKey:a,value:i});return new Promise((M,H)=>{T.onsuccess=te=>{M()},h.onerror=te=>{var ge;H(Ti.create("storage-set",{originalErrorMessage:null===(ge=te.target.error)||void 0===ge?void 0:ge.message}))}})})).apply(this,arguments)}const nu=new mt.Yd("@firebase/app-check");function Ad(a,i){return(0,Y.hl)()?function(a,i){return function(a,i){return Gf.apply(this,arguments)}(function(a){return`${a.options.appId}-${a.name}`}(a),i)}(a,i).catch(s=>{nu.warn(`Failed to write token to IndexedDB. Error: ${s}`)}):Promise.resolve()}function Zf(){return Zu().enabled}function oc(){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,ht.Z)(function*(){const a=Zu();if(a.enabled&&a.token)return a.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const D_={error:"UNKNOWN_ERROR"};function Ph(a){return Y.US.encodeString(JSON.stringify(a),!1)}function Pd(a){return Md.apply(this,arguments)}function Md(){return(Md=(0,ht.Z)(function*(a,i=!1){const s=a.app;Yu(s);const h=zi(s);let T,v=h.token;if(!v){const te=yield h.cachedTokenPromise;te&&ac(te)&&(v=te)}if(!i&&v&&ac(v))return{token:v.token};let H,M=!1;if(Zf()){h.exchangeTokenPromise||(h.exchangeTokenPromise=Dd($f(s,yield oc()),a.platformLoggerProvider).then(ge=>(h.exchangeTokenPromise=void 0,ge)),M=!0);const te=yield h.exchangeTokenPromise;return yield Ad(s,te),Ki(s,Object.assign(Object.assign({},h),{token:te})),{token:te.token}}try{h.exchangeTokenPromise||(h.exchangeTokenPromise=h.provider.getToken().then(te=>(h.exchangeTokenPromise=void 0,te)),M=!0),v=yield h.exchangeTokenPromise}catch(te){"appCheck/throttled"===te.code?nu.warn(te.message):nu.error(te),T=te}return v?(H={token:v.token},Ki(s,Object.assign(Object.assign({},h),{token:v})),yield Ad(s,v)):H=Qu(T),M&&Od(s,H),H})).apply(this,arguments)}function Oh(a,i){const s=zi(a),h=s.tokenObservers.filter(v=>v.next!==i);0===h.length&&s.tokenRefresher&&s.tokenRefresher.isRunning()&&s.tokenRefresher.stop(),Ki(a,Object.assign(Object.assign({},s),{tokenObservers:h}))}function wu(a){const{app:i}=a,s=zi(i);let h=s.tokenRefresher;h||(h=function(a){const{app:i}=a;return new y_((0,ht.Z)(function*(){let h;if(h=zi(i).token?yield Pd(a,!0):yield Pd(a),h.error)throw h.error}),()=>!0,()=>{const s=zi(i);if(s.token){let h=s.token.issuedAtTimeMillis+.5*(s.token.expireTimeMillis-s.token.issuedAtTimeMillis)+3e5;return h=Math.min(h,s.token.expireTimeMillis-3e5),Math.max(0,h-Date.now())}return 0},3e4,96e4)}(a),Ki(i,Object.assign(Object.assign({},s),{tokenRefresher:h}))),!h.isRunning()&&s.isTokenAutoRefreshEnabled&&h.start()}function Od(a,i){const s=zi(a).tokenObservers;for(const h of s)try{"EXTERNAL"===h.type&&null!=i.error?h.error(i.error):h.next(i)}catch(v){}}function ac(a){return a.expireTimeMillis-Date.now()>0}function Qu(a){return{token:Ph(D_),error:a}}class Du{constructor(i,s){this.app=i,this.platformLoggerProvider=s}_delete(){const{tokenObservers:i}=zi(this.app);for(const s of i)Oh(this.app,s.next);return Promise.resolve()}}const rp="app-check-internal";(0,pt._registerComponent)(new Qe.wA("app-check",a=>function(a,i){return new Du(a,i)}(a.getProvider("app").getImmediate(),a.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((a,i,s)=>{a.getProvider(rp).initialize()})),(0,pt._registerComponent)(new Qe.wA(rp,a=>function(a){return{getToken:i=>Pd(a,i),addTokenListener:i=>function(a,i,s,h){const{app:v}=a,T=zi(v),M={next:s,error:h,type:i};if(Ki(v,Object.assign(Object.assign({},T),{tokenObservers:[...T.tokenObservers,M]})),T.token&&ac(T.token)){const H=T.token;Promise.resolve().then(()=>{s({token:H.token}),wu(a)}).catch(()=>{})}T.cachedTokenPromise.then(()=>wu(a))}(a,"INTERNAL",i),removeTokenListener:i=>Oh(a.app,i)}}(a.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pt.registerVersion)("@firebase/app-check","0.5.2");class xd{constructor(){return(0,Ge.vb)("app-check")}}"undefined"!=typeof window&&window,L(7841);const ed=new D.OlP("angularfire2.auth.use-emulator"),kd=new D.OlP("angularfire2.auth.settings"),op=new D.OlP("angularfire2.auth.tenant-id"),Fd=new D.OlP("angularfire2.auth.langugage-code"),Ld=new D.OlP("angularfire2.auth.use-device-language"),Uh=new D.OlP("angularfire.auth.persistence"),ap=(a,i,s,h,v,T,M,H)=>(0,Ae.cc)(`${a.name}.auth`,"AngularFireAuth",a.name,()=>{const te=i.runOutsideAngular(()=>a.auth());if(s&&te.useEmulator(...s),h&&(te.tenantId=h),te.languageCode=v,T&&te.useDeviceLanguage(),M)for(const[ge,We]of Object.entries(M))te.settings[ge]=We;return H&&te.setPersistence(H),te},[s,h,v,T,M,H]);let lp=(()=>{class a{constructor(s,h,v,T,M,H,te,ge,We,Se,tt,Nt){const kt=new ph.xQ,er=(0,Ee.of)(void 0).pipe((0,Cu.QV)(M.outsideAngular),(0,ee.w)(()=>T.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2755)))),(0,X.U)(()=>(0,Ae.on)(s,T,h)),(0,X.U)(ni=>ap(ni,T,H,ge,We,Se,te,tt)),bu({bufferSize:1,refCount:!1}));if((0,yh.PM)(v))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ee.of)(null);else{er.pipe((0,Rf.P)()).subscribe();const ml=er.pipe((0,ee.w)(Zi=>Zi.getRedirectResult().then(kl=>kl,()=>null)),Ge.iC,bu({bufferSize:1,refCount:!1})),Na=er.pipe((0,ee.w)(Zi=>new B.y(kl=>({unsubscribe:T.runOutsideAngular(()=>Zi.onAuthStateChanged(xc=>kl.next(xc),xc=>kl.error(xc),()=>kl.complete()))})))),xl=er.pipe((0,ee.w)(Zi=>new B.y(kl=>({unsubscribe:T.runOutsideAngular(()=>Zi.onIdTokenChanged(xc=>kl.next(xc),xc=>kl.error(xc),()=>kl.complete()))}))));this.authState=ml.pipe(Nf(Na),(0,_h.R)(M.outsideAngular),(0,Cu.QV)(M.insideAngular)),this.user=ml.pipe(Nf(xl),(0,_h.R)(M.outsideAngular),(0,Cu.QV)(M.insideAngular)),this.idToken=this.user.pipe((0,ee.w)(Zi=>Zi?(0,Cd.D)(Zi.getIdToken()):(0,Ee.of)(null))),this.idTokenResult=this.user.pipe((0,ee.w)(Zi=>Zi?(0,Cd.D)(Zi.getIdTokenResult()):(0,Ee.of)(null))),this.credential=(0,de.T)(ml,kt,this.authState.pipe((0,xf.h)(Zi=>!Zi))).pipe((0,X.U)(Zi=>(null==Zi?void 0:Zi.user)?Zi:null),(0,_h.R)(M.outsideAngular),(0,Cu.QV)(M.insideAngular))}return(0,Ae.pX)(this,er,T,{spy:{apply:(ni,ml,Na)=>{(ni.startsWith("signIn")||ni.startsWith("createUser"))&&Na.then(xl=>kt.next(xl))}}})}}return a.\u0275fac=function(s){return new(s||a)(D.LFG(Ae.Dh),D.LFG(Ae.xv,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(Ge.HU),D.LFG(ed,8),D.LFG(kd,8),D.LFG(op,8),D.LFG(Fd,8),D.LFG(Ld,8),D.LFG(Uh,8),D.LFG(xd,8))},a.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})();function Bh(a){return null==a}function jh(a){return"function"==typeof a.set}function Hh(a,i){return jh(i)?i:a.ref(i)}function $h(a,i){if(function(a){return"string"==typeof a}(a))return i.stringCase();if(jh(a))return i.firebaseCase();if(function(a){return"function"==typeof a.exportVal}(a))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof a)}function Tu(a,i,s="on",h=m.z){return new B.y(v=>{let T=null;return T=a[s](i,(M,H)=>{h.schedule(()=>{v.next({snapshot:M,prevKey:H})}),"once"===s&&h.schedule(()=>v.complete())},M=>{h.schedule(()=>v.error(M))}),"on"===s?{unsubscribe(){null!=T&&a.off(i,T)}}:{unsubscribe(){}}}).pipe((0,X.U)(v=>{const{snapshot:T,prevKey:M}=v;let H=null;return T.exists()&&(H=T.key),{type:i,payload:T,prevKey:M,key:H}}),(0,oe.B)())}function td(a,i){const s=a.length;for(let h=0;h<s;h++)if(a[h].payload.key===i)return h;return-1}function Eg(a,i){const{payload:s,prevKey:h,key:v}=i,T=td(a,v),M=function(a,i){if(Bh(i))return 0;{const s=td(a,i);return-1===s?a.length:s+1}}(a,h);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let H=null;i.payload.forEach(te=>{const ge={payload:te,type:"value",prevKey:H,key:te.key};return H=te.key,a=[...a,ge],!1})}return a;case"child_added":if(T>-1){const H=a[T-1];(H&&H.key||null)!==h&&(a=a.filter(te=>te.payload.key!==s.key)).splice(M,0,i)}else{if(null==h)return[i,...a];(a=a.slice()).splice(M,0,i)}return a;case"child_removed":return a.filter(H=>H.payload.key!==s.key);case"child_changed":return a.map(H=>H.payload.key===v?i:H);case"child_moved":if(T>-1){const H=a.splice(T,1)[0];return(a=a.slice()).splice(M,0,H),a}return a;default:return a}}function Cg(a){return(Bh(a)||0===a.length)&&(a=["child_added","child_removed","child_changed","child_moved"]),a}function ru(a,i,s){return function(a,i,s){return Tu(a,"value","once",s).pipe((0,ee.w)(h=>{const v=[(0,Ee.of)(h)];return i.forEach(T=>v.push(Tu(a,T,"on",s))),(0,de.T)(...v).pipe((0,ie.R)(Eg,[]))}),(0,q.x)())}(a,i=Cg(i),s)}function Wh(a,i,s){const h=(i=Cg(i)).map(v=>Tu(a,v,"on",s));return(0,de.T)(...h)}function Vd(a,i){return function(h,v){return $h(h,{stringCase:()=>a.child(h)[i](v),firebaseCase:()=>h[i](v),snapshotCase:()=>h.ref[i](v)})}}function up(a){return function(s){return s?$h(s,{stringCase:()=>a.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):a.remove()}}function Gh(a,i){return function(){return Tu(a,"value","on",i)}}const zh=new D.OlP("angularfire2.realtimeDatabaseURL"),Dg=new D.OlP("angularfire2.database.use-emulator");let Tg=(()=>{class a{constructor(s,h,v,T,M,H,te,ge,We,Se,tt,Nt,kt,er,ni){this.schedulers=H;const ml=te,Na=(0,Ae.on)(s,M,h);ge&&ap(Na,M,We,tt,Nt,kt,Se,er),this.database=(0,Ae.cc)(`${Na.name}.database.${v}`,"AngularFireDatabase",Na.name,()=>{const xl=M.runOutsideAngular(()=>Na.database(v||void 0));return ml&&xl.useEmulator(...ml),xl},[ml])}list(s,h){const v=this.schedulers.ngZone.runOutsideAngular(()=>Hh(this.database,s));let T=v;return h&&(T=h(v)),function(a,i){const s=i.schedulers.outsideAngular,h=i.schedulers.ngZone.run(()=>a.ref);return{query:a,update:Vd(h,"update"),set:Vd(h,"set"),push:v=>h.push(v),remove:up(h),snapshotChanges:v=>ru(a,v,s).pipe(Ge.iC),stateChanges:v=>Wh(a,v,s).pipe(Ge.iC),auditTrail:v=>function(a,i,s){return function(a,i,s){return function(a,i){return Tu(a,"value","on",i).pipe((0,X.U)(s=>{let h;return s.payload.forEach(v=>(h=v.key,!1)),{data:s,lastKeyToLoad:h}}))}(a,s).pipe(function(...a){return i=>{let s;return"function"==typeof a[a.length-1]&&(s=a.pop()),i.lift(new xe(a,s))}}(i),(0,X.U)(([v,T])=>{const M=v.lastKeyToLoad,H=T.map(te=>te.key);return{actions:T,lastKeyToLoad:M,loadedKeys:H}}),function(a){return i=>i.lift(new Te(a))}(v=>-1===v.loadedKeys.indexOf(v.lastKeyToLoad)),(0,X.U)(v=>v.actions))}(a,Wh(a,i).pipe((0,ie.R)((v,T)=>[...v,T],[])),s)}(a,v,s).pipe(Ge.iC),valueChanges:(v,T)=>ru(a,v,s).pipe((0,X.U)(H=>H.map(te=>T&&T.idField?Object.assign(Object.assign({},te.payload.val()),{[T.idField]:te.key}):te.payload.val())),Ge.iC)}}(T,this)}object(s){return function(a,i){return{query:a,snapshotChanges:()=>Gh(a,i.schedulers.outsideAngular)().pipe(Ge.iC),update:s=>a.ref.update(s),set:s=>a.ref.set(s),remove:()=>a.ref.remove(),valueChanges:()=>Gh(a,i.schedulers.outsideAngular)().pipe(Ge.iC,(0,X.U)(h=>h.payload.exists()?h.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Hh(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return a.\u0275fac=function(s){return new(s||a)(D.LFG(Ae.Dh),D.LFG(Ae.xv,8),D.LFG(zh,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(Ge.HU),D.LFG(Dg,8),D.LFG(lp,8),D.LFG(ed,8),D.LFG(kd,8),D.LFG(op,8),D.LFG(Fd,8),D.LFG(Ld,8),D.LFG(Uh,8),D.LFG(xd,8))},a.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),Au=(()=>{class a{constructor(s){this.afdb=s}getCategoryBackdrop(s){return this.afdb.object(`backdrops/categories/${s||""}`).valueChanges()}}return a.\u0275fac=function(s){return new(s||a)(D.LFG(Tg))},a.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},7188:(ft,Pe,L)=>{"use strict";L.d(Pe,{h:()=>G});var D=L(6962),m=L(7238),B=L(7716);let Ee=(()=>{class fe{constructor(){this.isPreview=!1}}return fe.\u0275fac=function(je){return new(je||fe)},fe.\u0275cmp=B.Xpm({type:fe,selectors:[["ng-component"]],inputs:{isPreview:"isPreview"},decls:0,vars:0,template:function(je,Ue){},encapsulation:2,data:{animation:[(0,m.X$)("showBlock",[(0,m.eR)(":enter",[(0,m.oB)({opacity:0}),(0,m.jt)("0.5s 520ms",(0,m.oB)({opacity:1}))]),(0,m.eR)(":leave",[(0,m.jt)("0.5s",(0,m.oB)({opacity:0}))])])]}}),fe})();var de=L(8914),X=L(8583),oe=L(3128),ee=L(8248);function ie(fe,xe){1&fe&&(B.TgZ(0,"div",2),B._UZ(1,"div",3),B._UZ(2,"h3",4),B._UZ(3,"span",5),B.qZA()),2&fe&&B.Q6J("@showBlock",void 0)}const q=function(fe){return["/movies",fe]};function J(fe,xe){if(1&fe&&(B.TgZ(0,"div",2),B.TgZ(1,"a",6),B._UZ(2,"img",7),B.qZA(),B.TgZ(3,"div",8),B.TgZ(4,"div",9),B.TgZ(5,"h3",10),B._uU(6),B.qZA(),B.qZA(),B.TgZ(7,"span",11),B._uU(8),B.ALo(9,"uppercase"),B.qZA(),B.qZA(),B.TgZ(10,"div",12),B._UZ(11,"svg-icon",13),B.TgZ(12,"span",14),B._uU(13),B.qZA(),B.qZA(),B.qZA()),2&fe){const je=B.oxw();B.Q6J("@showBlock",void 0),B.xp6(1),B.Q6J("routerLink",B.VKq(9,q,je.movie.id)),B.xp6(1),B.Q6J("src",je.coverUrl,B.LSH)("alt",je.movie.title),B.xp6(4),B.Oqu(je.movie.title),B.xp6(2),B.Oqu(B.lcZ(9,7,je.movie.pg)),B.xp6(5),B.hij(" ",je.movie.duration," minute ")}}let G=(()=>{class fe extends Ee{constructor(je){super(),this.tmdb=je,this.movie=null}get coverUrl(){if(!this.movie||!this.tmdb.config)return"";const{secure_base_url:je,poster_sizes:Ue}=this.tmdb.config.images;return`${je}${Ue[D.w.w342]}${this.movie.coverUrl}`}ngOnInit(){}}return fe.\u0275fac=function(je){return new(je||fe)(B.Y36(de.o))},fe.\u0275cmp=B.Xpm({type:fe,selectors:[["app-movie-card"]],inputs:{movie:"movie"},features:[B.qOj],decls:3,vars:2,consts:[["class","card-grid-container",4,"ngIf","ngIfElse"],["cardContent",""],[1,"card-grid-container"],[1,"preview","cover"],[1,"preview","title"],[1,"preview","duration"],[3,"routerLink"],[1,"cover",3,"src","alt"],[1,"title-row"],[1,"title-wrapp"],[1,"title"],[1,"badge"],[1,"duration"],["src","assets/icons/Clock_18x18.svg",1,"ui-icon","white"],[1,"time"]],template:function(je,Ue){if(1&je&&(B.YNc(0,ie,4,1,"div",0),B.YNc(1,J,14,11,"ng-template",null,1,B.W1O)),2&je){const Me=B.MAs(2);B.Q6J("ngIf",Ue.isPreview)("ngIfElse",Me)}},directives:[X.O5,oe.yS,ee.bk],pipes:[X.gd],styles:[".card-grid-container[_ngcontent-%COMP%]{display:grid;align-items:stretch}.duration[_ngcontent-%COMP%], .title-row[_ngcontent-%COMP%]{display:flex}.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{border:none;border-radius:1em}.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{transition:all .2s ease-out}[_nghost-%COMP%]{scroll-snap-align:start}:first-child[_nghost-%COMP%]{scroll-snap-align:center}.card-grid-container[_ngcontent-%COMP%]{grid-template-rows:1fr 25px 25px;grid-gap:10px;gap:10px;height:100%}[_nghost-%COMP%]{flex:1 0 250px;max-width:250px;margin-right:2em;height:500px}.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;object-fit:cover;z-index:1}.cover[_ngcontent-%COMP%]:hover, .preview.duration[_ngcontent-%COMP%]:hover, .preview.title[_ngcontent-%COMP%]:hover, .cover[_ngcontent-%COMP%]:focus, .preview.duration[_ngcontent-%COMP%]:focus, .preview.title[_ngcontent-%COMP%]:focus{transform:scale(1.02);z-index:3;box-shadow:0 5px 30px 5px #00000080}.title[_ngcontent-%COMP%]{display:inline;font-size:1.4em;line-height:1.9em;font-weight:500}.title-row[_ngcontent-%COMP%]{color:var(--theme-color-text);align-items:baseline}.title-wrapp[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;max-width:210px;text-overflow:ellipsis}.duration[_ngcontent-%COMP%]{align-items:center;color:var(--theme-color-text);opacity:.5}.time[_ngcontent-%COMP%]{margin-left:5px;font-size:1.04em}.badge[_ngcontent-%COMP%]{border:1px solid var(--theme-color-text);color:var(--theme-color-text);font-weight:400;border-radius:.5em;padding:.2em .7em .15em;font-size:1.1em;margin-left:.5em;opacity:.5}.preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{display:inline-block}.preview.duration[_ngcontent-%COMP%]:last-child, .preview.title[_ngcontent-%COMP%]:last-child{margin-bottom:7px}.preview.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#152647 15%,#1a1538 45%,#152647 85%);background-size:800% 800%;animation:loadingBg 2s ease-in infinite}.preview.title[_ngcontent-%COMP%]{width:90%}.preview.duration[_ngcontent-%COMP%]{width:50%}@keyframes loadingBg{0%{background-position:0% 50%}50%{background-position:50% 50%}to{background-position:100% 50%}}"],changeDetection:0}),fe})()},5140:(ft,Pe,L)=>{"use strict";L.d(Pe,{r:()=>B});var D=L(9765),m=L(7716);let B=(()=>{class Ee{constructor(){this.modalState={open:!1,activeImageIndex:null,isGallery:!1},this.images=new D.xQ,this.state=new D.xQ}open(X=0){var oe;this.modalState.open=!0,this.modalState.activeImageIndex=(null===(oe=this.imagesState)||void 0===oe?void 0:oe.length)?X:null,this.pushModalChanges()}close(){this.modalState.open=!1,this.modalState.activeImageIndex=null,this.modalState.isGallery=!1,this.pushModalChanges()}setImages(X){this.imagesState=X,this.pushImagesChanges()}pushModalChanges(){this.state.next(this.modalState)}pushImagesChanges(){this.images.next(this.imagesState)}}return Ee.\u0275fac=function(X){return new(X||Ee)},Ee.\u0275prov=m.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},5173:(ft,Pe,L)=>{"use strict";L.d(Pe,{m:()=>oe});var D=L(3128),m=L(8248),B=L(8583),Ee=L(7716);let de=(()=>{class ee{}return ee.\u0275fac=function(q){return new(q||ee)},ee.\u0275mod=Ee.oAB({type:ee}),ee.\u0275inj=Ee.cJS({imports:[[B.ez,D.Bz,m._J.forRoot()],m._J]}),ee})(),X=(()=>{class ee{}return ee.\u0275fac=function(q){return new(q||ee)},ee.\u0275mod=Ee.oAB({type:ee}),ee.\u0275inj=Ee.cJS({imports:[[B.ez]]}),ee})(),oe=(()=>{class ee{}return ee.\u0275fac=function(q){return new(q||ee)},ee.\u0275mod=Ee.oAB({type:ee}),ee.\u0275inj=Ee.cJS({imports:[[B.ez,D.Bz,de,X],X,de]}),ee})()},479:(ft,Pe,L)=>{"use strict";L.d(Pe,{r:()=>fe});var D=L(7716),m=L(8583),B=L(3128),Ee=L(4628);function de(xe,je){if(1&xe&&D._UZ(0,"ui-icon",7),2&xe){D.oxw();const Ue=D.MAs(1),Me=D.oxw();D.Q6J("name",Me.icon)("iconStyle",Ue.isActive?"fill":"outline")}}function X(xe,je){1&xe&&D.GkF(0)}function oe(xe,je){if(1&xe&&(D.TgZ(0,"a",3,4),D.YNc(2,de,1,2,"ui-icon",5),D.YNc(3,X,1,0,"ng-container",6),D.qZA()),2&xe){const Ue=D.oxw(),Me=D.MAs(3);D.ekj("transparent","transparent"===Ue.style)("gradient","gradient"===Ue.style)("btn-size-lg","lg"===Ue.size)("btn-square","square"===Ue.form),D.Q6J("routerLink",Ue.linkTo)("queryParams",Ue.queryParams),D.xp6(2),D.Q6J("ngIf",Ue.icon),D.xp6(1),D.Q6J("ngTemplateOutlet",Me)}}function ee(xe,je){if(1&xe&&D._UZ(0,"ui-icon",7),2&xe){const Ue=D.oxw(2);D.Q6J("name",Ue.icon)("iconStyle",Ue.active?"fill":"outline")}}function ie(xe,je){1&xe&&D.GkF(0)}function q(xe,je){if(1&xe&&(D.TgZ(0,"button",8),D.YNc(1,ee,1,2,"ui-icon",5),D.YNc(2,ie,1,0,"ng-container",6),D.qZA()),2&xe){const Ue=D.oxw(),Me=D.MAs(3);D.ekj("transparent","transparent"===Ue.style)("gradient","gradient"===Ue.style)("btn-size-lg","lg"===Ue.size)("btn-square","square"===Ue.form),D.xp6(1),D.Q6J("ngIf",Ue.icon),D.xp6(1),D.Q6J("ngTemplateOutlet",Me)}}function J(xe,je){1&xe&&(D.TgZ(0,"span",9),D.Hsn(1),D.qZA())}const G=["*"];let fe=(()=>{class xe{constructor(){this.linkTo=null,this.size=null,this.style=null,this.width=null,this.form="auto",this.queryParams=null,this.active=!1}get containerWidth(){return"full"===this.width}}return xe.\u0275fac=function(Ue){return new(Ue||xe)},xe.\u0275cmp=D.Xpm({type:xe,selectors:[["ui-btn"]],hostVars:2,hostBindings:function(Ue,Me){2&Ue&&D.ekj("full",Me.containerWidth)},inputs:{linkTo:"linkTo",size:"size",style:"style",icon:"icon",width:"width",form:"form",queryParams:"queryParams"},ngContentSelectors:G,decls:4,vars:2,consts:[["class","ui-item btn","routerLinkActive","active",3,"transparent","gradient","btn-size-lg","btn-square","routerLink","queryParams",4,"ngIf"],["class","ui-item btn",3,"transparent","gradient","btn-size-lg","btn-square",4,"ngIf"],["btnContent",""],["routerLinkActive","active",1,"ui-item","btn",3,"routerLink","queryParams"],["link","routerLinkActive"],[3,"name","iconStyle",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"name","iconStyle"],[1,"ui-item","btn"],[1,"btn-name"]],template:function(Ue,Me){1&Ue&&(D.F$t(),D.YNc(0,oe,4,12,"a",0),D.YNc(1,q,3,10,"button",1),D.YNc(2,J,2,0,"ng-template",null,2,D.W1O)),2&Ue&&(D.Q6J("ngIf",Me.linkTo||Me.queryParams),D.xp6(1),D.Q6J("ngIf",!Me.linkTo&&!Me.queryParams))},directives:[m.O5,B.yS,B.Od,m.tP,Ee.o],styles:["[_nghost-%COMP%]{display:inline-block;width:auto}.btn-nav[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0;flex-direction:column;align-items:center}.full[_nghost-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.btn[_ngcontent-%COMP%]:hover{background-color:var(--theme-blue-lighten)}.btn[_ngcontent-%COMP%]:active{opacity:.8}.btn-size-lg[_ngcontent-%COMP%]{font-size:1.5em;font-weight:300}.btn.transparent[_ngcontent-%COMP%]{background-color:transparent;color:var(--light);opacity:.6}.btn.transparent[_ngcontent-%COMP%]:hover{opacity:.9}.btn.transparent.active[_ngcontent-%COMP%]{opacity:1}.btn.gradient[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#1d51a8,#123a85)}.btn-square[_ngcontent-%COMP%]{width:3.5em;height:3.5em}  .btn ui-icon+span.btn-name{margin-top:10px}"],changeDetection:0}),xe})()},4628:(ft,Pe,L)=>{"use strict";L.d(Pe,{o:()=>Ee});class D{constructor(){this.icons=[{name:"home",path:{outline:"assets/icons/Home.svg",fill:"assets/icons/Home-fill.svg"}},{name:"fire",path:{outline:"assets/icons/Fire.svg",fill:"assets/icons/Fire-fill.svg"}},{name:"gear",path:{outline:"assets/icons/Gear.svg",fill:"assets/icons/Gear-fill.svg"}},{name:"user",path:{outline:"assets/icons/User.svg",fill:"assets/icons/User-fill.svg"}},{name:"video",path:{outline:"assets/icons/Video.svg",fill:"assets/icons/Video-fill.svg"}},{name:"clapperboard",path:{outline:"assets/icons/Clapperboard.svg",fill:"assets/icons/Clapperboard-fill.svg"}},{name:"search",path:{outline:"assets/icons/Search.svg",fill:null}},{name:"bell",path:{outline:"assets/icons/Bell.svg",fill:"assets/icons/Bell-fill.svg"}},{name:"bell-notify",path:{outline:"assets/icons/Bell-notify.svg",fill:"assets/icons/Bell-notify-fill.svg"}}]}getIcon(X){return this.icons.find(oe=>oe.name===X)}}var m=L(7716),B=L(8248);let Ee=(()=>{class de{constructor(){this.iconStyle="outline",this.color="white",this.btnIcon=!1,this.icons=new D}get className(){return this.btnIcon}get iconPath(){return this.name?this.icons.getIcon(this.name).path[this.iconStyle]:""}}return de.\u0275fac=function(oe){return new(oe||de)},de.\u0275cmp=m.Xpm({type:de,selectors:[["ui-icon"]],hostVars:2,hostBindings:function(oe,ee){2&oe&&m.ekj("btn-icon",ee.className)},inputs:{name:"name",iconStyle:"iconStyle",btnIcon:"btnIcon"},decls:1,vars:7,consts:[[1,"icon",3,"src"]],template:function(oe,ee){1&oe&&m._UZ(0,"svg-icon",0),2&oe&&(m.ekj("fill","fill"===ee.iconStyle)("color-white","white"===ee.color)("color-black","black"===ee.color),m.Q6J("src",ee.iconPath))},directives:[B.bk],styles:[".color[_ngcontent-%COMP%]{transition:all .2s ease-out}[_nghost-%COMP%], .icon[_ngcontent-%COMP%]{display:inline-block;width:25px;height:25px}.icon[_ngcontent-%COMP%]{width:100%;height:100%}.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:inherit;height:inherit}.color-white[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .color-white[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--light)}.color-white.fill[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .color-white.fill[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:var(--light)}"],changeDetection:0}),de})()},2340:(ft,Pe,L)=>{"use strict";L.d(Pe,{N:()=>D});const D={firebase:{projectId:"moviedb-cebb6",appId:"1:234849452779:web:c023e705f0f14aa3efb4ae",databaseURL:"https://moviedb-cebb6-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"moviedb-cebb6.appspot.com",apiKey:"AIzaSyBGhN7I4BICBvEL4J0zqjZ25Yt4FHCjS_Y",authDomain:"moviedb-cebb6.firebaseapp.com",messagingSenderId:"234849452779"},production:!0,tmdbApiKEy:"999beffa3eeab0a39b1c5a860fa205a1"}},5850:(ft,Pe,L)=>{"use strict";var D=L(9075),m=L(7716),B=L(8583),oe=(L(4402),L(7574),L(9796),L(8002));L(1555);let rr=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({}),g})(),x=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({imports:[[rr]]}),g})(),K=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({imports:[x]}),g})();var ut=L(7238);function cn(){return"undefined"!=typeof window&&void 0!==window.document}function An(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $t(g){switch(g.length){case 0:return new ut.ZN;case 1:return g[0];default:return new ut.ZE(g)}}function Rn(g,c,l,_,O={},$={}){const se=[],ye=[];let Fe=-1,Je=null;if(_.forEach(st=>{const Ot=st.offset,Zt=Ot==Fe,Sn=Zt&&Je||{};Object.keys(st).forEach(Tt=>{let Yt=Tt,Un=st[Tt];if("offset"!==Tt)switch(Yt=c.normalizePropertyName(Yt,se),Un){case ut.k1:Un=O[Tt];break;case ut.l3:Un=$[Tt];break;default:Un=c.normalizeStyleValue(Tt,Yt,Un,se)}Sn[Yt]=Un}),Zt||ye.push(Sn),Je=Sn,Fe=Ot}),se.length){const st="\n - ";throw new Error(`Unable to animate due to the following errors:${st}${se.join(st)}`)}return ye}function zn(g,c,l,_){switch(c){case"start":g.onStart(()=>_(l&&pr(l,"start",g)));break;case"done":g.onDone(()=>_(l&&pr(l,"done",g)));break;case"destroy":g.onDestroy(()=>_(l&&pr(l,"destroy",g)))}}function pr(g,c,l){const _=l.totalTime,$=Bi(g.element,g.triggerName,g.fromState,g.toState,c||g.phaseName,null==_?g.totalTime:_,!!l.disabled),se=g._data;return null!=se&&($._data=se),$}function Bi(g,c,l,_,O="",$=0,se){return{element:g,triggerName:c,fromState:l,toState:_,phaseName:O,totalTime:$,disabled:!!se}}function gn(g,c,l){let _;return g instanceof Map?(_=g.get(c),_||g.set(c,_=l)):(_=g[c],_||(_=g[c]=l)),_}function In(g){const c=g.indexOf(":");return[g.substring(1,c),g.substr(c+1)]}let Pi=(g,c)=>!1,Ci=(g,c)=>!1,Mi=(g,c,l)=>[];const hs=An();(hs||"undefined"!=typeof Element)&&(Pi=cn()?(g,c)=>{for(;c&&c!==document.documentElement;){if(c===g)return!0;c=c.parentNode||c.host}return!1}:(g,c)=>g.contains(c),Ci=(()=>{if(hs||Element.prototype.matches)return(g,c)=>g.matches(c);{const g=Element.prototype,c=g.matchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector||g.webkitMatchesSelector;return c?(l,_)=>c.apply(l,[_]):Ci}})(),Mi=(g,c,l)=>{let _=[];if(l){const O=g.querySelectorAll(c);for(let $=0;$<O.length;$++)_.push(O[$])}else{const O=g.querySelector(c);O&&_.push(O)}return _});let fs=null,it=!1;function bn(g){fs||(fs=("undefined"!=typeof document?document.body:null)||{},it=!!fs.style&&"WebkitAppearance"in fs.style);let c=!0;return fs.style&&!function(g){return"ebkit"==g.substring(1,6)}(g)&&(c=g in fs.style,!c&&it&&(c="Webkit"+g.charAt(0).toUpperCase()+g.substr(1)in fs.style)),c}const lr=Ci,va=Pi,es=Mi;function Kr(g){const c={};return Object.keys(g).forEach(l=>{const _=l.replace(/([a-z])([A-Z])/g,"$1-$2");c[_]=g[l]}),c}let fo=(()=>{class g{validateStyleProperty(l){return bn(l)}matchesElement(l,_){return lr(l,_)}containsElement(l,_){return va(l,_)}query(l,_,O){return es(l,_,O)}computeStyle(l,_,O){return O||""}animate(l,_,O,$,se,ye=[],Fe){return new ut.ZN(O,$)}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})(),po=(()=>{class g{}return g.NOOP=new fo,g})();const Ks="ng-enter",kr="ng-leave",oi="ng-trigger",ai=".ng-trigger",mo="ng-animating",ps=".ng-animating";function Ps(g){if("number"==typeof g)return g;const c=g.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:_o(parseFloat(c[1]),c[2])}function _o(g,c){switch(c){case"s":return 1e3*g;default:return g}}function yo(g,c,l){return g.hasOwnProperty("duration")?g:function(g,c,l){let O,$=0,se="";if("string"==typeof g){const ye=g.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ye)return c.push(`The provided timing value "${g}" is invalid.`),{duration:0,delay:0,easing:""};O=_o(parseFloat(ye[1]),ye[2]);const Fe=ye[3];null!=Fe&&($=_o(parseFloat(Fe),ye[4]));const Je=ye[5];Je&&(se=Je)}else O=g;if(!l){let ye=!1,Fe=c.length;O<0&&(c.push("Duration values below 0 are not allowed for this animation step."),ye=!0),$<0&&(c.push("Delay values below 0 are not allowed for this animation step."),ye=!0),ye&&c.splice(Fe,0,`The provided timing value "${g}" is invalid.`)}return{duration:O,delay:$,easing:se}}(g,c,l)}function Zs(g,c={}){return Object.keys(g).forEach(l=>{c[l]=g[l]}),c}function ts(g,c,l={}){if(c)for(let _ in g)l[_]=g[_];else Zs(g,l);return l}function ea(g,c,l){return l?c+":"+l+";":""}function vo(g){let c="";for(let l=0;l<g.style.length;l++){const _=g.style.item(l);c+=ea(0,_,g.style.getPropertyValue(_))}for(const l in g.style)g.style.hasOwnProperty(l)&&!l.startsWith("_")&&(c+=ea(0,Ja(l),g.style[l]));g.setAttribute("style",c)}function fi(g,c,l){g.style&&(Object.keys(c).forEach(_=>{const O=mr(_);l&&!l.hasOwnProperty(_)&&(l[_]=g.style[O]),g.style[O]=c[_]}),An()&&vo(g))}function ns(g,c){g.style&&(Object.keys(c).forEach(l=>{const _=mr(l);g.style[_]=""}),An()&&vo(g))}function xo(g){return Array.isArray(g)?1==g.length?g[0]:(0,ut.vP)(g):g}const Ms=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ca(g){let c=[];if("string"==typeof g){let l;for(;l=Ms.exec(g);)c.push(l[1]);Ms.lastIndex=0}return c}function ms(g,c,l){const _=g.toString(),O=_.replace(Ms,($,se)=>{let ye=c[se];return c.hasOwnProperty(se)||(l.push(`Please provide a value for the animation param ${se}`),ye=""),ye.toString()});return O==_?g:O}function Pr(g){const c=[];let l=g.next();for(;!l.done;)c.push(l.value),l=g.next();return c}const Os=/-+([a-z0-9])/g;function mr(g){return g.replace(Os,(...c)=>c[1].toUpperCase())}function Ja(g){return g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qr(g,c){return 0===g||0===c}function Bl(g,c,l){const _=Object.keys(l);if(_.length&&c.length){let $=c[0],se=[];if(_.forEach(ye=>{$.hasOwnProperty(ye)||se.push(ye),$[ye]=l[ye]}),se.length)for(var O=1;O<c.length;O++){let ye=c[O];se.forEach(function(Fe){ye[Fe]=ba(g,Fe)})}}return c}function Fr(g,c,l){switch(c.type){case 7:return g.visitTrigger(c,l);case 0:return g.visitState(c,l);case 1:return g.visitTransition(c,l);case 2:return g.visitSequence(c,l);case 3:return g.visitGroup(c,l);case 4:return g.visitAnimate(c,l);case 5:return g.visitKeyframes(c,l);case 6:return g.visitStyle(c,l);case 8:return g.visitReference(c,l);case 9:return g.visitAnimateChild(c,l);case 10:return g.visitAnimateRef(c,l);case 11:return g.visitQuery(c,l);case 12:return g.visitStagger(c,l);default:throw new Error(`Unable to resolve animation metadata node #${c.type}`)}}function ba(g,c){return window.getComputedStyle(g)[c]}function _s(g,c){const l=[];return"string"==typeof g?g.split(/\s*,\s*/).forEach(_=>function(g,c,l){if(":"==g[0]){const Fe=function(g,c){switch(g){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,_)=>parseFloat(_)>parseFloat(l);case":decrement":return(l,_)=>parseFloat(_)<parseFloat(l);default:return c.push(`The transition alias value "${g}" is not supported`),"* => *"}}(g,l);if("function"==typeof Fe)return void c.push(Fe);g=Fe}const _=g.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return l.push(`The provided transition expression "${g}" is not supported`),c;const O=_[1],$=_[2],se=_[3];c.push(Qs(O,se));"<"==$[0]&&!("*"==O&&"*"==se)&&c.push(Qs(se,O))}(_,l,c)):l.push(g),l}const ir=new Set(["true","1"]),Rs=new Set(["false","0"]);function Qs(g,c){const l=ir.has(g)||Rs.has(g),_=ir.has(c)||Rs.has(c);return(O,$)=>{let se="*"==g||g==O,ye="*"==c||c==$;return!se&&l&&"boolean"==typeof O&&(se=O?ir.has(g):Rs.has(g)),!ye&&_&&"boolean"==typeof $&&(ye=$?ir.has(c):Rs.has(c)),se&&ye}}const wi=new RegExp("s*:selfs*,?","g");function ta(g,c,l){return new ys(g).build(c,l)}class ys{constructor(c){this._driver=c}build(c,l){const _=new La(l);return this._resetContextStyleTimingState(_),Fr(this,xo(c),_)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles={},c.collectedStyles[""]={},c.currentTime=0}visitTrigger(c,l){let _=l.queryCount=0,O=l.depCount=0;const $=[],se=[];return"@"==c.name.charAt(0)&&l.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),c.definitions.forEach(ye=>{if(this._resetContextStyleTimingState(l),0==ye.type){const Fe=ye,Je=Fe.name;Je.toString().split(/\s*,\s*/).forEach(st=>{Fe.name=st,$.push(this.visitState(Fe,l))}),Fe.name=Je}else if(1==ye.type){const Fe=this.visitTransition(ye,l);_+=Fe.queryCount,O+=Fe.depCount,se.push(Fe)}else l.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:c.name,states:$,transitions:se,queryCount:_,depCount:O,options:null}}visitState(c,l){const _=this.visitStyle(c.styles,l),O=c.options&&c.options.params||null;if(_.containsDynamicStyles){const $=new Set,se=O||{};if(_.styles.forEach(ye=>{if(pi(ye)){const Fe=ye;Object.keys(Fe).forEach(Je=>{Ca(Fe[Je]).forEach(st=>{se.hasOwnProperty(st)||$.add(st)})})}}),$.size){const ye=Pr($.values());l.errors.push(`state("${c.name}", ...) must define default values for all the following style substitutions: ${ye.join(", ")}`)}}return{type:0,name:c.name,style:_,options:O?{params:O}:null}}visitTransition(c,l){l.queryCount=0,l.depCount=0;const _=Fr(this,xo(c.animation),l);return{type:1,matchers:_s(c.expr,l.errors),animation:_,queryCount:l.queryCount,depCount:l.depCount,options:ji(c.options)}}visitSequence(c,l){return{type:2,steps:c.steps.map(_=>Fr(this,_,l)),options:ji(c.options)}}visitGroup(c,l){const _=l.currentTime;let O=0;const $=c.steps.map(se=>{l.currentTime=_;const ye=Fr(this,se,l);return O=Math.max(O,l.currentTime),ye});return l.currentTime=O,{type:3,steps:$,options:ji(c.options)}}visitAnimate(c,l){const _=function(g,c){let l=null;if(g.hasOwnProperty("duration"))l=g;else if("number"==typeof g)return ra(yo(g,c).duration,0,"");const _=g;if(_.split(/\s+/).some($=>"{"==$.charAt(0)&&"{"==$.charAt(1))){const $=ra(0,0,"");return $.dynamic=!0,$.strValue=_,$}return l=l||yo(_,c),ra(l.duration,l.delay,l.easing)}(c.timings,l.errors);l.currentAnimateTimings=_;let O,$=c.styles?c.styles:(0,ut.oB)({});if(5==$.type)O=this.visitKeyframes($,l);else{let se=c.styles,ye=!1;if(!se){ye=!0;const Je={};_.easing&&(Je.easing=_.easing),se=(0,ut.oB)(Je)}l.currentTime+=_.duration+_.delay;const Fe=this.visitStyle(se,l);Fe.isEmptyStep=ye,O=Fe}return l.currentAnimateTimings=null,{type:4,timings:_,style:O,options:null}}visitStyle(c,l){const _=this._makeStyleAst(c,l);return this._validateStyleAst(_,l),_}_makeStyleAst(c,l){const _=[];Array.isArray(c.styles)?c.styles.forEach(se=>{"string"==typeof se?se==ut.l3?_.push(se):l.errors.push(`The provided style string value ${se} is not allowed.`):_.push(se)}):_.push(c.styles);let O=!1,$=null;return _.forEach(se=>{if(pi(se)){const ye=se,Fe=ye.easing;if(Fe&&($=Fe,delete ye.easing),!O)for(let Je in ye)if(ye[Je].toString().indexOf("{{")>=0){O=!0;break}}}),{type:6,styles:_,easing:$,offset:c.offset,containsDynamicStyles:O,options:null}}_validateStyleAst(c,l){const _=l.currentAnimateTimings;let O=l.currentTime,$=l.currentTime;_&&$>0&&($-=_.duration+_.delay),c.styles.forEach(se=>{"string"!=typeof se&&Object.keys(se).forEach(ye=>{if(!this._driver.validateStyleProperty(ye))return void l.errors.push(`The provided animation property "${ye}" is not a supported CSS property for animations`);const Fe=l.collectedStyles[l.currentQuerySelector],Je=Fe[ye];let st=!0;Je&&($!=O&&$>=Je.startTime&&O<=Je.endTime&&(l.errors.push(`The CSS property "${ye}" that exists between the times of "${Je.startTime}ms" and "${Je.endTime}ms" is also being animated in a parallel animation between the times of "${$}ms" and "${O}ms"`),st=!1),$=Je.startTime),st&&(Fe[ye]={startTime:$,endTime:O}),l.options&&function(g,c,l){const _=c.params||{},O=Ca(g);O.length&&O.forEach($=>{_.hasOwnProperty($)||l.push(`Unable to resolve the local animation param ${$} in the given list of values`)})}(se[ye],l.options,l.errors)})})}visitKeyframes(c,l){const _={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push("keyframes() must be placed inside of a call to animate()"),_;let $=0;const se=[];let ye=!1,Fe=!1,Je=0;const st=c.steps.map(Zr=>{const fr=this._makeStyleAst(Zr,l);let ws=null!=fr.offset?fr.offset:function(g){if("string"==typeof g)return null;let c=null;if(Array.isArray(g))g.forEach(l=>{if(pi(l)&&l.hasOwnProperty("offset")){const _=l;c=parseFloat(_.offset),delete _.offset}});else if(pi(g)&&g.hasOwnProperty("offset")){const l=g;c=parseFloat(l.offset),delete l.offset}return c}(fr.styles),ki=0;return null!=ws&&($++,ki=fr.offset=ws),Fe=Fe||ki<0||ki>1,ye=ye||ki<Je,Je=ki,se.push(ki),fr});Fe&&l.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ye&&l.errors.push("Please ensure that all keyframe offsets are in order");const Ot=c.steps.length;let Zt=0;$>0&&$<Ot?l.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==$&&(Zt=1/(Ot-1));const Sn=Ot-1,Tt=l.currentTime,Yt=l.currentAnimateTimings,Un=Yt.duration;return st.forEach((Zr,fr)=>{const ws=Zt>0?fr==Sn?1:Zt*fr:se[fr],ki=ws*Un;l.currentTime=Tt+Yt.delay+ki,Yt.duration=ki,this._validateStyleAst(Zr,l),Zr.offset=ws,_.styles.push(Zr)}),_}visitReference(c,l){return{type:8,animation:Fr(this,xo(c.animation),l),options:ji(c.options)}}visitAnimateChild(c,l){return l.depCount++,{type:9,options:ji(c.options)}}visitAnimateRef(c,l){return{type:10,animation:this.visitReference(c.animation,l),options:ji(c.options)}}visitQuery(c,l){const _=l.currentQuerySelector,O=c.options||{};l.queryCount++,l.currentQuery=c;const[$,se]=function(g){const c=!!g.split(/\s*,\s*/).find(l=>":self"==l);return c&&(g=g.replace(wi,"")),[g=g.replace(/@\*/g,ai).replace(/@\w+/g,l=>ai+"-"+l.substr(1)).replace(/:animating/g,ps),c]}(c.selector);l.currentQuerySelector=_.length?_+" "+$:$,gn(l.collectedStyles,l.currentQuerySelector,{});const ye=Fr(this,xo(c.animation),l);return l.currentQuery=null,l.currentQuerySelector=_,{type:11,selector:$,limit:O.limit||0,optional:!!O.optional,includeSelf:se,animation:ye,originalSelector:c.selector,options:ji(c.options)}}visitStagger(c,l){l.currentQuery||l.errors.push("stagger() can only be used inside of query()");const _="full"===c.timings?{duration:0,delay:0,easing:"full"}:yo(c.timings,l.errors,!0);return{type:12,animation:Fr(this,xo(c.animation),l),timings:_,options:null}}}class La{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function pi(g){return!Array.isArray(g)&&"object"==typeof g}function ji(g){return g?(g=Zs(g)).params&&(g.params=function(g){return g?Zs(g):null}(g.params)):g={},g}function ra(g,c,l){return{duration:g,delay:c,easing:l}}function ia(g,c,l,_,O,$,se=null,ye=!1){return{type:1,element:g,keyframes:c,preStyleProps:l,postStyleProps:_,duration:O,delay:$,totalTime:O+$,easing:se,subTimeline:ye}}class Jn{constructor(){this._map=new Map}consume(c){let l=this._map.get(c);return l?this._map.delete(c):l=[],l}append(c,l){let _=this._map.get(c);_||this._map.set(c,_=[]),_.push(...l)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const wa=new RegExp(":enter","g"),Eo=new RegExp(":leave","g");function Oi(g,c,l,_,O,$={},se={},ye,Fe,Je=[]){return(new vl).buildKeyframes(g,c,l,_,O,$,se,ye,Fe,Je)}class vl{buildKeyframes(c,l,_,O,$,se,ye,Fe,Je,st=[]){Je=Je||new Jn;const Ot=new Ia(c,l,Je,O,$,st,[]);Ot.options=Fe,Ot.currentTimeline.setStyles([se],null,Ot.errors,Fe),Fr(this,_,Ot);const Zt=Ot.timelines.filter(Sn=>Sn.containsAnimation());if(Zt.length&&Object.keys(ye).length){const Sn=Zt[Zt.length-1];Sn.allowOnlyTimelineStyles()||Sn.setStyles([ye],null,Ot.errors,Fe)}return Zt.length?Zt.map(Sn=>Sn.buildKeyframes()):[ia(l,[],[],[],0,0,"",!1)]}visitTrigger(c,l){}visitState(c,l){}visitTransition(c,l){}visitAnimateChild(c,l){const _=l.subInstructions.consume(l.element);if(_){const O=l.createSubContext(c.options),$=l.currentTimeline.currentTime,se=this._visitSubInstructions(_,O,O.options);$!=se&&l.transformIntoNewTimeline(se)}l.previousNode=c}visitAnimateRef(c,l){const _=l.createSubContext(c.options);_.transformIntoNewTimeline(),this.visitReference(c.animation,_),l.transformIntoNewTimeline(_.currentTimeline.currentTime),l.previousNode=c}_visitSubInstructions(c,l,_){let $=l.currentTimeline.currentTime;const se=null!=_.duration?Ps(_.duration):null,ye=null!=_.delay?Ps(_.delay):null;return 0!==se&&c.forEach(Fe=>{const Je=l.appendInstructionToTimeline(Fe,se,ye);$=Math.max($,Je.duration+Je.delay)}),$}visitReference(c,l){l.updateOptions(c.options,!0),Fr(this,c.animation,l),l.previousNode=c}visitSequence(c,l){const _=l.subContextCount;let O=l;const $=c.options;if($&&($.params||$.delay)&&(O=l.createSubContext($),O.transformIntoNewTimeline(),null!=$.delay)){6==O.previousNode.type&&(O.currentTimeline.snapshotCurrentStyles(),O.previousNode=rs);const se=Ps($.delay);O.delayNextStep(se)}c.steps.length&&(c.steps.forEach(se=>Fr(this,se,O)),O.currentTimeline.applyStylesToKeyframe(),O.subContextCount>_&&O.transformIntoNewTimeline()),l.previousNode=c}visitGroup(c,l){const _=[];let O=l.currentTimeline.currentTime;const $=c.options&&c.options.delay?Ps(c.options.delay):0;c.steps.forEach(se=>{const ye=l.createSubContext(c.options);$&&ye.delayNextStep($),Fr(this,se,ye),O=Math.max(O,ye.currentTimeline.currentTime),_.push(ye.currentTimeline)}),_.forEach(se=>l.currentTimeline.mergeTimelineCollectedStyles(se)),l.transformIntoNewTimeline(O),l.previousNode=c}_visitTiming(c,l){if(c.dynamic){const _=c.strValue;return yo(l.params?ms(_,l.params,l.errors):_,l.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,l){const _=l.currentAnimateTimings=this._visitTiming(c.timings,l),O=l.currentTimeline;_.delay&&(l.incrementTime(_.delay),O.snapshotCurrentStyles());const $=c.style;5==$.type?this.visitKeyframes($,l):(l.incrementTime(_.duration),this.visitStyle($,l),O.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=c}visitStyle(c,l){const _=l.currentTimeline,O=l.currentAnimateTimings;!O&&_.getCurrentStyleProperties().length&&_.forwardFrame();const $=O&&O.easing||c.easing;c.isEmptyStep?_.applyEmptyStep($):_.setStyles(c.styles,$,l.errors,l.options),l.previousNode=c}visitKeyframes(c,l){const _=l.currentAnimateTimings,O=l.currentTimeline.duration,$=_.duration,ye=l.createSubContext().currentTimeline;ye.easing=_.easing,c.styles.forEach(Fe=>{ye.forwardTime((Fe.offset||0)*$),ye.setStyles(Fe.styles,Fe.easing,l.errors,l.options),ye.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(ye),l.transformIntoNewTimeline(O+$),l.previousNode=c}visitQuery(c,l){const _=l.currentTimeline.currentTime,O=c.options||{},$=O.delay?Ps(O.delay):0;$&&(6===l.previousNode.type||0==_&&l.currentTimeline.getCurrentStyleProperties().length)&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=rs);let se=_;const ye=l.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!O.optional,l.errors);l.currentQueryTotal=ye.length;let Fe=null;ye.forEach((Je,st)=>{l.currentQueryIndex=st;const Ot=l.createSubContext(c.options,Je);$&&Ot.delayNextStep($),Je===l.element&&(Fe=Ot.currentTimeline),Fr(this,c.animation,Ot),Ot.currentTimeline.applyStylesToKeyframe(),se=Math.max(se,Ot.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(se),Fe&&(l.currentTimeline.mergeTimelineCollectedStyles(Fe),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=c}visitStagger(c,l){const _=l.parentContext,O=l.currentTimeline,$=c.timings,se=Math.abs($.duration),ye=se*(l.currentQueryTotal-1);let Fe=se*l.currentQueryIndex;switch($.duration<0?"reverse":$.easing){case"reverse":Fe=ye-Fe;break;case"full":Fe=_.currentStaggerTime}const st=l.currentTimeline;Fe&&st.delayNextStep(Fe);const Ot=st.currentTime;Fr(this,c.animation,l),l.previousNode=c,_.currentStaggerTime=O.currentTime-Ot+(O.startTime-_.currentTimeline.startTime)}}const rs={};class Ia{constructor(c,l,_,O,$,se,ye,Fe){this._driver=c,this.element=l,this.subInstructions=_,this._enterClassName=O,this._leaveClassName=$,this.errors=se,this.timelines=ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Fe||new A(this._driver,l,0),ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,l){if(!c)return;const _=c;let O=this.options;null!=_.duration&&(O.duration=Ps(_.duration)),null!=_.delay&&(O.delay=Ps(_.delay));const $=_.params;if($){let se=O.params;se||(se=this.options.params={}),Object.keys($).forEach(ye=>{(!l||!se.hasOwnProperty(ye))&&(se[ye]=ms($[ye],se,this.errors))})}}_copyOptions(){const c={};if(this.options){const l=this.options.params;if(l){const _=c.params={};Object.keys(l).forEach(O=>{_[O]=l[O]})}}return c}createSubContext(c=null,l,_){const O=l||this.element,$=new Ia(this._driver,O,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(O,_||0));return $.previousNode=this.previousNode,$.currentAnimateTimings=this.currentAnimateTimings,$.options=this._copyOptions(),$.updateOptions(c),$.currentQueryIndex=this.currentQueryIndex,$.currentQueryTotal=this.currentQueryTotal,$.parentContext=this,this.subContextCount++,$}transformIntoNewTimeline(c){return this.previousNode=rs,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,l,_){const O={duration:null!=l?l:c.duration,delay:this.currentTimeline.currentTime+(null!=_?_:0)+c.delay,easing:""},$=new I(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,O,c.stretchStartingKeyframe);return this.timelines.push($),O}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,l,_,O,$,se){let ye=[];if(O&&ye.push(this.element),c.length>0){c=(c=c.replace(wa,"."+this._enterClassName)).replace(Eo,"."+this._leaveClassName);let Je=this._driver.query(this.element,c,1!=_);0!==_&&(Je=_<0?Je.slice(Je.length+_,Je.length):Je.slice(0,_)),ye.push(...Je)}return!$&&0==ye.length&&se.push(`\`query("${l}")\` returned zero elements. (Use \`query("${l}", { optional: true })\` if you wish to allow this.)`),ye}}class A{constructor(c,l,_,O){this._driver=c,this.element=l,this.startTime=_,this._elementTimelineStylesLookup=O,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const l=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||l?(this.forwardTime(this.currentTime+c),l&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,l){return this.applyStylesToKeyframe(),new A(this._driver,c,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,l){this._localTimelineStyles[c]=l,this._globalTimelineStyles[c]=l,this._styleSummary[c]={time:this.currentTime,value:l}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&(this._previousKeyframe.easing=c),Object.keys(this._globalTimelineStyles).forEach(l=>{this._backFill[l]=this._globalTimelineStyles[l]||ut.l3,this._currentKeyframe[l]=ut.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,l,_,O){l&&(this._previousKeyframe.easing=l);const $=O&&O.params||{},se=function(g,c){const l={};let _;return g.forEach(O=>{"*"===O?(_=_||Object.keys(c),_.forEach($=>{l[$]=ut.l3})):ts(O,!1,l)}),l}(c,this._globalTimelineStyles);Object.keys(se).forEach(ye=>{const Fe=ms(se[ye],$,_);this._pendingStyles[ye]=Fe,this._localTimelineStyles.hasOwnProperty(ye)||(this._backFill[ye]=this._globalTimelineStyles.hasOwnProperty(ye)?this._globalTimelineStyles[ye]:ut.l3),this._updateStyle(ye,Fe)})}applyStylesToKeyframe(){const c=this._pendingStyles,l=Object.keys(c);0!=l.length&&(this._pendingStyles={},l.forEach(_=>{this._currentKeyframe[_]=c[_]}),Object.keys(this._localTimelineStyles).forEach(_=>{this._currentKeyframe.hasOwnProperty(_)||(this._currentKeyframe[_]=this._localTimelineStyles[_])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(c=>{const l=this._localTimelineStyles[c];this._pendingStyles[c]=l,this._updateStyle(c,l)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let l in this._currentKeyframe)c.push(l);return c}mergeTimelineCollectedStyles(c){Object.keys(c._styleSummary).forEach(l=>{const _=this._styleSummary[l],O=c._styleSummary[l];(!_||O.time>_.time)&&this._updateStyle(l,O.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,l=new Set,_=1===this._keyframes.size&&0===this.duration;let O=[];this._keyframes.forEach((ye,Fe)=>{const Je=ts(ye,!0);Object.keys(Je).forEach(st=>{const Ot=Je[st];Ot==ut.k1?c.add(st):Ot==ut.l3&&l.add(st)}),_||(Je.offset=Fe/this.duration),O.push(Je)});const $=c.size?Pr(c.values()):[],se=l.size?Pr(l.values()):[];if(_){const ye=O[0],Fe=Zs(ye);ye.offset=0,Fe.offset=1,O=[ye,Fe]}return ia(this.element,O,$,se,this.duration,this.startTime,this.easing,!1)}}class I extends A{constructor(c,l,_,O,$,se,ye=!1){super(c,l,se.delay),this.keyframes=_,this.preStyleProps=O,this.postStyleProps=$,this._stretchStartingKeyframe=ye,this.timings={duration:se.duration,delay:se.delay,easing:se.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:l,duration:_,easing:O}=this.timings;if(this._stretchStartingKeyframe&&l){const $=[],se=_+l,ye=l/se,Fe=ts(c[0],!1);Fe.offset=0,$.push(Fe);const Je=ts(c[0],!1);Je.offset=b(ye),$.push(Je);const st=c.length-1;for(let Ot=1;Ot<=st;Ot++){let Zt=ts(c[Ot],!1);Zt.offset=b((l+Zt.offset*_)/se),$.push(Zt)}_=se,l=0,O="",c=$}return ia(this.element,c,this.preStyleProps,this.postStyleProps,_,l,O,!0)}}function b(g,c=3){const l=Math.pow(10,c-1);return Math.round(g*l)/l}class z{}class we extends z{normalizePropertyName(c,l){return mr(c)}normalizeStyleValue(c,l,_,O){let $="";const se=_.toString().trim();if(It[l]&&0!==_&&"0"!==_)if("number"==typeof _)$="px";else{const ye=_.match(/^[+-]?[\d\.]+([a-z]*)$/);ye&&0==ye[1].length&&O.push(`Please provide a CSS unit value for ${c}:${_}`)}return se+$}}const It=(()=>function(g){const c={};return g.forEach(l=>c[l]=!0),c}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Mt(g,c,l,_,O,$,se,ye,Fe,Je,st,Ot,Zt){return{type:0,element:g,triggerName:c,isRemovalTransition:O,fromState:l,fromStyles:$,toState:_,toStyles:se,timelines:ye,queriedElements:Fe,preStyleProps:Je,postStyleProps:st,totalTime:Ot,errors:Zt}}const Xn={};class Vn{constructor(c,l,_){this._triggerName=c,this.ast=l,this._stateStyles=_}match(c,l,_,O){return function(g,c,l,_,O){return g.some($=>$(c,l,_,O))}(this.ast.matchers,c,l,_,O)}buildStyles(c,l,_){const O=this._stateStyles["*"],$=this._stateStyles[c],se=O?O.buildStyles(l,_):{};return $?$.buildStyles(l,_):se}build(c,l,_,O,$,se,ye,Fe,Je,st){const Ot=[],Zt=this.ast.options&&this.ast.options.params||Xn,Tt=this.buildStyles(_,ye&&ye.params||Xn,Ot),Yt=Fe&&Fe.params||Xn,Un=this.buildStyles(O,Yt,Ot),Zr=new Set,fr=new Map,ws=new Map,ki="void"===O,fl={params:Object.assign(Object.assign({},Zt),Yt)},Ao=st?[]:Oi(c,l,this.ast.animation,$,se,Tt,Un,fl,Je,Ot);let is=0;if(Ao.forEach(ua=>{is=Math.max(ua.duration+ua.delay,is)}),Ot.length)return Mt(l,this._triggerName,_,O,ki,Tt,Un,[],[],fr,ws,is,Ot);Ao.forEach(ua=>{const Ho=ua.element,Ka=gn(fr,Ho,{});ua.preStyleProps.forEach(So=>Ka[So]=!0);const $o=gn(ws,Ho,{});ua.postStyleProps.forEach(So=>$o[So]=!0),Ho!==l&&Zr.add(Ho)});const Ra=Pr(Zr.values());return Mt(l,this._triggerName,_,O,ki,Tt,Un,Ao,Ra,fr,ws,is)}}class Hi{constructor(c,l,_){this.styles=c,this.defaultParams=l,this.normalizer=_}buildStyles(c,l){const _={},O=Zs(this.defaultParams);return Object.keys(c).forEach($=>{const se=c[$];null!=se&&(O[$]=se)}),this.styles.styles.forEach($=>{if("string"!=typeof $){const se=$;Object.keys(se).forEach(ye=>{let Fe=se[ye];Fe.length>1&&(Fe=ms(Fe,O,l));const Je=this.normalizer.normalizePropertyName(ye,l);Fe=this.normalizer.normalizeStyleValue(ye,Je,Fe,l),_[Je]=Fe})}}),_}}class Co{constructor(c,l,_){this.name=c,this.ast=l,this._normalizer=_,this.transitionFactories=[],this.states={},l.states.forEach(O=>{this.states[O.name]=new Hi(O.style,O.options&&O.options.params||{},_)}),Jr(this.states,"true","1"),Jr(this.states,"false","0"),l.transitions.forEach(O=>{this.transitionFactories.push(new Vn(c,O,this.states))}),this.fallbackTransition=function(g,c,l){return new Vn(g,{type:1,animation:{type:2,steps:[],options:null},matchers:[(se,ye)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,l,_,O){return this.transitionFactories.find(se=>se.match(c,l,_,O))||null}matchStyles(c,l,_){return this.fallbackTransition.buildStyles(c,l,_)}}function Jr(g,c,l){g.hasOwnProperty(c)?g.hasOwnProperty(l)||(g[l]=g[c]):g.hasOwnProperty(l)&&(g[c]=g[l])}const Fo=new Jn;class sa{constructor(c,l,_){this.bodyNode=c,this._driver=l,this._normalizer=_,this._animations={},this._playersById={},this.players=[]}register(c,l){const _=[],O=ta(this._driver,l,_);if(_.length)throw new Error(`Unable to build the animation due to the following errors: ${_.join("\n")}`);this._animations[c]=O}_buildPlayer(c,l,_){const O=c.element,$=Rn(0,this._normalizer,0,c.keyframes,l,_);return this._driver.animate(O,$,c.duration,c.delay,c.easing,[],!0)}create(c,l,_={}){const O=[],$=this._animations[c];let se;const ye=new Map;if($?(se=Oi(this._driver,l,$,Ks,kr,{},{},_,Fo,O),se.forEach(st=>{const Ot=gn(ye,st.element,{});st.postStyleProps.forEach(Zt=>Ot[Zt]=null)})):(O.push("The requested animation doesn't exist or has already been destroyed"),se=[]),O.length)throw new Error(`Unable to create the animation due to the following errors: ${O.join("\n")}`);ye.forEach((st,Ot)=>{Object.keys(st).forEach(Zt=>{st[Zt]=this._driver.computeStyle(Ot,Zt,ut.l3)})});const Je=$t(se.map(st=>{const Ot=ye.get(st.element);return this._buildPlayer(st,{},Ot)}));return this._playersById[c]=Je,Je.onDestroy(()=>this.destroy(c)),this.players.push(Je),Je}destroy(c){const l=this._getPlayer(c);l.destroy(),delete this._playersById[c];const _=this.players.indexOf(l);_>=0&&this.players.splice(_,1)}_getPlayer(c){const l=this._playersById[c];if(!l)throw new Error(`Unable to find the timeline player referenced by ${c}`);return l}listen(c,l,_,O){const $=Bi(l,"","","");return zn(this._getPlayer(c),_,$,O),()=>{}}command(c,l,_,O){if("register"==_)return void this.register(c,O[0]);if("create"==_)return void this.create(c,l,O[0]||{});const $=this._getPlayer(c);switch(_){case"play":$.play();break;case"pause":$.pause();break;case"reset":$.reset();break;case"restart":$.restart();break;case"finish":$.finish();break;case"init":$.init();break;case"setPosition":$.setPosition(parseFloat(O[0]));break;case"destroy":this.destroy(c)}}}const El="ng-animate-queued",oa="ng-animate-disabled",Cs=".ng-animate-disabled",to=[],el={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Uc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ns="__ng_removed";class jl{constructor(c,l=""){this.namespaceId=l;const _=c&&c.hasOwnProperty("value");if(this.value=null!=(g=_?c.value:c)?g:null,_){const $=Zs(c);delete $.value,this.options=$}else this.options={};var g;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(c){const l=c.params;if(l){const _=this.options.params;Object.keys(l).forEach(O=>{null==_[O]&&(_[O]=l[O])})}}}const Cl="void",_r=new jl(Cl);class Ua{constructor(c,l,_){this.id=c,this.hostElement=l,this._engine=_,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,bs(l,this._hostClassName)}listen(c,l,_,O){if(!this._triggers.hasOwnProperty(l))throw new Error(`Unable to listen on the animation trigger event "${_}" because the animation trigger "${l}" doesn't exist!`);if(null==_||0==_.length)throw new Error(`Unable to listen on the animation trigger "${l}" because the provided event is undefined!`);if("start"!=(g=_)&&"done"!=g)throw new Error(`The provided animation trigger event "${_}" for the animation trigger "${l}" is not supported!`);var g;const $=gn(this._elementListeners,c,[]),se={name:l,phase:_,callback:O};$.push(se);const ye=gn(this._engine.statesByElement,c,{});return ye.hasOwnProperty(l)||(bs(c,oi),bs(c,oi+"-"+l),ye[l]=_r),()=>{this._engine.afterFlush(()=>{const Fe=$.indexOf(se);Fe>=0&&$.splice(Fe,1),this._triggers[l]||delete ye[l]})}}register(c,l){return!this._triggers[c]&&(this._triggers[c]=l,!0)}_getTrigger(c){const l=this._triggers[c];if(!l)throw new Error(`The provided animation trigger "${c}" has not been registered!`);return l}trigger(c,l,_,O=!0){const $=this._getTrigger(l),se=new Hl(this.id,l,c);let ye=this._engine.statesByElement.get(c);ye||(bs(c,oi),bs(c,oi+"-"+l),this._engine.statesByElement.set(c,ye={}));let Fe=ye[l];const Je=new jl(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&Fe&&Je.absorbOptions(Fe.options),ye[l]=Je,Fe||(Fe=_r),Je.value!==Cl&&Fe.value===Je.value){if(!function(g,c){const l=Object.keys(g),_=Object.keys(c);if(l.length!=_.length)return!1;for(let O=0;O<l.length;O++){const $=l[O];if(!c.hasOwnProperty($)||g[$]!==c[$])return!1}return!0}(Fe.params,Je.params)){const Yt=[],Un=$.matchStyles(Fe.value,Fe.params,Yt),Zr=$.matchStyles(Je.value,Je.params,Yt);Yt.length?this._engine.reportError(Yt):this._engine.afterFlush(()=>{ns(c,Un),fi(c,Zr)})}return}const Zt=gn(this._engine.playersByElement,c,[]);Zt.forEach(Yt=>{Yt.namespaceId==this.id&&Yt.triggerName==l&&Yt.queued&&Yt.destroy()});let Sn=$.matchTransition(Fe.value,Je.value,c,Je.params),Tt=!1;if(!Sn){if(!O)return;Sn=$.fallbackTransition,Tt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:l,transition:Sn,fromState:Fe,toState:Je,player:se,isFallbackTransition:Tt}),Tt||(bs(c,El),se.onStart(()=>{wr(c,El)})),se.onDone(()=>{let Yt=this.players.indexOf(se);Yt>=0&&this.players.splice(Yt,1);const Un=this._engine.playersByElement.get(c);if(Un){let Zr=Un.indexOf(se);Zr>=0&&Un.splice(Zr,1)}}),this.players.push(se),Zt.push(se),se}deregister(c){delete this._triggers[c],this._engine.statesByElement.forEach((l,_)=>{delete l[c]}),this._elementListeners.forEach((l,_)=>{this._elementListeners.set(_,l.filter(O=>O.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const l=this._engine.playersByElement.get(c);l&&(l.forEach(_=>_.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,l){const _=this._engine.driver.query(c,ai,!0);_.forEach(O=>{if(O[Ns])return;const $=this._engine.fetchNamespacesByElement(O);$.size?$.forEach(se=>se.triggerLeaveAnimation(O,l,!1,!0)):this.clearElementCache(O)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(O=>this.clearElementCache(O)))}triggerLeaveAnimation(c,l,_,O){const $=this._engine.statesByElement.get(c);if($){const se=[];if(Object.keys($).forEach(ye=>{if(this._triggers[ye]){const Fe=this.trigger(c,ye,Cl,O);Fe&&se.push(Fe)}}),se.length)return this._engine.markElementAsRemoved(this.id,c,!0,l),_&&$t(se).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const l=this._elementListeners.get(c),_=this._engine.statesByElement.get(c);if(l&&_){const O=new Set;l.forEach($=>{const se=$.name;if(O.has(se))return;O.add(se);const Fe=this._triggers[se].fallbackTransition,Je=_[se]||_r,st=new jl(Cl),Ot=new Hl(this.id,se,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:se,transition:Fe,fromState:Je,toState:st,player:Ot,isFallbackTransition:!0})})}}removeNode(c,l){const _=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,l),this.triggerLeaveAnimation(c,l,!0))return;let O=!1;if(_.totalAnimations){const $=_.players.length?_.playersByQueriedElement.get(c):[];if($&&$.length)O=!0;else{let se=c;for(;se=se.parentNode;)if(_.statesByElement.get(se)){O=!0;break}}}if(this.prepareLeaveAnimationListeners(c),O)_.markElementAsRemoved(this.id,c,!1,l);else{const $=c[Ns];(!$||$===el)&&(_.afterFlush(()=>this.clearElementCache(c)),_.destroyInnerAnimations(c),_._onRemovalComplete(c,l))}}insertNode(c,l){bs(c,this._hostClassName)}drainQueuedTransitions(c){const l=[];return this._queue.forEach(_=>{const O=_.player;if(O.destroyed)return;const $=_.element,se=this._elementListeners.get($);se&&se.forEach(ye=>{if(ye.name==_.triggerName){const Fe=Bi($,_.triggerName,_.fromState.value,_.toState.value);Fe._data=c,zn(_.player,ye.phase,Fe,ye.callback)}}),O.markedForDestroy?this._engine.afterFlush(()=>{O.destroy()}):l.push(_)}),this._queue=[],l.sort((_,O)=>{const $=_.transition.ast.depCount,se=O.transition.ast.depCount;return 0==$||0==se?$-se:this._engine.driver.containsElement(_.element,O.element)?1:-1})}destroy(c){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}elementContainsData(c){let l=!1;return this._elementListeners.has(c)&&(l=!0),l=!!this._queue.find(_=>_.element===c)||l,l}}class tl{constructor(c,l,_){this.bodyNode=c,this.driver=l,this._normalizer=_,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(O,$)=>{}}_onRemovalComplete(c,l){this.onRemovalComplete(c,l)}get queuedPlayers(){const c=[];return this._namespaceList.forEach(l=>{l.players.forEach(_=>{_.queued&&c.push(_)})}),c}createNamespace(c,l){const _=new Ua(c,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(_,l):(this.newHostElements.set(l,_),this.collectEnterElement(l)),this._namespaceLookup[c]=_}_balanceNamespaceList(c,l){const _=this._namespaceList.length-1;if(_>=0){let O=!1;for(let $=_;$>=0;$--)if(this.driver.containsElement(this._namespaceList[$].hostElement,l)){this._namespaceList.splice($+1,0,c),O=!0;break}O||this._namespaceList.splice(0,0,c)}else this._namespaceList.push(c);return this.namespacesByHostElement.set(l,c),c}register(c,l){let _=this._namespaceLookup[c];return _||(_=this.createNamespace(c,l)),_}registerTrigger(c,l,_){let O=this._namespaceLookup[c];O&&O.register(l,_)&&this.totalAnimations++}destroy(c,l){if(!c)return;const _=this._fetchNamespace(c);this.afterFlush(()=>{this.namespacesByHostElement.delete(_.hostElement),delete this._namespaceLookup[c];const O=this._namespaceList.indexOf(_);O>=0&&this._namespaceList.splice(O,1)}),this.afterFlushAnimationsDone(()=>_.destroy(l))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const l=new Set,_=this.statesByElement.get(c);if(_){const O=Object.keys(_);for(let $=0;$<O.length;$++){const se=_[O[$]].namespaceId;if(se){const ye=this._fetchNamespace(se);ye&&l.add(ye)}}}return l}trigger(c,l,_,O){if(rl(l)){const $=this._fetchNamespace(c);if($)return $.trigger(l,_,O),!0}return!1}insertNode(c,l,_,O){if(!rl(l))return;const $=l[Ns];if($&&$.setForRemoval){$.setForRemoval=!1,$.setForMove=!0;const se=this.collectedLeaveElements.indexOf(l);se>=0&&this.collectedLeaveElements.splice(se,1)}if(c){const se=this._fetchNamespace(c);se&&se.insertNode(l,_)}O&&this.collectEnterElement(l)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,l){l?this.disabledNodes.has(c)||(this.disabledNodes.add(c),bs(c,oa)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),wr(c,oa))}removeNode(c,l,_,O){if(rl(l)){const $=c?this._fetchNamespace(c):null;if($?$.removeNode(l,O):this.markElementAsRemoved(c,l,!1,O),_){const se=this.namespacesByHostElement.get(l);se&&se.id!==c&&se.removeNode(l,O)}}else this._onRemovalComplete(l,O)}markElementAsRemoved(c,l,_,O){this.collectedLeaveElements.push(l),l[Ns]={namespaceId:c,setForRemoval:O,hasAnimation:_,removedBeforeQueried:!1}}listen(c,l,_,O,$){return rl(l)?this._fetchNamespace(c).listen(l,_,O,$):()=>{}}_buildInstruction(c,l,_,O,$){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,_,O,c.fromState.options,c.toState.options,l,$)}destroyInnerAnimations(c){let l=this.driver.query(c,ai,!0);l.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(c,ps,!0),l.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(c){const l=this.playersByElement.get(c);l&&l.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(c){const l=this.playersByQueriedElement.get(c);l&&l.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return $t(this.players).onDone(()=>c());c()})}processLeaveNode(c){const l=c[Ns];if(l&&l.setForRemoval){if(c[Ns]=el,l.namespaceId){this.destroyInnerAnimations(c);const _=this._fetchNamespace(l.namespaceId);_&&_.clearElementCache(c)}this._onRemovalComplete(c,l.setForRemoval)}this.driver.matchesElement(c,Cs)&&this.markElementAsDisabled(c,!1),this.driver.query(c,Cs,!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(c=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,O)=>this._balanceNamespaceList(_,O)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)bs(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{l=this._flushAnimations(_,c)}finally{for(let O=0;O<_.length;O++)_[O]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],l.length?$t(l).onDone(()=>{_.forEach(O=>O())}):_.forEach(O=>O())}}reportError(c){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${c.join("\n")}`)}_flushAnimations(c,l){const _=new Jn,O=[],$=new Map,se=[],ye=new Map,Fe=new Map,Je=new Map,st=new Set;this.disabledNodes.forEach(Rt=>{st.add(Rt);const Bt=this.driver.query(Rt,".ng-animate-queued",!0);for(let mn=0;mn<Bt.length;mn++)st.add(Bt[mn])});const Ot=this.bodyNode,Zt=Array.from(this.statesByElement.keys()),Sn=vc(Zt,this.collectedEnterElements),Tt=new Map;let Yt=0;Sn.forEach((Rt,Bt)=>{const mn=Ks+Yt++;Tt.set(Bt,mn),Rt.forEach(Kn=>bs(Kn,mn))});const Un=[],Zr=new Set,fr=new Set;for(let Rt=0;Rt<this.collectedLeaveElements.length;Rt++){const Bt=this.collectedLeaveElements[Rt],mn=Bt[Ns];mn&&mn.setForRemoval&&(Un.push(Bt),Zr.add(Bt),mn.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(Kn=>Zr.add(Kn)):fr.add(Bt))}const ws=new Map,ki=vc(Zt,Array.from(Zr));ki.forEach((Rt,Bt)=>{const mn=kr+Yt++;ws.set(Bt,mn),Rt.forEach(Kn=>bs(Kn,mn))}),c.push(()=>{Sn.forEach((Rt,Bt)=>{const mn=Tt.get(Bt);Rt.forEach(Kn=>wr(Kn,mn))}),ki.forEach((Rt,Bt)=>{const mn=ws.get(Bt);Rt.forEach(Kn=>wr(Kn,mn))}),Un.forEach(Rt=>{this.processLeaveNode(Rt)})});const fl=[],Ao=[];for(let Rt=this._namespaceList.length-1;Rt>=0;Rt--)this._namespaceList[Rt].drainQueuedTransitions(l).forEach(mn=>{const Kn=mn.player,Qn=mn.element;if(fl.push(Kn),this.collectedEnterElements.length){const oo=Qn[Ns];if(oo&&oo.setForMove)return void Kn.destroy()}const Wo=!Ot||!this.driver.containsElement(Ot,Qn),Ls=ws.get(Qn),Za=Tt.get(Qn),yr=this._buildInstruction(mn,_,Za,Ls,Wo);if(yr.errors&&yr.errors.length)Ao.push(yr);else{if(Wo)return Kn.onStart(()=>ns(Qn,yr.fromStyles)),Kn.onDestroy(()=>fi(Qn,yr.toStyles)),void O.push(Kn);if(mn.isFallbackTransition)return Kn.onStart(()=>ns(Qn,yr.fromStyles)),Kn.onDestroy(()=>fi(Qn,yr.toStyles)),void O.push(Kn);yr.timelines.forEach(oo=>oo.stretchStartingKeyframe=!0),_.append(Qn,yr.timelines),se.push({instruction:yr,player:Kn,element:Qn}),yr.queriedElements.forEach(oo=>gn(ye,oo,[]).push(Kn)),yr.preStyleProps.forEach((oo,ss)=>{const nc=Object.keys(oo);if(nc.length){let Ya=Fe.get(ss);Ya||Fe.set(ss,Ya=new Set),nc.forEach(os=>Ya.add(os))}}),yr.postStyleProps.forEach((oo,ss)=>{const nc=Object.keys(oo);let Ya=Je.get(ss);Ya||Je.set(ss,Ya=new Set),nc.forEach(os=>Ya.add(os))})}});if(Ao.length){const Rt=[];Ao.forEach(Bt=>{Rt.push(`@${Bt.triggerName} has failed due to:\n`),Bt.errors.forEach(mn=>Rt.push(`- ${mn}\n`))}),fl.forEach(Bt=>Bt.destroy()),this.reportError(Rt)}const is=new Map,Ra=new Map;se.forEach(Rt=>{const Bt=Rt.element;_.has(Bt)&&(Ra.set(Bt,Bt),this._beforeAnimationBuild(Rt.player.namespaceId,Rt.instruction,is))}),O.forEach(Rt=>{const Bt=Rt.element;this._getPreviousPlayers(Bt,!1,Rt.namespaceId,Rt.triggerName,null).forEach(Kn=>{gn(is,Bt,[]).push(Kn),Kn.destroy()})});const ua=Un.filter(Rt=>$i(Rt,Fe,Je)),Ho=new Map;$l(Ho,this.driver,fr,Je,ut.l3).forEach(Rt=>{$i(Rt,Fe,Je)&&ua.push(Rt)});const $o=new Map;Sn.forEach((Rt,Bt)=>{$l($o,this.driver,new Set(Rt),Fe,ut.k1)}),ua.forEach(Rt=>{const Bt=Ho.get(Rt),mn=$o.get(Rt);Ho.set(Rt,Object.assign(Object.assign({},Bt),mn))});const So=[],Ol=[],Fs={};se.forEach(Rt=>{const{element:Bt,player:mn,instruction:Kn}=Rt;if(_.has(Bt)){if(st.has(Bt))return mn.onDestroy(()=>fi(Bt,Kn.toStyles)),mn.disabled=!0,mn.overrideTotalTime(Kn.totalTime),void O.push(mn);let Qn=Fs;if(Ra.size>1){let Ls=Bt;const Za=[];for(;Ls=Ls.parentNode;){const yr=Ra.get(Ls);if(yr){Qn=yr;break}Za.push(Ls)}Za.forEach(yr=>Ra.set(yr,Qn))}const Wo=this._buildAnimation(mn.namespaceId,Kn,is,$,$o,Ho);if(mn.setRealPlayer(Wo),Qn===Fs)So.push(mn);else{const Ls=this.playersByElement.get(Qn);Ls&&Ls.length&&(mn.parentPlayer=$t(Ls)),O.push(mn)}}else ns(Bt,Kn.fromStyles),mn.onDestroy(()=>fi(Bt,Kn.toStyles)),Ol.push(mn),st.has(Bt)&&O.push(mn)}),Ol.forEach(Rt=>{const Bt=$.get(Rt.element);if(Bt&&Bt.length){const mn=$t(Bt);Rt.setRealPlayer(mn)}}),O.forEach(Rt=>{Rt.parentPlayer?Rt.syncPlayerEvents(Rt.parentPlayer):Rt.destroy()});for(let Rt=0;Rt<Un.length;Rt++){const Bt=Un[Rt],mn=Bt[Ns];if(wr(Bt,kr),mn&&mn.hasAnimation)continue;let Kn=[];if(ye.size){let Wo=ye.get(Bt);Wo&&Wo.length&&Kn.push(...Wo);let Ls=this.driver.query(Bt,ps,!0);for(let Za=0;Za<Ls.length;Za++){let yr=ye.get(Ls[Za]);yr&&yr.length&&Kn.push(...yr)}}const Qn=Kn.filter(Wo=>!Wo.destroyed);Qn.length?Lo(this,Bt,Qn):this.processLeaveNode(Bt)}return Un.length=0,So.forEach(Rt=>{this.players.push(Rt),Rt.onDone(()=>{Rt.destroy();const Bt=this.players.indexOf(Rt);this.players.splice(Bt,1)}),Rt.play()}),So}elementContainsData(c,l){let _=!1;const O=l[Ns];return O&&O.setForRemoval&&(_=!0),this.playersByElement.has(l)&&(_=!0),this.playersByQueriedElement.has(l)&&(_=!0),this.statesByElement.has(l)&&(_=!0),this._fetchNamespace(c).elementContainsData(l)||_}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,l,_,O,$){let se=[];if(l){const ye=this.playersByQueriedElement.get(c);ye&&(se=ye)}else{const ye=this.playersByElement.get(c);if(ye){const Fe=!$||$==Cl;ye.forEach(Je=>{Je.queued||!Fe&&Je.triggerName!=O||se.push(Je)})}}return(_||O)&&(se=se.filter(ye=>!(_&&_!=ye.namespaceId||O&&O!=ye.triggerName))),se}_beforeAnimationBuild(c,l,_){const $=l.element,se=l.isRemovalTransition?void 0:c,ye=l.isRemovalTransition?void 0:l.triggerName;for(const Fe of l.timelines){const Je=Fe.element,st=Je!==$,Ot=gn(_,Je,[]);this._getPreviousPlayers(Je,st,se,ye,l.toState).forEach(Sn=>{const Tt=Sn.getRealPlayer();Tt.beforeDestroy&&Tt.beforeDestroy(),Sn.destroy(),Ot.push(Sn)})}ns($,l.fromStyles)}_buildAnimation(c,l,_,O,$,se){const ye=l.triggerName,Fe=l.element,Je=[],st=new Set,Ot=new Set,Zt=l.timelines.map(Tt=>{const Yt=Tt.element;st.add(Yt);const Un=Yt[Ns];if(Un&&Un.removedBeforeQueried)return new ut.ZN(Tt.duration,Tt.delay);const Zr=Yt!==Fe,fr=function(g){const c=[];return jc(g,c),c}((_.get(Yt)||to).map(is=>is.getRealPlayer())).filter(is=>!!is.element&&is.element===Yt),ws=$.get(Yt),ki=se.get(Yt),fl=Rn(0,this._normalizer,0,Tt.keyframes,ws,ki),Ao=this._buildPlayer(Tt,fl,fr);if(Tt.subTimeline&&O&&Ot.add(Yt),Zr){const is=new Hl(c,ye,Yt);is.setRealPlayer(Ao),Je.push(is)}return Ao});Je.forEach(Tt=>{gn(this.playersByQueriedElement,Tt.element,[]).push(Tt),Tt.onDone(()=>function(g,c,l){let _;if(g instanceof Map){if(_=g.get(c),_){if(_.length){const O=_.indexOf(l);_.splice(O,1)}0==_.length&&g.delete(c)}}else if(_=g[c],_){if(_.length){const O=_.indexOf(l);_.splice(O,1)}0==_.length&&delete g[c]}return _}(this.playersByQueriedElement,Tt.element,Tt))}),st.forEach(Tt=>bs(Tt,mo));const Sn=$t(Zt);return Sn.onDestroy(()=>{st.forEach(Tt=>wr(Tt,mo)),fi(Fe,l.toStyles)}),Ot.forEach(Tt=>{gn(O,Tt,[]).push(Sn)}),Sn}_buildPlayer(c,l,_){return l.length>0?this.driver.animate(c.element,l,c.duration,c.delay,c.easing,_):new ut.ZN(c.duration,c.delay)}}class Hl{constructor(c,l,_){this.namespaceId=c,this.triggerName=l,this.element=_,this._player=new ut.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,Object.keys(this._queuedCallbacks).forEach(l=>{this._queuedCallbacks[l].forEach(_=>zn(c,l,void 0,_))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const l=this._player;l.triggerCallback&&c.onStart(()=>l.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,l){gn(this._queuedCallbacks,c,[]).push(l)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const l=this._player;l.triggerCallback&&l.triggerCallback(c)}}function rl(g){return g&&1===g.nodeType}function Bc(g,c){const l=g.style.display;return g.style.display=null!=c?c:"none",l}function $l(g,c,l,_,O){const $=[];l.forEach(Fe=>$.push(Bc(Fe)));const se=[];_.forEach((Fe,Je)=>{const st={};Fe.forEach(Ot=>{const Zt=st[Ot]=c.computeStyle(Je,Ot,O);(!Zt||0==Zt.length)&&(Je[Ns]=Uc,se.push(Je))}),g.set(Je,st)});let ye=0;return l.forEach(Fe=>Bc(Fe,$[ye++])),se}function vc(g,c){const l=new Map;if(g.forEach(ye=>l.set(ye,[])),0==c.length)return l;const O=new Set(c),$=new Map;function se(ye){if(!ye)return 1;let Fe=$.get(ye);if(Fe)return Fe;const Je=ye.parentNode;return Fe=l.has(Je)?Je:O.has(Je)?1:se(Je),$.set(ye,Fe),Fe}return c.forEach(ye=>{const Fe=se(ye);1!==Fe&&l.get(Fe).push(ye)}),l}const Ba="$$classes";function bs(g,c){if(g.classList)g.classList.add(c);else{let l=g[Ba];l||(l=g[Ba]={}),l[c]=!0}}function wr(g,c){if(g.classList)g.classList.remove(c);else{let l=g[Ba];l&&delete l[c]}}function Lo(g,c,l){$t(l).onDone(()=>g.processLeaveNode(c))}function jc(g,c){for(let l=0;l<g.length;l++){const _=g[l];_ instanceof ut.ZE?jc(_.players,c):c.push(_)}}function $i(g,c,l){const _=l.get(g);if(!_)return!1;let O=c.get(g);return O?_.forEach($=>O.add($)):c.set(g,_),l.delete(g),!0}class Ni{constructor(c,l,_){this.bodyNode=c,this._driver=l,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(O,$)=>{},this._transitionEngine=new tl(c,l,_),this._timelineEngine=new sa(c,l,_),this._transitionEngine.onRemovalComplete=(O,$)=>this.onRemovalComplete(O,$)}registerTrigger(c,l,_,O,$){const se=c+"-"+O;let ye=this._triggerCache[se];if(!ye){const Fe=[],Je=ta(this._driver,$,Fe);if(Fe.length)throw new Error(`The animation trigger "${O}" has failed to build due to the following errors:\n - ${Fe.join("\n - ")}`);ye=function(g,c,l){return new Co(g,c,l)}(O,Je,this._normalizer),this._triggerCache[se]=ye}this._transitionEngine.registerTrigger(l,O,ye)}register(c,l){this._transitionEngine.register(c,l)}destroy(c,l){this._transitionEngine.destroy(c,l)}onInsert(c,l,_,O){this._transitionEngine.insertNode(c,l,_,O)}onRemove(c,l,_,O){this._transitionEngine.removeNode(c,l,O||!1,_)}disableAnimations(c,l){this._transitionEngine.markElementAsDisabled(c,l)}process(c,l,_,O){if("@"==_.charAt(0)){const[$,se]=In(_);this._timelineEngine.command($,l,se,O)}else this._transitionEngine.trigger(c,l,_,O)}listen(c,l,_,O,$){if("@"==_.charAt(0)){const[se,ye]=In(_);return this._timelineEngine.listen(se,l,ye,$)}return this._transitionEngine.listen(c,l,_,O,$)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ha(g,c){let l=null,_=null;return Array.isArray(c)&&c.length?(l=no(c[0]),c.length>1&&(_=no(c[c.length-1]))):c&&(l=no(c)),l||_?new xs(g,l,_):null}let xs=(()=>{class g{constructor(l,_,O){this._element=l,this._startStyles=_,this._endStyles=O,this._state=0;let $=g.initialStylesByElement.get(l);$||g.initialStylesByElement.set(l,$={}),this._initialStyles=$}start(){this._state<1&&(this._startStyles&&fi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fi(this._element,this._initialStyles),this._endStyles&&(fi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(g.initialStylesByElement.delete(this._element),this._startStyles&&(ns(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ns(this._element,this._endStyles),this._endStyles=null),fi(this._element,this._initialStyles),this._state=3)}}return g.initialStylesByElement=new WeakMap,g})();function no(g){let c=null;const l=Object.keys(g);for(let _=0;_<l.length;_++){const O=l[_];Ec(O)&&(c=c||{},c[O]=g[O])}return c}function Ec(g){return"display"===g||"position"===g}const Vo="animation",Hc="animationend";class wl{constructor(c,l,_,O,$,se,ye){this._element=c,this._name=l,this._duration=_,this._delay=O,this._easing=$,this._fillMode=se,this._onDoneFn=ye,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Fe=>this._handleCallback(Fe)}apply(){(function(g,c){const l=Z(g,"").trim();let _=0;l.length&&(function(g,c){let l=0;for(let _=0;_<g.length;_++)","===g.charAt(_)&&l++;return l}(l)+1,c=`${l}, ${c}`),F(g,"",c)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),S(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Xr(this._element,this._name,"paused")}resume(){Xr(this._element,this._name,"running")}setPosition(c){const l=bo(this._element,this._name);this._position=c*this._duration,F(this._element,"Delay",`-${this._position}ms`,l)}getPosition(){return this._position}_handleCallback(c){const l=c._ngTestManualTimestamp||Date.now(),_=1e3*parseFloat(c.elapsedTime.toFixed(3));c.animationName==this._name&&Math.max(l-this._startTime,0)>=this._delay&&_>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),S(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(g,c){const _=Z(g,"").split(","),O=Wa(_,c);O>=0&&(_.splice(O,1),F(g,"",_.join(",")))}(this._element,this._name))}}function Xr(g,c,l){F(g,"PlayState",l,bo(g,c))}function bo(g,c){const l=Z(g,"");return l.indexOf(",")>0?Wa(l.split(","),c):Wa([l],c)}function Wa(g,c){for(let l=0;l<g.length;l++)if(g[l].indexOf(c)>=0)return l;return-1}function S(g,c,l){l?g.removeEventListener(Hc,c):g.addEventListener(Hc,c)}function F(g,c,l,_){const O=Vo+c;if(null!=_){const $=g.style[O];if($.length){const se=$.split(",");se[_]=l,l=se.join(",")}}g.style[O]=l}function Z(g,c){return g.style[Vo+c]||""}class lt{constructor(c,l,_,O,$,se,ye,Fe){this.element=c,this.keyframes=l,this.animationName=_,this._duration=O,this._delay=$,this._finalStyles=ye,this._specialStyles=Fe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=se||"linear",this.totalTime=O+$,this._buildStyler()}onStart(c){this._onStartFns.push(c)}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(c=>c()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(c=>c()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(c){this._styler.setPosition(c)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new wl(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(c){const l="start"==c?this._onStartFns:this._onDoneFns;l.forEach(_=>_()),l.length=0}beforeDestroy(){this.init();const c={};if(this.hasStarted()){const l=this._state>=3;Object.keys(this._finalStyles).forEach(_=>{"offset"!=_&&(c[_]=l?this._finalStyles[_]:ba(this.element,_))})}this.currentSnapshot=c}}class Dt extends ut.ZN{constructor(c,l){super(),this.element=c,this._startingStyles={},this.__initialized=!1,this._styles=Kr(l)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(c=>{this._startingStyles[c]=this.element.style[c]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(c=>this.element.style.setProperty(c,this._styles[c])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(c=>{const l=this._startingStyles[c];l?this.element.style.setProperty(c,l):this.element.style.removeProperty(c)}),this._startingStyles=null,super.destroy())}}class cr{constructor(){this._count=0}validateStyleProperty(c){return bn(c)}matchesElement(c,l){return lr(c,l)}containsElement(c,l){return va(c,l)}query(c,l,_){return es(c,l,_)}computeStyle(c,l,_){return window.getComputedStyle(c)[l]}buildKeyframeElement(c,l,_){_=_.map(ye=>Kr(ye));let O=`@keyframes ${l} {\n`,$="";_.forEach(ye=>{$=" ";const Fe=parseFloat(ye.offset);O+=`${$}${100*Fe}% {\n`,$+=" ",Object.keys(ye).forEach(Je=>{const st=ye[Je];switch(Je){case"offset":return;case"easing":return void(st&&(O+=`${$}animation-timing-function: ${st};\n`));default:return void(O+=`${$}${Je}: ${st};\n`)}}),O+=`${$}}\n`}),O+="}\n";const se=document.createElement("style");return se.textContent=O,se}animate(c,l,_,O,$,se=[],ye){const Fe=se.filter(Un=>Un instanceof lt),Je={};Qr(_,O)&&Fe.forEach(Un=>{let Zr=Un.currentSnapshot;Object.keys(Zr).forEach(fr=>Je[fr]=Zr[fr])});const st=function(g){let c={};return g&&(Array.isArray(g)?g:[g]).forEach(_=>{Object.keys(_).forEach(O=>{"offset"==O||"easing"==O||(c[O]=_[O])})}),c}(l=Bl(c,l,Je));if(0==_)return new Dt(c,st);const Ot="gen_css_kf_"+this._count++,Zt=this.buildKeyframeElement(c,Ot,l);(function(g){var c;const l=null===(c=g.getRootNode)||void 0===c?void 0:c.call(g);return"undefined"!=typeof ShadowRoot&&l instanceof ShadowRoot?l:document.head})(c).appendChild(Zt);const Tt=Ha(c,l),Yt=new lt(c,l,Ot,_,O,$,st,Tt);return Yt.onDestroy(()=>{var g;(g=Zt).parentNode.removeChild(g)}),Yt}}class aa{constructor(c,l,_,O){this.element=c,this.keyframes=l,this.options=_,this._specialStyles=O,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(c,l,_){return c.animate(l,_)}onStart(c){this._onStartFns.push(c)}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(l=>{"offset"!=l&&(c[l]=this._finished?this._finalKeyframe[l]:ba(this.element,l))}),this.currentSnapshot=c}triggerCallback(c){const l="start"==c?this._onStartFns:this._onDoneFns;l.forEach(_=>_()),l.length=0}}class ro{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(io().toString()),this._cssKeyframesDriver=new cr}validateStyleProperty(c){return bn(c)}matchesElement(c,l){return lr(c,l)}containsElement(c,l){return va(c,l)}query(c,l,_){return es(c,l,_)}computeStyle(c,l,_){return window.getComputedStyle(c)[l]}overrideWebAnimationsSupport(c){this._isNativeImpl=c}animate(c,l,_,O,$,se=[],ye){if(!ye&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(c,l,_,O,$,se);const st={duration:_,delay:O,fill:0==O?"both":"forwards"};$&&(st.easing=$);const Ot={},Zt=se.filter(Tt=>Tt instanceof aa);Qr(_,O)&&Zt.forEach(Tt=>{let Yt=Tt.currentSnapshot;Object.keys(Yt).forEach(Un=>Ot[Un]=Yt[Un])});const Sn=Ha(c,l=Bl(c,l=l.map(Tt=>ts(Tt,!1)),Ot));return new aa(c,l,st,Sn)}}function io(){return cn()&&Element.prototype.animate||{}}let Cc=(()=>{class g extends ut._j{constructor(l,_){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(_.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(l){const _=this._nextAnimationId.toString();this._nextAnimationId++;const O=Array.isArray(l)?(0,ut.vP)(l):l;return bc(this._renderer,null,_,"register",[O]),new ci(_,this._renderer)}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(m.FYo),m.LFG(B.K0))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})();class ci extends ut.LC{constructor(c,l){super(),this._id=c,this._renderer=l}create(c,l){return new Ga(this._id,c,l||{},this._renderer)}}class Ga{constructor(c,l,_,O){this.id=c,this.element=l,this._renderer=O,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",_)}_listen(c,l){return this._renderer.listen(this.element,`@@${this.id}:${c}`,l)}_command(c,...l){return bc(this._renderer,this.element,this.id,c,l)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){var c,l;return null!==(l=null===(c=this._renderer.engine.players[+this.id])||void 0===c?void 0:c.getPosition())&&void 0!==l?l:0}}function bc(g,c,l,_,O){return g.setProperty(c,`@@${l}:${_}`,O)}const la="@.disabled";let Wl=(()=>{class g{constructor(l,_,O){this.delegate=l,this.engine=_,this._zone=O,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),_.onRemovalComplete=($,se)=>{se&&se.parentNode($)&&se.removeChild($.parentNode,$)}}createRenderer(l,_){const $=this.delegate.createRenderer(l,_);if(!(l&&_&&_.data&&_.data.animation)){let st=this._rendererCache.get($);return st||(st=new Gl("",$,this.engine),this._rendererCache.set($,st)),st}const se=_.id,ye=_.id+"-"+this._currentId;this._currentId++,this.engine.register(ye,l);const Fe=st=>{Array.isArray(st)?st.forEach(Fe):this.engine.registerTrigger(se,ye,l,st.name,st)};return _.data.animation.forEach(Fe),new Il(this,ye,$,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(l,_,O){l>=0&&l<this._microtaskId?this._zone.run(()=>_(O)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach($=>{const[se,ye]=$;se(ye)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([_,O]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(m.FYo),m.LFG(Ni),m.LFG(m.R0b))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})();class Gl{constructor(c,l,_){this.namespaceId=c,this.delegate=l,this.engine=_,this.destroyNode=this.delegate.destroyNode?O=>l.destroyNode(O):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(c,l){return this.delegate.createElement(c,l)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,l){this.delegate.appendChild(c,l),this.engine.onInsert(this.namespaceId,l,c,!1)}insertBefore(c,l,_,O=!0){this.delegate.insertBefore(c,l,_),this.engine.onInsert(this.namespaceId,l,c,O)}removeChild(c,l,_){this.engine.onRemove(this.namespaceId,l,this.delegate,_)}selectRootElement(c,l){return this.delegate.selectRootElement(c,l)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,l,_,O){this.delegate.setAttribute(c,l,_,O)}removeAttribute(c,l,_){this.delegate.removeAttribute(c,l,_)}addClass(c,l){this.delegate.addClass(c,l)}removeClass(c,l){this.delegate.removeClass(c,l)}setStyle(c,l,_,O){this.delegate.setStyle(c,l,_,O)}removeStyle(c,l,_){this.delegate.removeStyle(c,l,_)}setProperty(c,l,_){"@"==l.charAt(0)&&l==la?this.disableAnimations(c,!!_):this.delegate.setProperty(c,l,_)}setValue(c,l){this.delegate.setValue(c,l)}listen(c,l,_){return this.delegate.listen(c,l,_)}disableAnimations(c,l){this.engine.disableAnimations(c,l)}}class Il extends Gl{constructor(c,l,_,O){super(l,_,O),this.factory=c,this.namespaceId=l}setProperty(c,l,_){"@"==l.charAt(0)?"."==l.charAt(1)&&l==la?this.disableAnimations(c,_=void 0===_||!!_):this.engine.process(this.namespaceId,c,l.substr(1),_):this.delegate.setProperty(c,l,_)}listen(c,l,_){if("@"==l.charAt(0)){const O=function(g){switch(g){case"body":return document.body;case"document":return document;case"window":return window;default:return g}}(c);let $=l.substr(1),se="";return"@"!=$.charAt(0)&&([$,se]=function(g){const c=g.indexOf(".");return[g.substring(0,c),g.substr(c+1)]}($)),this.engine.listen(this.namespaceId,O,$,se,ye=>{this.factory.scheduleListenerCallback(ye._data||-1,_,ye)})}return this.delegate.listen(c,l,_)}}let Ma=(()=>{class g extends Ni{constructor(l,_,O){super(l.body,_,O)}ngOnDestroy(){this.flush()}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(B.K0),m.LFG(po),m.LFG(z))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})();const wc=new m.OlP("AnimationModuleType"),Tl=[{provide:ut._j,useClass:Cc},{provide:z,useFactory:function(){return new we}},{provide:Ni,useClass:Ma},{provide:m.FYo,useFactory:function(g,c,l){return new Wl(g,c,l)},deps:[D.se,Ni,m.R0b]}],zl=[{provide:po,useFactory:function(){return"function"==typeof io()?new ro:new cr}},{provide:wc,useValue:"BrowserAnimations"},...Tl],Ic=[{provide:po,useClass:fo},{provide:wc,useValue:"NoopAnimations"},...Tl];let Kl=(()=>{class g{static withConfig(l){return{ngModule:g,providers:l.disableAnimations?Ic:zl}}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({providers:zl,imports:[D.b2]}),g})();var ks=L(3128);let Uo=(()=>{class g{get isAutharized(){return!1}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Bo=(()=>{class g{constructor(l,_){this.auth=l,this.router=_}canActivate(l,_){return this.auth.isAutharized||this.router.createUrlTree(["auth"])}canActivateChild(l,_){return this.canActivate(l,_)}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(Uo),m.LFG(ks.F0))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})();var Al=L(479);const Zl=function(){return["/"]};let lu=(()=>{class g{constructor(){}ngOnInit(){}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-authorize"]],decls:5,vars:2,consts:[[1,"auth-methods"],["size","lg",3,"linkTo"],["size","lg"]],template:function(l,_){1&l&&(m.TgZ(0,"div",0),m.TgZ(1,"ui-btn",1),m._uU(2,"Login"),m.qZA(),m.TgZ(3,"ui-btn",2),m._uU(4,"Authorize"),m.qZA(),m.qZA()),2&l&&(m.xp6(1),m.Q6J("linkTo",m.DdM(1,Zl)))},directives:[Al.r],styles:[".auth-methods[_ngcontent-%COMP%]{display:flex}.auth-methods[_ngcontent-%COMP%]{justify-content:center;align-items:center}[_nghost-%COMP%]{height:100%;display:block;grid-area:content}.auth-methods[_ngcontent-%COMP%]{height:100%}.auth-methods[_ngcontent-%COMP%] > ui-btn[_ngcontent-%COMP%]{margin:0 25px}"],changeDetection:0}),g})();var Dc=L(9112),ol=L(8914),cu=L(910),Yl=L(7519),al=L(2759);let ql=(()=>{class g{constructor(){this.resizes=new Map}getResize(l){var _;return this.resizes[l.nativeElement]=null!==(_=this.resizes[l.nativeElement])&&void 0!==_?_:(0,al.R)(window,"resize").pipe((0,oe.U)(this.getResizeInfo.bind(this,l)))}getResizeInfo(l){return{width:l.nativeElement.offsetWidth,height:l.nativeElement.offsetHeight}}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const Sl=["container"];let Nu=(()=>{class g{constructor(l,_){this.render=l,this.element=_,this.type=null}ngAfterViewInit(){const l=this.type.toLowerCase().replace(/ /g,"-");this.render.addClass(this.element.nativeElement,l)}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(m.Qsj),m.Y36(m.SBq))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-card-placeholder"]],viewQuery:function(l,_){if(1&l&&m.Gf(Sl,5),2&l){let O;m.iGM(O=m.CRH())&&(_.container=O.first)}},inputs:{type:"type"},decls:3,vars:0,consts:[[1,"preview"]],template:function(l,_){1&l&&(m._UZ(0,"div",0),m._UZ(1,"div",0),m._UZ(2,"div",0))},styles:[".coming-soon[_nghost-%COMP%], .popular[_nghost-%COMP%]{display:grid;align-items:stretch}.preview[_ngcontent-%COMP%]{border:none;border-radius:1em}.coming-soon[_nghost-%COMP%], .category[_nghost-%COMP%], .popular[_nghost-%COMP%], [_nghost-%COMP%]{scroll-snap-align:start}:first-child[_nghost-%COMP%]{scroll-snap-align:center}.coming-soon[_nghost-%COMP%], .popular[_nghost-%COMP%]{grid-template-rows:1fr 25px 25px;grid-gap:10px;gap:10px;height:100%}.popular[_nghost-%COMP%]{flex:1 0 250px;max-width:250px;margin-right:2em;height:500px}.category[_nghost-%COMP%]{flex:1 0 290px;max-width:290px;margin-right:2em;height:150px;display:block;position:relative}.category[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]:not(:first-child){display:none}.coming-soon[_nghost-%COMP%]{flex:1 0 330px;max-width:330px;margin-right:2em;height:500px}.preview[_ngcontent-%COMP%]{height:100%;background-image:linear-gradient(90deg,#152647 15%,#1a1538 45%,#152647 85%);background-size:800% 800%;animation:loadingBg 2s ease-in infinite}.preview[_ngcontent-%COMP%]:nth-child(2){width:90%}.preview[_ngcontent-%COMP%]:nth-child(3){width:40%}@keyframes loadingBg{0%{background-position:0% 50%}50%{background-position:50% 50%}to{background-position:100% 50%}}"],changeDetection:0}),g})(),$c=(()=>{class g{transform(l){return Array(l)}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275pipe=m.Yjl({name:"repeat",type:g,pure:!0}),g})();function Ql(g,c){1&g&&(m.TgZ(0,"div",8),m.TgZ(1,"ui-btn"),m._uU(2,"Show more"),m.qZA(),m.qZA())}function Jl(g,c){if(1&g){const l=m.EpF();m.TgZ(0,"div",6),m.NdJ("@showBlock.done",function(O){return m.CHM(l),m.oxw().showEnd(O)}),m.Hsn(1),m.YNc(2,Ql,3,0,"div",7),m.qZA()}if(2&g){const l=m.oxw(),_=m.MAs(8);m.Q6J("@showBlock",void 0),m.xp6(2),m.Q6J("ngIf",l.showMoreButtonLink)("ngIfElse",_)}}function Wc(g,c){if(1&g&&m._UZ(0,"app-card-placeholder",10),2&g){const l=m.oxw(2);m.Q6J("type",l.title)}}function ll(g,c){if(1&g&&(m.TgZ(0,"div",6),m.YNc(1,Wc,1,1,"app-card-placeholder",9),m.ALo(2,"repeat"),m.qZA()),2&g){const l=m.oxw();m.Q6J("@showBlock",void 0),m.xp6(1),m.Q6J("ngForOf",m.lcZ(2,2,l.numberOfFitElements))}}function jo(g,c){1&g&&m._UZ(0,"div",11)}const Oa=function(g){return{height:g}},cl=["*"];let uu=(()=>{class g{constructor(l,_,O){this.resize=l,this.cdRef=_,this.elementRef=O,this.isPreview=!1,this.innerHeight="auto",this.cardWidth=null,this.numberOfFitElements=0}ngAfterViewChecked(){const l=this.elementRef.nativeElement.querySelector(".height-wrapper > .inner > *:first-child");if(!l)return;const _=l.getBoundingClientRect().height,O=l.getBoundingClientRect().width;this.cardWidth!==O&&(this.cardWidth=O,this.updatePlaceholders(this.countElements(this.elementRef.nativeElement.offsetWidth))),0!==_&&this.innerHeight!==_+"px"&&(this.innerHeight=_+"px",this.cdRef.detectChanges())}ngAfterViewInit(){this.resizeSubsribtion$=this.resize.getResize(this.elementRef).pipe((0,oe.U)(({width:l})=>this.countElements(l)),(0,Yl.x)()).subscribe(this.updatePlaceholders.bind(this)),this.updatePlaceholders(this.countElements(this.elementRef.nativeElement.offsetWidth))}countElements(l){return Math.floor(l/(this.cardWidth?this.cardWidth+20:270))}updatePlaceholders(l){this.numberOfFitElements=l,this.cdRef.detectChanges()}ngOnDestroy(){this.resizeSubsribtion$.unsubscribe()}showEnd({element:l}){setTimeout(()=>{l.closest(".wrapper").scrollTo(0,0)},0)}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(ql),m.Y36(m.sBO),m.Y36(m.SBq))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-row-wrapp"]],inputs:{title:"title",showMoreButtonLink:"showMoreButtonLink",isPreview:"isPreview",data:"data"},ngContentSelectors:cl,decls:9,vars:6,consts:[[1,"title"],[1,"wrapper"],[1,"height-wrapper",3,"ngStyle"],["class","inner",4,"ngIf","ngIfElse"],["contentPreview",""],["lastGap",""],[1,"inner"],["class","more",4,"ngIf","ngIfElse"],[1,"more"],[3,"type",4,"ngFor","ngForOf"],[3,"type"],[1,"last-gap"]],template:function(l,_){if(1&l&&(m.F$t(),m.TgZ(0,"h2",0),m._uU(1),m.qZA(),m.TgZ(2,"div",1),m.TgZ(3,"div",2),m.YNc(4,Jl,3,3,"div",3),m.qZA(),m.qZA(),m.YNc(5,ll,3,4,"ng-template",null,4,m.W1O),m.YNc(7,jo,1,0,"ng-template",null,5,m.W1O)),2&l){const O=m.MAs(6);m.xp6(1),m.Oqu(_.title),m.xp6(2),m.Q6J("ngStyle",m.VKq(4,Oa,_.innerHeight)),m.xp6(1),m.Q6J("ngIf",!_.isPreview)("ngIfElse",O)}},directives:[B.PC,B.O5,Al.r,B.sg,Nu],pipes:[$c],styles:[".more[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex}.more[_ngcontent-%COMP%]{justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]{padding-right:-.5em}.wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:.5em;width:.5em}.wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{opacity:0}.wrapper[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:1em;opacity:.2}[_nghost-%COMP%]{flex-direction:column;width:100%;margin-bottom:4em;position:relative;z-index:2}.title[_ngcontent-%COMP%]{text-transform:capitalize;color:var(--theme-color-text);padding-left:.5em}.wrapper[_ngcontent-%COMP%]{padding-top:2em;padding-bottom:1em;overflow:auto hidden;scroll-snap-type:x mandatory}.inner[_ngcontent-%COMP%]{position:relative;flex-wrap:nowrap;padding-left:.5em}.more[_ngcontent-%COMP%]{padding:0 1em;flex:1 0 170px;max-width:250px}.last-gap[_ngcontent-%COMP%]{flex:1 0 1em}"],data:{animation:[(0,ut.X$)("showBlock",[(0,ut.eR)(":enter",[(0,ut.oB)({opacity:0}),(0,ut.jt)("0.3s 300ms",(0,ut.oB)({opacity:1}))]),(0,ut.eR)(":leave",[(0,ut.jt)("0.3s",(0,ut.oB)({opacity:0}))])])]},changeDetection:0}),g})();var Gc=L(7188);const Xl=function(g){return["../movies","categories",g]},ec=function(g){return{"background-image":g}};let xu=(()=>{class g{constructor(){this.category=null}get backgroundUrl(){return`linear-gradient(to top, rgba(0, 0, 0, .7) 10%, rgba(0, 0, 0, 0)), url(${this.category.coverUrl})`}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-movie-category-card"]],inputs:{category:"category"},decls:4,vars:7,consts:[[3,"routerLink"],[1,"cover",3,"ngStyle"],[1,"title"]],template:function(l,_){1&l&&(m.TgZ(0,"a",0),m.TgZ(1,"div",1),m.TgZ(2,"h3",2),m._uU(3),m.qZA(),m.qZA(),m.qZA()),2&l&&(m.Q6J("routerLink",m.VKq(3,Xl,_.category.id)),m.xp6(1),m.Q6J("ngStyle",m.VKq(5,ec,_.backgroundUrl)),m.xp6(2),m.Oqu(_.category.name))},directives:[ks.yS,B.PC],styles:[".cover[_ngcontent-%COMP%]{display:flex}.cover[_ngcontent-%COMP%]{justify-content:center;align-items:center}.cover[_ngcontent-%COMP%]{border:none;border-radius:1em}.cover[_ngcontent-%COMP%], [_nghost-%COMP%]{transition:all .2s ease-out}[_nghost-%COMP%]{scroll-snap-align:start}:first-child[_nghost-%COMP%]{scroll-snap-align:center}[_nghost-%COMP%]{display:block;position:relative;flex:1 0 290px;max-width:290px;margin-right:2em;height:150px}.cover[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background-size:cover;background-position:center}.cover[_ngcontent-%COMP%]:hover, .cover[_ngcontent-%COMP%]:focus{transform:scale(1.02);box-shadow:0 5px 30px 5px #00000080}.title[_ngcontent-%COMP%]{color:var(--theme-color-text);font-size:1.6em;font-weight:500}"],changeDetection:0}),g})();var ti=L(6962),ul=L(8248);let Tc=(()=>{class g{constructor(l){this.tmdb=l,this.movie=null}get date(){return this.movie?new Date(this.movie.comingDate).toLocaleDateString():""}get coverUrl(){if(!this.movie||!this.tmdb.config)return"";const{secure_base_url:l,poster_sizes:_}=this.tmdb.config.images;return`${l}${_[ti.w.w342]}${this.movie.coverUrl}`}ngOnInit(){}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(ol.o))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-coming-movie-card"]],inputs:{movie:"movie"},decls:14,vars:8,consts:[[1,"cover",3,"src","alt"],[1,"title-row"],[1,"title-wrapp"],[1,"title"],[1,"badge"],[1,"date"],[1,"duration"],["src","assets/icons/Clock_18x18.svg",1,"ui-icon","white"],[1,"time"]],template:function(l,_){1&l&&(m._UZ(0,"img",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"h3",3),m._uU(4),m.qZA(),m.qZA(),m.TgZ(5,"span",4),m._uU(6),m.ALo(7,"uppercase"),m.qZA(),m.TgZ(8,"span",5),m._uU(9),m.qZA(),m.qZA(),m.TgZ(10,"div",6),m._UZ(11,"svg-icon",7),m.TgZ(12,"span",8),m._uU(13),m.qZA(),m.qZA()),2&l&&(m.Q6J("src",_.coverUrl,m.LSH)("alt",_.movie.title),m.xp6(4),m.Oqu(_.movie.title),m.xp6(2),m.Oqu(m.lcZ(7,6,_.movie.pg)),m.xp6(3),m.Oqu(_.date),m.xp6(4),m.hij(" ",_.movie.duration," minute "))},directives:[ul.bk],pipes:[B.gd],styles:["[_nghost-%COMP%], .card-grid-container[_ngcontent-%COMP%]{display:grid;align-items:stretch}.duration[_ngcontent-%COMP%], .title-row[_ngcontent-%COMP%]{display:flex}.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{border:none;border-radius:1em}[_nghost-%COMP%], .cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{transition:all .2s ease-out}[_nghost-%COMP%]{scroll-snap-align:start}:first-child[_nghost-%COMP%]{scroll-snap-align:center}[_nghost-%COMP%], .card-grid-container[_ngcontent-%COMP%]{grid-template-rows:1fr 25px 25px;grid-gap:10px;gap:10px;height:100%}[_nghost-%COMP%]{flex:1 0 250px;max-width:250px;margin-right:2em;height:500px}.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;object-fit:cover;z-index:1}.cover[_ngcontent-%COMP%]:hover, .preview.duration[_ngcontent-%COMP%]:hover, .preview.title[_ngcontent-%COMP%]:hover, .cover[_ngcontent-%COMP%]:focus, .preview.duration[_ngcontent-%COMP%]:focus, .preview.title[_ngcontent-%COMP%]:focus{transform:scale(1.02);z-index:3;box-shadow:0 5px 30px 5px #00000080}.title[_ngcontent-%COMP%]{display:inline;font-size:1.4em;line-height:1.9em;font-weight:500}.title-row[_ngcontent-%COMP%]{color:var(--theme-color-text);align-items:baseline}.title-wrapp[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;max-width:210px;text-overflow:ellipsis}.duration[_ngcontent-%COMP%]{align-items:center;color:var(--theme-color-text);opacity:.5}.time[_ngcontent-%COMP%]{margin-left:5px;font-size:1.04em}.badge[_ngcontent-%COMP%]{border:1px solid var(--theme-color-text);color:var(--theme-color-text);font-weight:400;border-radius:.5em;padding:.2em .7em .15em;font-size:1.1em;margin-left:.5em;opacity:.5}.preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{display:inline-block}.preview.duration[_ngcontent-%COMP%]:last-child, .preview.title[_ngcontent-%COMP%]:last-child{margin-bottom:7px}.preview.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#152647 15%,#1a1538 45%,#152647 85%);background-size:800% 800%;animation:loadingBg 2s ease-in infinite}.preview.title[_ngcontent-%COMP%]{width:90%}.preview.duration[_ngcontent-%COMP%]{width:50%}@keyframes loadingBg{0%{background-position:0% 50%}50%{background-position:50% 50%}to{background-position:100% 50%}}[_nghost-%COMP%]{margin-right:2em;flex:1 1 330px;min-width:330px}.cover[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%]{height:430px}.title-wrapp[_ngcontent-%COMP%]{max-width:200px}.date[_ngcontent-%COMP%]{flex:1;text-align:right;font-size:1.3em;color:#daa520;font-weight:500}"],changeDetection:0}),g})();function Ac(g,c){1&g&&m._UZ(0,"app-movie-card",4),2&g&&m.Q6J("movie",c.$implicit)}function zc(g,c){1&g&&m._UZ(0,"app-movie-category-card",5),2&g&&m.Q6J("category",c.$implicit)}function Do(g,c){1&g&&m._UZ(0,"app-coming-movie-card",4),2&g&&m.Q6J("movie",c.$implicit)}const Fu=[{path:"",canActivate:[Bo],canActivateChild:[Bo],component:lu},{path:"auth",component:lu},{path:"home",component:(()=>{class g{constructor(l,_,O){this.cdRef=l,this.tmdb=_,this.db=O,this.movies=[],this.comingMovies=[],this.categories=[]}ngOnInit(){this.tmdb.getPopular().subscribe(l=>{this.movies=l.results,this.cdRef.detectChanges()}),(0,Dc.aj)([this.tmdb.getGenres(),this.db.getCategoryBackdrop()]).pipe((0,oe.U)(([l,_])=>l.map(O=>Object.assign(Object.assign({},O),{coverUrl:_[O.id]?this.tmdb.getImagePath(_[O.id]):""})))).subscribe(l=>{console.log(l),this.categories=l,this.cdRef.detectChanges()}),this.tmdb.getUpcoming().subscribe(({results:l})=>{this.comingMovies=l,this.cdRef.detectChanges()})}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(m.sBO),m.Y36(ol.o),m.Y36(cu.k))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-home"]],decls:6,vars:10,consts:[[3,"title","showMoreButtonLink","isPreview"],[3,"movie",4,"ngFor","ngForOf"],[3,"title","isPreview"],[3,"category",4,"ngFor","ngForOf"],[3,"movie"],[3,"category"]],template:function(l,_){1&l&&(m.TgZ(0,"app-row-wrapp",0),m.YNc(1,Ac,1,1,"app-movie-card",1),m.qZA(),m.TgZ(2,"app-row-wrapp",2),m.YNc(3,zc,1,1,"app-movie-category-card",3),m.qZA(),m.TgZ(4,"app-row-wrapp",2),m.YNc(5,Do,1,1,"app-coming-movie-card",1),m.qZA()),2&l&&(m.Q6J("title","popular")("showMoreButtonLink","test")("isPreview",!_.movies.length),m.xp6(1),m.Q6J("ngForOf",_.movies),m.xp6(1),m.Q6J("title","category")("isPreview",!_.comingMovies.length),m.xp6(1),m.Q6J("ngForOf",_.categories),m.xp6(1),m.Q6J("title","Coming Soon")("isPreview",!_.categories.length),m.xp6(1),m.Q6J("ngForOf",_.comingMovies))},directives:[uu,B.sg,Gc.h,xu,Tc],styles:["[_nghost-%COMP%]{padding-right:-.5em}[_nghost-%COMP%]::-webkit-scrollbar{height:.5em;width:.5em}[_nghost-%COMP%]::-webkit-scrollbar-track{background:transparent}[_nghost-%COMP%]::-webkit-scrollbar-thumb{opacity:0}:hover[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:1em;opacity:.2}[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:1em;opacity:.2}[_nghost-%COMP%]{padding-top:4em;position:relative;display:block;height:100%;overflow-y:auto;grid-area:content;-webkit-mask-image:linear-gradient(to bottom,rgba(0,0,0,0) 20px,black 60px);mask-image:linear-gradient(to bottom,rgba(0,0,0,0) 20px,black 60px)}"],changeDetection:0}),g})()},{path:"movies",loadChildren:()=>L.e(609).then(L.bind(L,4609)).then(g=>g.MoviesModule)}];let Sc=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({providers:[Bo],imports:[[ks.Bz.forRoot(Fu)],ks.Bz]}),g})();var Lu=L(2570),Vu=L(5140);const Uu=["scroll"];function du(g,c){if(1&g&&(m.TgZ(0,"div",6),m._UZ(1,"img",7),m.qZA()),2&g){const l=m.oxw();m.Q6J("@fade",void 0),m.xp6(1),m.Q6J("src",l.imageUrl,m.LSH)}}function Pl(g,c){if(1&g&&m._UZ(0,"img",8),2&g){const l=c.index,_=m.oxw();m.ekj("active",l===_.activeImageIndex),m.Q6J("src",_.getImagePath(l),m.LSH),m.uIk("data-index",l)}}let hu=(()=>{class g{constructor(l,_,O){this.gallery=l,this.cdRef=_,this.tmdb=O,this.open=!1,this.backdropState="hide",this.isGallery=!1,this.prevIndex=0}get display(){return this.open?"block":"none"}get imageUrl(){return this.tmdb.getImagePath(this.images[this.activeImageIndex],ti.w.original)}getImagePath(l){return this.tmdb.getImagePath(this.images[l],ti.w.original)}chooseImage(l){const _=l;!_.classList.contains("cover-min")||(this.activeImageIndex=+_.dataset.index,this.scrollWrapp.nativeElement.style.willChange="scroll-position",_.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"}),setTimeout(()=>{this.scrollWrapp.nativeElement.style.willChange="unset"},200))}closeGallery(l){!l.classList.contains("backdrop")||(this.gallery.close(),this.backdropState="hide")}onBackdropEnd({toState:l}){"hide"===l&&(this.open=!1)}ngOnInit(){this.gallery.state.subscribe(l=>{console.log(l),l.open?(this.open=l.open,this.backdropState="show"):this.backdropState="hide",this.activeImageIndex=l.activeImageIndex,this.isGallery=l.isGallery,this.cdRef.detectChanges()}),this.gallery.images.subscribe(l=>{this.images=l,this.cdRef.detectChanges()})}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(Vu.r),m.Y36(m.sBO),m.Y36(ol.o))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-gallery"]],viewQuery:function(l,_){if(1&l&&m.Gf(Uu,5),2&l){let O;m.iGM(O=m.CRH())&&(_.scrollWrapp=O.first)}},hostVars:2,hostBindings:function(l,_){2&l&&m.Udp("display",_.display)},decls:6,vars:3,consts:[[1,"backdrop",3,"click"],["class","cover-wrapp",4,"ngIf"],[1,"gallery"],["scroll",""],[1,"gallery-scroll",3,"click"],["class","cover-min",3,"src","active",4,"ngFor","ngForOf"],[1,"cover-wrapp"],[1,"cover",3,"src"],[1,"cover-min",3,"src"]],template:function(l,_){1&l&&(m.TgZ(0,"div",0),m.NdJ("@backdrop.done",function($){return _.onBackdropEnd($)})("click",function($){return _.closeGallery($.target)}),m.YNc(1,du,2,2,"div",1),m.TgZ(2,"div",2,3),m.TgZ(4,"div",4),m.NdJ("click",function($){return _.chooseImage($.target)}),m.YNc(5,Pl,1,4,"img",5),m.qZA(),m.qZA(),m.qZA()),2&l&&(m.Q6J("@backdrop",_.backdropState),m.xp6(1),m.Q6J("ngIf",_.images),m.xp6(4),m.Q6J("ngForOf",_.images))},directives:[B.O5,B.sg],styles:['.backdrop[_ngcontent-%COMP%]{display:grid;align-items:stretch}.cover-wrapp[_ngcontent-%COMP%], .gallery-scroll[_ngcontent-%COMP%]{display:flex}.cover-wrapp[_ngcontent-%COMP%]{justify-content:center;align-items:center}.cover[_ngcontent-%COMP%], .cover-min[_ngcontent-%COMP%]{transition:all .2s ease-out}.gallery[_ngcontent-%COMP%]{max-width:80%;min-width:20%;height:120px;z-index:100;overflow:hidden;margin-right:1.5em;margin-bottom:1.5em;border-radius:2em}.gallery-scroll[_ngcontent-%COMP%]{height:inherit;flex-wrap:nowrap}.cover-min[_ngcontent-%COMP%]{cursor:pointer;flex:0 0 auto;width:calc(80% / 5);height:inherit;object-fit:cover;margin-right:1.5em;border-radius:2em}.active.cover-min[_ngcontent-%COMP%]{border:2px solid var(--light)}[_nghost-%COMP%]{display:none;width:100%;height:100%;position:absolute;z-index:1000}.backdrop[_ngcontent-%COMP%]{padding:3em;grid-template-areas:"cover cover cover" ". gallery .";grid-template-columns:1fr calc(min(90em,100vw) - 6em) 1fr;grid-template-rows:calc(85vh - 5.5em) calc(15vh - 3em);grid-row-gap:2.5em;row-gap:2.5em;justify-items:center;width:inherit;height:inherit;background-color:#0009}.cover[_ngcontent-%COMP%]{display:block;border-radius:2em;max-width:100%;max-height:100%}.cover-wrapp[_ngcontent-%COMP%]{grid-area:cover}.cover-min[_ngcontent-%COMP%]{opacity:1}.cover-min.active[_ngcontent-%COMP%]{opacity:1}.gallery[_ngcontent-%COMP%]{grid-area:gallery;max-width:none;margin:0}'],data:{animation:[(0,ut.X$)("backdrop",[(0,ut.SB)("show",(0,ut.oB)({opacity:1})),(0,ut.SB)("hide",(0,ut.oB)({opacity:0})),(0,ut.eR)("hide <=> show",[(0,ut.jt)("0.4s ease-out")])]),(0,ut.X$)("fade",[(0,ut.eR)(":enter",[(0,ut.oB)({opacity:0}),(0,ut.jt)(200,(0,ut.oB)({opacity:1}))]),(0,ut.eR)(":leave",[(0,ut.oB)({opacity:1}),(0,ut.jt)(200,(0,ut.oB)({opacity:0}))])])]},changeDetection:0}),g})();var xi=(()=>{return(g=xi||(xi={}))[g.Light=0]="Light",g[g.Dark=1]="Dark",xi;var g})(),fu=L(6215);let so=(()=>{class g{constructor(l){this.document=l,this.currentTheme=xi.Light,this.theme=new fu.X(window.matchMedia("(prefers-color-scheme: dark)").matches?xi.Dark:xi.Light),this.changeThemeTo(window.matchMedia("(prefers-color-scheme: dark)").matches?xi.Dark:xi.Light)}changeThemeTo(l){if(this.currentTheme===l)return;const _=!!l;this.document.documentElement.style.setProperty("--theme-color-text",`var(--${_?"light":"dark"})`),this.document.documentElement.style.setProperty("--theme-color-bg",`var(--${_?"dark":"light"})`),this.document.documentElement.style.setProperty("--theme-color-bg-inversed",`var(--${_?"dark":"light"}-inversed)`),this.document.documentElement.style.setProperty("--theme-accent",`var(--accent${_?"-lighten":""})`),this.document.documentElement.style.setProperty("--theme-blue",`var(--${_?"blue":"accent"})`),this.document.documentElement.style.setProperty("--theme-blue-lighten",`var(--${_?"blue":"accent"}-lighten)`),this.currentTheme=l,this.theme.next(l)}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(B.K0))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),za=(()=>{class g{constructor(){}ngOnInit(){}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-user-info"]],decls:7,vars:0,consts:[[1,"col"],["src","https://www.freepngimg.com/thumb/facebook/62681-flat-icons-face-computer-design-avatar-icon.png","alt","",1,"avatar"],[1,"username"],[1,"note"]],template:function(l,_){1&l&&(m.TgZ(0,"div",0),m._UZ(1,"img",1),m.qZA(),m.TgZ(2,"div",0),m.TgZ(3,"h4",2),m._uU(4,"Hi, Username First"),m.qZA(),m.TgZ(5,"span",3),m._uU(6,"How do you feel today?"),m.qZA(),m.qZA())},styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]{width:100%;align-items:center}[_nghost-%COMP%]   .col[_ngcontent-%COMP%]:first-child{width:45px}[_nghost-%COMP%]   .col[_ngcontent-%COMP%]:last-child{width:auto;padding-left:1em;line-height:1.7em;color:var(--theme-color-text)}.avatar[_ngcontent-%COMP%]{width:100%;border-radius:50%}.username[_ngcontent-%COMP%]{font-weight:600}.note[_ngcontent-%COMP%]{opacity:.8;font-size:.95em}"],changeDetection:0}),g})();var Pc=L(4628);function Mc(g,c){1&g&&m._UZ(0,"ui-icon",3),2&g&&m.Q6J("btnIcon",!0)}let Kc=(()=>{class g{constructor(){this.type="text",this.placeholder="text"}ngOnInit(){}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275cmp=m.Xpm({type:g,selectors:[["ui-input"]],inputs:{type:"type",placeholder:"placeholder"},decls:3,vars:3,consts:[[1,"wrapper","ui-item"],["name","search","class","search-icon",3,"btnIcon",4,"ngIf"],[1,"inp",3,"type","placeholder"],["name","search",1,"search-icon",3,"btnIcon"]],template:function(l,_){1&l&&(m.TgZ(0,"div",0),m.YNc(1,Mc,1,1,"ui-icon",1),m._UZ(2,"input",2),m.qZA()),2&l&&(m.xp6(1),m.Q6J("ngIf","search"===_.type),m.xp6(1),m.Q6J("type",_.type)("placeholder",_.placeholder))},directives:[B.O5,Pc.o],styles:[".wrapper[_ngcontent-%COMP%]{display:flex}.wrapper[_ngcontent-%COMP%]{align-items:center;padding:0 1.15em;width:100%;height:100%}.wrapper[_ngcontent-%COMP%]:focus, .wrapper[_ngcontent-%COMP%]:focus-visible   .wrapper[_ngcontent-%COMP%]:active{background-color:var(--theme-blue)}.search-icon.btn-icon[_ngcontent-%COMP%]{margin-right:1em}.inp[_ngcontent-%COMP%]{height:100%;width:100%;padding-top:0;padding-bottom:0;margin:0;background:transparent;border:none;color:var(--light)}.inp[_ngcontent-%COMP%]:focus{outline:none}"],changeDetection:0}),g})(),Bu=(()=>{class g{constructor(l,_){this.cdRef=l,this.theme=_,this.isAuthorized=!0,this.themeValue=xi.Light}ngOnInit(){this.themeSub=this.theme.theme.subscribe(l=>{this.themeValue=l})}ngOnDestroy(){this.themeSub.unsubscribe()}setTheme(l){this.theme.changeThemeTo(l?xi.Dark:xi.Light)}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(m.sBO),m.Y36(so))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-header"]],decls:7,vars:0,consts:[[1,"user-block"],[1,"side-block"],["type","search","placeholder","What movie do you want to watch?",1,"search"],["icon","bell"]],template:function(l,_){1&l&&(m.TgZ(0,"div",0),m._UZ(1,"app-user-info"),m.qZA(),m.TgZ(2,"div",1),m._UZ(3,"ui-input",2),m._UZ(4,"ui-btn",3),m.TgZ(5,"ui-btn"),m._uU(6,"Dark mode"),m.qZA(),m.qZA())},directives:[za,Kc,Al.r],styles:[".side-block[_ngcontent-%COMP%], .container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex}[_nghost-%COMP%]{transition:all .2s ease-out}[_nghost-%COMP%]{width:100%;position:relative;justify-content:space-between;align-items:center;padding-right:3em;z-index:100}.container[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.side-block[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:10px}.side-block[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:300px}  app-header .side-block ui-button{height:100%}"],changeDetection:0}),g})();const dd=function(){return["home"]},ju=function(){return["popular"]},Zc=function(){return["series"]},pu=function(){return["movies"]},ca=function(){return["profile"]};let gu=(()=>{class g{constructor(){}ngOnInit(){}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-nav"]],decls:19,vars:24,consts:[[1,"nav"],[1,"nav-list"],[1,"nav-link"],["icon","home",1,"btn-nav",3,"linkTo"],["icon","fire",1,"btn-nav",3,"linkTo"],["icon","clapperboard",1,"btn-nav",3,"linkTo"],["icon","video",1,"btn-nav",3,"linkTo"],["icon","user",1,"btn-nav",3,"linkTo"],["icon","gear",1,"btn-nav",3,"linkTo"]],template:function(l,_){1&l&&(m.TgZ(0,"nav",0),m.TgZ(1,"ul",1),m.TgZ(2,"li",2),m.TgZ(3,"ui-btn",3),m._uU(4," Home "),m.qZA(),m.qZA(),m.TgZ(5,"li",2),m.TgZ(6,"ui-btn",4),m._uU(7," Popular "),m.qZA(),m.qZA(),m.TgZ(8,"li",2),m.TgZ(9,"ui-btn",5),m._uU(10," TV Series "),m.qZA(),m.qZA(),m.TgZ(11,"li",2),m.TgZ(12,"ui-btn",6),m._uU(13," Movies "),m.qZA(),m.qZA(),m.TgZ(14,"li",2),m.TgZ(15,"ui-btn",7),m._uU(16," Profile "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(17,"ui-btn",8),m._uU(18," Settings "),m.qZA(),m.qZA()),2&l&&(m.xp6(3),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(18,dd)),m.xp6(3),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(19,ju)),m.xp6(3),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(20,Zc)),m.xp6(3),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(21,pu)),m.xp6(3),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(22,ca)),m.xp6(2),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(23,ca)))},directives:[Al.r],styles:[".nav[_ngcontent-%COMP%]{display:flex}.nav[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]{padding:4em 0 5em}.transparent[_nghost-%COMP%]   .nav[_ngcontent-%COMP%]{background-color:var(--theme-nav-bg-alpha)}.nav[_ngcontent-%COMP%]{justify-content:space-between;background-color:var(--theme-nav-bg);border-radius:1em;padding:1em 0;height:100%}.nav-list[_ngcontent-%COMP%]{text-align:center;list-style:none}.nav-link[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1em}.nav[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{width:100%}.nav[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0}"],changeDetection:0}),g})();function Hu(g,c){if(1&g){const l=m.EpF();m.TgZ(0,"img",4),m.NdJ("load",function(){return m.CHM(l),m.oxw().bgLoaded=!0}),m.qZA()}if(2&g){const l=m.oxw();m.Udp("opacity",l.bgLoaded?"1":"0"),m.Q6J("src",l.bgImageSrc,m.LSH)("@fade",void 0)}}let Oc=(()=>{class g{constructor(l,_,O){this.cdRef=l,this.bgImage=_,this.tmdb=O,this._bgUrl=null,this.bgLoaded=!1,this.tmdb.getConfig()}get bgImageSrc(){return this._bgUrl}set bgImageSrc(l){this._bgUrl=l,l||(this.bgLoaded=!1)}ngOnInit(){this.bgImage.imageUrl.subscribe(l=>{this.bgImageSrc=l,this.cdRef.detectChanges()})}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(m.sBO),m.Y36(Lu.n),m.Y36(ol.o))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-root"]],decls:6,vars:2,consts:[[1,"bg-wrapp"],[3,"ngClass"],[1,"view"],["class","bg-image",3,"src","opacity","load",4,"ngIf"],[1,"bg-image",3,"src","load"]],template:function(l,_){1&l&&(m._UZ(0,"app-gallery"),m.TgZ(1,"div",0),m._UZ(2,"app-header"),m._UZ(3,"app-nav",1),m._UZ(4,"router-outlet",2),m.qZA(),m.YNc(5,Hu,1,4,"img",3)),2&l&&(m.xp6(3),m.Q6J("ngClass",_.bgImageSrc?"transparent":""),m.xp6(2),m.Q6J("ngIf",_.bgImageSrc))},directives:[hu,Bu,gu,B.mk,ks.lC,B.O5],styles:['.bg-wrapp[_ngcontent-%COMP%]{display:grid;align-items:stretch}.bg-image[_ngcontent-%COMP%]{transition:all .2s ease-out}.bg-wrapp[_ngcontent-%COMP%]{position:relative;z-index:1;grid-template-rows:5em 1fr;grid-template-columns:90px 1fr;grid-template-areas:"header header" "nav content";grid-column-gap:5em;column-gap:5em;height:100vh;background-color:var(--theme-body-bg-alpha);-webkit-backdrop-filter:blur(.7em);backdrop-filter:blur(.7em);padding:3em 0 0 3em}.bg-wrapp[_ngcontent-%COMP%] > app-header[_ngcontent-%COMP%]{grid-area:header}.bg-wrapp[_ngcontent-%COMP%] > app-nav[_ngcontent-%COMP%]{grid-area:nav}.bg-wrapp[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{display:none}.bg-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;z-index:0;opacity:0;object-fit:cover}'],data:{animation:[(0,ut.X$)("fade",[(0,ut.eR)(":leave",[(0,ut.jt)("0.5s ease",(0,ut.oB)({opacity:0}))])])]},changeDetection:0}),g})();var Ml=L(5173),To=L(1841),$u=L(3190);const Yc=/([a-z0-9A-Z]\.)*[a-z0-9-]+\.([a-z0-9]{2,24})+(\.co\.([a-z0-9]{2,24})|\.([a-z0-9]{2,24}))*/;let hl=(()=>{class g{constructor(l,_){this.tmdb=l,this.http=_}intercept(l,_){return!(g=>{const c=g.match(Yc);return!!c&&"api.themoviedb.org"===c[0]})(l.url)||this.tmdb.config||(g=>-1!==g.search("configuration"))(l.url)?_.handle(l):this.tmdb.getConfig().pipe((0,$u.w)(()=>_.handle(l)))}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(ol.o),m.LFG(To.eN))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})(),tc=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({providers:[{provide:To.TP,useClass:hl,multi:!0}],imports:[[]]}),g})();var qc=L(2340),Hr=L(8747);let mu=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({imports:[[B.ez,Hr.hO.initializeApp(qc.N.firebase)],Hr.hO]}),g})(),Nc=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g,bootstrap:[Oc]}),g.\u0275inj=m.cJS({imports:[[B.ez,Kl,K,To.JF,tc,Sc,Ml.m,mu]]}),g})();qc.N.production&&(0,m.G48)(),D.q6().bootstrapModule(Nc).catch(g=>console.error(g))},3394:(ft,Pe,L)=>{"use strict";L.d(Pe,{Z:()=>je});var D=L(3854),m=L(3910),B=L(8026),Ee=L(5422);class de{constructor(Me,Te){this._delegate=Me,this.firebase=Te,(0,B._addComponent)(Me,new m.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Me,Te=B._DEFAULT_ENTRY_NAME){var $e;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(Me);return!Ge.isInitialized()&&"EXPLICIT"===(null===($e=Ge.getComponent())||void 0===$e?void 0:$e.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Te})}_removeServiceInstance(Me,Te=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(Te)}_addComponent(Me){(0,B._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,B._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new D.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ie(){const Ue=function(Ue){const Me={},Te={__esModule:!0,initializeApp:function(ht,pt={}){const Y=B.initializeApp(ht,pt);if((0,D.r3)(Me,Y.name))return Me[Y.name];const mt=new Ue(Y,Te);return Me[Y.name]=mt,mt},app:Ge,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function(ht){const pt=ht.name,Y=pt.replace("-compat","");if(B._registerComponent(ht)&&"PUBLIC"===ht.type){const mt=(Wt=Ge())=>{if("function"!=typeof Wt[Y])throw oe.create("invalid-app-argument",{appName:pt});return Wt[Y]()};void 0!==ht.serviceProps&&(0,D.ZB)(mt,ht.serviceProps),Te[Y]=mt,Ue.prototype[Y]=function(...Wt){return this._getService.bind(this,pt).apply(this,ht.multipleInstances?Wt:[])}}return"PUBLIC"===ht.type?Te[Y]:null},removeApp:function(ht){delete Me[ht]},useAsService:function(ht,pt){return"serverAuth"===pt?null:pt},modularAPIs:B}};function Ge(ht){if(!(0,D.r3)(Me,ht=ht||B._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:ht});return Me[ht]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function(){return Object.keys(Me).map(ht=>Me[ht])}}),Ge.App=Ue,Te}(de);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:ie,extendNamespace:function(Te){(0,D.ZB)(Ue,Te)},createSubscribe:D.ne,ErrorFactory:D.LL,deepExtend:D.ZB}),Ue}(),J=new Ee.Yd("@firebase/app-compat");if((0,D.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=q;(0,B.registerVersion)("@firebase/app-compat","0.1.12",undefined)},8026:(ft,Pe,L)=>{"use strict";L.r(Pe),L.d(Pe,{FirebaseError:()=>Ee.ZR,SDK_VERSION:()=>Dr,_DEFAULT_ENTRY_NAME:()=>$n,_addComponent:()=>Ir,_addOrOverwriteComponent:()=>ri,_apps:()=>yn,_clearComponents:()=>Wn,_components:()=>an,_getProvider:()=>En,_registerComponent:()=>vr,_removeServiceInstance:()=>ii,deleteApp:()=>Tr,getApp:()=>Mr,getApps:()=>rt,initializeApp:()=>On,onLog:()=>Xt,registerVersion:()=>vt,setLogLevel:()=>jt});var D=L(8239),m=L(3910),B=L(5422),Ee=L(3854);class de{constructor(ce){this.container=ce}getPlatformInfoString(){return this.container.getProviders().map(he=>{if(function(ke){const ce=ke.getComponent();return"VERSION"===(null==ce?void 0:ce.type)}(he)){const qe=he.getImmediate();return`${qe.library}/${qe.version}`}return null}).filter(he=>he).join(" ")}}const oe="@firebase/app",ie=new B.Yd("@firebase/app"),$n="[DEFAULT]",Zn={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,an=new Map;function Ir(ke,ce){try{ke.container.addComponent(ce)}catch(he){ie.debug(`Component ${ce.name} failed to register with FirebaseApp ${ke.name}`,he)}}function ri(ke,ce){ke.container.addOrOverwriteComponent(ce)}function vr(ke){const ce=ke.name;if(an.has(ce))return ie.debug(`There were multiple attempts to register component ${ce}.`),!1;an.set(ce,ke);for(const he of yn.values())Ir(he,ke);return!0}function En(ke,ce){return ke.container.getProvider(ce)}function ii(ke,ce,he=$n){En(ke,ce).clearInstance(he)}function Wn(){an.clear()}const qt=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Mn{constructor(ce,he,qe){this._isDeleted=!1,this._options=Object.assign({},ce),this._config=Object.assign({},he),this._name=he.name,this._automaticDataCollectionEnabled=he.automaticDataCollectionEnabled,this._container=qe,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ce){this._isDeleted=ce}checkDestroyed(){if(this.isDeleted)throw qt.create("app-deleted",{appName:this._name})}}const Dr="9.6.1";function On(ke,ce={}){"object"!=typeof ce&&(ce={name:ce});const he=Object.assign({name:$n,automaticDataCollectionEnabled:!1},ce),qe=he.name;if("string"!=typeof qe||!qe)throw qt.create("bad-app-name",{appName:String(qe)});const at=yn.get(qe);if(at){if((0,Ee.vZ)(ke,at.options)&&(0,Ee.vZ)(he,at.config))return at;throw qt.create("duplicate-app",{appName:qe})}const yt=new m.H0(qe);for(const Ct of an.values())yt.addComponent(Ct);const nt=new Mn(ke,he,yt);return yn.set(qe,nt),nt}function Mr(ke=$n){const ce=yn.get(ke);if(!ce)throw qt.create("no-app",{appName:ke});return ce}function rt(){return Array.from(yn.values())}function Tr(ke){return rn.apply(this,arguments)}function rn(){return(rn=(0,D.Z)(function*(ke){const ce=ke.name;yn.has(ce)&&(yn.delete(ce),yield Promise.all(ke.container.getProviders().map(he=>he.delete())),ke.isDeleted=!0)})).apply(this,arguments)}function vt(ke,ce,he){var qe;let at=null!==(qe=Zn[ke])&&void 0!==qe?qe:ke;he&&(at+=`-${he}`);const yt=at.match(/\s|\//),nt=ce.match(/\s|\//);if(yt||nt){const Ct=[`Unable to register library "${at}" with version "${ce}":`];return yt&&Ct.push(`library name "${at}" contains illegal characters (whitespace or "/")`),yt&&nt&&Ct.push("and"),nt&&Ct.push(`version name "${ce}" contains illegal characters (whitespace or "/")`),void ie.warn(Ct.join(" "))}vr(new m.wA(`${at}-version`,()=>({library:at,version:ce}),"VERSION"))}function Xt(ke,ce){if(null!==ke&&"function"!=typeof ke)throw qt.create("invalid-log-argument");(0,B.Am)(ke,ce)}function jt(ke){(0,B.Ub)(ke)}vr(new m.wA("platform-logger",ce=>new de(ce),"PRIVATE")),vt(oe,"0.7.11",""),vt(oe,"0.7.11","esm2017"),vt("fire-js","")},3910:(ft,Pe,L)=>{"use strict";L.d(Pe,{wA:()=>B,H0:()=>ee,zt:()=>de});var D=L(8239),m=L(3854);class B{constructor(q,J,G){this.name=q,this.instanceFactory=J,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const Ee="[DEFAULT]";class de{constructor(q,J){this.name=q,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const J=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(J)){const G=new m.BH;if(this.instancesDeferred.set(J,G),this.isInitialized(J)||this.shouldAutoInitialize())try{const fe=this.getOrInitializeService({instanceIdentifier:J});fe&&G.resolve(fe)}catch(fe){}}return this.instancesDeferred.get(J).promise}getImmediate(q){var J;const G=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),fe=null!==(J=null==q?void 0:q.optional)&&void 0!==J&&J;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(xe){if(fe)return null;throw xe}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if("EAGER"===q.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Ee})}catch(J){}for(const[J,G]of this.instancesDeferred.entries()){const fe=this.normalizeInstanceIdentifier(J);try{const xe=this.getOrInitializeService({instanceIdentifier:fe});G.resolve(xe)}catch(xe){}}}}clearInstance(q=Ee){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,D.Z)(function*(){const J=Array.from(q.instances.values());yield Promise.all([...J.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...J.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=Ee){return this.instances.has(q)}getOptions(q=Ee){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:J={}}=q,G=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const fe=this.getOrInitializeService({instanceIdentifier:G,options:J});for(const[xe,je]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(xe)&&je.resolve(fe);return fe}onInit(q,J){var G;const fe=this.normalizeInstanceIdentifier(J),xe=null!==(G=this.onInitCallbacks.get(fe))&&void 0!==G?G:new Set;xe.add(q),this.onInitCallbacks.set(fe,xe);const je=this.instances.get(fe);return je&&q(je,fe),()=>{xe.delete(q)}}invokeOnInitCallbacks(q,J){const G=this.onInitCallbacks.get(J);if(G)for(const fe of G)try{fe(q,J)}catch(xe){}}getOrInitializeService({instanceIdentifier:q,options:J={}}){let G=this.instances.get(q);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(ie=q,ie===Ee?void 0:ie),options:J}),this.instances.set(q,G),this.instancesOptions.set(q,J),this.invokeOnInitCallbacks(G,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,G)}catch(fe){}var ie;return G||null}normalizeInstanceIdentifier(q=Ee){return this.component?this.component.multipleInstances?q:Ee:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const J=this.getProvider(q.name);if(J.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);J.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const J=new de(q,this);return this.providers.set(q,J),J}getProviders(){return Array.from(this.providers.values())}}},5422:(ft,Pe,L)=>{"use strict";L.d(Pe,{in:()=>m,Yd:()=>oe,Ub:()=>ee,Am:()=>ie});const D=[];var m=(()=>{return(q=m||(m={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",m;var q})();const B={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},Ee=m.INFO,de={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},X=(q,J,...G)=>{if(J<q.logLevel)return;const fe=(new Date).toISOString(),xe=de[J];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[xe](`[${fe}]  ${q.name}:`,...G)};class oe{constructor(J){this.name=J,this._logLevel=Ee,this._logHandler=X,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in m))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?B[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...J),this._logHandler(this,m.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...J),this._logHandler(this,m.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,m.INFO,...J),this._logHandler(this,m.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,m.WARN,...J),this._logHandler(this,m.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...J),this._logHandler(this,m.ERROR,...J)}}function ee(q){D.forEach(J=>{J.setLogLevel(q)})}function ie(q,J){for(const G of D){let fe=null;J&&J.level&&(fe=B[J.level]),G.userLogHandler=null===q?null:(xe,je,...Ue)=>{const Me=Ue.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch($e){return null}}).filter(Te=>Te).join(" ");je>=(null!=fe?fe:xe.logLevel)&&q({level:m[je].toLowerCase(),message:Me,args:Ue,type:xe.name})}}}},8248:(ft,Pe,L)=>{"use strict";L.d(Pe,{_J:()=>Ge,bk:()=>$e});var D=L(7716),m=L(8583),B=L(5917),Ee=L(205),de=L(8002),X=L(3342),oe=L(5304),ee=L(8939),ie=L(8819),q=L(1841);const J=["*"];class G{}let fe=(()=>{class Ae extends G{constructor(Oe){super(),this.http=Oe}getSvg(Oe){return this.http.get(Oe,{responseType:"text"})}}return Ae.\u0275fac=function(Oe){return new(Oe||Ae)(D.LFG(q.eN))},Ae.\u0275prov=D.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const xe=new D.OlP("SERVER_URL");let je=(()=>{class Ae{constructor(Oe,Qe,ht,pt){this.loader=Oe,this.platformId=Qe,this.serverUrl=ht,this._document=pt,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(Oe,Qe){if(!this.iconsByUrl.has(Oe)){const ht=this.document.createElement("DIV");ht.innerHTML=Qe;const pt=ht.querySelector("svg");this.iconsByUrl.set(Oe,pt)}}loadSvg(Oe,Qe=Oe){if(this.serverUrl&&null===Oe.match(/^(http(s)?):/)&&(Qe=Oe=this.serverUrl+Oe),this.iconsByUrl.has(Qe))return(0,B.of)(this.iconsByUrl.get(Qe));if(this.iconsLoadingByUrl.has(Qe))return this.iconsLoadingByUrl.get(Qe);const ht=this.loader.getSvg(Oe).pipe((0,de.U)(pt=>{const Y=this.document.createElement("DIV");return Y.innerHTML=pt,Y.querySelector("svg")}),(0,X.b)(pt=>this.iconsByUrl.set(Qe,pt)),(0,oe.K)(pt=>(console.error(pt),(0,Ee._)(pt))),(0,ee.x)(()=>this.iconsLoadingByUrl.delete(Qe)),(0,ie.B)());return this.iconsLoadingByUrl.set(Qe,ht),ht}getSvgByName(Oe){return this.iconsByUrl.has(Oe)?(0,B.of)(this.iconsByUrl.get(Oe)):this.iconsLoadingByUrl.has(Oe)?this.iconsLoadingByUrl.get(Oe):(0,Ee._)(`No svg with name '${Oe}' has been loaded`)}unloadSvg(Oe){this.iconsByUrl.has(Oe)&&this.iconsByUrl.delete(Oe)}}return Ae.\u0275fac=function(Oe){return new(Oe||Ae)(D.LFG(G),D.LFG(D.Lbi),D.LFG(xe,8),D.LFG(m.K0,8))},Ae.\u0275prov=D.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const Me={provide:je,deps:[[new D.FiY,new D.tp0,je],G,[D.Lbi],[new D.FiY,xe],[new D.FiY,m.K0]],useFactory:function(Ae,Ve,Oe,Qe,ht){return Ae||new je(Ve,Oe,Qe,ht)}};class Te{constructor(){this.loaded=!1}}let $e=(()=>{class Ae{constructor(Oe,Qe,ht,pt,Y){this.element=Oe,this.differs=Qe,this.renderer=ht,this.iconReg=pt,this.cdr=Y,this.stretch=!1,this.applyClass=!1,this.applyCss=!1,this.helper=new Te,this._svgStyle=null}set svgStyle(Oe){this._svgStyle=Oe,!this.helper.differ&&Oe&&(this.helper.differ=this.differs.find(Oe).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(Oe){const Qe=this.element.nativeElement.firstChild;(Oe.src||Oe.name)&&(this.helper.loaded&&this.destroy(),this.init()),Oe.stretch&&this.stylize(),Oe.applyClass&&(this.applyClass?this.setClass(Qe,null,this.klass):this.setClass(Qe,this.klass,null)),Oe.svgClass&&this.setClass(Qe,Oe.svgClass.previousValue,Oe.svgClass.currentValue),Oe.klass&&(this.setClass(this.element.nativeElement,Oe.klass.previousValue,Oe.klass.currentValue),this.setClass(Qe,Oe.klass.previousValue,this.applyClass?Oe.klass.currentValue:null)),Oe.viewBox&&(this.helper.loaded&&this.destroy(),this.init()),Oe.applyCss&&(console.warn("applyCss deprecated since 9.1.0, will be removed in 10.0.0"),console.warn("use applyClass instead")),Oe.svgAriaLabel&&this.doAria(Oe.svgAriaLabel.currentValue)}ngDoCheck(){if(this.helper.svg&&this.helper.differ){const Oe=this.helper.differ.diff(this._svgStyle);Oe&&this.applyChanges(Oe)}}init(){if(this.name){const Oe=this.iconReg.getSvgByName(this.name);Oe&&(this.helper.icnSub=Oe.subscribe(Qe=>this.initSvg(Qe)))}else if(this.src){const Oe=this.iconReg.loadSvg(this.src);Oe&&(this.helper.icnSub=Oe.subscribe(Qe=>this.initSvg(Qe)))}else this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}initSvg(Oe){!this.helper.loaded&&Oe&&(this.setSvg(Oe),this.resetDiffer())}destroy(){this.helper.icnSub&&this.helper.icnSub.unsubscribe(),this.helper=new Te}resetDiffer(){this._svgStyle&&!this.helper.differ&&(this.helper.differ=this.differs.find(this._svgStyle).create())}setSvg(Oe){if(!this.helper.loaded&&Oe){this.helper.svg=Oe;const Qe=Oe.cloneNode(!0),ht=this.element.nativeElement;if(ht.innerHTML="",this.renderer.appendChild(ht,Qe),this.helper.loaded=!0,this.copyNgContentAttribute(ht,Qe),this.klass&&this.applyClass&&this.setClass(ht.firstChild,null,this.klass),this.svgClass&&this.setClass(ht.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){const pt=Qe.getAttribute("width"),Y=Qe.getAttribute("height");Y&&pt&&(this.renderer.setAttribute(Qe,"viewBox",`0 0 ${pt} ${Y}`),this.renderer.removeAttribute(Qe,"width"),this.renderer.removeAttribute(Qe,"height"))}else""!==this.viewBox&&(this.renderer.setAttribute(Qe,"viewBox",this.viewBox),this.renderer.removeAttribute(Qe,"width"),this.renderer.removeAttribute(Qe,"height"));this.stylize(),void 0===this.svgAriaLabel&&ht.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}}copyNgContentAttribute(Oe,Qe){const ht=Oe.attributes,pt=ht.length;for(let Y=0;Y<pt;Y+=1){const mt=ht.item(Y);if(mt&&mt.name.startsWith("_ngcontent")){this.setNgContentAttribute(Qe,mt.name);break}}}setNgContentAttribute(Oe,Qe){this.renderer.setAttribute(Oe,Qe,"");const ht=Oe.childNodes.length;for(let pt=0;pt<ht;pt+=1){const Y=Oe.childNodes[pt];Y instanceof Element&&this.setNgContentAttribute(Y,Qe)}}stylize(){if(this.helper.svg){const Oe=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(Oe,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(Oe,"preserveAspectRatio")}}applyChanges(Oe){Oe.forEachRemovedItem(Qe=>this.setStyle(Qe.key,null)),Oe.forEachAddedItem(Qe=>this.setStyle(Qe.key,Qe.currentValue)),Oe.forEachChangedItem(Qe=>this.setStyle(Qe.key,Qe.currentValue))}setStyle(Oe,Qe){const[ht,pt]=Oe.split("."),Y=this.element.nativeElement.firstChild;null!==(Qe=null!==Qe&&pt?`${Qe}${pt}`:Qe)?this.renderer.setStyle(Y,ht,Qe):this.renderer.removeStyle(Y,ht)}setClass(Oe,Qe,ht){if(Oe){if(Qe){const pt=(Array.isArray(Qe)?Qe:Qe.split(" ")).filter(Y=>Y);for(const Y of pt)this.renderer.removeClass(Oe,Y)}if(ht){const pt=(Array.isArray(ht)?ht:ht.split(" ")).filter(Y=>Y);for(const Y of pt)this.renderer.addClass(Oe,Y)}}}doAria(Oe){const Qe=this.element.nativeElement.firstChild;Qe&&(""===Oe?(this.renderer.setAttribute(Qe,"aria-hidden","true"),this.renderer.removeAttribute(Qe,"aria-label")):(this.renderer.removeAttribute(Qe,"aria-hidden"),this.renderer.setAttribute(Qe,"aria-label",Oe)))}}return Ae.\u0275fac=function(Oe){return new(Oe||Ae)(D.Y36(D.SBq),D.Y36(D.aQg),D.Y36(D.Qsj),D.Y36(je),D.Y36(D.sBO))},Ae.\u0275cmp=D.Xpm({type:Ae,selectors:[["svg-icon"]],inputs:{src:"src",name:"name",stretch:"stretch",applyClass:"applyClass",applyCss:"applyCss",svgClass:"svgClass",klass:["class","klass"],viewBox:"viewBox",svgAriaLabel:"svgAriaLabel",svgStyle:"svgStyle"},features:[D.TTD],ngContentSelectors:J,decls:1,vars:0,template:function(Oe,Qe){1&Oe&&(D.F$t(),D.Hsn(0))},encapsulation:2}),Ae})(),Ge=(()=>{class Ae{static forRoot(Oe={}){return{ngModule:Ae,providers:[Me,Oe.loader||{provide:G,useClass:fe}]}}}return Ae.\u0275fac=function(Oe){return new(Oe||Ae)},Ae.\u0275mod=D.oAB({type:Ae}),Ae.\u0275inj=D.cJS({imports:[[m.ez]]}),Ae})()},8239:(ft,Pe,L)=>{"use strict";function D(B,Ee,de,X,oe,ee,ie){try{var q=B[ee](ie),J=q.value}catch(G){return void de(G)}q.done?Ee(J):Promise.resolve(J).then(X,oe)}function m(B){return function(){var Ee=this,de=arguments;return new Promise(function(X,oe){var ee=B.apply(Ee,de);function ie(J){D(ee,X,oe,ie,q,"next",J)}function q(J){D(ee,X,oe,ie,q,"throw",J)}ie(void 0)})}}L.d(Pe,{Z:()=>m})}},ft=>{ft(ft.s=5850)}]);