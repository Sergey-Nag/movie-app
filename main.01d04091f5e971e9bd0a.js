(self.webpackChunkmovies_app=self.webpackChunkmovies_app||[]).push([[179],{8255:ft=>{function Me(L){return Promise.resolve().then(()=>{var D=new Error("Cannot find module '"+L+"'");throw D.code="MODULE_NOT_FOUND",D})}Me.keys=()=>[],Me.resolve=Me,Me.id=8255,ft.exports=Me},7238:(ft,Me,L)=>{"use strict";L.d(Me,{l3:()=>B,_j:()=>D,LC:()=>m,ZN:()=>Ae,jt:()=>de,vP:()=>se,SB:()=>ie,oB:()=>ee,eR:()=>J,X$:()=>Ee,ZE:()=>He,k1:()=>ze});class D{}class m{}const B="*";function Ee(Se,Be){return{type:7,name:Se,definitions:Be,options:{}}}function de(Se,Be=null){return{type:4,styles:Be,timings:Se}}function se(Se,Be=null){return{type:2,steps:Se,options:Be}}function ee(Se){return{type:6,styles:Se,offset:null}}function ie(Se,Be,Oe){return{type:0,name:Se,styles:Be,options:Oe}}function J(Se,Be,Oe=null){return{type:1,expr:Se,animation:Be,options:Oe}}function Re(Se){Promise.resolve(null).then(Se)}class Ae{constructor(Be=0,Oe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Be+Oe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Be=>Be()),this._onDoneFns=[])}onStart(Be){this._onStartFns.push(Be)}onDone(Be){this._onDoneFns.push(Be)}onDestroy(Be){this._onDestroyFns.push(Be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Re(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Be=>Be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Be=>Be()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Be){this._position=this.totalTime?Be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Be){const Oe="start"==Be?this._onStartFns:this._onDoneFns;Oe.forEach(Je=>Je()),Oe.length=0}}class He{constructor(Be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Be;let Oe=0,Je=0,dt=0;const pt=this.players.length;0==pt?Re(()=>this._onFinish()):this.players.forEach(Z=>{Z.onDone(()=>{++Oe==pt&&this._onFinish()}),Z.onDestroy(()=>{++Je==pt&&this._onDestroy()}),Z.onStart(()=>{++dt==pt&&this._onStart()})}),this.totalTime=this.players.reduce((Z,mt)=>Math.max(Z,mt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Be=>Be()),this._onDoneFns=[])}init(){this.players.forEach(Be=>Be.init())}onStart(Be){this._onStartFns.push(Be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Be=>Be()),this._onStartFns=[])}onDone(Be){this._onDoneFns.push(Be)}onDestroy(Be){this._onDestroyFns.push(Be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Be=>Be.play())}pause(){this.players.forEach(Be=>Be.pause())}restart(){this.players.forEach(Be=>Be.restart())}finish(){this._onFinish(),this.players.forEach(Be=>Be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Be=>Be.destroy()),this._onDestroyFns.forEach(Be=>Be()),this._onDestroyFns=[])}reset(){this.players.forEach(Be=>Be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Be){const Oe=Be*this.totalTime;this.players.forEach(Je=>{const dt=Je.totalTime?Math.min(1,Oe/Je.totalTime):1;Je.setPosition(dt)})}getPosition(){const Be=this.players.reduce((Oe,Je)=>null===Oe||Je.totalTime>Oe.totalTime?Je:Oe,null);return null!=Be?Be.getPosition():0}beforeDestroy(){this.players.forEach(Be=>{Be.beforeDestroy&&Be.beforeDestroy()})}triggerCallback(Be){const Oe="start"==Be?this._onStartFns:this._onDoneFns;Oe.forEach(Je=>Je()),Oe.length=0}}const ze="!"},8583:(ft,Me,L)=>{"use strict";L.d(Me,{mr:()=>He,ez:()=>Vr,H9:()=>Dr,K0:()=>se,uU:()=>Hn,Do:()=>Se,V_:()=>Y,Ye:()=>Be,S$:()=>Re,mk:()=>Nt,sg:()=>zt,O5:()=>ls,PC:()=>Hs,tP:()=>Ji,b0:()=>ze,lw:()=>ee,gd:()=>vi,EM:()=>Mi,JF:()=>es,PM:()=>Yo,w_:()=>X,bD:()=>Ws,q:()=>B,Mx:()=>Xe,HT:()=>de});var D=L(7716);let m=null;function B(){return m}function de(O){m||(m=O)}class X{}const se=new D.OlP("DocumentToken");let ee=(()=>{class O{historyGo(x){throw new Error("Not implemented")}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=(0,D.Yz7)({factory:ie,token:O,providedIn:"platform"}),O})();function ie(){return(0,D.LFG)(J)}const Y=new D.OlP("Location Initialized");let J=(()=>{class O extends ee{constructor(x){super(),this._doc=x,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(x){const z=B().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",x,!1),()=>z.removeEventListener("popstate",x)}onHashChange(x){const z=B().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",x,!1),()=>z.removeEventListener("hashchange",x)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(x){this.location.pathname=x}pushState(x,z,fe){Q()?this._history.pushState(x,z,fe):this.location.hash=fe}replaceState(x,z,fe){Q()?this._history.replaceState(x,z,fe):this.location.hash=fe}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return O.\u0275fac=function(x){return new(x||O)(D.LFG(se))},O.\u0275prov=(0,D.Yz7)({factory:me,token:O,providedIn:"platform"}),O})();function Q(){return!!window.history.pushState}function me(){return new J((0,D.LFG)(se))}function Ie(O,W){if(0==O.length)return W;if(0==W.length)return O;let x=0;return O.endsWith("/")&&x++,W.startsWith("/")&&x++,2==x?O+W.substring(1):1==x?O+W:O+"/"+W}function Le(O){const W=O.match(/#|\?|$/),x=W&&W.index||O.length;return O.slice(0,x-("/"===O[x-1]?1:0))+O.slice(x)}function Ve(O){return O&&"?"!==O[0]?"?"+O:O}let Re=(()=>{class O{historyGo(x){throw new Error("Not implemented")}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=(0,D.Yz7)({factory:Ae,token:O,providedIn:"root"}),O})();function Ae(O){const W=(0,D.LFG)(se).location;return new ze((0,D.LFG)(ee),W&&W.origin||"")}const He=new D.OlP("appBaseHref");let ze=(()=>{class O extends Re{constructor(x,z){if(super(),this._platformLocation=x,this._removeListenerFns=[],null==z&&(z=this._platformLocation.getBaseHrefFromDOM()),null==z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return Ie(this._baseHref,x)}path(x=!1){const z=this._platformLocation.pathname+Ve(this._platformLocation.search),fe=this._platformLocation.hash;return fe&&x?`${z}${fe}`:z}pushState(x,z,fe,Ye){const lt=this.prepareExternalUrl(fe+Ve(Ye));this._platformLocation.pushState(x,z,lt)}replaceState(x,z,fe,Ye){const lt=this.prepareExternalUrl(fe+Ve(Ye));this._platformLocation.replaceState(x,z,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var z,fe;null===(fe=(z=this._platformLocation).historyGo)||void 0===fe||fe.call(z,x)}}return O.\u0275fac=function(x){return new(x||O)(D.LFG(ee),D.LFG(He,8))},O.\u0275prov=D.Yz7({token:O,factory:O.\u0275fac}),O})(),Se=(()=>{class O extends Re{constructor(x,z){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(x){const z=Ie(this._baseHref,x);return z.length>0?"#"+z:z}pushState(x,z,fe,Ye){let lt=this.prepareExternalUrl(fe+Ve(Ye));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.pushState(x,z,lt)}replaceState(x,z,fe,Ye){let lt=this.prepareExternalUrl(fe+Ve(Ye));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.replaceState(x,z,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var z,fe;null===(fe=(z=this._platformLocation).historyGo)||void 0===fe||fe.call(z,x)}}return O.\u0275fac=function(x){return new(x||O)(D.LFG(ee),D.LFG(He,8))},O.\u0275prov=D.Yz7({token:O,factory:O.\u0275fac}),O})(),Be=(()=>{class O{constructor(x,z){this._subject=new D.vpe,this._urlChangeListeners=[],this._platformStrategy=x;const fe=this._platformStrategy.getBaseHref();this._platformLocation=z,this._baseHref=Le(dt(fe)),this._platformStrategy.onPopState(Ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ye.state,type:Ye.type})})}path(x=!1){return this.normalize(this._platformStrategy.path(x))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(x,z=""){return this.path()==this.normalize(x+Ve(z))}normalize(x){return O.stripTrailingSlash(function(O,W){return O&&W.startsWith(O)?W.substring(O.length):W}(this._baseHref,dt(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._platformStrategy.prepareExternalUrl(x)}go(x,z="",fe=null){this._platformStrategy.pushState(fe,"",x,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ve(z)),fe)}replaceState(x,z="",fe=null){this._platformStrategy.replaceState(fe,"",x,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ve(z)),fe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(x=0){var z,fe;null===(fe=(z=this._platformStrategy).historyGo)||void 0===fe||fe.call(z,x)}onUrlChange(x){this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)}))}_notifyUrlChangeListeners(x="",z){this._urlChangeListeners.forEach(fe=>fe(x,z))}subscribe(x,z,fe){return this._subject.subscribe({next:x,error:z,complete:fe})}}return O.\u0275fac=function(x){return new(x||O)(D.LFG(Re),D.LFG(ee))},O.normalizeQueryParams=Ve,O.joinWithSlash=Ie,O.stripTrailingSlash=Le,O.\u0275prov=(0,D.Yz7)({factory:Oe,token:O,providedIn:"root"}),O})();function Oe(){return new Be((0,D.LFG)(Re),(0,D.LFG)(ee))}function dt(O){return O.replace(/\/index.html$/,"")}const pt={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Z=(()=>((Z=Z||{})[Z.Decimal=0]="Decimal",Z[Z.Percent=1]="Percent",Z[Z.Currency=2]="Currency",Z[Z.Scientific=3]="Scientific",Z))(),mt=(()=>((mt=mt||{})[mt.Zero=0]="Zero",mt[mt.One=1]="One",mt[mt.Two=2]="Two",mt[mt.Few=3]="Few",mt[mt.Many=4]="Many",mt[mt.Other=5]="Other",mt))(),Wt=(()=>((Wt=Wt||{})[Wt.Format=0]="Format",Wt[Wt.Standalone=1]="Standalone",Wt))(),Ft=(()=>((Ft=Ft||{})[Ft.Narrow=0]="Narrow",Ft[Ft.Abbreviated=1]="Abbreviated",Ft[Ft.Wide=2]="Wide",Ft[Ft.Short=3]="Short",Ft))(),en=(()=>((en=en||{})[en.Short=0]="Short",en[en.Medium=1]="Medium",en[en.Long=2]="Long",en[en.Full=3]="Full",en))(),bt=(()=>((bt=bt||{})[bt.Decimal=0]="Decimal",bt[bt.Group=1]="Group",bt[bt.List=2]="List",bt[bt.PercentSign=3]="PercentSign",bt[bt.PlusSign=4]="PlusSign",bt[bt.MinusSign=5]="MinusSign",bt[bt.Exponential=6]="Exponential",bt[bt.SuperscriptingExponent=7]="SuperscriptingExponent",bt[bt.PerMille=8]="PerMille",bt[bt.Infinity=9]="Infinity",bt[bt.NaN=10]="NaN",bt[bt.TimeSeparator=11]="TimeSeparator",bt[bt.CurrencyDecimal=12]="CurrencyDecimal",bt[bt.CurrencyGroup=13]="CurrencyGroup",bt))();function _r(O,W){return Jt((0,D.cg1)(O)[D.wAp.DateFormat],W)}function bn(O,W){return Jt((0,D.cg1)(O)[D.wAp.TimeFormat],W)}function ni(O,W){return Jt((0,D.cg1)(O)[D.wAp.DateTimeFormat],W)}function Wn(O,W){const x=(0,D.cg1)(O),z=x[D.wAp.NumberSymbols][W];if(void 0===z){if(W===bt.CurrencyDecimal)return x[D.wAp.NumberSymbols][bt.Decimal];if(W===bt.CurrencyGroup)return x[D.wAp.NumberSymbols][bt.Group]}return z}const Sr=D.kL8;function rt(O){if(!O[D.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[D.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Jt(O,W){for(let x=W;x>-1;x--)if(void 0!==O[x])return O[x];throw new Error("Locale data API: locale data undefined")}function jt(O){const[W,x]=O.split(":");return{hours:+W,minutes:+x}}const he=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qe={},ot=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.ShortGMT=1]="ShortGMT",yt[yt.Long=2]="Long",yt[yt.Extended=3]="Extended",yt))(),nt=(()=>((nt=nt||{})[nt.FullYear=0]="FullYear",nt[nt.Month=1]="Month",nt[nt.Date=2]="Date",nt[nt.Hours=3]="Hours",nt[nt.Minutes=4]="Minutes",nt[nt.Seconds=5]="Seconds",nt[nt.FractionalSeconds=6]="FractionalSeconds",nt[nt.Day=7]="Day",nt))(),Ct=(()=>((Ct=Ct||{})[Ct.DayPeriods=0]="DayPeriods",Ct[Ct.Days=1]="Days",Ct[Ct.Months=2]="Months",Ct[Ct.Eras=3]="Eras",Ct))();function gn(O,W,x,z){let fe=function(O){if(Vi(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[fe,Ye=1,lt=1]=O.split("-").map(Pt=>+Pt);return tr(fe,Ye-1,lt)}const x=parseFloat(O);if(!isNaN(O-x))return new Date(x);let z;if(z=O.match(he))return function(O){const W=new Date(0);let x=0,z=0;const fe=O[8]?W.setUTCFullYear:W.setFullYear,Ye=O[8]?W.setUTCHours:W.setHours;O[9]&&(x=Number(O[9]+O[10]),z=Number(O[9]+O[11])),fe.call(W,Number(O[1]),Number(O[2])-1,Number(O[3]));const lt=Number(O[4]||0)-x,Pt=Number(O[5]||0)-z,ct=Number(O[6]||0),un=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return Ye.call(W,lt,Pt,ct,un),W}(z)}const W=new Date(O);if(!Vi(W))throw new Error(`Unable to convert "${O}" into a date`);return W}(O);W=Cn(x,W)||W;let Pt,lt=[];for(;W;){if(Pt=ot.exec(W),!Pt){lt.push(W);break}{lt=lt.concat(Pt.slice(1));const Pn=lt.pop();if(!Pn)break;W=Pn}}let ct=fe.getTimezoneOffset();z&&(ct=ri(z,ct),fe=function(O,W,x){const fe=O.getTimezoneOffset();return function(O,W){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+W),O}(O,-1*(ri(W,fe)-fe))}(fe,z));let un="";return lt.forEach(Pn=>{const $t=function(O){if(cn[O])return cn[O];let W;switch(O){case"G":case"GG":case"GGG":W=Ce(Ct.Eras,Ft.Abbreviated);break;case"GGGG":W=Ce(Ct.Eras,Ft.Wide);break;case"GGGGG":W=Ce(Ct.Eras,Ft.Narrow);break;case"y":W=ge(nt.FullYear,1,0,!1,!0);break;case"yy":W=ge(nt.FullYear,2,0,!0,!0);break;case"yyy":W=ge(nt.FullYear,3,0,!1,!0);break;case"yyyy":W=ge(nt.FullYear,4,0,!1,!0);break;case"Y":W=Ht(1);break;case"YY":W=Ht(2,!0);break;case"YYY":W=Ht(3);break;case"YYYY":W=Ht(4);break;case"M":case"L":W=ge(nt.Month,1,1);break;case"MM":case"LL":W=ge(nt.Month,2,1);break;case"MMM":W=Ce(Ct.Months,Ft.Abbreviated);break;case"MMMM":W=Ce(Ct.Months,Ft.Wide);break;case"MMMMM":W=Ce(Ct.Months,Ft.Narrow);break;case"LLL":W=Ce(Ct.Months,Ft.Abbreviated,Wt.Standalone);break;case"LLLL":W=Ce(Ct.Months,Ft.Wide,Wt.Standalone);break;case"LLLLL":W=Ce(Ct.Months,Ft.Narrow,Wt.Standalone);break;case"w":W=Gn(1);break;case"ww":W=Gn(2);break;case"W":W=Gn(1,!0);break;case"d":W=ge(nt.Date,1);break;case"dd":W=ge(nt.Date,2);break;case"c":case"cc":W=ge(nt.Day,1);break;case"ccc":W=Ce(Ct.Days,Ft.Abbreviated,Wt.Standalone);break;case"cccc":W=Ce(Ct.Days,Ft.Wide,Wt.Standalone);break;case"ccccc":W=Ce(Ct.Days,Ft.Narrow,Wt.Standalone);break;case"cccccc":W=Ce(Ct.Days,Ft.Short,Wt.Standalone);break;case"E":case"EE":case"EEE":W=Ce(Ct.Days,Ft.Abbreviated);break;case"EEEE":W=Ce(Ct.Days,Ft.Wide);break;case"EEEEE":W=Ce(Ct.Days,Ft.Narrow);break;case"EEEEEE":W=Ce(Ct.Days,Ft.Short);break;case"a":case"aa":case"aaa":W=Ce(Ct.DayPeriods,Ft.Abbreviated);break;case"aaaa":W=Ce(Ct.DayPeriods,Ft.Wide);break;case"aaaaa":W=Ce(Ct.DayPeriods,Ft.Narrow);break;case"b":case"bb":case"bbb":W=Ce(Ct.DayPeriods,Ft.Abbreviated,Wt.Standalone,!0);break;case"bbbb":W=Ce(Ct.DayPeriods,Ft.Wide,Wt.Standalone,!0);break;case"bbbbb":W=Ce(Ct.DayPeriods,Ft.Narrow,Wt.Standalone,!0);break;case"B":case"BB":case"BBB":W=Ce(Ct.DayPeriods,Ft.Abbreviated,Wt.Format,!0);break;case"BBBB":W=Ce(Ct.DayPeriods,Ft.Wide,Wt.Format,!0);break;case"BBBBB":W=Ce(Ct.DayPeriods,Ft.Narrow,Wt.Format,!0);break;case"h":W=ge(nt.Hours,1,-12);break;case"hh":W=ge(nt.Hours,2,-12);break;case"H":W=ge(nt.Hours,1);break;case"HH":W=ge(nt.Hours,2);break;case"m":W=ge(nt.Minutes,1);break;case"mm":W=ge(nt.Minutes,2);break;case"s":W=ge(nt.Seconds,1);break;case"ss":W=ge(nt.Seconds,2);break;case"S":W=ge(nt.FractionalSeconds,1);break;case"SS":W=ge(nt.FractionalSeconds,2);break;case"SSS":W=ge(nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":W=Ue(yt.Short);break;case"ZZZZZ":W=Ue(yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":W=Ue(yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":W=Ue(yt.Long);break;default:return null}return cn[O]=W,W}(Pn);un+=$t?$t(fe,x,ct):"''"===Pn?"'":Pn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),un}function tr(O,W,x){const z=new Date(0);return z.setFullYear(O,W,x),z.setHours(0,0,0),z}function Cn(O,W){const x=function(O){return(0,D.cg1)(O)[D.wAp.LocaleId]}(O);if(Qe[x]=Qe[x]||{},Qe[x][W])return Qe[x][W];let z="";switch(W){case"shortDate":z=_r(O,en.Short);break;case"mediumDate":z=_r(O,en.Medium);break;case"longDate":z=_r(O,en.Long);break;case"fullDate":z=_r(O,en.Full);break;case"shortTime":z=bn(O,en.Short);break;case"mediumTime":z=bn(O,en.Medium);break;case"longTime":z=bn(O,en.Long);break;case"fullTime":z=bn(O,en.Full);break;case"short":const fe=Cn(O,"shortTime"),Ye=Cn(O,"shortDate");z=Tt(ni(O,en.Short),[fe,Ye]);break;case"medium":const lt=Cn(O,"mediumTime"),Pt=Cn(O,"mediumDate");z=Tt(ni(O,en.Medium),[lt,Pt]);break;case"long":const ct=Cn(O,"longTime"),un=Cn(O,"longDate");z=Tt(ni(O,en.Long),[ct,un]);break;case"full":const Pn=Cn(O,"fullTime"),$t=Cn(O,"fullDate");z=Tt(ni(O,en.Full),[Pn,$t])}return z&&(Qe[x][W]=z),z}function Tt(O,W){return W&&(O=O.replace(/\{([^}]+)}/g,function(x,z){return null!=W&&z in W?W[z]:x})),O}function Bn(O,W,x="-",z,fe){let Ye="";(O<0||fe&&O<=0)&&(fe?O=1-O:(O=-O,Ye=x));let lt=String(O);for(;lt.length<W;)lt="0"+lt;return z&&(lt=lt.substr(lt.length-W)),Ye+lt}function ge(O,W,x=0,z=!1,fe=!1){return function(Ye,lt){let Pt=function(O,W){switch(O){case nt.FullYear:return W.getFullYear();case nt.Month:return W.getMonth();case nt.Date:return W.getDate();case nt.Hours:return W.getHours();case nt.Minutes:return W.getMinutes();case nt.Seconds:return W.getSeconds();case nt.FractionalSeconds:return W.getMilliseconds();case nt.Day:return W.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,Ye);if((x>0||Pt>-x)&&(Pt+=x),O===nt.Hours)0===Pt&&-12===x&&(Pt=12);else if(O===nt.FractionalSeconds)return function(O,W){return Bn(O,3).substr(0,W)}(Pt,W);const ct=Wn(lt,bt.MinusSign);return Bn(Pt,W,ct,z,fe)}}function Ce(O,W,x=Wt.Format,z=!1){return function(fe,Ye){return function(O,W,x,z,fe,Ye){switch(x){case Ct.Months:return function(O,W,x){const z=(0,D.cg1)(O),Ye=Jt([z[D.wAp.MonthsFormat],z[D.wAp.MonthsStandalone]],W);return Jt(Ye,x)}(W,fe,z)[O.getMonth()];case Ct.Days:return function(O,W,x){const z=(0,D.cg1)(O),Ye=Jt([z[D.wAp.DaysFormat],z[D.wAp.DaysStandalone]],W);return Jt(Ye,x)}(W,fe,z)[O.getDay()];case Ct.DayPeriods:const lt=O.getHours(),Pt=O.getMinutes();if(Ye){const un=function(O){const W=(0,D.cg1)(O);return rt(W),(W[D.wAp.ExtraData][2]||[]).map(z=>"string"==typeof z?jt(z):[jt(z[0]),jt(z[1])])}(W),Pn=function(O,W,x){const z=(0,D.cg1)(O);rt(z);const Ye=Jt([z[D.wAp.ExtraData][0],z[D.wAp.ExtraData][1]],W)||[];return Jt(Ye,x)||[]}(W,fe,z),$t=un.findIndex(Nn=>{if(Array.isArray(Nn)){const[zn,fr]=Nn,ji=lt>=zn.hours&&Pt>=zn.minutes,yn=lt<fr.hours||lt===fr.hours&&Pt<fr.minutes;if(zn.hours<fr.hours){if(ji&&yn)return!0}else if(ji||yn)return!0}else if(Nn.hours===lt&&Nn.minutes===Pt)return!0;return!1});if(-1!==$t)return Pn[$t]}return function(O,W,x){const z=(0,D.cg1)(O),Ye=Jt([z[D.wAp.DayPeriodsFormat],z[D.wAp.DayPeriodsStandalone]],W);return Jt(Ye,x)}(W,fe,z)[lt<12?0:1];case Ct.Eras:return function(O,W){return Jt((0,D.cg1)(O)[D.wAp.Eras],W)}(W,z)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${x}`)}}(fe,Ye,O,W,x,z)}}function Ue(O){return function(W,x,z){const fe=-1*z,Ye=Wn(x,bt.MinusSign),lt=fe>0?Math.floor(fe/60):Math.ceil(fe/60);switch(O){case yt.Short:return(fe>=0?"+":"")+Bn(lt,2,Ye)+Bn(Math.abs(fe%60),2,Ye);case yt.ShortGMT:return"GMT"+(fe>=0?"+":"")+Bn(lt,1,Ye);case yt.Long:return"GMT"+(fe>=0?"+":"")+Bn(lt,2,Ye)+":"+Bn(Math.abs(fe%60),2,Ye);case yt.Extended:return 0===z?"Z":(fe>=0?"+":"")+Bn(lt,2,Ye)+":"+Bn(Math.abs(fe%60),2,Ye);default:throw new Error(`Unknown zone width "${O}"`)}}}function ir(O){return tr(O.getFullYear(),O.getMonth(),O.getDate()+(4-O.getDay()))}function Gn(O,W=!1){return function(x,z){let fe;if(W){const Ye=new Date(x.getFullYear(),x.getMonth(),1).getDay()-1,lt=x.getDate();fe=1+Math.floor((lt+Ye)/7)}else{const Ye=ir(x),lt=function(O){const W=tr(O,0,1).getDay();return tr(O,0,1+(W<=4?4:11)-W)}(Ye.getFullYear()),Pt=Ye.getTime()-lt.getTime();fe=1+Math.round(Pt/6048e5)}return Bn(fe,O,Wn(z,bt.MinusSign))}}function Ht(O,W=!1){return function(x,z){return Bn(ir(x).getFullYear(),O,Wn(z,bt.MinusSign),W)}}const cn={};function ri(O,W){O=O.replace(/:/g,"");const x=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(x)?W:x}function Vi(O){return O instanceof Date&&!isNaN(O.valueOf())}const yr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Lr(O,W,x,z,fe){const lt=function(O,W="-"){const x={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},z=O.split(";"),fe=z[0],Ye=z[1],lt=-1!==fe.indexOf(".")?fe.split("."):[fe.substring(0,fe.lastIndexOf("0")+1),fe.substring(fe.lastIndexOf("0")+1)],Pt=lt[0],ct=lt[1]||"";x.posPre=Pt.substr(0,Pt.indexOf("#"));for(let Pn=0;Pn<ct.length;Pn++){const $t=ct.charAt(Pn);"0"===$t?x.minFrac=x.maxFrac=Pn+1:"#"===$t?x.maxFrac=Pn+1:x.posSuf+=$t}const un=Pt.split(",");if(x.gSize=un[1]?un[1].length:0,x.lgSize=un[2]||un[1]?(un[2]||un[1]).length:0,Ye){const Pn=fe.length-x.posPre.length-x.posSuf.length,$t=Ye.indexOf("#");x.negPre=Ye.substr(0,$t).replace(/'/g,""),x.negSuf=Ye.substr($t+Pn).replace(/'/g,"")}else x.negPre=W+x.posPre,x.negSuf=x.posSuf;return x}(function(O,W){return(0,D.cg1)(O)[D.wAp.NumberFormats][W]}(W,Z.Currency),Wn(W,bt.MinusSign));return lt.minFrac=function(O){let W;const x=pt[O];return x&&(W=x[2]),"number"==typeof W?W:2}(z),lt.maxFrac=lt.minFrac,function(O,W,x,z,fe,Ye,lt=!1){let Pt="",ct=!1;if(isFinite(O)){let un=function(O){let z,fe,Ye,lt,Pt,W=Math.abs(O)+"",x=0;for((fe=W.indexOf("."))>-1&&(W=W.replace(".","")),(Ye=W.search(/e/i))>0?(fe<0&&(fe=Ye),fe+=+W.slice(Ye+1),W=W.substring(0,Ye)):fe<0&&(fe=W.length),Ye=0;"0"===W.charAt(Ye);Ye++);if(Ye===(Pt=W.length))z=[0],fe=1;else{for(Pt--;"0"===W.charAt(Pt);)Pt--;for(fe-=Ye,z=[],lt=0;Ye<=Pt;Ye++,lt++)z[lt]=Number(W.charAt(Ye))}return fe>22&&(z=z.splice(0,21),x=fe-1,fe=1),{digits:z,exponent:x,integerLen:fe}}(O);lt&&(un=function(O){if(0===O.digits[0])return O;const W=O.digits.length-O.integerLen;return O.exponent?O.exponent+=2:(0===W?O.digits.push(0,0):1===W&&O.digits.push(0),O.integerLen+=2),O}(un));let Pn=W.minInt,$t=W.minFrac,Nn=W.maxFrac;if(Ye){const Ri=Ye.match(yr);if(null===Ri)throw new Error(`${Ye} is not a valid digit info`);const Kt=Ri[1],bi=Ri[3],Jo=Ri[5];null!=Kt&&(Pn=Gt(Kt)),null!=bi&&($t=Gt(bi)),null!=Jo?Nn=Gt(Jo):null!=bi&&$t>Nn&&(Nn=$t)}!function(O,W,x){if(W>x)throw new Error(`The minimum number of digits after fraction (${W}) is higher than the maximum (${x}).`);let z=O.digits,fe=z.length-O.integerLen;const Ye=Math.min(Math.max(W,fe),x);let lt=Ye+O.integerLen,Pt=z[lt];if(lt>0){z.splice(Math.max(O.integerLen,lt));for(let $t=lt;$t<z.length;$t++)z[$t]=0}else{fe=Math.max(0,fe),O.integerLen=1,z.length=Math.max(1,lt=Ye+1),z[0]=0;for(let $t=1;$t<lt;$t++)z[$t]=0}if(Pt>=5)if(lt-1<0){for(let $t=0;$t>lt;$t--)z.unshift(0),O.integerLen++;z.unshift(1),O.integerLen++}else z[lt-1]++;for(;fe<Math.max(0,Ye);fe++)z.push(0);let ct=0!==Ye;const un=W+O.integerLen,Pn=z.reduceRight(function($t,Nn,zn,fr){return fr[zn]=(Nn+=$t)<10?Nn:Nn-10,ct&&(0===fr[zn]&&zn>=un?fr.pop():ct=!1),Nn>=10?1:0},0);Pn&&(z.unshift(Pn),O.integerLen++)}(un,$t,Nn);let zn=un.digits,fr=un.integerLen;const ji=un.exponent;let yn=[];for(ct=zn.every(Ri=>!Ri);fr<Pn;fr++)zn.unshift(0);for(;fr<0;fr++)zn.unshift(0);fr>0?yn=zn.splice(fr,zn.length):(yn=zn,zn=[0]);const Tn=[];for(zn.length>=W.lgSize&&Tn.unshift(zn.splice(-W.lgSize,zn.length).join(""));zn.length>W.gSize;)Tn.unshift(zn.splice(-W.gSize,zn.length).join(""));zn.length&&Tn.unshift(zn.join("")),Pt=Tn.join(Wn(x,z)),yn.length&&(Pt+=Wn(x,fe)+yn.join("")),ji&&(Pt+=Wn(x,bt.Exponential)+"+"+ji)}else Pt=Wn(x,bt.Infinity);return Pt=O<0&&!ct?W.negPre+Pt+W.negSuf:W.posPre+Pt+W.posSuf,Pt}(O,lt,W,bt.CurrencyGroup,bt.CurrencyDecimal,fe).replace("\xa4",x).replace("\xa4","").trim()}function Gt(O){const W=parseInt(O);if(isNaN(W))throw new Error("Invalid integer literal when parsing "+O);return W}class Te{}let re=(()=>{class O extends Te{constructor(x){super(),this.locale=x}getPluralCategory(x,z){switch(Sr(z||this.locale)(x)){case mt.Zero:return"zero";case mt.One:return"one";case mt.Two:return"two";case mt.Few:return"few";case mt.Many:return"many";default:return"other"}}}return O.\u0275fac=function(x){return new(x||O)(D.LFG(D.soG))},O.\u0275prov=D.Yz7({token:O,factory:O.\u0275fac}),O})();function Xe(O,W){W=encodeURIComponent(W);for(const x of O.split(";")){const z=x.indexOf("="),[fe,Ye]=-1==z?[x,""]:[x.slice(0,z),x.slice(z+1)];if(fe.trim()===W)return decodeURIComponent(Ye)}return null}let Nt=(()=>{class O{constructor(x,z,fe,Ye){this._iterableDiffers=x,this._keyValueDiffers=z,this._ngEl=fe,this._renderer=Ye,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(x){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof x?x.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(x){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof x?x.split(/\s+/):x,this._rawClass&&((0,D.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const x=this._iterableDiffer.diff(this._rawClass);x&&this._applyIterableChanges(x)}else if(this._keyValueDiffer){const x=this._keyValueDiffer.diff(this._rawClass);x&&this._applyKeyValueChanges(x)}}_applyKeyValueChanges(x){x.forEachAddedItem(z=>this._toggleClass(z.key,z.currentValue)),x.forEachChangedItem(z=>this._toggleClass(z.key,z.currentValue)),x.forEachRemovedItem(z=>{z.previousValue&&this._toggleClass(z.key,!1)})}_applyIterableChanges(x){x.forEachAddedItem(z=>{if("string"!=typeof z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,D.AaK)(z.item)}`);this._toggleClass(z.item,!0)}),x.forEachRemovedItem(z=>this._toggleClass(z.item,!1))}_applyClasses(x){x&&(Array.isArray(x)||x instanceof Set?x.forEach(z=>this._toggleClass(z,!0)):Object.keys(x).forEach(z=>this._toggleClass(z,!!x[z])))}_removeClasses(x){x&&(Array.isArray(x)||x instanceof Set?x.forEach(z=>this._toggleClass(z,!1)):Object.keys(x).forEach(z=>this._toggleClass(z,!1)))}_toggleClass(x,z){(x=x.trim())&&x.split(/\s+/g).forEach(fe=>{z?this._renderer.addClass(this._ngEl.nativeElement,fe):this._renderer.removeClass(this._ngEl.nativeElement,fe)})}}return O.\u0275fac=function(x){return new(x||O)(D.Y36(D.ZZ4),D.Y36(D.aQg),D.Y36(D.SBq),D.Y36(D.Qsj))},O.\u0275dir=D.lG2({type:O,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),O})();class tn{constructor(W,x,z,fe){this.$implicit=W,this.ngForOf=x,this.index=z,this.count=fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zt=(()=>{class O{constructor(x,z,fe){this._viewContainer=x,this._template=z,this._differs=fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;if(!this._differ&&x)try{this._differ=this._differs.find(x).create(this.ngForTrackBy)}catch(z){throw new Error(`Cannot find a differ supporting object '${x}' of type '${function(O){return O.name||typeof O}(x)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const z=[];x.forEachOperation((fe,Ye,lt)=>{if(null==fe.previousIndex){const Pt=this._viewContainer.createEmbeddedView(this._template,new tn(null,this._ngForOf,-1,-1),null===lt?void 0:lt),ct=new Bs(fe,Pt);z.push(ct)}else if(null==lt)this._viewContainer.remove(null===Ye?void 0:Ye);else if(null!==Ye){const Pt=this._viewContainer.get(Ye);this._viewContainer.move(Pt,lt);const ct=new Bs(fe,Pt);z.push(ct)}});for(let fe=0;fe<z.length;fe++)this._perViewChange(z[fe].view,z[fe].record);for(let fe=0,Ye=this._viewContainer.length;fe<Ye;fe++){const lt=this._viewContainer.get(fe);lt.context.index=fe,lt.context.count=Ye,lt.context.ngForOf=this._ngForOf}x.forEachIdentityChange(fe=>{this._viewContainer.get(fe.currentIndex).context.$implicit=fe.item})}_perViewChange(x,z){x.context.$implicit=z.item}static ngTemplateContextGuard(x,z){return!0}}return O.\u0275fac=function(x){return new(x||O)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(D.ZZ4))},O.\u0275dir=D.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),O})();class Bs{constructor(W,x){this.record=W,this.view=x}}let ls=(()=>{class O{constructor(x,z){this._viewContainer=x,this._context=new co,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){js("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){js("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,z){return!0}}return O.\u0275fac=function(x){return new(x||O)(D.Y36(D.s_b),D.Y36(D.Rgc))},O.\u0275dir=D.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),O})();class co{constructor(){this.$implicit=null,this.ngIf=null}}function js(O,W){if(W&&!W.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,D.AaK)(W)}'.`)}let Hs=(()=>{class O{constructor(x,z,fe){this._ngEl=x,this._differs=z,this._renderer=fe,this._ngStyle=null,this._differ=null}set ngStyle(x){this._ngStyle=x,!this._differ&&x&&(this._differ=this._differs.find(x).create())}ngDoCheck(){if(this._differ){const x=this._differ.diff(this._ngStyle);x&&this._applyChanges(x)}}_setStyle(x,z){const[fe,Ye]=x.split(".");null!=(z=null!=z&&Ye?`${z}${Ye}`:z)?this._renderer.setStyle(this._ngEl.nativeElement,fe,z):this._renderer.removeStyle(this._ngEl.nativeElement,fe)}_applyChanges(x){x.forEachRemovedItem(z=>this._setStyle(z.key,null)),x.forEachAddedItem(z=>this._setStyle(z.key,z.currentValue)),x.forEachChangedItem(z=>this._setStyle(z.key,z.currentValue))}}return O.\u0275fac=function(x){return new(x||O)(D.Y36(D.SBq),D.Y36(D.aQg),D.Y36(D.Qsj))},O.\u0275dir=D.lG2({type:O,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),O})(),Ji=(()=>{class O{constructor(x){this._viewContainerRef=x,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(x){if(x.ngTemplateOutlet){const z=this._viewContainerRef;this._viewRef&&z.remove(z.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?z.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&x.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return O.\u0275fac=function(x){return new(x||O)(D.Y36(D.s_b))},O.\u0275dir=D.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[D.TTD]}),O})();function di(O,W){return Error(`InvalidPipeArgument: '${W}' for pipe '${(0,D.AaK)(O)}'`)}let vi=(()=>{class O{transform(x){if(null==x)return null;if("string"!=typeof x)throw di(O,x);return x.toUpperCase()}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275pipe=D.Yjl({name:"uppercase",type:O,pure:!0}),O})(),Hn=(()=>{class O{constructor(x){this.locale=x}transform(x,z="mediumDate",fe,Ye){if(null==x||""===x||x!=x)return null;try{return gn(x,z,Ye||this.locale,fe)}catch(lt){throw di(O,lt.message)}}}return O.\u0275fac=function(x){return new(x||O)(D.Y36(D.soG,16))},O.\u0275pipe=D.Yjl({name:"date",type:O,pure:!0}),O})(),Dr=(()=>{class O{constructor(x,z="USD"){this._locale=x,this._defaultCurrencyCode=z}transform(x,z=this._defaultCurrencyCode,fe="symbol",Ye,lt){if(!function(O){return!(null==O||""===O||O!=O)}(x))return null;lt=lt||this._locale,"boolean"==typeof fe&&(fe=fe?"symbol":"code");let Pt=z||this._defaultCurrencyCode;"code"!==fe&&(Pt="symbol"===fe||"symbol-narrow"===fe?function(O,W,x="en"){const z=function(O){return(0,D.cg1)(O)[D.wAp.Currencies]}(x)[O]||pt[O]||[],fe=z[1];return"narrow"===W&&"string"==typeof fe?fe:z[0]||O}(Pt,"symbol"===fe?"wide":"narrow",lt):fe);try{return Lr(function(O){if("string"==typeof O&&!isNaN(Number(O)-parseFloat(O)))return Number(O);if("number"!=typeof O)throw new Error(`${O} is not a number`);return O}(x),lt,Pt,z,Ye)}catch(ct){throw di(O,ct.message)}}}return O.\u0275fac=function(x){return new(x||O)(D.Y36(D.soG,16),D.Y36(D.EJc,16))},O.\u0275pipe=D.Yjl({name:"currency",type:O,pure:!0}),O})();let Vr=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275mod=D.oAB({type:O}),O.\u0275inj=D.cJS({providers:[{provide:Te,useClass:re}]}),O})();const Ws="browser";function Yo(O){return"server"===O}let Mi=(()=>{class O{}return O.\u0275prov=(0,D.Yz7)({token:O,providedIn:"root",factory:()=>new _n((0,D.LFG)(se),window)}),O})();class _n{constructor(W,x){this.document=W,this.window=x,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const x=function(O,W){const x=O.getElementById(W)||O.getElementsByName(W)[0];if(x)return x;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const z=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let fe=z.currentNode;for(;fe;){const Ye=fe.shadowRoot;if(Ye){const lt=Ye.getElementById(W)||Ye.querySelector(`[name="${W}"]`);if(lt)return lt}fe=z.nextNode()}}return null}(this.document,W);x&&(this.scrollToElement(x),this.attemptFocus(x))}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=W)}}scrollToElement(W){const x=W.getBoundingClientRect(),z=x.left+this.window.pageXOffset,fe=x.top+this.window.pageYOffset,Ye=this.offset();this.window.scrollTo(z-Ye[0],fe-Ye[1])}attemptFocus(W){return W.focus(),this.document.activeElement===W}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=Ei(this.window.history)||Ei(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch(W){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(W){return!1}}}function Ei(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class es{}},1841:(ft,Me,L)=>{"use strict";L.d(Me,{TP:()=>er,eN:()=>bt,JF:()=>Jt});var D=L(8583),m=L(7716),B=L(5917),Ee=L(7574),de=L(4612),X=L(5435),se=L(8002);class ee{}class ie{}class Y{constructor(ce){this.normalizedNames=new Map,this.lazyUpdate=null,ce?this.lazyInit="string"==typeof ce?()=>{this.headers=new Map,ce.split("\n").forEach(he=>{const Qe=he.indexOf(":");if(Qe>0){const ot=he.slice(0,Qe),yt=ot.toLowerCase(),nt=he.slice(Qe+1).trim();this.maybeSetNormalizedName(ot,yt),this.headers.has(yt)?this.headers.get(yt).push(nt):this.headers.set(yt,[nt])}})}:()=>{this.headers=new Map,Object.keys(ce).forEach(he=>{let Qe=ce[he];const ot=he.toLowerCase();"string"==typeof Qe&&(Qe=[Qe]),Qe.length>0&&(this.headers.set(ot,Qe),this.maybeSetNormalizedName(he,ot))})}:this.headers=new Map}has(ce){return this.init(),this.headers.has(ce.toLowerCase())}get(ce){this.init();const he=this.headers.get(ce.toLowerCase());return he&&he.length>0?he[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ce){return this.init(),this.headers.get(ce.toLowerCase())||null}append(ce,he){return this.clone({name:ce,value:he,op:"a"})}set(ce,he){return this.clone({name:ce,value:he,op:"s"})}delete(ce,he){return this.clone({name:ce,value:he,op:"d"})}maybeSetNormalizedName(ce,he){this.normalizedNames.has(he)||this.normalizedNames.set(he,ce)}init(){this.lazyInit&&(this.lazyInit instanceof Y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ce=>this.applyUpdate(ce)),this.lazyUpdate=null))}copyFrom(ce){ce.init(),Array.from(ce.headers.keys()).forEach(he=>{this.headers.set(he,ce.headers.get(he)),this.normalizedNames.set(he,ce.normalizedNames.get(he))})}clone(ce){const he=new Y;return he.lazyInit=this.lazyInit&&this.lazyInit instanceof Y?this.lazyInit:this,he.lazyUpdate=(this.lazyUpdate||[]).concat([ce]),he}applyUpdate(ce){const he=ce.name.toLowerCase();switch(ce.op){case"a":case"s":let Qe=ce.value;if("string"==typeof Qe&&(Qe=[Qe]),0===Qe.length)return;this.maybeSetNormalizedName(ce.name,he);const ot=("a"===ce.op?this.headers.get(he):void 0)||[];ot.push(...Qe),this.headers.set(he,ot);break;case"d":const yt=ce.value;if(yt){let nt=this.headers.get(he);if(!nt)return;nt=nt.filter(Ct=>-1===yt.indexOf(Ct)),0===nt.length?(this.headers.delete(he),this.normalizedNames.delete(he)):this.headers.set(he,nt)}else this.headers.delete(he),this.normalizedNames.delete(he)}}forEach(ce){this.init(),Array.from(this.normalizedNames.keys()).forEach(he=>ce(this.normalizedNames.get(he),this.headers.get(he)))}}class J{encodeKey(ce){return Le(ce)}encodeValue(ce){return Le(ce)}decodeKey(ce){return decodeURIComponent(ce)}decodeValue(ce){return decodeURIComponent(ce)}}const me=/%(\d[a-f0-9])/gi,Ie={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Le(Fe){return encodeURIComponent(Fe).replace(me,(ce,he)=>{var Qe;return null!==(Qe=Ie[he])&&void 0!==Qe?Qe:ce})}function Ve(Fe){return`${Fe}`}class Re{constructor(ce={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ce.encoder||new J,ce.fromString){if(ce.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(Fe,ce){const he=new Map;return Fe.length>0&&Fe.replace(/^\?/,"").split("&").forEach(ot=>{const yt=ot.indexOf("="),[nt,Ct]=-1==yt?[ce.decodeKey(ot),""]:[ce.decodeKey(ot.slice(0,yt)),ce.decodeValue(ot.slice(yt+1))],gn=he.get(nt)||[];gn.push(Ct),he.set(nt,gn)}),he}(ce.fromString,this.encoder)}else ce.fromObject?(this.map=new Map,Object.keys(ce.fromObject).forEach(he=>{const Qe=ce.fromObject[he];this.map.set(he,Array.isArray(Qe)?Qe:[Qe])})):this.map=null}has(ce){return this.init(),this.map.has(ce)}get(ce){this.init();const he=this.map.get(ce);return he?he[0]:null}getAll(ce){return this.init(),this.map.get(ce)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ce,he){return this.clone({param:ce,value:he,op:"a"})}appendAll(ce){const he=[];return Object.keys(ce).forEach(Qe=>{const ot=ce[Qe];Array.isArray(ot)?ot.forEach(yt=>{he.push({param:Qe,value:yt,op:"a"})}):he.push({param:Qe,value:ot,op:"a"})}),this.clone(he)}set(ce,he){return this.clone({param:ce,value:he,op:"s"})}delete(ce,he){return this.clone({param:ce,value:he,op:"d"})}toString(){return this.init(),this.keys().map(ce=>{const he=this.encoder.encodeKey(ce);return this.map.get(ce).map(Qe=>he+"="+this.encoder.encodeValue(Qe)).join("&")}).filter(ce=>""!==ce).join("&")}clone(ce){const he=new Re({encoder:this.encoder});return he.cloneFrom=this.cloneFrom||this,he.updates=(this.updates||[]).concat(ce),he}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ce=>this.map.set(ce,this.cloneFrom.map.get(ce))),this.updates.forEach(ce=>{switch(ce.op){case"a":case"s":const he=("a"===ce.op?this.map.get(ce.param):void 0)||[];he.push(Ve(ce.value)),this.map.set(ce.param,he);break;case"d":if(void 0===ce.value){this.map.delete(ce.param);break}{let Qe=this.map.get(ce.param)||[];const ot=Qe.indexOf(Ve(ce.value));-1!==ot&&Qe.splice(ot,1),Qe.length>0?this.map.set(ce.param,Qe):this.map.delete(ce.param)}}}),this.cloneFrom=this.updates=null)}}class He{constructor(){this.map=new Map}set(ce,he){return this.map.set(ce,he),this}get(ce){return this.map.has(ce)||this.map.set(ce,ce.defaultValue()),this.map.get(ce)}delete(ce){return this.map.delete(ce),this}keys(){return this.map.keys()}}function Se(Fe){return"undefined"!=typeof ArrayBuffer&&Fe instanceof ArrayBuffer}function Be(Fe){return"undefined"!=typeof Blob&&Fe instanceof Blob}function Oe(Fe){return"undefined"!=typeof FormData&&Fe instanceof FormData}class dt{constructor(ce,he,Qe,ot){let yt;if(this.url=he,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ce.toUpperCase(),function(Fe){switch(Fe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ot?(this.body=void 0!==Qe?Qe:null,yt=ot):yt=Qe,yt&&(this.reportProgress=!!yt.reportProgress,this.withCredentials=!!yt.withCredentials,yt.responseType&&(this.responseType=yt.responseType),yt.headers&&(this.headers=yt.headers),yt.context&&(this.context=yt.context),yt.params&&(this.params=yt.params)),this.headers||(this.headers=new Y),this.context||(this.context=new He),this.params){const nt=this.params.toString();if(0===nt.length)this.urlWithParams=he;else{const Ct=he.indexOf("?");this.urlWithParams=he+(-1===Ct?"?":Ct<he.length-1?"&":"")+nt}}else this.params=new Re,this.urlWithParams=he}serializeBody(){return null===this.body?null:Se(this.body)||Be(this.body)||Oe(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Re?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Oe(this.body)?null:Be(this.body)?this.body.type||null:Se(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Re?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ce={}){var he;const Qe=ce.method||this.method,ot=ce.url||this.url,yt=ce.responseType||this.responseType,nt=void 0!==ce.body?ce.body:this.body,Ct=void 0!==ce.withCredentials?ce.withCredentials:this.withCredentials,gn=void 0!==ce.reportProgress?ce.reportProgress:this.reportProgress;let tr=ce.headers||this.headers,Cn=ce.params||this.params;const Tt=null!==(he=ce.context)&&void 0!==he?he:this.context;return void 0!==ce.setHeaders&&(tr=Object.keys(ce.setHeaders).reduce((Bn,hn)=>Bn.set(hn,ce.setHeaders[hn]),tr)),ce.setParams&&(Cn=Object.keys(ce.setParams).reduce((Bn,hn)=>Bn.set(hn,ce.setParams[hn]),Cn)),new dt(Qe,ot,nt,{params:Cn,headers:tr,context:Tt,reportProgress:gn,responseType:yt,withCredentials:Ct})}}var pt=(()=>((pt=pt||{})[pt.Sent=0]="Sent",pt[pt.UploadProgress=1]="UploadProgress",pt[pt.ResponseHeader=2]="ResponseHeader",pt[pt.DownloadProgress=3]="DownloadProgress",pt[pt.Response=4]="Response",pt[pt.User=5]="User",pt))();class Z{constructor(ce,he=200,Qe="OK"){this.headers=ce.headers||new Y,this.status=void 0!==ce.status?ce.status:he,this.statusText=ce.statusText||Qe,this.url=ce.url||null,this.ok=this.status>=200&&this.status<300}}class mt extends Z{constructor(ce={}){super(ce),this.type=pt.ResponseHeader}clone(ce={}){return new mt({headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class Wt extends Z{constructor(ce={}){super(ce),this.type=pt.Response,this.body=void 0!==ce.body?ce.body:null}clone(ce={}){return new Wt({body:void 0!==ce.body?ce.body:this.body,headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class Ft extends Z{constructor(ce){super(ce,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ce.url||"(unknown url)"}`:`Http failure response for ${ce.url||"(unknown url)"}: ${ce.status} ${ce.statusText}`,this.error=ce.error||null}}function en(Fe,ce){return{body:ce,headers:Fe.headers,context:Fe.context,observe:Fe.observe,params:Fe.params,reportProgress:Fe.reportProgress,responseType:Fe.responseType,withCredentials:Fe.withCredentials}}let bt=(()=>{class Fe{constructor(he){this.handler=he}request(he,Qe,ot={}){let yt;if(he instanceof dt)yt=he;else{let gn,tr;gn=ot.headers instanceof Y?ot.headers:new Y(ot.headers),ot.params&&(tr=ot.params instanceof Re?ot.params:new Re({fromObject:ot.params})),yt=new dt(he,Qe,void 0!==ot.body?ot.body:null,{headers:gn,context:ot.context,params:tr,reportProgress:ot.reportProgress,responseType:ot.responseType||"json",withCredentials:ot.withCredentials})}const nt=(0,B.of)(yt).pipe((0,de.b)(gn=>this.handler.handle(gn)));if(he instanceof dt||"events"===ot.observe)return nt;const Ct=nt.pipe((0,X.h)(gn=>gn instanceof Wt));switch(ot.observe||"body"){case"body":switch(yt.responseType){case"arraybuffer":return Ct.pipe((0,se.U)(gn=>{if(null!==gn.body&&!(gn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return gn.body}));case"blob":return Ct.pipe((0,se.U)(gn=>{if(null!==gn.body&&!(gn.body instanceof Blob))throw new Error("Response is not a Blob.");return gn.body}));case"text":return Ct.pipe((0,se.U)(gn=>{if(null!==gn.body&&"string"!=typeof gn.body)throw new Error("Response is not a string.");return gn.body}));case"json":default:return Ct.pipe((0,se.U)(gn=>gn.body))}case"response":return Ct;default:throw new Error(`Unreachable: unhandled observe type ${ot.observe}}`)}}delete(he,Qe={}){return this.request("DELETE",he,Qe)}get(he,Qe={}){return this.request("GET",he,Qe)}head(he,Qe={}){return this.request("HEAD",he,Qe)}jsonp(he,Qe){return this.request("JSONP",he,{params:(new Re).append(Qe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(he,Qe={}){return this.request("OPTIONS",he,Qe)}patch(he,Qe,ot={}){return this.request("PATCH",he,en(ot,Qe))}post(he,Qe,ot={}){return this.request("POST",he,en(ot,Qe))}put(he,Qe,ot={}){return this.request("PUT",he,en(ot,Qe))}}return Fe.\u0275fac=function(he){return new(he||Fe)(m.LFG(ee))},Fe.\u0275prov=m.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();class kr{constructor(ce,he){this.next=ce,this.interceptor=he}handle(ce){return this.interceptor.intercept(ce,this.next)}}const er=new m.OlP("HTTP_INTERCEPTORS");let $n=(()=>{class Fe{intercept(he,Qe){return Qe.handle(he)}}return Fe.\u0275fac=function(he){return new(he||Fe)},Fe.\u0275prov=m.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const ni=/^\)\]\}',?\n/;let pn=(()=>{class Fe{constructor(he){this.xhrFactory=he}handle(he){if("JSONP"===he.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ee.y(Qe=>{const ot=this.xhrFactory.build();if(ot.open(he.method,he.urlWithParams),he.withCredentials&&(ot.withCredentials=!0),he.headers.forEach((hn,ge)=>ot.setRequestHeader(hn,ge.join(","))),he.headers.has("Accept")||ot.setRequestHeader("Accept","application/json, text/plain, */*"),!he.headers.has("Content-Type")){const hn=he.detectContentTypeHeader();null!==hn&&ot.setRequestHeader("Content-Type",hn)}if(he.responseType){const hn=he.responseType.toLowerCase();ot.responseType="json"!==hn?hn:"text"}const yt=he.serializeBody();let nt=null;const Ct=()=>{if(null!==nt)return nt;const hn=1223===ot.status?204:ot.status,ge=ot.statusText||"OK",ae=new Y(ot.getAllResponseHeaders()),Ce=function(Fe){return"responseURL"in Fe&&Fe.responseURL?Fe.responseURL:/^X-Request-URL:/m.test(Fe.getAllResponseHeaders())?Fe.getResponseHeader("X-Request-URL"):null}(ot)||he.url;return nt=new mt({headers:ae,status:hn,statusText:ge,url:Ce}),nt},gn=()=>{let{headers:hn,status:ge,statusText:ae,url:Ce}=Ct(),Ze=null;204!==ge&&(Ze=void 0===ot.response?ot.responseText:ot.response),0===ge&&(ge=Ze?200:0);let Ue=ge>=200&&ge<300;if("json"===he.responseType&&"string"==typeof Ze){const wt=Ze;Ze=Ze.replace(ni,"");try{Ze=""!==Ze?JSON.parse(Ze):null}catch(Ut){Ze=wt,Ue&&(Ue=!1,Ze={error:Ut,text:Ze})}}Ue?(Qe.next(new Wt({body:Ze,headers:hn,status:ge,statusText:ae,url:Ce||void 0})),Qe.complete()):Qe.error(new Ft({error:Ze,headers:hn,status:ge,statusText:ae,url:Ce||void 0}))},tr=hn=>{const{url:ge}=Ct(),ae=new Ft({error:hn,status:ot.status||0,statusText:ot.statusText||"Unknown Error",url:ge||void 0});Qe.error(ae)};let Cn=!1;const Tt=hn=>{Cn||(Qe.next(Ct()),Cn=!0);let ge={type:pt.DownloadProgress,loaded:hn.loaded};hn.lengthComputable&&(ge.total=hn.total),"text"===he.responseType&&!!ot.responseText&&(ge.partialText=ot.responseText),Qe.next(ge)},Bn=hn=>{let ge={type:pt.UploadProgress,loaded:hn.loaded};hn.lengthComputable&&(ge.total=hn.total),Qe.next(ge)};return ot.addEventListener("load",gn),ot.addEventListener("error",tr),ot.addEventListener("timeout",tr),ot.addEventListener("abort",tr),he.reportProgress&&(ot.addEventListener("progress",Tt),null!==yt&&ot.upload&&ot.upload.addEventListener("progress",Bn)),ot.send(yt),Qe.next({type:pt.Sent}),()=>{ot.removeEventListener("error",tr),ot.removeEventListener("abort",tr),ot.removeEventListener("load",gn),ot.removeEventListener("timeout",tr),he.reportProgress&&(ot.removeEventListener("progress",Tt),null!==yt&&ot.upload&&ot.upload.removeEventListener("progress",Bn)),ot.readyState!==ot.DONE&&ot.abort()}})}}return Fe.\u0275fac=function(he){return new(he||Fe)(m.LFG(D.JF))},Fe.\u0275prov=m.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const Yt=new m.OlP("XSRF_COOKIE_NAME"),Rn=new m.OlP("XSRF_HEADER_NAME");class wr{}let On=(()=>{class Fe{constructor(he,Qe,ot){this.doc=he,this.platform=Qe,this.cookieName=ot,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const he=this.doc.cookie||"";return he!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D.Mx)(he,this.cookieName),this.lastCookieString=he),this.lastToken}}return Fe.\u0275fac=function(he){return new(he||Fe)(m.LFG(D.K0),m.LFG(m.Lbi),m.LFG(Yt))},Fe.\u0275prov=m.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),Sr=(()=>{class Fe{constructor(he,Qe){this.tokenService=he,this.headerName=Qe}intercept(he,Qe){const ot=he.url.toLowerCase();if("GET"===he.method||"HEAD"===he.method||ot.startsWith("http://")||ot.startsWith("https://"))return Qe.handle(he);const yt=this.tokenService.getToken();return null!==yt&&!he.headers.has(this.headerName)&&(he=he.clone({headers:he.headers.set(this.headerName,yt)})),Qe.handle(he)}}return Fe.\u0275fac=function(he){return new(he||Fe)(m.LFG(wr),m.LFG(Rn))},Fe.\u0275prov=m.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),rt=(()=>{class Fe{constructor(he,Qe){this.backend=he,this.injector=Qe,this.chain=null}handle(he){if(null===this.chain){const Qe=this.injector.get(er,[]);this.chain=Qe.reduceRight((ot,yt)=>new kr(ot,yt),this.backend)}return this.chain.handle(he)}}return Fe.\u0275fac=function(he){return new(he||Fe)(m.LFG(ie),m.LFG(m.zs3))},Fe.\u0275prov=m.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),vt=(()=>{class Fe{static disable(){return{ngModule:Fe,providers:[{provide:Sr,useClass:$n}]}}static withOptions(he={}){return{ngModule:Fe,providers:[he.cookieName?{provide:Yt,useValue:he.cookieName}:[],he.headerName?{provide:Rn,useValue:he.headerName}:[]]}}}return Fe.\u0275fac=function(he){return new(he||Fe)},Fe.\u0275mod=m.oAB({type:Fe}),Fe.\u0275inj=m.cJS({providers:[Sr,{provide:er,useExisting:Sr,multi:!0},{provide:wr,useClass:On},{provide:Yt,useValue:"XSRF-TOKEN"},{provide:Rn,useValue:"X-XSRF-TOKEN"}]}),Fe})(),Jt=(()=>{class Fe{}return Fe.\u0275fac=function(he){return new(he||Fe)},Fe.\u0275mod=m.oAB({type:Fe}),Fe.\u0275inj=m.cJS({providers:[bt,{provide:ee,useClass:rt},pn,{provide:ie,useExisting:pn}],imports:[[vt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Fe})()},7716:(ft,Me,L)=>{"use strict";L.d(Me,{deG:()=>Ua,tb:()=>mC,AFp:()=>fC,ip1:()=>km,CZH:()=>ah,hGG:()=>hA,z2F:()=>_f,sBO:()=>rI,Sil:()=>mf,_Vd:()=>Xd,EJc:()=>yC,SBq:()=>Bc,qLn:()=>on,vpe:()=>jc,gxx:()=>au,tBr:()=>ol,XFs:()=>vt,OlP:()=>mr,zs3:()=>Pe,ZZ4:()=>wp,aQg:()=>Ip,soG:()=>kp,YKP:()=>nE,v3s:()=>GT,h0i:()=>sd,PXZ:()=>UT,R0b:()=>_l,FiY:()=>Ma,Lbi:()=>gC,g9A:()=>pC,Qsj:()=>Hw,FYo:()=>bp,JOm:()=>y,Tiy:()=>lm,q3G:()=>Br,tp0:()=>Io,EAV:()=>YT,Rgc:()=>rf,dDg:()=>bC,DyG:()=>ko,q4F:()=>cm,GfV:()=>Yv,s_b:()=>Ap,ifc:()=>nt,eFA:()=>AC,G48:()=>OT,Gpc:()=>J,X6Q:()=>Hm,_c5:()=>sA,VLi:()=>RT,c2e:()=>_C,zSh:()=>td,wAp:()=>vn,vHH:()=>Le,EiD:()=>fl,mCW:()=>za,qzn:()=>dl,JVY:()=>Pc,pB0:()=>ud,eBb:()=>Do,L6k:()=>Yc,LAX:()=>gu,cg1:()=>Xg,Tjo:()=>rA,kL8:()=>_v,yhl:()=>Sc,dqk:()=>Tt,sIi:()=>Zh,CqO:()=>$g,QGY:()=>Hg,F4k:()=>Iy,RDi:()=>Ci,AaK:()=>ee,z3N:()=>Xr,qOj:()=>Mg,TTD:()=>Vr,_Bn:()=>Wv,xp6:()=>Vf,uIk:()=>Ng,ekj:()=>Yg,Suo:()=>WE,Xpm:()=>Ht,lG2:()=>Vi,Yz7:()=>bn,cJS:()=>Wn,oAB:()=>mi,Yjl:()=>yr,Y36:()=>qh,_UZ:()=>vy,GkF:()=>by,qZA:()=>jg,TgZ:()=>Bg,EpF:()=>wy,n5z:()=>xo,Ikx:()=>Jg,LFG:()=>ai,$8M:()=>El,NdJ:()=>Wg,CRH:()=>GE,oxw:()=>Sy,ALo:()=>LE,lcZ:()=>VE,xi3:()=>UE,Hsn:()=>My,F$t:()=>Py,Q6J:()=>Vg,s9C:()=>zg,DdM:()=>ME,VKq:()=>RE,iGM:()=>HE,MAs:()=>ay,CHM:()=>pr,uOi:()=>g,LSH:()=>rc,kYT:()=>Us,Akn:()=>fc,Udp:()=>Zg,YNc:()=>oy,W1O:()=>YE,_uU:()=>Jy,Oqu:()=>Qg,hij:()=>gp,Gf:()=>$E});var D=L(9765),m=L(5319),B=L(7574),Ee=L(6682),de=L(8819);function X(e){for(let t in e)if(e[t]===X)return t;throw Error("Could not find renamed property on target object.")}function se(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ee(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ee).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ie(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Y=X({__forward_ref__:X});function J(e){return e.__forward_ref__=J,e.toString=function(){return ee(this())},e}function Q(e){return me(e)?e():e}function me(e){return"function"==typeof e&&e.hasOwnProperty(Y)&&e.__forward_ref__===J}class Le extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function Ae(e){return"string"==typeof e?e:null==e?"":String(e)}function He(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ae(e)}function Oe(e,t){const n=t?` in ${t}`:"";throw new Le("201",`No provider for ${He(e)} found${n}`)}function En(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function bn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Wn(e){return{providers:e.providers||[],imports:e.imports||[]}}function pn(e){return Yt(e,Sr)||Yt(e,Ir)}function Yt(e,t){return e.hasOwnProperty(t)?e[t]:null}function On(e){return e&&(e.hasOwnProperty(rt)||e.hasOwnProperty(rn))?e[rt]:null}const Sr=X({\u0275prov:X}),rt=X({\u0275inj:X}),Ir=X({ngInjectableDef:X}),rn=X({ngInjectorDef:X});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let Jt;function Tr(e){const t=Jt;return Jt=e,t}function Fe(e,t,n){const r=pn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&vt.Optional?null:void 0!==t?t:void Oe(ee(e),"Injector")}function he(e){return{toString:e}.toString()}var Qe=(()=>((Qe=Qe||{})[Qe.OnPush=0]="OnPush",Qe[Qe.Default=1]="Default",Qe))(),nt=(()=>((nt=nt||{})[nt.Emulated=0]="Emulated",nt[nt.None=2]="None",nt[nt.ShadowDom=3]="ShadowDom",nt))();const Ct="undefined"!=typeof globalThis&&globalThis,gn="undefined"!=typeof window&&window,tr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt=Ct||"undefined"!=typeof global&&global||gn||tr,ge={},ae=[],Ce=X({\u0275cmp:X}),Ze=X({\u0275dir:X}),Ue=X({\u0275pipe:X}),wt=X({\u0275mod:X}),Ut=X({\u0275loc:X}),Dn=X({\u0275fac:X}),ir=X({__NG_ELEMENT_ID__:X});let Gn=0;function Ht(e){return he(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Qe.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ae,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||nt.Emulated,id:"c",styles:e.styles||ae,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,c=e.features,p=e.pipes;return r.id+=Gn++,r.inputs=Qi(e.inputs,n),r.outputs=Qi(e.outputs),c&&c.forEach(E=>E(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(Pr):null,r.pipeDefs=p?()=>("function"==typeof p?p():p).map(ri):null,r})}function Pr(e){return vr(e)||function(e){return e[Ze]||null}(e)}function ri(e){return function(e){return e[Ue]||null}(e)}const Ts={};function mi(e){return he(()=>{const t={type:e.type,bootstrap:e.bootstrap||ae,declarations:e.declarations||ae,imports:e.imports||ae,exports:e.exports||ae,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Ts[e.id]=e.type),t})}function Us(e,t){return he(()=>{const n=Er(e,!0);n.declarations=t.declarations||ae,n.imports=t.imports||ae,n.exports=t.exports||ae})}function Qi(e,t){if(null==e)return ge;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],c=o;Array.isArray(o)&&(c=o[1],o=o[0]),n[o]=r,t&&(t[o]=c)}return n}const Vi=Ht;function yr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function vr(e){return e[Ce]||null}function Er(e,t){const n=e[wt]||null;if(!n&&!0===t)throw new Error(`Type ${ee(e)} does not have '\u0275mod' property.`);return n}function nr(e){return Array.isArray(e)&&"object"==typeof e[1]}function Wr(e){return Array.isArray(e)&&!0===e[1]}function Wo(e){return 0!=(8&e.flags)}function Hs(e){return 2==(2&e.flags)}function Ji(e){return 1==(1&e.flags)}function Gr(e){return null!==e.template}function di(e){return 0!=(512&e[2])}function Ui(e,t){return e.hasOwnProperty(Dn)?e[Dn]:null}class ho{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Vr(){return Ws}function Ws(e){return e.type.prototype.ngOnChanges&&(e.setInput=Or),us}function us(){const e=Gs(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===ge)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Or(e,t,n,r){const o=Gs(e)||function(e,t){return e[Bi]=t}(e,{previous:ge,current:null}),c=o.current||(o.current={}),p=o.previous,E=this.declaredInputs[n],w=p[E];c[E]=new ho(w&&w.currentValue,t,p===ge),e[r]=t}Vr.ngInherit=!0;const Bi="__ngSimpleChanges__";function Gs(e){return e[Bi]||null}let Ei;function Ci(e){Ei=e}function O(e){return!!e.listen}const x={createRenderer:(e,t)=>void 0!==Ei?Ei:"undefined"!=typeof document?document:void 0};function fe(e){for(;Array.isArray(e);)e=e[0];return e}function Pt(e,t){return fe(t[e])}function ct(e,t){return fe(t[e.index])}function Pn(e,t){return e.data[t]}function $t(e,t){return e[t]}function Nn(e,t){const n=t[e];return nr(n)?n:n[0]}function zn(e){return 4==(4&e[2])}function fr(e){return 128==(128&e[2])}function yn(e,t){return null==t?null:e[t]}function Tn(e){e[18]=0}function Ri(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Kt={lFrame:rs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ds(){return Kt.bindingsEnabled}function it(){return Kt.lFrame.lView}function In(){return Kt.lFrame.tView}function pr(e){return Kt.lFrame.contextLView=e,e[8]}function ar(){let e=va();for(;null!==e&&64===e.type;)e=e.parent;return e}function va(){return Kt.lFrame.currentTNode}function zr(e,t){const n=Kt.lFrame;n.currentTNode=e,n.isParent=t}function fo(){return Kt.lFrame.isParent}function po(){Kt.lFrame.isParent=!1}function Ro(){return Kt.isInCheckNoChangesMode}function Ks(e){Kt.isInCheckNoChangesMode=e}function Nr(){const e=Kt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ii(){return Kt.lFrame.bindingIndex++}function si(e){const t=Kt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Rs(e,t){const n=Kt.lFrame;n.bindingIndex=n.bindingRootIndex=e,yo(t)}function yo(e){Kt.lFrame.currentDirectiveIndex=e}function Zs(){return Kt.lFrame.currentQueryIndex}function Ys(e){Kt.lFrame.currentQueryIndex=e}function ns(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Xo(e,t,n){if(n&vt.SkipSelf){let o=t,c=e;for(;!(o=o.parent,null!==o||n&vt.Host||(o=ns(c),null===o||(c=c[15],10&o.type))););if(null===o)return!1;t=o,e=c}const r=Kt.lFrame=fi();return r.currentTNode=t,r.lView=e,!0}function vo(e){const t=fi(),n=e[1];Kt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function fi(){const e=Kt.lFrame,t=null===e?null:e.child;return null===t?rs(e):t}function rs(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Oo(){const e=Kt.lFrame;return Kt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ps=Oo;function Os(){const e=Oo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ar(){return Kt.lFrame.selectedIndex}function Ns(e){Kt.lFrame.selectedIndex=e}function gr(){const e=Kt.lFrame;return Pn(e.tView,e.selectedIndex)}function ms(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:E,ngAfterViewInit:w,ngAfterViewChecked:P,ngOnDestroy:U}=c;p&&(e.contentHooks||(e.contentHooks=[])).push(-n,p),E&&((e.contentHooks||(e.contentHooks=[])).push(n,E),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,E)),w&&(e.viewHooks||(e.viewHooks=[])).push(-n,w),P&&((e.viewHooks||(e.viewHooks=[])).push(n,P),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,P)),null!=U&&(e.destroyHooks||(e.destroyHooks=[])).push(n,U)}}function qs(e,t,n){xs(e,t,3,n)}function No(e,t,n,r){(3&e[2])===n&&xs(e,t,n,r)}function rr(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function xs(e,t,n,r){const c=null!=r?r:-1,p=t.length-1;let E=0;for(let w=void 0!==r?65535&e[18]:0;w<p;w++)if("number"==typeof t[w+1]){if(E=t[w],null!=r&&E>=r)break}else t[w]<0&&(e[18]+=65536),(E<c||-1==c)&&(Qs(e,n,t,w),e[18]=(4294901760&e[18])+w+2),w++}function Qs(e,t,n,r){const o=n[r]<0,c=n[r+1],E=e[o?-n[r]:n[r]];if(o){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{c.call(E)}finally{}}}else try{c.call(E)}finally{}}class Ii{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ta(e,t,n){const r=O(e);let o=0;for(;o<n.length;){const c=n[o];if("number"==typeof c){if(0!==c)break;o++;const p=n[o++],E=n[o++],w=n[o++];r?e.setAttribute(t,E,w,p):t.setAttributeNS(p,E,w)}else{const p=c,E=n[++o];na(p)?r&&e.setProperty(t,p,E):r?e.setAttribute(t,p,E):t.setAttribute(p,E),o++}}return o}function Hi(e){return 3===e||4===e||6===e}function na(e){return 64===e.charCodeAt(0)}function ra(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Qn(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Qn(e,t,n,r,o){let c=0,p=e.length;if(-1===t)p=-1;else for(;c<e.length;){const E=e[c++];if("number"==typeof E){if(E===t){p=-1;break}if(E>t){p=c-1;break}}}for(;c<e.length;){const E=e[c];if("number"==typeof E)break;if(E===n){if(null===r)return void(null!==o&&(e[c+1]=o));if(r===e[c+1])return void(e[c+2]=o)}c++,null!==r&&c++,null!==o&&c++}-1!==p&&(e.splice(p,0,t),c=p+1),e.splice(c++,0,n),null!==r&&e.splice(c++,0,r),null!==o&&e.splice(c++,0,o)}function ys(e){return-1!==e}function vs(e){return 32767&e}function oi(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Eo=!0;function Ni(e){const t=Eo;return Eo=e,t}let A=0;function b(e,t){const n=V(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,N(r.data,e),N(t,null),N(r.blueprint,null));const o=G(e,t),c=e.injectorIndex;if(ys(o)){const p=vs(o),E=oi(o,t),w=E[1].data;for(let P=0;P<8;P++)t[c+P]=E[p+P]|w[p+P]}return t[c+8]=o,c}function N(e,t){e.push(0,0,0,0,0,0,0,0,t)}function V(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function G(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){const c=o[1],p=c.type;if(r=2===p?c.declTNode:1===p?o[6]:null,null===r)return-1;if(n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ue(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ir)&&(r=n[ir]),null==r&&(r=n[ir]=A++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function et(e,t,n){if(n&vt.Optional)return e;Oe(t,"NodeInjector")}function It(e,t,n,r){if(n&vt.Optional&&void 0===r&&(r=null),0==(n&(vt.Self|vt.Host))){const o=e[9],c=Tr(void 0);try{return o?o.get(t,r,n&vt.Optional):Fe(t,r,n&vt.Optional)}finally{Tr(c)}}return et(r,t,n)}function xn(e,t,n,r=vt.Default,o){if(null!==e){const c=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ir)?e[ir]:void 0;return"number"==typeof t?t>=0?255&t:Jn:t}(n);if("function"==typeof c){if(!Xo(t,e,r))return r&vt.Host?et(o,n,r):It(t,n,r,o);try{const p=c(r);if(null!=p||r&vt.Optional)return p;Oe(n)}finally{ps()}}else if("number"==typeof c){let p=null,E=V(e,t),w=-1,P=r&vt.Host?t[16][6]:null;for((-1===E||r&vt.SkipSelf)&&(w=-1===E?G(e,t):t[E+8],-1!==w&&xi(r,!1)?(p=t[1],E=vs(w),t=oi(w,t)):E=-1);-1!==E;){const U=t[1];if(Co(c,E,U.data)){const q=Un(E,t,n,p,r,P);if(q!==Mt)return q}w=t[E+8],-1!==w&&xi(r,t[1].data[E+8]===P)&&Co(c,E,t)?(p=U,E=vs(w),t=oi(w,t)):E=-1}}}return It(t,n,r,o)}const Mt={};function Jn(){return new qr(ar(),it())}function Un(e,t,n,r,o,c){const p=t[1],E=p.data[e+8],U=Di(E,p,n,null==r?Hs(E)&&Eo:r!=p&&0!=(3&E.type),o&vt.Host&&c===E);return null!==U?$i(t,p,U,E):Mt}function Di(e,t,n,r,o){const c=e.providerIndexes,p=t.data,E=1048575&c,w=e.directiveStart,U=c>>20,ne=o?E+U:e.directiveEnd;for(let _e=r?E:E+U;_e<ne;_e++){const De=p[_e];if(_e<w&&n===De||_e>=w&&De.type===n)return _e}if(o){const _e=p[w];if(_e&&Gr(_e)&&_e.type===n)return w}return null}function $i(e,t,n,r){let o=e[n];const c=t.data;if(function(e){return e instanceof Ii}(o)){const p=o;p.resolving&&function(e,t){throw new Le("200",`Circular dependency in DI detected for ${e}`)}(He(c[n]));const E=Ni(p.canSeeViewProviders);p.resolving=!0;const w=p.injectImpl?Tr(p.injectImpl):null;Xo(e,r,vt.Default);try{o=e[n]=p.factory(void 0,c,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:c}=t.type.prototype;if(r){const p=Ws(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,p),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,p)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==w&&Tr(w),Ni(E),p.resolving=!1,ps()}}return o}function Co(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function xi(e,t){return!(e&vt.Self||e&vt.Host&&t)}class qr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return xn(this._tNode,this._lView,t,r,n)}}function xo(e){return he(()=>{const t=e.prototype.constructor,n=t[Dn]||ia(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const c=o[Dn]||ia(o);if(c&&c!==n)return c;o=Object.getPrototypeOf(o)}return c=>new c})}function ia(e){return me(e)?()=>{const t=ia(Q(e));return t&&t()}:Ui(e)}function El(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const c=n[o];if(Hi(c))break;if(0===c)o+=2;else if("number"==typeof c)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(c===t)return n[o+1];o+=2}}}return null}(ar(),e)}const sa="__parameters__";function to(e,t,n){return he(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...c){if(this instanceof o)return r.apply(this,c),this;const p=new o(...c);return E.annotation=p,E;function E(w,P,U){const q=w.hasOwnProperty(sa)?w[sa]:Object.defineProperty(w,sa,{value:[]})[sa];for(;q.length<=U;)q.push(null);return(q[U]=q[U]||[]).push(p),w}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class mr{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=bn({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ua=new mr("AnalyzeForEntryComponents"),ko=Function;function Wi(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Wi(r,t)):t!==e&&t.push(r)}return t}function ki(e,t){e.forEach(n=>Array.isArray(n)?ki(n,t):t(n))}function Ha(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function no(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Qr(e,t,n){let r=Sa(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Aa(e,t){const n=Sa(e,t);if(n>=0)return e[1|n]}function Sa(e,t){return function(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const c=r+(o-r>>1),p=e[c<<n];if(t===p)return c<<n;p>t?o=c:r=c+1}return~(o<<n)}(e,t,1)}const kn={},lr="__NG_DI_FLAG__",Jr="ngTempTokenPath",Ti=/\n/gm,Pa="__source",ro=X({provide:String,useValue:X});let zi;function io(e){const t=zi;return zi=e,t}function wc(e,t=vt.Default){if(void 0===zi)throw new Error("inject() must be called from an injection context");return null===zi?Fe(e,void 0,t):zi.get(e,t&vt.Optional?null:void 0,t)}function ai(e,t=vt.Default){return(Jt||wc)(Q(e),t)}function wo(e){const t=[];for(let n=0;n<e.length;n++){const r=Q(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let o,c=vt.Default;for(let p=0;p<r.length;p++){const E=r[p],w=Gl(E);"number"==typeof w?-1===w?o=E.token:c|=w:o=E}t.push(ai(o,c))}else t.push(ai(r))}return t}function aa(e,t){return e[lr]=t,e.prototype[lr]=t,e}function Gl(e){return e[lr]}function zl(e,t,n,r){const o=e[Jr];throw t[Pa]&&o.unshift(t[Pa]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let o=ee(t);if(Array.isArray(t))o=t.map(ee).join(" -> ");else if("object"==typeof t){let c=[];for(let p in t)if(t.hasOwnProperty(p)){let E=t[p];c.push(p+":"+("string"==typeof E?JSON.stringify(E):ee(E)))}o=`{${c.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Ti,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Jr]=null,e}const ol=aa(to("Inject",e=>({token:e})),-1),Ma=aa(to("Optional"),8),Io=aa(to("SkipSelf"),4);let ll,Xl;function Sl(e){var t;return(null===(t=function(){if(void 0===ll&&(ll=null,Tt.trustedTypes))try{ll=Tt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return ll}())||void 0===t?void 0:t.createHTML(e))||e}function Ra(e){var t;return(null===(t=function(){if(void 0===Xl&&(Xl=null,Tt.trustedTypes))try{Xl=Tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Xl}())||void 0===t?void 0:t.createScriptURL(e))||e}class ul{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class pu extends ul{getTypeName(){return"HTML"}}class Zc extends ul{getTypeName(){return"Style"}}class ec extends ul{getTypeName(){return"Script"}}class tc extends ul{getTypeName(){return"URL"}}class Fu extends ul{getTypeName(){return"ResourceURL"}}function Xr(e){return e instanceof ul?e.changingThisBreaksApplicationSecurity:e}function dl(e,t){const n=Sc(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Sc(e){return e instanceof ul&&e.getTypeName()||null}function Pc(e){return new pu(e)}function Yc(e){return new Zc(e)}function Do(e){return new ec(e)}function gu(e){return new tc(e)}function ud(e){return new Fu(e)}class Lu{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Sl(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class Vu{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=Sl(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=Sl(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let o=n.length-1;0<o;o--){const p=n.item(o).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&t.removeAttribute(p)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const mu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_u=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function za(e){return(e=String(e)).match(mu)||e.match(_u)?e:"unsafe:"+e}function so(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ka(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Rc=so("area,br,col,hr,img,wbr"),Oc=so("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qc=so("rp,rt"),Qc=Ka(Rc,Ka(Oc,so("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ka(qc,so("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ka(qc,Oc)),yu=so("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oa=so("srcset"),Nc=Ka(yu,Oa,so("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),so("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ml=so("script,style,template");class la{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=this.checkClobberedElement(n,n.nextSibling);if(o){n=o;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Qc.hasOwnProperty(n))return this.sanitizedSomething=!0,!Ml.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let o=0;o<r.length;o++){const c=r.item(o),p=c.name,E=p.toLowerCase();if(!Nc.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let w=c.value;yu[E]&&(w=za(w)),Oa[E]&&(e=w,w=(e=String(e)).split(",").map(t=>za(t.trim())).join(", ")),this.buf.push(" ",p,'="',hl(w),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Qc.hasOwnProperty(n)&&!Rc.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(hl(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Xc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eu=/([^\#-~ |!])/g;function hl(e){return e.replace(/&/g,"&amp;").replace(Xc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(eu,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xc;function fl(e,t){let n=null;try{xc=xc||function(e){const t=new Vu(e);return function(){try{return!!(new window.DOMParser).parseFromString(Sl(""),"text/html")}catch(e){return!1}}()?new Lu(t):t}(e);let r=t?String(t):"";n=xc.getInertBodyElement(r);let o=5,c=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=c,c=n.innerHTML,n=xc.getInertBodyElement(r)}while(r!==c);return Sl((new la).sanitizeChildren(nc(n)||n))}finally{if(n){const r=nc(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function nc(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Br=(()=>((Br=Br||{})[Br.NONE=0]="NONE",Br[Br.HTML=1]="HTML",Br[Br.STYLE=2]="STYLE",Br[Br.SCRIPT=3]="SCRIPT",Br[Br.URL=4]="URL",Br[Br.RESOURCE_URL=5]="RESOURCE_URL",Br))();function rc(e){const t=ke();return t?t.sanitize(Br.URL,e)||"":dl(e,"URL")?Xr(e):za(Ae(e))}function g(e){const t=ke();if(t)return Ra(t.sanitize(Br.RESOURCE_URL,e)||"");if(dl(e,"ResourceURL"))return Ra(Xr(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function ke(){const e=it();return e&&e[12]}const nn="__ngContext__";function Lt(e,t){e[nn]=t}function fn(e){const t=function(e){return e[nn]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Rt(e){return e.ngOriginalError}function dn(e,...t){e.error(...t)}class on{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=this._findContext(t),o=(e=t)&&e.ngErrorLogger||dn;var e;o(this._console,"ERROR",t),n&&o(this._console,"ORIGINAL ERROR",n),r&&o(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?t.ngDebugContext||this._findContext(Rt(t)):null}_findOriginalError(t){let n=t&&Rt(t);for(;n&&Rt(n);)n=Rt(n);return n||null}}const fd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function da(e){return e instanceof Function?e():e}var y=(()=>((y=y||{})[y.Important=1]="Important",y[y.DashCase=2]="DashCase",y))();function f(e,t){return undefined(e,t)}function j(e){const t=e[3];return Wr(t)?t[3]:t}function _t(e){return Vt(e[13])}function ut(e){return Vt(e[4])}function Vt(e){for(;null!==e&&!Wr(e);)e=e[4];return e}function Fn(e,t,n,r,o){if(null!=r){let c,p=!1;Wr(r)?c=r:nr(r)&&(p=!0,r=r[0]);const E=fe(r);0===e&&null!==n?null==o?Vs(t,n,E):ha(t,n,E,o||null,!0):1===e&&null!==n?ha(t,n,E,o||null,!0):2===e?function(e,t,n){const r=Ed(e,t);r&&function(e,t,n,r){O(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,E,p):3===e&&t.destroyNode(E),null!=c&&function(e,t,n,r,o){const c=n[7];c!==fe(n)&&Fn(t,e,r,c,o);for(let E=10;E<n.length;E++){const w=n[E];Iu(w[1],w,e,t,r,c)}}(t,e,c,n,o)}}function ru(e,t,n){return O(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Wu(e,t){const n=e[9],r=n.indexOf(t),o=t[3];1024&t[2]&&(t[2]&=-1025,Ri(o,-1)),n.splice(r,1)}function Gu(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[17];null!==o&&o!==e&&Wu(o,r),t>0&&(e[n-1][4]=r[4]);const c=Fs(e,10+t);!function(e,t){Iu(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const p=c[19];null!==p&&p.detachView(c[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Cu(e,t){if(!(256&t[2])){const n=t[11];O(n)&&n.destroyNode&&Iu(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return bu(e[1],e);for(;t;){let n=null;if(nr(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)nr(t)&&bu(t[1],t),t=t[3];null===t&&(t=e),nr(t)&&bu(t[1],t),n=t&&t[4]}t=n}}(t)}}function bu(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Ii)){const c=n[r+1];if(Array.isArray(c))for(let p=0;p<c.length;p+=2){const E=o[c[p]],w=c[p+1];try{w.call(E)}finally{}}else try{c.call(o)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let o=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const p=n[c+1],E="function"==typeof p?p(t):fe(t[p]),w=r[o=n[c+2]],P=n[c+3];"boolean"==typeof P?E.removeEventListener(n[c],w,P):P>=0?r[o=P]():r[o=-P].unsubscribe(),c+=2}else{const p=r[o=n[c+1]];n[c].call(p)}if(null!==r){for(let c=o+1;c<r.length;c++)r[c]();t[7]=null}}(e,t),1===t[1].type&&O(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Wr(t[3])){n!==t[3]&&Wu(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Tf(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const o=e.data[r.directiveStart].encapsulation;if(o===nt.None||o===nt.Emulated)return null}return ct(r,n)}(e,t.parent,n)}function ha(e,t,n,r,o){O(e)?e.insertBefore(t,n,r,o):t.insertBefore(n,r,o)}function Vs(e,t,n){O(e)?e.appendChild(t,n):t.appendChild(n)}function fa(e,t,n,r,o){null!==r?ha(e,t,n,r,o):Vs(e,t,n)}function Ed(e,t){return O(e)?e.parentNode(t):t.parentNode}function Sf(e,t,n){return ph(e,t,n)}let ph=function(e,t,n){return 40&e.type?ct(e,n):null};function bd(e,t,n,r){const o=Tf(e,r,t),c=t[11],E=Sf(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(n))for(let w=0;w<n.length;w++)fa(c,o,n[w],E,!1);else fa(c,o,n,E,!1)}function wd(e,t){if(null!==t){const n=t.type;if(3&n)return ct(t,e);if(4&n)return gh(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return wd(e,r);{const o=e[t.index];return Wr(o)?gh(-1,o):fe(o)}}if(32&n)return f(t,e)()||fe(e[t.index]);{const r=Mf(e,t);return null!==r?Array.isArray(r)?r[0]:wd(j(e[16]),r):wd(e,t.next)}}return null}function Mf(e,t){return null!==t?e[16][6].projection[t.projection]:null}function gh(e,t){const n=10+e+1;if(n<t.length){const r=t[n],o=r[1].firstChild;if(null!==o)return wd(r,o)}return t[7]}function mh(e,t,n,r,o,c,p){for(;null!=n;){const E=r[n.index],w=n.type;if(p&&0===t&&(E&&Lt(fe(E),r),n.flags|=4),64!=(64&n.flags))if(8&w)mh(e,t,n.child,r,o,c,!1),Fn(t,e,o,E,c);else if(32&w){const P=f(n,r);let U;for(;U=P();)Fn(t,e,o,U,c);Fn(t,e,o,E,c)}else 16&w?Of(e,t,r,n,o,c):Fn(t,e,o,E,c);n=p?n.projectionNext:n.next}}function Iu(e,t,n,r,o,c){mh(n,r,e.firstChild,t,o,c,!1)}function Of(e,t,n,r,o,c){const p=n[16],w=p[6].projection[r.projection];if(Array.isArray(w))for(let P=0;P<w.length;P++)Fn(t,e,o,w[P],c);else mh(e,t,w,p[3],o,c,!0)}function xf(e,t,n){O(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function yh(e,t,n){O(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function vh(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const c=t.length;if(o+c===r||e.charCodeAt(o+c)<=32)return o}n=o+1}}const kf="ng-template";function c_(e,t,n){let r=0;for(;r<e.length;){let o=e[r++];if(n&&"class"===o){if(o=e[r],-1!==vh(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function Ff(e){return 4===e.type&&e.value!==kf}function Ch(e,t,n){return t===(4!==e.type||n?e.value:kf)}function u_(e,t,n){let r=4;const o=e.attrs||[],c=function(e){for(let t=0;t<e.length;t++)if(Hi(e[t]))return t;return e.length}(o);let p=!1;for(let E=0;E<t.length;E++){const w=t[E];if("number"!=typeof w){if(!p)if(4&r){if(r=2|1&r,""!==w&&!Ch(e,w,n)||""===w&&1===t.length){if(Nl(r))return!1;p=!0}}else{const P=8&r?w:t[++E];if(8&r&&null!==e.attrs){if(!c_(e.attrs,P,n)){if(Nl(r))return!1;p=!0}continue}const q=qp(8&r?"class":w,o,Ff(e),n);if(-1===q){if(Nl(r))return!1;p=!0;continue}if(""!==P){let ne;ne=q>c?"":o[q+1].toLowerCase();const _e=8&r?ne:null;if(_e&&-1!==vh(_e,P,0)||2&r&&P!==ne){if(Nl(r))return!1;p=!0}}}}else{if(!p&&!Nl(r)&&!Nl(w))return!1;if(p&&Nl(w))continue;p=!1,r=w|1&r}}return Nl(r)||p}function Nl(e){return 0==(1&e)}function qp(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let c=!1;for(;o<t.length;){const p=t[o];if(p===e)return o;if(3===p||6===p)c=!0;else{if(1===p||2===p){let E=t[++o];for(;"string"==typeof E;)E=t[++o];continue}if(4===p)break;if(0===p){o+=4;continue}}o+=c?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Lf(e,t,n=!1){for(let r=0;r<t.length;r++)if(u_(e,t[r],n))return!0;return!1}function p_(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Qp(e,t){return e?":not("+t.trim()+")":t}function g_(e){let t=e[0],n=1,r=2,o="",c=!1;for(;n<e.length;){let p=e[n];if("string"==typeof p)if(2&r){const E=e[++n];o+="["+p+(E.length>0?'="'+E+'"':"")+"]"}else 8&r?o+="."+p:4&r&&(o+=" "+p);else""!==o&&!Nl(p)&&(t+=Qp(c,o),o=""),r=p,c=c||!Nl(r);n++}return""!==o&&(t+=Qp(c,o)),t}const Sn={};function Vf(e){Uf(In(),it(),Ar()+e,Ro())}function Uf(e,t,n,r){if(!r)if(3==(3&t[2])){const c=e.preOrderCheckHooks;null!==c&&qs(t,c,n)}else{const c=e.preOrderHooks;null!==c&&No(t,c,0,n)}Ns(n)}function Ki(e,t){return e<<17|t<<2}function Zi(e){return e>>17&32767}function wh(e){return 2|e}function oc(e){return(131068&e)>>2}function Ih(e,t){return-131069&e|t<<2}function Th(e){return 1|e}function Md(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],c=n[r+1];if(-1!==c){const p=e.data[c];Ys(o),p.contentQueries(2,t[c],c)}}}function Du(e,t,n,r,o,c,p,E,w,P){const U=t.blueprint.slice();return U[0]=o,U[2]=140|r,Tn(U),U[3]=U[15]=e,U[8]=n,U[10]=p||e&&e[10],U[11]=E||e&&e[11],U[12]=w||e&&e[12]||null,U[9]=P||e&&e[9]||null,U[6]=c,U[16]=2==t.type?e[16]:U,U}function Tu(e,t,n,r,o){let c=e.data[t];if(null===c)c=function(e,t,n,r,o){const c=va(),p=fo(),w=e.data[t]=function(e,t,n,r,o,c){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?c:c&&c.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=w),null!==c&&(p?null==c.child&&null!==w.parent&&(c.child=w):null===c.next&&(c.next=w)),w}(e,t,n,r,o),Kt.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=n,c.value=r,c.attrs=o;const p=function(){const e=Kt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===p?-1:p.injectorIndex}return zr(c,!0),c}function cc(e,t,n,r){if(0===n)return-1;const o=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function qu(e,t,n){vo(t);try{const r=e.viewQuery;null!==r&&cp(1,r,n);const o=e.template;null!==o&&Yf(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Md(e,t),e.staticViewQueries&&cp(2,e.viewQuery,n);const c=e.components;null!==c&&function(e,t){for(let n=0;n<t.length;n++)k_(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Os()}}function Au(e,t,n,r){const o=t[2];if(256==(256&o))return;vo(t);const c=Ro();try{Tn(t),function(e){Kt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Yf(e,t,n,2,r);const p=3==(3&o);if(!c)if(p){const P=e.preOrderCheckHooks;null!==P&&qs(t,P,null)}else{const P=e.preOrderHooks;null!==P&&No(t,P,0,null),rr(t,0)}if(function(e){for(let t=_t(e);null!==t;t=ut(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const o=n[r],c=o[3];0==(1024&o[2])&&Ri(c,1),o[2]|=1024}}}(t),function(e){for(let t=_t(e);null!==t;t=ut(t))for(let n=10;n<t.length;n++){const r=t[n],o=r[1];fr(r)&&Au(o,r,o.template,r[8])}}(t),null!==e.contentQueries&&Md(e,t),!c)if(p){const P=e.contentCheckHooks;null!==P&&qs(t,P)}else{const P=e.contentHooks;null!==P&&No(t,P,1),rr(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Ns(~o);else{const c=o,p=n[++r],E=n[++r];Rs(p,c),E(2,t[c])}}}finally{Ns(-1)}}(e,t);const E=e.components;null!==E&&function(e,t){for(let n=0;n<t.length;n++)x_(e,t[n])}(t,E);const w=e.viewQuery;if(null!==w&&cp(2,w,r),!c)if(p){const P=e.viewCheckHooks;null!==P&&qs(t,P)}else{const P=e.viewHooks;null!==P&&No(t,P,2),rr(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),c||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ri(t[3],-1))}finally{Os()}}function og(e,t,n,r){const o=t[10],c=!Ro(),p=zn(t);try{c&&!p&&o.begin&&o.begin(),p&&qu(e,t,r),Au(e,t,n,r)}finally{c&&!p&&o.end&&o.end()}}function Yf(e,t,n,r,o){const c=Ar(),p=2&r;try{Ns(-1),p&&t.length>20&&Uf(e,t,20,Ro()),n(r,o)}finally{Ns(c)}}function qf(e,t,n){if(Wo(t)){const o=t.directiveEnd;for(let c=t.directiveStart;c<o;c++){const p=e.data[c];p.contentQueries&&p.contentQueries(1,n[c],c)}}}function Oh(e,t,n){!ds()||(function(e,t,n,r){const o=n.directiveStart,c=n.directiveEnd;e.firstCreatePass||b(n,t),Lt(r,t);const p=n.initialInputs;for(let E=o;E<c;E++){const w=e.data[E],P=Gr(w);P&&S_(t,n,w);const U=$i(t,e,E,n);Lt(U,t),null!==p&&P_(0,E-o,U,w,0,p),P&&(Nn(n.index,t)[8]=U)}}(e,t,n,ct(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,o=n.directiveEnd,p=n.index,E=Kt.lFrame.currentDirectiveIndex;try{Ns(p);for(let w=r;w<o;w++){const P=e.data[w],U=t[w];yo(w),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&kh(P,U)}}finally{Ns(-1),yo(E)}}(e,t,n))}function Nh(e,t,n=ct){const r=t.localNames;if(null!==r){let o=t.index+1;for(let c=0;c<r.length;c+=2){const p=r[c+1],E=-1===p?n(t,e):e[p];e[o++]=E}}}function Qf(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Od(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Od(e,t,n,r,o,c,p,E,w,P){const U=20+r,q=U+o,ne=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Sn);return n}(U,q),_e="function"==typeof P?P():P;return ne[1]={type:e,blueprint:ne,template:n,queries:null,viewQuery:E,declTNode:t,data:ne.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:w,consts:_e,incompleteFirstPass:!1}}function Nd(e,t,n,r){const o=Bh(t);null===n?o.push(r):(o.push(n),e.firstCreatePass&&jh(e).push(r,o.length-1))}function Jf(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const o=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,o):n[r]=[t,o]}return n}function pa(e,t,n,r,o,c,p,E){const w=ct(t,n);let U,P=t.inputs;!E&&null!=P&&(U=P[r])?(Su(e,n,U,r,o),Hs(t)&&function(e,t){const n=Nn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=p?p(o,t.value||"",r):o,O(c)?c.setProperty(w,r,o):na(r)||(w.setProperty?w.setProperty(r,o):w[r]=o))}function Ju(e,t,n,r){let o=!1;if(ds()){const c=function(e,t,n){const r=e.directiveRegistry;let o=null;if(r)for(let c=0;c<r.length;c++){const p=r[c];Lf(n,p.selectors,!1)&&(o||(o=[]),ue(b(n,t),e,p.type),Gr(p)?(xd(e,n),o.unshift(p)):o.push(p))}return o}(e,t,n),p=null===r?null:{"":-1};if(null!==c){o=!0,gg(n,e.data.length,c.length);for(let U=0;U<c.length;U++){const q=c[U];q.providersResolver&&q.providersResolver(q)}let E=!1,w=!1,P=cc(e,t,c.length,null);for(let U=0;U<c.length;U++){const q=c[U];n.mergedAttrs=ra(n.mergedAttrs,q.hostAttrs),ip(e,n,t,P,q),Lh(P,q,p),null!==q.contentQueries&&(n.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(n.flags|=128);const ne=q.type.prototype;!E&&(ne.ngOnChanges||ne.ngOnInit||ne.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),E=!0),!w&&(ne.ngOnChanges||ne.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),w=!0),P++}!function(e,t){const r=t.directiveEnd,o=e.data,c=t.attrs,p=[];let E=null,w=null;for(let P=t.directiveStart;P<r;P++){const U=o[P],q=U.inputs,ne=null===c||Ff(t)?null:M_(q,c);p.push(ne),E=Jf(q,P,E),w=Jf(U.outputs,P,w)}null!==E&&(E.hasOwnProperty("class")&&(t.flags|=16),E.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=p,t.inputs=E,t.outputs=w}(e,n)}p&&function(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const c=n[t[o+1]];if(null==c)throw new Le("301",`Export of name '${t[o+1]}' not found!`);r.push(t[o],c)}}}(n,r,p)}return n.mergedAttrs=ra(n.mergedAttrs,n.attrs),o}function hg(e,t,n,r,o,c){const p=c.hostBindings;if(p){let E=e.hostBindingOpCodes;null===E&&(E=e.hostBindingOpCodes=[]);const w=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(E)!=w&&E.push(w),E.push(r,o,p)}}function kh(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function xd(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Lh(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Gr(t)&&(n[""]=e)}}function gg(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ip(e,t,n,r,o){e.data[r]=o;const c=o.factory||(o.factory=Ui(o.type)),p=new Ii(c,Gr(o),null);e.blueprint[r]=p,n[r]=p,hg(e,t,0,r,cc(e,n,o.hostVars,Sn),o)}function S_(e,t,n){const r=ct(t,e),o=Qf(n),c=e[10],p=Xu(e,Du(e,o,null,n.onPush?64:16,r,t,c,c.createRenderer(r,n),null,null));e[t.index]=p}function xl(e,t,n,r,o,c){const p=ct(e,t);!function(e,t,n,r,o,c,p){if(null==c)O(e)?e.removeAttribute(t,o,n):t.removeAttribute(o);else{const E=null==p?Ae(c):p(c,r||"",o);O(e)?e.setAttribute(t,o,E,n):n?t.setAttributeNS(n,o,E):t.setAttribute(o,E)}}(t[11],p,c,e.value,n,r,o)}function P_(e,t,n,r,o,c){const p=c[t];if(null!==p){const E=r.setInput;for(let w=0;w<p.length;){const P=p[w++],U=p[w++],q=p[w++];null!==E?r.setInput(n,q,P,U):n[U]=q}}}function M_(e,t){let n=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[r+1])),r+=2}else r+=2;else r+=4}return n}function mg(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function x_(e,t){const n=Nn(t,e);if(fr(n)){const r=n[1];80&n[2]?Au(r,n,r.template,n[8]):n[5]>0&&sp(n)}}function sp(e){for(let r=_t(e);null!==r;r=ut(r))for(let o=10;o<r.length;o++){const c=r[o];if(1024&c[2]){const p=c[1];Au(p,c,p.template,c[8])}else c[5]>0&&sp(c)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const o=Nn(n[r],e);fr(o)&&o[5]>0&&sp(o)}}function k_(e,t){const n=Nn(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),qu(r,n,n[8])}function Xu(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function kd(e){for(;e;){e[2]|=64;const t=j(e);if(di(e)&&!t)return e;e=t}return null}function Ld(e,t,n){const r=t[10];r.begin&&r.begin();try{Au(e,t,e.template,n)}catch(o){throw $h(t,o),o}finally{r.end&&r.end()}}function Uh(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=fn(n),o=r[1];og(o,r,o.template,n)}}(e[8])}function cp(e,t,n){Ys(0),t(e,n)}const yg=(()=>Promise.resolve(null))();function Bh(e){return e[7]||(e[7]=[])}function jh(e){return e.cleanup||(e.cleanup=[])}function $h(e,t){const n=e[9],r=n?n.get(on,null):null;r&&r.handleError(t)}function Su(e,t,n,r,o){for(let c=0;c<n.length;){const p=n[c++],E=n[c++],w=t[p],P=e.data[p];null!==P.setInput?P.setInput(w,o,r,E):w[E]=o}}function uc(e,t,n){const r=Pt(t,e);!function(e,t,n){O(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function ed(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,c=0;if(null!==t)for(let p=0;p<t.length;p++){const E=t[p];"number"==typeof E?c=E:1==c?o=ie(o,E):2==c&&(r=ie(r,E+": "+t[++p]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}const au=new mr("INJECTOR",-1);class Wh{get(t,n=kn){if(n===kn){const r=new Error(`NullInjectorError: No provider for ${ee(t)}!`);throw r.name="NullInjectorError",r}return n}}const td=new mr("Set Injector scope."),nd={},bg={};let Vd;function up(){return void 0===Vd&&(Vd=new Wh),Vd}function Gh(e,t=null,n=null,r){return new Ig(e,n,t||up(),r)}class Ig{constructor(t,n,r,o=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];n&&ki(n,E=>this.processProvider(E,t,n)),ki([t],E=>this.processInjectorType(E,[],c)),this.records.set(au,Pu(void 0,this));const p=this.records.get(td);this.scope=null!=p?p.value:null,this.source=o||("object"==typeof t?null:ee(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=kn,r=vt.Default){this.assertNotDestroyed();const o=io(this),c=Tr(void 0);try{if(!(r&vt.SkipSelf)){let E=this.records.get(t);if(void 0===E){const w=("function"==typeof(e=t)||"object"==typeof e&&e instanceof mr)&&pn(t);E=w&&this.injectableDefInScope(w)?Pu(zh(t),nd):null,this.records.set(t,E)}if(null!=E)return this.hydrate(t,E)}return(r&vt.Self?up():this.parent).get(t,n=r&vt.Optional&&n===kn?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[Jr]=p[Jr]||[]).unshift(ee(t)),o)throw p;return zl(p,t,"R3InjectorError",this.source)}throw p}finally{Tr(c),io(o)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,o)=>t.push(ee(o))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=Q(t)))return!1;let o=On(t);const c=null==o&&t.ngModule||void 0,p=void 0===c?t:c,E=-1!==r.indexOf(p);if(void 0!==c&&(o=On(c)),null==o)return!1;if(null!=o.imports&&!E){let U;r.push(p);try{ki(o.imports,q=>{this.processInjectorType(q,n,r)&&(void 0===U&&(U=[]),U.push(q))})}finally{}if(void 0!==U)for(let q=0;q<U.length;q++){const{ngModule:ne,providers:_e}=U[q];ki(_e,De=>this.processProvider(De,ne,_e||ae))}}this.injectorDefTypes.add(p);const w=Ui(p)||(()=>new p);this.records.set(p,Pu(w,nd));const P=o.providers;if(null!=P&&!E){const U=t;ki(P,q=>this.processProvider(q,U,P))}return void 0!==c&&void 0!==t.providers}processProvider(t,n,r){let o=h(t=Q(t))?t:Q(t&&t.provide);const c=a(e=t)?Pu(void 0,e.useValue):Pu(Ag(e),nd);var e;if(h(t)||!0!==t.multi)this.records.get(o);else{let p=this.records.get(o);p||(p=Pu(void 0,nd,!0),p.factory=()=>wo(p.multi),this.records.set(o,p)),o=t,p.multi.push(t)}this.records.set(o,c)}hydrate(t,n){return n.value===nd&&(n.value=bg,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Q(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function zh(e){const t=pn(e),n=null!==t?t.factory:Ui(e);if(null!==n)return n;if(e instanceof mr)throw new Error(`Token ${ee(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=no(t,"?");throw new Error(`Can't resolve all parameters for ${ee(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[Sr]||e[Ir]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ag(e,t,n){let r;if(h(e)){const o=Q(e);return Ui(o)||zh(o)}if(a(e))r=()=>Q(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...wo(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>ai(Q(e.useExisting));else{const o=Q(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Ui(o)||zh(o);r=()=>new o(...wo(e.deps))}return r}function Pu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function a(e){return null!==e&&"object"==typeof e&&ro in e}function h(e){return"function"==typeof e}const We=function(e,t,n){return function(e,t=null,n=null,r){const o=Gh(e,t,n,r);return o._resolveInjectorDefTypes(),o}({name:n},t,e,n)};let Pe=(()=>{class e{static create(n,r){return Array.isArray(n)?We(n,r,""):We(n.providers,n.parent,n.name||"")}}return e.THROW_IF_NOT_FOUND=kn,e.NULL=new Wh,e.\u0275prov=bn({token:e,providedIn:"any",factory:()=>ai(au)}),e.__NG_ELEMENT_ID__=-1,e})();function m0(e,t){ms(fn(e)[1],ar())}function Mg(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Gr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");o=t.\u0275dir}if(o){if(n){r.push(o);const p=e;p.inputs=Rg(e.inputs),p.declaredInputs=Rg(e.declaredInputs),p.outputs=Rg(e.outputs);const E=o.hostBindings;E&&E0(e,E);const w=o.viewQuery,P=o.contentQueries;if(w&&y0(e,w),P&&v0(e,P),se(e.inputs,o.inputs),se(e.declaredInputs,o.declaredInputs),se(e.outputs,o.outputs),Gr(o)&&o.data.animation){const U=e.data;U.animation=(U.animation||[]).concat(o.data.animation)}}const c=o.features;if(c)for(let p=0;p<c.length;p++){const E=c[p];E&&E.ngInherit&&E(e),E===Mg&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=ra(o.hostAttrs,n=ra(n,o.hostAttrs))}}(r)}function Rg(e){return e===ge?{}:e===ae?[]:e}function y0(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function v0(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,c)=>{t(r,o,c),n(r,o,c)}:t}function E0(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}let dp=null;function Ud(){if(!dp){const e=Tt.Symbol;if(e&&e.iterator)dp=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(dp=r)}}}return dp}class hc{constructor(t){this.wrapped=t}static wrap(t){return new hc(t)}static unwrap(t){return hc.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof hc}}function Zh(e){return!!Og(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ud()in e)}function Og(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Vc(e,t,n){return e[t]=n}function ga(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ng(e,t,n,r){const o=it();return ga(o,ii(),t)&&(In(),xl(gr(),o,e,t,n,r)),Ng}function jd(e,t,n,r){return ga(e,ii(),n)?t+Ae(n)+r:Sn}function oy(e,t,n,r,o,c,p,E){const w=it(),P=In(),U=e+20,q=P.firstCreatePass?function(e,t,n,r,o,c,p,E,w){const P=t.consts,U=Tu(t,e,4,p||null,yn(P,E));Ju(t,n,U,yn(P,w)),ms(t,U);const q=U.tViews=Od(2,U,r,o,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,P);return null!==t.queries&&(t.queries.template(t,U),q.queries=t.queries.embeddedTView(U)),U}(U,P,w,t,n,r,o,c,p):P.data[U];zr(q,!1);const ne=w[11].createComment("");bd(P,w,ne,q),Lt(ne,w),Xu(w,w[U]=mg(ne,w,ne,q)),Ji(q)&&Oh(P,w,q),null!=p&&Nh(w,q,E)}function ay(e){return $t(Kt.lFrame.contextLView,20+e)}function qh(e,t=vt.Default){const n=it();return null===n?ai(e,t):xn(ar(),n,Q(e),t)}function Vg(e,t,n){const r=it();return ga(r,ii(),t)&&pa(In(),gr(),r,e,t,r[11],n,!1),Vg}function Ug(e,t,n,r,o){const p=o?"class":"style";Su(e,n,t.inputs[p],p,r)}function Bg(e,t,n,r){const o=it(),c=In(),p=20+e,E=o[11],w=o[p]=ru(E,t,Kt.lFrame.currentNamespace),P=c.firstCreatePass?function(e,t,n,r,o,c,p){const E=t.consts,P=Tu(t,e,2,o,yn(E,c));return Ju(t,n,P,yn(E,p)),null!==P.attrs&&ed(P,P.attrs,!1),null!==P.mergedAttrs&&ed(P,P.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,P),P}(p,c,o,0,t,n,r):c.data[p];zr(P,!0);const U=P.mergedAttrs;null!==U&&ta(E,w,U);const q=P.classes;null!==q&&yh(E,w,q);const ne=P.styles;null!==ne&&xf(E,w,ne),64!=(64&P.flags)&&bd(c,o,w,P),0===Kt.lFrame.elementDepthCount&&Lt(w,o),Kt.lFrame.elementDepthCount++,Ji(P)&&(Oh(c,o,P),qf(c,P,o)),null!==r&&Nh(o,P)}function jg(){let e=ar();fo()?po():(e=e.parent,zr(e,!1));const t=e;Kt.lFrame.elementDepthCount--;const n=In();n.firstCreatePass&&(ms(n,e),Wo(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ug(n,t,it(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ug(n,t,it(),t.stylesWithoutHost,!1)}function vy(e,t,n,r){Bg(e,t,n,r),jg()}function by(e,t,n){(function(e,t,n){const r=it(),o=In(),c=e+20,p=o.firstCreatePass?function(e,t,n,r,o){const c=t.consts,p=yn(c,r),E=Tu(t,e,8,"ng-container",p);return null!==p&&ed(E,p,!0),Ju(t,n,E,yn(c,o)),null!==t.queries&&t.queries.elementStart(t,E),E}(c,o,r,t,n):o.data[c];zr(p,!0);const E=r[c]=r[11].createComment("");bd(o,r,E,p),Lt(E,r),Ji(p)&&(Oh(o,r,p),qf(o,p,r)),null!=n&&Nh(r,p)})(e,t,n),function(){let e=ar();const t=In();fo()?po():(e=e.parent,zr(e,!1)),t.firstCreatePass&&(ms(t,e),Wo(e)&&t.queries.elementEnd(e))}()}function wy(){return it()}function Hg(e){return!!e&&"function"==typeof e.then}function Iy(e){return!!e&&"function"==typeof e.subscribe}const $g=Iy;function Wg(e,t,n,r){const o=it(),c=In(),p=ar();return function(e,t,n,r,o,c,p,E){const w=Ji(r),U=e.firstCreatePass&&jh(e),q=t[8],ne=Bh(t);let _e=!0;if(3&r.type||E){const je=ct(r,t),gt=E?E(je):je,st=ne.length,Qt=E?An=>E(fe(An[r.index])):r.index;if(O(n)){let An=null;if(!E&&w&&(An=function(e,t,n,r){const o=e.cleanup;if(null!=o)for(let c=0;c<o.length-1;c+=2){const p=o[c];if(p===n&&o[c+1]===r){const E=t[7],w=o[c+2];return E.length>w?E[w]:null}"string"==typeof p&&(c+=2)}return null}(e,t,o,r.index)),null!==An)(An.__ngLastListenerFn__||An).__ngNextListenerFn__=c,An.__ngLastListenerFn__=c,_e=!1;else{c=Gg(r,t,q,c,!1);const ur=n.listen(gt,o,c);ne.push(c,ur),U&&U.push(o,Qt,st,st+1)}}else c=Gg(r,t,q,c,!0),gt.addEventListener(o,c,p),ne.push(c),U&&U.push(o,Qt,st,p)}else c=Gg(r,t,q,c,!1);const De=r.outputs;let qe;if(_e&&null!==De&&(qe=De[o])){const je=qe.length;if(je)for(let gt=0;gt<je;gt+=2){const lo=t[qe[gt]][qe[gt+1]].subscribe(c),Bl=ne.length;ne.push(c,lo),U&&U.push(o,r.index,Bl,-(Bl+1))}}}(c,o,o[11],p,e,t,!!n,r),Wg}function Ay(e,t,n,r){try{return!1!==n(r)}catch(o){return $h(e,o),!1}}function Gg(e,t,n,r,o){return function c(p){if(p===Function)return r;const E=2&e.flags?Nn(e.index,t):t;0==(32&t[2])&&kd(E);let w=Ay(t,0,r,p),P=c.__ngNextListenerFn__;for(;P;)w=Ay(t,0,P,p)&&w,P=P.__ngNextListenerFn__;return o&&!1===w&&(p.preventDefault(),p.returnValue=!1),w}}function Sy(e=1){return function(e){return(Kt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Kt.lFrame.contextLView))[8]}(e)}function eb(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const c=t[o];if("*"!==c){if(null===r?Lf(e,c,!0):p_(r,c))return o}else n=o}return n}function Py(e){const t=it()[16][6];if(!t.projection){const r=t.projection=no(e?e.length:1,null),o=r.slice();let c=t.child;for(;null!==c;){const p=e?eb(c,e):0;null!==p&&(o[p]?o[p].projectionNext=c:r[p]=c,o[p]=c),c=c.next}}}function My(e,t=0,n){const r=it(),o=In(),c=Tu(o,20+e,16,null,n||null);null===c.projection&&(c.projection=t),po(),64!=(64&c.flags)&&function(e,t,n){Of(t[11],0,t,n,Tf(e,n,t),Sf(n.parent||t[6],n,t))}(o,r,c)}function zg(e,t,n){return Kg(e,"",t,"",n),zg}function Kg(e,t,n,r,o){const c=it(),p=jd(c,t,n,r);return p!==Sn&&pa(In(),gr(),c,e,p,c[11],o,!1),Kg}function Uy(e,t,n,r,o){const c=e[n+1],p=null===t;let E=r?Zi(c):oc(c),w=!1;for(;0!==E&&(!1===w||p);){const U=e[E+1];rb(e[E],t)&&(w=!0,e[E+1]=r?Th(U):wh(U)),E=r?Zi(U):oc(U)}w&&(e[n+1]=r?wh(c):Th(c))}function rb(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Sa(e,t)>=0}const ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function By(e){return e.substring(ao.key,ao.keyEnd)}function ib(e){return e.substring(ao.value,ao.valueEnd)}function Hy(e,t){const n=ao.textEnd;let r=ao.key=qd(e,t,n);return n===r?-1:(r=ao.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Wy(e,r,n),r=ao.value=qd(e,r,n),r=ao.valueEnd=function(e,t,n){let r=-1,o=-1,c=-1,p=t,E=p;for(;p<n;){const w=e.charCodeAt(p++);if(59===w)return E;34===w||39===w?E=p=Gy(e,w,p,n):t===p-4&&85===c&&82===o&&76===r&&40===w?E=p=Gy(e,41,p,n):w>32&&(E=p),c=o,o=r,r=-33&w}return E}(e,r,n),Wy(e,r,n))}function qd(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Wy(e,t,n,r){return(t=qd(e,t,n))<n&&t++,t}function Gy(e,t,n,r){let o=-1,c=n;for(;c<r;){const p=e.charCodeAt(c++);if(p==t&&92!==o)return c;o=92==p&&92===o?0:p}throw new Error}function Zg(e,t,n){return pc(e,t,n,!1),Zg}function Yg(e,t){return pc(e,t,null,!0),Yg}function fc(e){!function(e,t,n,r){const o=In(),c=si(2);o.firstUpdatePass&&Ky(o,null,c,r);const p=it();if(n!==Sn&&ga(p,c,n)){const E=o.data[Ar()];if(Qy(E,r)&&!zy(o,c)){let w=r?E.classesWithoutHost:E.stylesWithoutHost;null!==w&&(n=ie(w,n||"")),Ug(o,E,p,n,r)}else!function(e,t,n,r,o,c,p,E){o===Sn&&(o=ae);let w=0,P=0,U=0<o.length?o[0]:null,q=0<c.length?c[0]:null;for(;null!==U||null!==q;){const ne=w<o.length?o[w+1]:void 0,_e=P<c.length?c[P+1]:void 0;let qe,De=null;U===q?(w+=2,P+=2,ne!==_e&&(De=q,qe=_e)):null===q||null!==U&&U<q?(w+=2,De=U):(P+=2,De=q,qe=_e),null!==De&&Yy(e,t,n,r,De,qe,p,E),U=w<o.length?o[w]:null,q=P<c.length?c[P]:null}}(o,E,p,p[11],p[c+1],p[c+1]=function(e,t,n){if(null==n||""===n)return ae;const r=[],o=Xr(n);if(Array.isArray(o))for(let c=0;c<o.length;c++)e(r,o[c],!0);else if("object"==typeof o)for(const c in o)o.hasOwnProperty(c)&&e(r,c,o[c]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,c)}}(Zy,ub,e,!1)}function ub(e,t){for(let n=function(e){return function(e){ao.key=0,ao.keyEnd=0,ao.value=0,ao.valueEnd=0,ao.textEnd=e.length}(e),Hy(e,qd(e,0,ao.textEnd))}(t);n>=0;n=Hy(t,n))Zy(e,By(t),ib(t))}function pc(e,t,n,r){const o=it(),c=In(),p=si(2);c.firstUpdatePass&&Ky(c,e,p,r),t!==Sn&&ga(o,p,t)&&Yy(c,c.data[Ar()],o,o[11],e,o[p+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ee(Xr(e)))),e}(t,n),r,p)}function zy(e,t){return t>=e.expandoStartIndex}function Ky(e,t,n,r){const o=e.data;if(null===o[n+1]){const c=o[Ar()],p=zy(e,n);Qy(c,r)&&null===t&&!p&&(t=!1),t=function(e,t,n,r){const o=function(e){const t=Kt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let c=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Qh(n=qg(null,e,t,n,r),t.attrs,r),c=null);else{const p=t.directiveStylingLast;if(-1===p||e[p]!==o)if(n=qg(o,e,t,n,r),null===c){let w=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==oc(r))return e[Zi(r)]}(e,t,r);void 0!==w&&Array.isArray(w)&&(w=qg(null,e,t,w[1],r),w=Qh(w,t.attrs,r),function(e,t,n,r){e[Zi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,w))}else c=function(e,t,n){let r;const o=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<o;c++)r=Qh(r,e[c].hostAttrs,n);return Qh(r,t.attrs,n)}(e,t,r)}return void 0!==c&&(r?t.residualClasses=c:t.residualStyles=c),n}(o,c,t,r),function(e,t,n,r,o,c){let p=c?t.classBindings:t.styleBindings,E=Zi(p),w=oc(p);e[r]=n;let U,P=!1;if(Array.isArray(n)){const q=n;U=q[1],(null===U||Sa(q,U)>0)&&(P=!0)}else U=n;if(o)if(0!==w){const ne=Zi(e[E+1]);e[r+1]=Ki(ne,E),0!==ne&&(e[ne+1]=Ih(e[ne+1],r)),e[E+1]=function(e,t){return 131071&e|t<<17}(e[E+1],r)}else e[r+1]=Ki(E,0),0!==E&&(e[E+1]=Ih(e[E+1],r)),E=r;else e[r+1]=Ki(w,0),0===E?E=r:e[w+1]=Ih(e[w+1],r),w=r;P&&(e[r+1]=wh(e[r+1])),Uy(e,U,r,!0),Uy(e,U,r,!1),function(e,t,n,r,o){const c=o?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&Sa(c,t)>=0&&(n[r+1]=Th(n[r+1]))}(t,U,e,r,c),p=Ki(E,w),c?t.classBindings=p:t.styleBindings=p}(o,c,t,n,p,r)}}function qg(e,t,n,r,o){let c=null;const p=n.directiveEnd;let E=n.directiveStylingLast;for(-1===E?E=n.directiveStart:E++;E<p&&(c=t[E],r=Qh(r,c.hostAttrs,o),c!==e);)E++;return null!==e&&(n.directiveStylingLast=E),r}function Qh(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let c=0;c<t.length;c++){const p=t[c];"number"==typeof p?o=p:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Qr(e,p,!!n||t[++c]))}return void 0===e?null:e}function Zy(e,t,n){Qr(e,t,Xr(n))}function Yy(e,t,n,r,o,c,p,E){if(!(3&t.type))return;const w=e.data,P=w[E+1];pp(function(e){return 1==(1&e)}(P)?qy(w,t,n,o,oc(P),p):void 0)||(pp(c)||function(e){return 2==(2&e)}(P)&&(c=qy(w,null,n,o,E,p)),function(e,t,n,r,o){const c=O(e);if(t)o?c?e.addClass(n,r):n.classList.add(r):c?e.removeClass(n,r):n.classList.remove(r);else{let p=-1===r.indexOf("-")?void 0:y.DashCase;if(null==o)c?e.removeStyle(n,r,p):n.style.removeProperty(r);else{const E="string"==typeof o&&o.endsWith("!important");E&&(o=o.slice(0,-10),p|=y.Important),c?e.setStyle(n,r,o,p):n.style.setProperty(r,o,E?"important":"")}}}(r,p,Pt(Ar(),n),o,c))}function qy(e,t,n,r,o,c){const p=null===t;let E;for(;o>0;){const w=e[o],P=Array.isArray(w),U=P?w[1]:w,q=null===U;let ne=n[o+1];ne===Sn&&(ne=q?ae:void 0);let _e=q?Aa(ne,r):U===r?ne:void 0;if(P&&!pp(_e)&&(_e=Aa(w,r)),pp(_e)&&(E=_e,p))return E;const De=e[o+1];o=p?Zi(De):oc(De)}if(null!==t){let w=c?t.residualClasses:t.residualStyles;null!=w&&(E=Aa(w,r))}return E}function pp(e){return void 0!==e}function Qy(e,t){return 0!=(e.flags&(t?16:32))}function Jy(e,t=""){const n=it(),r=In(),o=e+20,c=r.firstCreatePass?Tu(r,o,1,t,null):r.data[o],p=n[o]=function(e,t){return O(e)?e.createText(t):e.createTextNode(t)}(n[11],t);bd(r,n,p,c),zr(c,!1)}function Qg(e){return gp("",e,""),Qg}function gp(e,t,n){const r=it(),o=jd(r,e,t,n);return o!==Sn&&uc(r,Ar(),o),gp}function Jg(e,t,n){const r=it();return ga(r,ii(),t)&&pa(In(),gr(),r,e,t,r[11],n,!0),Jg}const id=void 0;var Vb=["en",[["a","p"],["AM","PM"],id],[["AM","PM"],id,id],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],id,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],id,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",id,"{1} 'at' {0}",id],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Qd={};function Xg(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=yv(t);if(n)return n;const r=t.split("-")[0];if(n=yv(r),n)return n;if("en"===r)return Vb;throw new Error(`Missing locale data for the locale "${e}".`)}function _v(e){return Xg(e)[vn.PluralCase]}function yv(e){return e in Qd||(Qd[e]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[e]),Qd[e]}var vn=(()=>((vn=vn||{})[vn.LocaleId=0]="LocaleId",vn[vn.DayPeriodsFormat=1]="DayPeriodsFormat",vn[vn.DayPeriodsStandalone=2]="DayPeriodsStandalone",vn[vn.DaysFormat=3]="DaysFormat",vn[vn.DaysStandalone=4]="DaysStandalone",vn[vn.MonthsFormat=5]="MonthsFormat",vn[vn.MonthsStandalone=6]="MonthsStandalone",vn[vn.Eras=7]="Eras",vn[vn.FirstDayOfWeek=8]="FirstDayOfWeek",vn[vn.WeekendRange=9]="WeekendRange",vn[vn.DateFormat=10]="DateFormat",vn[vn.TimeFormat=11]="TimeFormat",vn[vn.DateTimeFormat=12]="DateTimeFormat",vn[vn.NumberSymbols=13]="NumberSymbols",vn[vn.NumberFormats=14]="NumberFormats",vn[vn.CurrencyCode=15]="CurrencyCode",vn[vn.CurrencySymbol=16]="CurrencySymbol",vn[vn.CurrencyName=17]="CurrencyName",vn[vn.Currencies=18]="Currencies",vn[vn.Directionality=19]="Directionality",vn[vn.PluralCase=20]="PluralCase",vn[vn.ExtraData=21]="ExtraData",vn))();const mp="en-US";let vv=mp;function em(e){En(e,"Expected localeId to be defined"),"string"==typeof e&&(vv=e.toLowerCase().replace(/_/g,"-"))}function rm(e,t,n,r,o){if(e=Q(e),Array.isArray(e))for(let c=0;c<e.length;c++)rm(e[c],t,n,r,o);else{const c=In(),p=it();let E=h(e)?e:Q(e.provide),w=Ag(e);const P=ar(),U=1048575&P.providerIndexes,q=P.directiveStart,ne=P.providerIndexes>>20;if(h(e)||!e.multi){const _e=new Ii(w,o,qh),De=sm(E,t,o?U:U+ne,q);-1===De?(ue(b(P,p),c,E),im(c,e,t.length),t.push(E),P.directiveStart++,P.directiveEnd++,o&&(P.providerIndexes+=1048576),n.push(_e),p.push(_e)):(n[De]=_e,p[De]=_e)}else{const _e=sm(E,t,U+ne,q),De=sm(E,t,U,U+ne),qe=_e>=0&&n[_e],je=De>=0&&n[De];if(o&&!je||!o&&!qe){ue(b(P,p),c,E);const gt=function(e,t,n,r,o){const c=new Ii(e,n,qh);return c.multi=[],c.index=t,c.componentProviders=0,$v(c,o,r&&!n),c}(o?kw:xw,n.length,o,r,w);!o&&je&&(n[De].providerFactory=gt),im(c,e,t.length,0),t.push(E),P.directiveStart++,P.directiveEnd++,o&&(P.providerIndexes+=1048576),n.push(gt),p.push(gt)}else im(c,e,_e>-1?_e:De,$v(n[o?De:_e],w,!o&&r));!o&&r&&je&&n[De].componentProviders++}}}function im(e,t,n,r){const o=h(t);if(o||function(e){return!!e.useClass}(t)){const p=(t.useClass||t).prototype.ngOnDestroy;if(p){const E=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const w=E.indexOf(n);-1===w?E.push(n,[r,p]):E[w+1].push(r,p)}else E.push(n,p)}}}function $v(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function sm(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function xw(e,t,n,r){return om(this.multi,[])}function kw(e,t,n,r){const o=this.multi;let c;if(this.providerFactory){const p=this.providerFactory.componentProviders,E=$i(n,n[1],this.providerFactory.index,r);c=E.slice(0,p),om(o,c);for(let w=p;w<E.length;w++)c.push(E[w])}else c=[],om(o,c);return c}function om(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Wv(e,t=[]){return n=>{n.providersResolver=(r,o)=>function(e,t,n){const r=In();if(r.firstCreatePass){const o=Gr(e);rm(n,r.data,r.blueprint,o,!0),rm(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class Gv{}const Kv="ngComponent";class Vw{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${ee(e)}. Did you add it to @NgModule.entryComponents?`);return t[Kv]=e,t}(t)}}let Xd=(()=>{class e{}return e.NULL=new Vw,e})();function Cp(...e){}function eh(e,t){return new Bc(ct(e,t))}const jw=function(){return eh(ar(),it())};let Bc=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=jw,e})();function Zv(e){return e instanceof Bc?e.nativeElement:e}class bp{}let Hw=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ww(),e})();const Ww=function(){const e=it(),n=Nn(ar().index,e);return function(e){return e[11]}(nr(n)?n:e)};let lm=(()=>{class e{}return e.\u0275prov=bn({token:e,providedIn:"root",factory:()=>null}),e})();class Yv{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const cm=new Yv("12.2.15");class qv{constructor(){}supports(t){return Zh(t)}create(t){return new Zw(t)}}const Kw=(e,t)=>t;class Zw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Kw}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,c=null;for(;n||r;){const p=!r||n&&n.currentIndex<Jv(r,o,c)?n:r,E=Jv(p,o,c),w=p.currentIndex;if(p===r)o--,r=r._nextRemoved;else if(n=n._next,null==p.previousIndex)o++;else{c||(c=[]);const P=E-o,U=w-o;if(P!=U){for(let ne=0;ne<P;ne++){const _e=ne<c.length?c[ne]:c[ne]=0,De=_e+ne;U<=De&&De<P&&(c[ne]=_e+1)}c[p.previousIndex]=U-P}}E!==w&&t(p,E,w)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Zh(t))throw new Error(`Error trying to diff '${ee(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,c,p,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let E=0;E<this.length;E++)c=t[E],p=this._trackByFn(E,c),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,c,p,E)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,p,E),r=!0),n=n._next}else o=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ud()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,E=>{p=this._trackByFn(o,E),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,E,p,o)),Object.is(n.item,E)||this._addIdentityChange(n,E)):(n=this._mismatch(n,E,p,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,o)):t=this._addAfter(new Yw(n,r),c,o),t}_verifyReinsertion(t,n,r,o){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==c?t=this._reinsertAfter(c,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,c=t._nextRemoved;return null===o?this._removalsHead=c:o._nextRemoved=c,null===c?this._removalsTail=o:c._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Qv),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Yw{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Qv{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new qw,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jv(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class Xv{constructor(){}supports(t){return t instanceof Map||Og(t)}create(){return new Qw}}class Qw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Og(t)))throw new Error(`Error trying to diff '${ee(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const c=o._prev,p=o._next;return c&&(c._next=p),p&&(p._prev=c),o._next=null,o._prev=null,o}const r=new Jw(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class Jw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eE(){return new wp([new qv])}let wp=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||eE()),deps:[[e,new Io,new Ma]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=bn({token:e,providedIn:"root",factory:eE}),e})();function tE(){return new Ip([new Xv])}let Ip=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||tE()),deps:[[e,new Io,new Ma]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=bn({token:e,providedIn:"root",factory:tE}),e})();function Dp(e,t,n,r,o=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&r.push(fe(c)),Wr(c))for(let E=10;E<c.length;E++){const w=c[E],P=w[1].firstChild;null!==P&&Dp(w[1],w,P,r)}const p=n.type;if(8&p)Dp(e,t,n.child,r);else if(32&p){const E=f(n,t);let w;for(;w=E();)r.push(w)}else if(16&p){const E=Mf(t,n);if(Array.isArray(E))r.push(...E);else{const w=j(t[16]);Dp(w[1],w,E,r,!0)}}n=o?n.projectionNext:n.next}return r}class nf{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Dp(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Wr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Gu(t,r),Fs(n,r))}this._attachedToViewContainer=!1}Cu(this._lView[1],this._lView)}onDestroy(t){Nd(this._lView[1],this._lView,null,t)}markForCheck(){kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ld(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Ks(!0);try{Ld(e,t,n)}finally{Ks(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Iu(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class eI extends nf{constructor(t){super(t),this._view=t}detectChanges(){Uh(this._view)}checkNoChanges(){!function(e){Ks(!0);try{Uh(e)}finally{Ks(!1)}}(this._view)}get context(){return null}}const nI=function(e){return function(e,t,n){if(Hs(e)&&!n){const r=Nn(e.index,t);return new nf(r,r)}return 47&e.type?new nf(t[16],t):null}(ar(),it(),16==(16&e))};let rI=(()=>{class e{}return e.__NG_ELEMENT_ID__=nI,e})();const oI=[new Xv],lI=new wp([new qv]),cI=new Ip(oI),dI=function(){return Tp(ar(),it())};let rf=(()=>{class e{}return e.__NG_ELEMENT_ID__=dI,e})();const hI=rf,fI=class extends hI{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=Du(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(r[19]=c.createEmbeddedView(n)),qu(n,r,t),new nf(r)}};function Tp(e,t){return 4&e.type?new fI(t,e,eh(e,t)):null}class sd{}class nE{}const mI=function(){return sE(ar(),it())};let Ap=(()=>{class e{}return e.__NG_ELEMENT_ID__=mI,e})();const yI=Ap,rE=class extends yI{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return eh(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){const t=G(this._hostTNode,this._hostLView);if(ys(t)){const n=oi(t,this._hostLView),r=vs(t);return new qr(n[1].data[r+8],n)}return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=iE(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const o=t.createEmbeddedView(n||{});return this.insert(o,r),o}createComponent(t,n,r,o,c){const p=r||this.parentInjector;if(!c&&null==t.ngModule&&p){const w=p.get(sd,null);w&&(c=w)}const E=t.create(p,o,void 0,c);return this.insert(E.hostView,n),E}insert(t,n){const r=t._lView,o=r[1];if(Wr(r[3])){const U=this.indexOf(t);if(-1!==U)this.detach(U);else{const q=r[3],ne=new rE(q,q[6],q[3]);ne.detach(ne.indexOf(t))}}const c=this._adjustIndex(n),p=this._lContainer;!function(e,t,n,r){const o=10+r,c=n.length;r>0&&(n[o-1][4]=t),r<c-10?(t[4]=n[o],Ha(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const p=t[17];null!==p&&n!==p&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(p,t);const E=t[19];null!==E&&E.insertView(e),t[2]|=128}(o,r,p,c);const E=gh(c,p),w=r[11],P=Ed(w,p[7]);return null!==P&&function(e,t,n,r,o,c){r[0]=o,r[6]=t,Iu(e,r,n,1,o,c)}(o,p[6],w,r,P,E),t.attachToViewContainerRef(),Ha(um(p),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=iE(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Gu(this._lContainer,n);r&&(Fs(um(this._lContainer),n),Cu(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Gu(this._lContainer,n);return r&&null!=Fs(um(this._lContainer),n)?new nf(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function iE(e){return e[8]}function um(e){return e[8]||(e[8]=[])}function sE(e,t){let n;const r=t[e.index];if(Wr(r))n=r;else{let o;if(8&e.type)o=fe(r);else{const c=t[11];o=c.createComment("");const p=ct(e,t);ha(c,Ed(c,p),o,function(e,t){return O(e)?e.nextSibling(t):t.nextSibling}(c,p),!1)}t[e.index]=n=mg(r,t,o,e),Xu(t,n)}return new rE(n,e,t)}const ih={};class DE extends Xd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=vr(t);return new AE(n,this.ngModule)}}function TE(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const pD=new mr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>fd});class AE extends Gv{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(g_).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return TE(this.componentDef.inputs)}get outputs(){return TE(this.componentDef.outputs)}create(t,n,r,o){const c=(o=o||this.ngModule)?function(e,t){return{get:(n,r,o)=>{const c=e.get(n,ih,o);return c!==ih||r===ih?c:t.get(n,r,o)}}}(t,o.injector):t,p=c.get(bp,x),E=c.get(lm,null),w=p.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",U=r?function(e,t,n){if(O(e))return e.selectRootElement(t,n===nt.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(w,r,this.componentDef.encapsulation):ru(p.createRenderer(null,this.componentDef),P,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(P)),q=this.componentDef.onPush?576:528,ne=function(e,t){return{components:[],scheduler:e||fd,clean:yg,playerHandler:t||null,flags:0}}(),_e=Od(0,null,null,1,0,null,null,null,null,null),De=Du(null,_e,ne,q,null,null,p,w,E,c);let qe,je;vo(De);try{const gt=function(e,t,n,r,o,c){const p=n[1];n[20]=e;const w=Tu(p,20,2,"#host",null),P=w.mergedAttrs=t.hostAttrs;null!==P&&(ed(w,P,!0),null!==e&&(ta(o,e,P),null!==w.classes&&yh(o,e,w.classes),null!==w.styles&&xf(o,e,w.styles)));const U=r.createRenderer(e,t),q=Du(n,Qf(t),null,t.onPush?64:16,n[20],w,r,U,c||null,null);return p.firstCreatePass&&(ue(b(w,n),p,t.type),xd(p,w),gg(w,n.length,1)),Xu(n,q),n[20]=q}(U,this.componentDef,De,p,w);if(U)if(r)ta(w,U,["ng-version",cm.full]);else{const{attrs:st,classes:Qt}=function(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===o?""!==c&&t.push(c,e[++r]):8===o&&n.push(c);else{if(!Nl(o))break;o=c}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);st&&ta(w,U,st),Qt&&Qt.length>0&&yh(w,U,Qt.join(" "))}if(je=Pn(_e,20),void 0!==n){const st=je.projection=[];for(let Qt=0;Qt<this.ngContentSelectors.length;Qt++){const An=n[Qt];st.push(null!=An?Array.from(An):null)}}qe=function(e,t,n,r,o){const c=n[1],p=function(e,t,n){const r=ar();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ip(e,r,t,cc(e,t,1,null),n));const o=$i(t,e,r.directiveStart,r);Lt(o,t);const c=ct(r,t);return c&&Lt(c,t),o}(c,n,t);if(r.components.push(p),e[8]=p,o&&o.forEach(w=>w(p,t)),t.contentQueries){const w=ar();t.contentQueries(1,p,w.directiveStart)}const E=ar();return!c.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ns(E.index),hg(n[1],E,0,E.directiveStart,E.directiveEnd,t),kh(t,p)),p}(gt,this.componentDef,De,ne,[m0]),qu(_e,De,null)}finally{Os()}return new _D(this.componentType,qe,eh(je,De),De,je)}}class _D extends class{}{constructor(t,n,r,o,c){super(),this.location=r,this._rootLView=o,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new eI(o),this.componentType=t}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const sh=new Map;class ED extends sd{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new DE(this);const r=Er(t),o=t[Ut]||null;o&&em(o),this._bootstrapComponents=da(r.bootstrap),this._r3Injector=Gh(t,n,[{provide:sd,useValue:this},{provide:Xd,useValue:this.componentFactoryResolver}],ee(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Pe.THROW_IF_NOT_FOUND,r=vt.Default){return t===Pe||t===sd||t===au?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wm extends nE{constructor(t){super(),this.moduleType=t,null!==Er(t)&&function(e){const t=new Set;!function n(r){const o=Er(r,!0),c=o.id;null!==c&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${ee(t)} vs ${ee(t.name)}`)}(c,sh.get(c),r),sh.set(c,r));const p=da(o.imports);for(const E of p)t.has(E)||(t.add(E),n(E))}(e)}(t)}create(t){return new ED(this.moduleType,t)}}function ME(e,t,n){const r=Nr()+e,o=it();return o[r]===Sn?Vc(o,r,n?t.call(n):t()):function(e,t){return e[t]}(o,r)}function RE(e,t,n,r){return OE(it(),Nr(),e,t,n,r)}function hf(e,t){const n=e[t];return n===Sn?void 0:n}function OE(e,t,n,r,o,c){const p=t+n;return ga(e,p,o)?Vc(e,p+1,c?r.call(c,o):r(o)):hf(e,p+1)}function NE(e,t,n,r,o,c,p){const E=t+n;return function(e,t,n,r){const o=ga(e,t,n);return ga(e,t+1,r)||o}(e,E,o,c)?Vc(e,E+2,p?r.call(p,o,c):r(o,c)):hf(e,E+2)}function LE(e,t){const n=In();let r;const o=e+20;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new Le("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,r.onDestroy)):r=n.data[o];const c=r.factory||(r.factory=Ui(r.type)),p=Tr(qh);try{const E=Ni(!1),w=c();return Ni(E),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,it(),o,w),w}finally{Tr(p)}}function VE(e,t,n){const r=e+20,o=it(),c=$t(o,r);return pf(o,ff(o,r)?OE(o,Nr(),t,c.transform,n,c):c.transform(n))}function UE(e,t,n,r){const o=e+20,c=it(),p=$t(c,o);return pf(c,ff(c,o)?NE(c,Nr(),t,p.transform,n,r,p):p.transform(n,r))}function ff(e,t){return e[1].data[t].pure}function pf(e,t){return hc.isWrapped(t)&&(t=hc.unwrap(t),e[Kt.lFrame.bindingIndex]=Sn),t}function Im(e){return t=>{setTimeout(e,void 0,t)}}const jc=class extends D.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var o,c,p;let E=t,w=n||(()=>null),P=r;if(t&&"object"==typeof t){const q=t;E=null===(o=q.next)||void 0===o?void 0:o.bind(q),w=null===(c=q.error)||void 0===c?void 0:c.bind(q),P=null===(p=q.complete)||void 0===p?void 0:p.bind(q)}this.__isAsync&&(w=Im(w),E&&(E=Im(E)),P&&(P=Im(P)));const U=super.subscribe({next:E,error:w,complete:P});return t instanceof m.w&&t.add(U),U}};function xD(){return this._results[Ud()]()}class Op{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ud(),r=Op.prototype;r[n]||(r[n]=xD)}get changes(){return this._changes||(this._changes=new jc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=Wi(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],c=t[r];if(n&&(o=n(o),c=n(c)),c!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Dm{constructor(t){this.queryList=t,this.matches=null}clone(){return new Dm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let c=0;c<r;c++){const p=n.getByIndex(c);o.push(this.queries[p.indexInDeclarationView].clone())}return new Tm(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==ZE(t,n).matches&&this.queries[n].setDirty()}}class BE{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Am{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,o);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new Am(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Sm{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Sm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const c=r[o];this.matchTNodeWithReadOption(t,n,LD(n,c)),this.matchTNodeWithReadOption(t,n,Di(n,t,c,!1,!1))}else r===rf?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Di(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Bc||o===Ap||o===rf&&4&n.type)this.addMatch(n.index,-2);else{const c=Di(n,t,o,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function LD(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function UD(e,t,n,r){return-1===n?function(e,t){return 11&e.type?eh(e,t):4&e.type?Tp(e,t):null}(t,e):-2===n?function(e,t,n){return n===Bc?eh(t,e):n===rf?Tp(t,e):n===Ap?sE(t,e):void 0}(e,t,r):$i(e,e[1],n,t)}function jE(e,t,n,r){const o=t[19].queries[r];if(null===o.matches){const c=e.data,p=n.matches,E=[];for(let w=0;w<p.length;w+=2){const P=p[w];E.push(P<0?null:UD(t,c[P],p[w+1],n.metadata.read))}o.matches=E}return o.matches}function Pm(e,t,n,r){const o=e.queries.getByIndex(n),c=o.matches;if(null!==c){const p=jE(e,t,o,n);for(let E=0;E<c.length;E+=2){const w=c[E];if(w>0)r.push(p[E/2]);else{const P=c[E+1],U=t[-w];for(let q=10;q<U.length;q++){const ne=U[q];ne[17]===ne[3]&&Pm(ne[1],ne,P,r)}if(null!==U[9]){const q=U[9];for(let ne=0;ne<q.length;ne++){const _e=q[ne];Pm(_e[1],_e,P,r)}}}}}return r}function HE(e){const t=it(),n=In(),r=Zs();Ys(r+1);const o=ZE(n,r);if(e.dirty&&zn(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const c=o.crossesNgTemplate?Pm(n,t,r,[]):jE(n,t,o,r);e.reset(c,Zv),e.notifyOnChanges()}return!0}return!1}function $E(e,t,n){const r=In();r.firstCreatePass&&(KE(r,new BE(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),zE(r,it(),t)}function WE(e,t,n,r){const o=In();if(o.firstCreatePass){const c=ar();KE(o,new BE(t,n,r),c.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}zE(o,it(),n)}function GE(){return e=it(),t=Zs(),e[19].queries[t].queryList;var e,t}function zE(e,t,n){const r=new Op(4==(4&n));Nd(e,t,r,r.destroy),null===t[19]&&(t[19]=new Tm),t[19].queries.push(new Dm(r))}function KE(e,t,n){null===e.queries&&(e.queries=new Am),e.queries.track(new Sm(t,n))}function ZE(e,t){return e.queries.getByIndex(t)}function YE(e,t){return Tp(e,t)}const km=new mr("Application Initializer");let ah=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Cp,this.reject=Cp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const c=this.appInits[o]();if(Hg(c))n.push(c);else if($g(c)){const p=new Promise((E,w)=>{c.subscribe({complete:E,error:w})});n.push(p)}}Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ai(km,8))},e.\u0275prov=bn({token:e,factory:e.\u0275fac}),e})();const fC=new mr("AppId"),gT={provide:fC,useFactory:function(){return`${Fm()}${Fm()}${Fm()}`},deps:[]};function Fm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pC=new mr("Platform Initializer"),gC=new mr("Platform ID"),mC=new mr("appBootstrapListener");let _C=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=bn({token:e,factory:e.\u0275fac}),e})();const kp=new mr("LocaleId"),yC=new mr("DefaultCurrencyCode");class _T{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const Lm=function(e){return new wm(e)},yT=Lm,vT=function(e){return Promise.resolve(Lm(e))},vC=function(e){const t=Lm(e),r=da(Er(e).declarations).reduce((o,c)=>{const p=vr(c);return p&&o.push(new AE(p)),o},[]);return new _T(t,r)},ET=vC,CT=function(e){return Promise.resolve(vC(e))};let mf=(()=>{class e{constructor(){this.compileModuleSync=yT,this.compileModuleAsync=vT,this.compileModuleAndAllComponentsSync=ET,this.compileModuleAndAllComponentsAsync=CT}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=bn({token:e,factory:e.\u0275fac}),e})();const IT=(()=>Promise.resolve(0))();function Vm(e){"undefined"==typeof Zone?IT.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class _l{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jc(!1),this.onMicrotaskEmpty=new jc(!1),this.onStable=new jc(!1),this.onError=new jc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function(){let e=Tt.requestAnimationFrame,t=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Tt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Bm(e),e.isCheckStableRunning=!0,Um(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Bm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,c,p,E)=>{try{return EC(e),n.invokeTask(o,c,p,E)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),CC(e)}},onInvoke:(n,r,o,c,p,E,w)=>{try{return EC(e),n.invoke(o,c,p,E,w)}finally{e.shouldCoalesceRunChangeDetection&&t(),CC(e)}},onHasTask:(n,r,o,c)=>{n.hasTask(o,c),r===o&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,Bm(e),Um(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,r,o,c)=>(n.handleError(o,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(o)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_l.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_l.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const c=this._inner,p=c.scheduleEventTask("NgZoneEvent: "+o,t,TT,Cp,Cp);try{return c.runTask(p,n,r)}finally{c.cancelTask(p)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const TT={};function Um(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Bm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function EC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function CC(e){e._nesting--,Um(e)}class PT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jc,this.onMicrotaskEmpty=new jc,this.onStable=new jc,this.onError=new jc}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}let bC=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_l.assertNotInAngularZone(),Vm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==c),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(ai(_l))},e.\u0275prov=bn({token:e,factory:e.\u0275fac}),e})(),wC=(()=>{class e{constructor(){this._applications=new Map,jm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return jm.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=bn({token:e,factory:e.\u0275fac}),e})();class MT{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}function RT(e){jm=e}let jm=new MT,IC=!0,DC=!1;function Hm(){return DC=!0,IC}function OT(){if(DC)throw new Error("Cannot enable prod mode after platform setup.");IC=!1}let yc;const TC=new mr("AllowMultipleToken");class UT{constructor(t,n){this.name=t,this.token=n}}function AC(e,t,n=[]){const r=`Platform: ${t}`,o=new mr(r);return(c=[])=>{let p=SC();if(!p||p.injector.get(TC,!1))if(e)e(n.concat(c).concat({provide:o,useValue:!0}));else{const E=n.concat(c).concat({provide:o,useValue:!0},{provide:td,useValue:"platform"});!function(e){if(yc&&!yc.destroyed&&!yc.injector.get(TC,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yc=e.get(PC);const t=e.get(pC,null);t&&t.forEach(n=>n())}(Pe.create({providers:E,name:r}))}return function(e){const t=SC();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(o)}}function SC(){return yc&&!yc.destroyed?yc:null}let PC=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const E=function(e,t){let n;return n="noop"===e?new PT:("zone.js"===e?void 0:e)||new _l({enableLongStackTrace:Hm(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),w=[{provide:_l,useValue:E}];return E.run(()=>{const P=Pe.create({providers:w,parent:this.injector,name:n.moduleType.name}),U=n.create(P),q=U.injector.get(on,null);if(!q)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const ne=E.onError.subscribe({next:_e=>{q.handleError(_e)}});U.onDestroy(()=>{$m(this._modules,U),ne.unsubscribe()})}),function(e,t,n){try{const r=n();return Hg(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(q,E,()=>{const ne=U.injector.get(ah);return ne.runInitializers(),ne.donePromise.then(()=>(em(U.injector.get(kp,mp)||mp),this._moduleDoBootstrap(U),U))})})}bootstrapModule(n,r=[]){const o=MC({},r);return function(e,t,n){const r=new wm(n);return Promise.resolve(r)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,o))}_moduleDoBootstrap(n){const r=n.injector.get(_f);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${ee(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ai(Pe))},e.\u0275prov=bn({token:e,factory:e.\u0275fac}),e})();function MC(e,t){return Array.isArray(t)?t.reduce(MC,e):Object.assign(Object.assign({},e),t)}let _f=(()=>{class e{constructor(n,r,o,c,p){this._zone=n,this._injector=r,this._exceptionHandler=o,this._componentFactoryResolver=c,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new B.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),w=new B.y(P=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{_l.assertNotInAngularZone(),Vm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{_l.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{U.unsubscribe(),q.unsubscribe()}});this.isStable=(0,Ee.T)(E,w.pipe((0,de.B)()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let o;o=n instanceof Gv?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(o.componentType);const c=function(e){return e.isBoundToModule}(o)?void 0:this._injector.get(sd),E=o.create(Pe.NULL,[],r||o.selector,c),w=E.location.nativeElement,P=E.injector.get(bC,null),U=P&&E.injector.get(wC);return P&&U&&U.registerApplication(w,P),E.onDestroy(()=>{this.detachView(E.hostView),$m(this.components,E),U&&U.unregisterApplication(w)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;$m(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(mC,[]).concat(this._bootstrapListeners).forEach(o=>o(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(ai(_l),ai(Pe),ai(on),ai(Xd),ai(ah))},e.\u0275prov=bn({token:e,factory:e.\u0275fac}),e})();function $m(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class GT{}class KT{}const ZT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let YT=(()=>{class e{constructor(n,r){this._compiler=n,this._config=r||ZT}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,o]=n.split("#");return void 0===o&&(o="default"),L(8255)(r).then(c=>c[o]).then(c=>xC(c,r,o)).then(c=>this._compiler.compileModuleAsync(c))}loadFactory(n){let[r,o]=n.split("#"),c="NgFactory";return void 0===o&&(o="default",c=""),L(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(p=>p[o+c]).then(p=>xC(p,r,o))}}return e.\u0275fac=function(n){return new(n||e)(ai(mf),ai(KT,8))},e.\u0275prov=bn({token:e,factory:e.\u0275fac}),e})();function xC(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const rA=function(e){return null},sA=AC(null,"core",[{provide:gC,useValue:"unknown"},{provide:PC,deps:[Pe]},{provide:wC,deps:[]},{provide:_C,deps:[]}]),uA=[{provide:_f,useClass:_f,deps:[_l,Pe,on,Xd,ah]},{provide:pD,deps:[_l],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:ah,useClass:ah,deps:[[new Ma,km]]},{provide:mf,useClass:mf,deps:[]},gT,{provide:wp,useFactory:function(){return lI},deps:[]},{provide:Ip,useFactory:function(){return cI},deps:[]},{provide:kp,useFactory:function(e){return em(e=e||"undefined"!=typeof $localize&&$localize.locale||mp),e},deps:[[new ol(kp),new Ma,new Io]]},{provide:yC,useValue:"USD"}];let hA=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ai(_f))},e.\u0275mod=mi({type:e}),e.\u0275inj=Wn({providers:uA}),e})()},8747:(ft,Me,L)=>{"use strict";L.d(Me,{hO:()=>me,xv:()=>ie,Dh:()=>ee,GT:()=>X,cc:()=>Ie,on:()=>Y,pX:()=>de});var D=L(7716),m=L(7841),B=L(5096);ft=L.hmd(ft);const Ee=["ngOnDestroy"],de=(Ae,He,ze,Se={})=>new Proxy(Ae,{get:(Be,Oe)=>ze.runOutsideAngular(()=>{var Je;if(Ae[Oe])return(null===(Je=null==Se?void 0:Se.spy)||void 0===Je?void 0:Je.get)&&Se.spy.get(Oe,Ae[Oe]),Ae[Oe];if(Ee.indexOf(Oe)>-1)return()=>{};const dt=He.toPromise().then(pt=>{const Z=pt&&pt[Oe];return"function"==typeof Z?Z.bind(pt):Z&&Z.then?Z.then(mt=>ze.run(()=>mt)):ze.run(()=>Z)});return new Proxy(()=>{},{get:(pt,Z)=>dt[Z],apply:(pt,Z,mt)=>dt.then(Wt=>{var Ft;const en=Wt&&Wt(...mt);return(null===(Ft=null==Se?void 0:Se.spy)||void 0===Ft?void 0:Ft.apply)&&Se.spy.apply(Oe,mt,en),en})})})}),X=(Ae,He)=>{He.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Se=>{Object.defineProperty(Ae.prototype,Se,Object.getOwnPropertyDescriptor(ze.prototype||ze,Se))})})};class se{constructor(He){return He}}const ee=new D.OlP("angularfire2.app.options"),ie=new D.OlP("angularfire2.app.name");function Y(Ae,He,ze){const Be="object"==typeof ze&&ze||{};Be.name=Be.name||"string"==typeof ze&&ze||"[DEFAULT]";const Je=m.Z.apps.filter(dt=>dt&&dt.name===Be.name)[0]||He.runOutsideAngular(()=>m.Z.initializeApp(Ae,Be));try{JSON.stringify(Ae)!==JSON.stringify(Je.options)&&J("error",`${Je.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(dt){}return new se(Je)}const J=(Ae,...He)=>{(0,D.X6Q)()&&"undefined"!=typeof console&&console[Ae](...He)},Q={provide:se,useFactory:Y,deps:[ee,D.R0b,[new D.FiY,ie]]};let me=(()=>{class Ae{constructor(ze){m.Z.registerVersion("angularfire",B.q4.full,"core"),m.Z.registerVersion("angularfire",B.q4.full,"app-compat"),m.Z.registerVersion("angular",D.q4F.full,ze.toString())}static initializeApp(ze,Se){return{ngModule:Ae,providers:[{provide:ee,useValue:ze},{provide:ie,useValue:Se}]}}}return Ae.\u0275fac=function(ze){return new(ze||Ae)(D.LFG(D.Lbi))},Ae.\u0275mod=D.oAB({type:Ae}),Ae.\u0275inj=D.cJS({providers:[Q]}),Ae})();function Ie(Ae,He,ze,Se,Be){const[,Oe,Je]=globalThis.\u0275AngularfireInstanceCache.find(dt=>dt[0]===Ae)||[];if(Oe)return function(Ae,He){try{return Ae.toString()===He.toString()}catch(ze){return Ae===He}}(Be,Je)||(Re("error",`${He} was already initialized on the ${ze} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:Be,was:Je})),Oe;{const dt=Se();return globalThis.\u0275AngularfireInstanceCache.push([Ae,dt,Be]),dt}}const Ve=!!ft.hot,Re=(Ae,...He)=>{(0,D.X6Q)()&&"undefined"!=typeof console&&console[Ae](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5096:(ft,Me,L)=>{"use strict";L.d(Me,{q4:()=>Wl,iC:()=>Aa,HU:()=>bl,vb:()=>Ha,JM:()=>ki});var D=L(7716),m=L(2329),B=L(8239),Ee=L(8026),de=L(3854),X=L(3910),se=L(5422),ee=L(6676);const ie="@firebase/installations",Y="0.5.4",Q=`w:${Y}`,me="FIS_v2",He=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ze(S){return S instanceof de.ZR&&S.code.includes("request-failed")}function Se({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Be(S){return{token:S.token,requestStatus:2,expiresIn:Wt(S.expiresIn),creationTime:Date.now()}}function Oe(S,F){return Je.apply(this,arguments)}function Je(){return(Je=(0,B.Z)(function*(S,F){const le=(yield F.json()).error;return He.create("request-failed",{requestName:S,serverCode:le.code,serverMessage:le.message,serverStatus:le.status})})).apply(this,arguments)}function dt({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function pt(S,{refreshToken:F}){const K=dt(S);return K.append("Authorization",function(S){return`${me} ${S}`}(F)),K}function Z(S){return mt.apply(this,arguments)}function mt(){return(mt=(0,B.Z)(function*(S){const F=yield S();return F.status>=500&&F.status<600?S():F})).apply(this,arguments)}function Wt(S){return Number(S.replace("s","000"))}function en(S,F){return bt.apply(this,arguments)}function bt(){return(bt=(0,B.Z)(function*(S,{fid:F}){const K=Se(S),Ke={method:"POST",headers:dt(S),body:JSON.stringify({fid:F,authVersion:me,appId:S.appId,sdkVersion:Q})},at=yield Z(()=>fetch(K,Ke));if(at.ok){const Dt=yield at.json();return{fid:Dt.fid||F,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:Be(Dt.authToken)}}throw yield Oe("Create Installation",at)})).apply(this,arguments)}function kr(S){return new Promise(F=>{setTimeout(F,S)})}const $n=/^[cdef][\w-]{21}$/;function En(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const K=function(S){return function(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return $n.test(K)?K:""}catch(S){return""}}function br(S){return`${S.appName}!${S.appId}`}const ti=new Map;function _r(S,F){const K=br(S);Wn(K,F),function(S,F){const K=(!Yt&&"BroadcastChannel"in self&&(Yt=new BroadcastChannel("[Firebase] FID Change"),Yt.onmessage=S=>{Wn(S.data.key,S.data.fid)}),Yt);K&&K.postMessage({key:S,fid:F}),0===ti.size&&Yt&&(Yt.close(),Yt=null)}(K,F)}function Wn(S,F){const K=ti.get(S);if(K)for(const le of K)le(F)}let Yt=null;const rt="firebase-installations-store";let Ir=null;function rn(){return Ir||(Ir=(0,ee.openDb)("firebase-installations-database",1,S=>{switch(S.oldVersion){case 0:S.createObjectStore(rt)}})),Ir}function vt(S,F){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,B.Z)(function*(S,F){const K=br(S),xe=(yield rn()).transaction(rt,"readwrite"),Ke=xe.objectStore(rt),at=yield Ke.get(K);return yield Ke.put(F,K),yield xe.complete,(!at||at.fid!==F.fid)&&_r(S,F.fid),F})).apply(this,arguments)}function jt(S){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,B.Z)(function*(S){const F=br(S),le=(yield rn()).transaction(rt,"readwrite");yield le.objectStore(rt).delete(F),yield le.complete})).apply(this,arguments)}function Fe(S,F){return ce.apply(this,arguments)}function ce(){return(ce=(0,B.Z)(function*(S,F){const K=br(S),xe=(yield rn()).transaction(rt,"readwrite"),Ke=xe.objectStore(rt),at=yield Ke.get(K),Dt=F(at);return void 0===Dt?yield Ke.delete(K):yield Ke.put(Dt,K),yield xe.complete,Dt&&(!at||at.fid!==Dt.fid)&&_r(S,Dt.fid),Dt})).apply(this,arguments)}function he(S){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,B.Z)(function*(S){let F;const K=yield Fe(S,le=>{const xe=ot(le),Ke=yt(S,xe);return F=Ke.registrationPromise,Ke.installationEntry});return""===K.fid?{installationEntry:yield F}:{installationEntry:K,registrationPromise:F}})).apply(this,arguments)}function ot(S){return Tt(S||{fid:En(),registrationStatus:0})}function yt(S,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(He.create("app-offline"))};const K={fid:F.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:K,registrationPromise:function(S,F){return Ct.apply(this,arguments)}(S,K)}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:gn(S)}:{installationEntry:F}}function Ct(){return(Ct=(0,B.Z)(function*(S,F){try{return vt(S,yield en(S,F))}catch(K){throw ze(K)&&409===K.customData.serverCode?yield jt(S):yield vt(S,{fid:F.fid,registrationStatus:0}),K}})).apply(this,arguments)}function gn(S){return tr.apply(this,arguments)}function tr(){return(tr=(0,B.Z)(function*(S){let F=yield Cn(S);for(;1===F.registrationStatus;)yield kr(100),F=yield Cn(S);if(0===F.registrationStatus){const{installationEntry:K,registrationPromise:le}=yield he(S);return le||K}return F})).apply(this,arguments)}function Cn(S){return Fe(S,F=>{if(!F)throw He.create("installation-not-found");return Tt(F)})}function Tt(S){return function(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function hn(S,F){return ge.apply(this,arguments)}function ge(){return(ge=(0,B.Z)(function*({appConfig:S,platformLoggerProvider:F},K){const le=ae(S,K),xe=pt(S,K),Ke=F.getImmediate({optional:!0});Ke&&xe.append("x-firebase-client",Ke.getPlatformInfoString());const Dt={method:"POST",headers:xe,body:JSON.stringify({installation:{sdkVersion:Q}})},St=yield Z(()=>fetch(le,Dt));if(St.ok)return Be(yield St.json());throw yield Oe("Generate Auth Token",St)})).apply(this,arguments)}function ae(S,{fid:F}){return`${Se(S)}/${F}/authTokens:generate`}function Ce(S){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,B.Z)(function*(S,F=!1){let K;const le=yield Fe(S.appConfig,Ke=>{if(!Gn(Ke))throw He.create("not-registered");const at=Ke.authToken;if(!F&&Ht(at))return Ke;if(1===at.requestStatus)return K=Ue(S,F),Ke;{if(!navigator.onLine)throw He.create("app-offline");const Dt=Pr(Ke);return K=Dn(S,Dt),Dt}});return K?yield K:le.authToken})).apply(this,arguments)}function Ue(S,F){return wt.apply(this,arguments)}function wt(){return(wt=(0,B.Z)(function*(S,F){let K=yield Ut(S.appConfig);for(;1===K.authToken.requestStatus;)yield kr(100),K=yield Ut(S.appConfig);const le=K.authToken;return 0===le.requestStatus?Ce(S,F):le})).apply(this,arguments)}function Ut(S){return Fe(S,F=>{if(!Gn(F))throw He.create("not-registered");return function(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function Dn(S,F){return ir.apply(this,arguments)}function ir(){return(ir=(0,B.Z)(function*(S,F){try{const K=yield hn(S,F),le=Object.assign(Object.assign({},F),{authToken:K});return yield vt(S.appConfig,le),K}catch(K){if(!ze(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const le=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield vt(S.appConfig,le)}else yield jt(S.appConfig);throw K}})).apply(this,arguments)}function Gn(S){return void 0!==S&&2===S.registrationStatus}function Ht(S){return 2===S.requestStatus&&!function(S){const F=Date.now();return F<S.creationTime||S.creationTime+S.expiresIn<F+36e5}(S)}function Pr(S){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:F})}function mi(){return(mi=(0,B.Z)(function*(S){const F=S,{installationEntry:K,registrationPromise:le}=yield he(F.appConfig);return le?le.catch(console.error):Ce(F).catch(console.error),K.fid})).apply(this,arguments)}function Qi(){return(Qi=(0,B.Z)(function*(S,F=!1){const K=S;return yield Vi(K.appConfig),(yield Ce(K,F)).token})).apply(this,arguments)}function Vi(S){return yr.apply(this,arguments)}function yr(){return(yr=(0,B.Z)(function*(S){const{registrationPromise:F}=yield he(S);F&&(yield F)})).apply(this,arguments)}function Vn(S){return He.create("missing-app-config-values",{valueName:S})}const Lr="installations";(0,Ee._registerComponent)(new X.wA(Lr,S=>{const F=S.getProvider("app").getImmediate();return{app:F,appConfig:function(S){if(!S||!S.options)throw Vn("App Configuration");if(!S.name)throw Vn("App Name");const F=["projectId","apiKey","appId"];for(const K of F)if(!S.options[K])throw Vn(K);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(F),platformLoggerProvider:(0,Ee._getProvider)(F,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Ee._registerComponent)(new X.wA("installations-internal",S=>{const F=S.getProvider("app").getImmediate(),K=(0,Ee._getProvider)(F,Lr).getImmediate();return{getId:()=>function(S){return mi.apply(this,arguments)}(K),getToken:xe=>function(S){return Qi.apply(this,arguments)}(K,xe)}},"PRIVATE")),(0,Ee.registerVersion)(ie,Y),(0,Ee.registerVersion)(ie,Y,"esm2017");const ui="@firebase/remote-config",re=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ji{constructor(F,K,le,xe){this.client=F,this.storage=K,this.storageCache=le,this.logger=xe}isCachedDataFresh(F,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-K,xe=le<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${xe}.`),xe}fetch(F){var K=this;return(0,B.Z)(function*(){const[le,xe]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(xe&&K.isCachedDataFresh(F.cacheMaxAgeMillis,le))return xe;F.eTag=xe&&xe.eTag;const Ke=yield K.client.fetch(F),at=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ke.status&&at.push(K.storage.setLastSuccessfulFetchResponse(Ke)),yield Promise.all(at),Ke})()}}function Gr(S=navigator){return S.languages&&S.languages[0]||S.language}class di{constructor(F,K,le,xe,Ke,at){this.firebaseInstallations=F,this.sdkVersion=K,this.namespace=le,this.projectId=xe,this.apiKey=Ke,this.appId=at}fetch(F){var K=this;return(0,B.Z)(function*(){const[le,xe]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),at=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,Dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},St={sdk_version:K.sdkVersion,app_instance_id:le,app_instance_id_token:xe,app_id:K.appId,language_code:Gr()},kn={method:"POST",headers:Dt,body:JSON.stringify(St)},lr=fetch(at,kn),Jr=new Promise((ro,zi)=>{F.signal.addEventListener(()=>{const io=new Error("The operation was aborted.");io.name="AbortError",zi(io)})});let Gi;try{yield Promise.race([lr,Jr]),Gi=yield lr}catch(ro){let zi="fetch-client-network";throw"AbortError"===ro.name&&(zi="fetch-timeout"),re.create(zi,{originalErrorMessage:ro.message})}let Ti=Gi.status;const sl=Gi.headers.get("ETag")||void 0;let Pa,oa;if(200===Gi.status){let ro;try{ro=yield Gi.json()}catch(zi){throw re.create("fetch-client-parse",{originalErrorMessage:zi.message})}Pa=ro.entries,oa=ro.state}if("INSTANCE_STATE_UNSPECIFIED"===oa?Ti=500:"NO_CHANGE"===oa?Ti=304:("NO_TEMPLATE"===oa||"EMPTY_CONFIG"===oa)&&(Pa={}),304!==Ti&&200!==Ti)throw re.create("fetch-status",{httpStatus:Ti});return{status:Ti,eTag:sl,config:Pa}})()}}class Ps{constructor(F,K){this.client=F,this.storage=K}fetch(F){var K=this;return(0,B.Z)(function*(){const le=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(F,le)})()}attemptFetch(F,{throttleEndTimeMillis:K,backoffCount:le}){var xe=this;return(0,B.Z)(function*(){yield function(S,F){return new Promise((K,le)=>{const xe=Math.max(F-Date.now(),0),Ke=setTimeout(K,xe);S.addEventListener(()=>{clearTimeout(Ke),le(re.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,K);try{const Ke=yield xe.client.fetch(F);return yield xe.storage.deleteThrottleMetadata(),Ke}catch(Ke){if(!function(S){if(!(S instanceof de.ZR&&S.customData))return!1;const F=Number(S.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ke))throw Ke;const at={throttleEndTimeMillis:Date.now()+(0,de.$s)(le),backoffCount:le+1};return yield xe.storage.setThrottleMetadata(at),xe.attemptFetch(F,at)}})()}}class qn{constructor(F,K,le,xe,Ke){this.app=F,this._client=K,this._storageCache=le,this._storage=xe,this._logger=Ke,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wn(S,F){const K=S.target.error||void 0;return re.create(F,{originalErrorMessage:K&&K.message})}const Xt="app_namespace_store";class Qa{constructor(F,K,le,xe=function(){return new Promise((S,F)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=le=>{F(wn(le,"storage-open"))},K.onsuccess=le=>{S(le.target.result)},K.onupgradeneeded=le=>{const xe=le.target.result;switch(le.oldVersion){case 0:xe.createObjectStore(Xt,{keyPath:"compositeKey"})}}}catch(K){F(re.create("storage-open",{originalErrorMessage:K}))}})}()){this.appId=F,this.appName=K,this.namespace=le,this.openDbPromise=xe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var K=this;return(0,B.Z)(function*(){const le=yield K.openDbPromise;return new Promise((xe,Ke)=>{const Dt=le.transaction([Xt],"readonly").objectStore(Xt),St=K.createCompositeKey(F);try{const kn=Dt.get(St);kn.onerror=lr=>{Ke(wn(lr,"storage-get"))},kn.onsuccess=lr=>{const Jr=lr.target.result;xe(Jr?Jr.value:void 0)}}catch(kn){Ke(re.create("storage-get",{originalErrorMessage:kn&&kn.message}))}})})()}set(F,K){var le=this;return(0,B.Z)(function*(){const xe=yield le.openDbPromise;return new Promise((Ke,at)=>{const St=xe.transaction([Xt],"readwrite").objectStore(Xt),kn=le.createCompositeKey(F);try{const lr=St.put({compositeKey:kn,value:K});lr.onerror=Jr=>{at(wn(Jr,"storage-set"))},lr.onsuccess=()=>{Ke()}}catch(lr){at(re.create("storage-set",{originalErrorMessage:lr&&lr.message}))}})})()}delete(F){var K=this;return(0,B.Z)(function*(){const le=yield K.openDbPromise;return new Promise((xe,Ke)=>{const Dt=le.transaction([Xt],"readwrite").objectStore(Xt),St=K.createCompositeKey(F);try{const kn=Dt.delete(St);kn.onerror=lr=>{Ke(wn(lr,"storage-delete"))},kn.onsuccess=()=>{xe()}}catch(kn){Ke(re.create("storage-delete",{originalErrorMessage:kn&&kn.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class $s{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,B.Z)(function*(){const K=F.storage.getLastFetchStatus(),le=F.storage.getLastSuccessfulFetchTimestampMillis(),xe=F.storage.getActiveConfig(),Ke=yield K;Ke&&(F.lastFetchStatus=Ke);const at=yield le;at&&(F.lastSuccessfulFetchTimestampMillis=at);const Dt=yield xe;Dt&&(F.activeConfig=Dt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Rr(){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,B.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(S){return!1}})).apply(this,arguments)}(0,Ee._registerComponent)(new X.wA("remote-config",function(F,{instanceIdentifier:K}){const le=F.getProvider("app").getImmediate(),xe=F.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw re.create("registration-window");if(!(0,de.hl)())throw re.create("indexed-db-unavailable");const{projectId:Ke,apiKey:at,appId:Dt}=le.options;if(!Ke)throw re.create("registration-project-id");if(!at)throw re.create("registration-api-key");if(!Dt)throw re.create("registration-app-id");const St=new Qa(Dt,le.name,K=K||"firebase"),kn=new $s(St),lr=new se.Yd(ui);lr.logLevel=se.in.ERROR;const Jr=new di(xe,Ee.SDK_VERSION,K,Ke,at,Dt),Gi=new Ps(Jr,St),Ti=new Ji(Gi,St,kn,lr),sl=new qn(le,Ti,kn,St,lr);return function(S){const F=(0,de.m9)(S);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(sl),sl},"PUBLIC").setMultipleInstances(!0)),(0,Ee.registerVersion)(ui,"0.3.3"),(0,Ee.registerVersion)(ui,"0.3.3","esm2017");const Ms="/firebase-messaging-sw.js",Dr="/firebase-cloud-messaging-push-scope",Mo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ui="google.c.a.c_id",ho="google.c.a.c_l",Vr="google.c.a.ts",Ws="google.c.a.e";var Or=(()=>{return(S=Or||(Or={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Or;var S})();function Bi(S){const F=new Uint8Array(S);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gs(S){const K=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(K),xe=new Uint8Array(le.length);for(let Ke=0;Ke<le.length;++Ke)xe[Ke]=le.charCodeAt(Ke);return xe}const Yo="fcm_token_details_db",Qo="fcm_token_object_Store";function or(S){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,B.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ke=>Ke.name).includes(Yo))return null;let F=null;return(yield(0,ee.openDb)(Yo,5,function(){var le=(0,B.Z)(function*(xe){var Ke;if(xe.oldVersion<2||!xe.objectStoreNames.contains(Qo))return;const at=xe.transaction.objectStore(Qo),Dt=yield at.index("fcmSenderId").get(S);if(yield at.clear(),Dt)if(2===xe.oldVersion){const St=Dt;if(!St.auth||!St.p256dh||!St.endpoint)return;F={token:St.fcmToken,createTime:null!==(Ke=St.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:Bi(St.vapidKey)}}}else if(3===xe.oldVersion){const St=Dt;F={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Bi(St.auth),p256dh:Bi(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Bi(St.vapidKey)}}}else if(4===xe.oldVersion){const St=Dt;F={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Bi(St.auth),p256dh:Bi(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Bi(St.vapidKey)}}}});return function(xe){return le.apply(this,arguments)}}())).close(),yield(0,ee.deleteDb)(Yo),yield(0,ee.deleteDb)("fcm_vapid_details_db"),yield(0,ee.deleteDb)("undefined"),_n(F)?F:null})).apply(this,arguments)}function _n(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:F}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const Xi="firebase-messaging-store";let es=null;function O(){return es||(es=(0,ee.openDb)("firebase-messaging-database",1,S=>{switch(S.oldVersion){case 0:S.createObjectStore(Xi)}})),es}function W(S){return x.apply(this,arguments)}function x(){return(x=(0,B.Z)(function*(S){const F=Pt(S),le=yield(yield O()).transaction(Xi).objectStore(Xi).get(F);if(le)return le;{const xe=yield or(S.appConfig.senderId);if(xe)return yield z(S,xe),xe}})).apply(this,arguments)}function z(S,F){return fe.apply(this,arguments)}function fe(){return(fe=(0,B.Z)(function*(S,F){const K=Pt(S),xe=(yield O()).transaction(Xi,"readwrite");return yield xe.objectStore(Xi).put(F,K),yield xe.complete,F})).apply(this,arguments)}function Ye(S){return lt.apply(this,arguments)}function lt(){return(lt=(0,B.Z)(function*(S){const F=Pt(S),le=(yield O()).transaction(Xi,"readwrite");yield le.objectStore(Xi).delete(F),yield le.complete})).apply(this,arguments)}function Pt({appConfig:S}){return S.appId}const un=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pn(S,F){return $t.apply(this,arguments)}function $t(){return($t=(0,B.Z)(function*(S,F){const K=yield Tn(S),le=Kt(F),xe={method:"POST",headers:K,body:JSON.stringify(le)};let Ke;try{Ke=yield(yield fetch(yn(S.appConfig),xe)).json()}catch(at){throw un.create("token-subscribe-failed",{errorInfo:at})}if(Ke.error)throw un.create("token-subscribe-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw un.create("token-subscribe-no-token");return Ke.token})).apply(this,arguments)}function Nn(S,F){return zn.apply(this,arguments)}function zn(){return(zn=(0,B.Z)(function*(S,F){const K=yield Tn(S),le=Kt(F.subscriptionOptions),xe={method:"PATCH",headers:K,body:JSON.stringify(le)};let Ke;try{Ke=yield(yield fetch(`${yn(S.appConfig)}/${F.token}`,xe)).json()}catch(at){throw un.create("token-update-failed",{errorInfo:at})}if(Ke.error)throw un.create("token-update-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw un.create("token-update-no-token");return Ke.token})).apply(this,arguments)}function fr(S,F){return ji.apply(this,arguments)}function ji(){return(ji=(0,B.Z)(function*(S,F){const le={method:"DELETE",headers:yield Tn(S)};try{const Ke=yield(yield fetch(`${yn(S.appConfig)}/${F}`,le)).json();if(Ke.error)throw un.create("token-unsubscribe-failed",{errorInfo:Ke.error.message})}catch(xe){throw un.create("token-unsubscribe-failed",{errorInfo:xe})}})).apply(this,arguments)}function yn({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Tn(S){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,B.Z)(function*({appConfig:S,installations:F}){const K=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function Kt({p256dh:S,auth:F,endpoint:K,vapidKey:le}){const xe={web:{endpoint:K,auth:F,p256dh:S}};return le!==Mo&&(xe.web.applicationPubKey=le),xe}const bi=6048e5;function Jo(S){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,B.Z)(function*(S){const F=yield pr(S.swRegistration,S.vapidKey),K={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:F.endpoint,auth:Bi(F.getKey("auth")),p256dh:Bi(F.getKey("p256dh"))},le=yield W(S.firebaseDependencies);if(le){if(va(le.subscriptionOptions,K))return Date.now()>=le.createTime+bi?qt(S,{token:le.token,createTime:Date.now(),subscriptionOptions:K}):le.token;try{yield fr(S.firebaseDependencies,le.token)}catch(xe){console.warn(xe)}return it(S.firebaseDependencies,K)}return it(S.firebaseDependencies,K)})).apply(this,arguments)}function zs(S){return ds.apply(this,arguments)}function ds(){return(ds=(0,B.Z)(function*(S){const F=yield W(S.firebaseDependencies);F&&(yield fr(S.firebaseDependencies,F.token),yield Ye(S.firebaseDependencies));const K=yield S.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function qt(S,F){return hs.apply(this,arguments)}function hs(){return(hs=(0,B.Z)(function*(S,F){try{const K=yield Nn(S.firebaseDependencies,F),le=Object.assign(Object.assign({},F),{token:K,createTime:Date.now()});return yield z(S.firebaseDependencies,le),K}catch(K){throw yield zs(S),K}})).apply(this,arguments)}function it(S,F){return In.apply(this,arguments)}function In(){return(In=(0,B.Z)(function*(S,F){const le={token:yield Pn(S,F),createTime:Date.now(),subscriptionOptions:F};return yield z(S,le),le.token})).apply(this,arguments)}function pr(S,F){return ar.apply(this,arguments)}function ar(){return(ar=(0,B.Z)(function*(S,F){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gs(F)})})).apply(this,arguments)}function va(S,F){return F.vapidKey===S.vapidKey&&F.endpoint===S.endpoint&&F.auth===S.auth&&F.p256dh===S.p256dh}function ts(S){const F={from:S.from,collapseKey:S.collapse_key,messageId:S.fcm_message_id};return function(S,F){if(!F.notification)return;S.notification={};const K=F.notification.title;K&&(S.notification.title=K);const le=F.notification.body;le&&(S.notification.body=le);const xe=F.notification.image;xe&&(S.notification.image=xe)}(F,S),function(S,F){!F.data||(S.data=F.data)}(F,S),function(S,F){if(!F.fcmOptions)return;S.fcmOptions={};const K=F.fcmOptions.link;K&&(S.fcmOptions.link=K);const le=F.fcmOptions.analytics_label;le&&(S.fcmOptions.analyticsLabel=le)}(F,S),F}function Ja(S){return"object"==typeof S&&!!S&&Ui in S}function Fa(S,F){const K=[];for(let le=0;le<S.length;le++)K.push(S.charAt(le)),le<F.length&&K.push(F.charAt(le));return K.join("")}function Ks(S){return un.create("missing-app-config-values",{valueName:S})}Fa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nr{constructor(F,K,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xe=function(S){if(!S||!S.options)throw Ks("App Configuration Object");if(!S.name)throw Ks("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:K}=S;for(const le of F)if(!K[le])throw Ks(le);return{appName:S.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:xe,installations:K,analyticsProvider:le}}_delete(){return Promise.resolve()}}function hi(S){return go.apply(this,arguments)}function go(){return(go=(0,B.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Ms,{scope:Dr}),S.swRegistration.update().catch(()=>{})}catch(F){throw un.create("failed-service-worker-registration",{browserErrorMessage:F.message})}})).apply(this,arguments)}function ii(S,F){return si.apply(this,arguments)}function si(){return(si=(0,B.Z)(function*(S,F){if(!F&&!S.swRegistration&&(yield hi(S)),F||!S.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");S.swRegistration=F}})).apply(this,arguments)}function mo(S,F){return fs.apply(this,arguments)}function fs(){return(fs=(0,B.Z)(function*(S,F){F?S.vapidKey=F:S.vapidKey||(S.vapidKey=Mo)})).apply(this,arguments)}function _o(){return(_o=(0,B.Z)(function*(S,F){if(!navigator)throw un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw un.create("permission-blocked");return yield mo(S,null==F?void 0:F.vapidKey),yield ii(S,null==F?void 0:F.serviceWorkerRegistration),Jo(S)})).apply(this,arguments)}function yo(S,F,K){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,B.Z)(function*(S,F,K){const le=Zs(F);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:K[Ui],message_name:K[ho],message_time:K[Vr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zs(S){switch(S){case Or.NOTIFICATION_CLICKED:return"notification_open";case Or.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ns(){return(ns=(0,B.Z)(function*(S,F){const K=F.data;if(!K.isFirebaseMessaging)return;S.onMessageHandler&&K.messageType===Or.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(ts(K)):S.onMessageHandler.next(ts(K)));const le=K.data;Ja(le)&&"1"===le[Ws]&&(yield yo(S,K.messageType,le))})).apply(this,arguments)}const Xo="@firebase/messaging";function ps(){return Os.apply(this,arguments)}function Os(){return(Os=(0,B.Z)(function*(){return"undefined"!=typeof window&&(0,de.hl)()&&(yield(0,de.eu)())&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Ee._registerComponent)(new X.wA("messaging",S=>{const F=new Nr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function(S,F){return ns.apply(this,arguments)}(F,K)),F},"PUBLIC")),(0,Ee._registerComponent)(new X.wA("messaging-internal",S=>{const F=S.getProvider("messaging").getImmediate();return{getToken:le=>function(S,F){return _o.apply(this,arguments)}(F,le)}},"PRIVATE")),(0,Ee.registerVersion)(Xo,"0.9.4"),(0,Ee.registerVersion)(Xo,"0.9.4","esm2017");const xr="analytics",ba="firebase_id",qs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",No="https://www.googletagmanager.com/gtag/js",rr=new se.Yd("@firebase/analytics");function xs(S){return Promise.all(S.map(F=>F.catch(K=>K)))}function Qs(S,F){const K=document.createElement("script");K.src=`${No}?l=${S}&id=${F}`,K.async=!0,document.head.appendChild(K)}function Ii(S,F,K,le,xe,Ke){return ea.apply(this,arguments)}function ea(){return(ea=(0,B.Z)(function*(S,F,K,le,xe,Ke){const at=le[xe];try{if(at)yield F[at];else{const St=(yield xs(K)).find(kn=>kn.measurementId===xe);St&&(yield F[St.appId])}}catch(Dt){rr.error(Dt)}S("config",xe,Ke)})).apply(this,arguments)}function Js(S,F,K,le,xe){return _s.apply(this,arguments)}function _s(){return(_s=(0,B.Z)(function*(S,F,K,le,xe){try{let Ke=[];if(xe&&xe.send_to){let at=xe.send_to;Array.isArray(at)||(at=[at]);const Dt=yield xs(K);for(const St of at){const kn=Dt.find(Jr=>Jr.measurementId===St),lr=kn&&F[kn.appId];if(!lr){Ke=[];break}Ke.push(lr)}}0===Ke.length&&(Ke=Object.values(F)),yield Promise.all(Ke),S("event",le,xe||{})}catch(Ke){rr.error(Ke)}})).apply(this,arguments)}function La(){const S=window.document.getElementsByTagName("script");for(const F of Object.values(S))if(F.src&&F.src.includes(No))return F;return null}const pi=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ra=new class{constructor(F={},K=1e3){this.throttleMetadata=F,this.intervalMillis=K}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,K){this.throttleMetadata[F]=K}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Qn(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function ys(S){return vs.apply(this,arguments)}function vs(){return(vs=(0,B.Z)(function*(S){var F;const{appId:K,apiKey:le}=S,xe={method:"GET",headers:Qn(le)},Ke=qs.replace("{app-id}",K),at=yield fetch(Ke,xe);if(200!==at.status&&304!==at.status){let Dt="";try{const St=yield at.json();(null===(F=St.error)||void 0===F?void 0:F.message)&&(Dt=St.error.message)}catch(St){}throw pi.create("config-fetch-failed",{httpStatus:at.status,responseMessage:Dt})}return at.json()})).apply(this,arguments)}function wa(S){return oi.apply(this,arguments)}function oi(){return(oi=(0,B.Z)(function*(S,F=ra,K){const{appId:le,apiKey:xe,measurementId:Ke}=S.options;if(!le)throw pi.create("no-app-id");if(!xe){if(Ke)return{measurementId:Ke,appId:le};throw pi.create("no-api-key")}const at=F.getThrottleMetadata(le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dt=new Ia;return setTimeout((0,B.Z)(function*(){Dt.abort()}),void 0!==K?K:6e4),Eo({appId:le,apiKey:xe,measurementId:Ke},at,Dt,F)})).apply(this,arguments)}function Eo(S,F,K){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,B.Z)(function*(S,{throttleEndTimeMillis:F,backoffCount:K},le,xe=ra){const{appId:Ke,measurementId:at}=S;try{yield vl(le,F)}catch(Dt){if(at)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${Dt.message}]`),{appId:Ke,measurementId:at};throw Dt}try{const Dt=yield ys(S);return xe.deleteThrottleMetadata(Ke),Dt}catch(Dt){if(!is(Dt)){if(xe.deleteThrottleMetadata(Ke),at)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${Dt.message}]`),{appId:Ke,measurementId:at};throw Dt}const St=503===Number(Dt.customData.httpStatus)?(0,de.$s)(K,xe.intervalMillis,30):(0,de.$s)(K,xe.intervalMillis),kn={throttleEndTimeMillis:Date.now()+St,backoffCount:K+1};return xe.setThrottleMetadata(Ke,kn),rr.debug(`Calling attemptFetch again in ${St} millis`),Eo(S,kn,le,xe)}})).apply(this,arguments)}function vl(S,F){return new Promise((K,le)=>{const xe=Math.max(F-Date.now(),0),Ke=setTimeout(K,xe);S.addEventListener(()=>{clearTimeout(Ke),le(pi.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function is(S){if(!(S instanceof de.ZR&&S.customData))return!1;const F=Number(S.customData.httpStatus);return 429===F||500===F||503===F||504===F}class Ia{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}function A(){return I.apply(this,arguments)}function I(){return(I=(0,B.Z)(function*(){if(!(0,de.hl)())return rr.warn(pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(S){return rr.warn(pi.create("indexeddb-unavailable",{errorInfo:S}).message),!1}return!0})).apply(this,arguments)}function N(){return(N=(0,B.Z)(function*(S,F,K,le,xe,Ke,at){var Dt;const St=wa(S);St.then(Ti=>{K[Ti.measurementId]=Ti.appId,S.options.measurementId&&Ti.measurementId!==S.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Ti.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ti=>rr.error(Ti)),F.push(St);const kn=A().then(Ti=>{if(Ti)return le.getId()}),[lr,Jr]=yield Promise.all([St,kn]);La()||Qs(Ke,lr.measurementId),xe("js",new Date);const Gi=null!==(Dt=null==at?void 0:at.config)&&void 0!==Dt?Dt:{};return Gi.origin="firebase",Gi.update=!0,null!=Jr&&(Gi[ba]=Jr),xe("config",lr.measurementId,Gi),lr.measurementId})).apply(this,arguments)}class V{constructor(F){this.app=F}_delete(){return delete G[this.app.options.appId],Promise.resolve()}}let G={},ue=[];const we={};let xn,Mt,et="dataLayer",Jn=!1;function $i(S,F,K){!function(){const S=[];if((0,de.ru)()&&S.push("This is a browser extension environment."),(0,de.zI)()||S.push("Cookies are not available."),S.length>0){const F=S.map((le,xe)=>`(${xe+1}) ${le}`).join(" "),K=pi.create("invalid-analytics-context",{errorInfo:F});rr.warn(K.message)}}();const le=S.options.appId;if(!le)throw pi.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw pi.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=G[le])throw pi.create("already-exists",{id:le});if(!Jn){!function(S){let F=[];Array.isArray(window[S])?F=window[S]:window[S]=F}(et);const{wrappedGtag:Ke,gtagCore:at}=function(S,F,K,le,xe){let Ke=function(...at){window[le].push(arguments)};return window[xe]&&"function"==typeof window[xe]&&(Ke=window[xe]),window[xe]=function(S,F,K,le){function Ke(){return(Ke=(0,B.Z)(function*(at,Dt,St){try{"event"===at?yield Js(S,F,K,Dt,St):"config"===at?yield Ii(S,F,K,le,Dt,St):S("set",Dt)}catch(kn){rr.error(kn)}})).apply(this,arguments)}return function(at,Dt,St){return Ke.apply(this,arguments)}}(Ke,S,F,K),{gtagCore:Ke,wrappedGtag:window[xe]}}(G,ue,we,et,"gtag");Mt=Ke,xn=at,Jn=!0}return G[le]=function(S,F,K,le,xe,Ke,at){return N.apply(this,arguments)}(S,ue,we,F,xn,et,K),new V(S)}function Co(){return(Co=(0,B.Z)(function*(S,F,K,le,xe){if(xe&&xe.global)S("event",K,le);else{const Ke=yield F;S("event",K,Object.assign(Object.assign({},le),{send_to:Ke}))}})).apply(this,arguments)}function to(){return tl.apply(this,arguments)}function tl(){return(tl=(0,B.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(S){return!1}})).apply(this,arguments)}const Ua="@firebase/analytics";(0,Ee._registerComponent)(new X.wA(xr,(F,{options:K})=>$i(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,Ee._registerComponent)(new X.wA("analytics-internal",function(F){try{const K=F.getProvider(xr).getImmediate();return{logEvent:(le,xe,Ke)=>function(S,F,K,le){S=(0,de.m9)(S),function(S,F,K,le,xe){return Co.apply(this,arguments)}(Mt,G[S.app.options.appId],F,K,le).catch(xe=>rr.error(xe))}(K,le,xe,Ke)}}catch(K){throw pi.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,Ee.registerVersion)(Ua,"0.7.4"),(0,Ee.registerVersion)(Ua,"0.7.4","esm2017");var Ou=L(7771),rl=L(3637),il=L(3342),cu=L(3101),$c=L(6136);const Wl=new D.GfV("7.2.0"),Ba="__angularfire_symbol__analyticsIsSupported",Cs="__angularfire_symbol__remoteConfigIsSupported",ko="__angularfire_symbol__messagingIsSupported";function ki(S,F,K){if(F){if(1===F.length)return F[0];const Ke=F.filter(at=>at.app===K);if(1===Ke.length)return Ke[0]}return K.container.getProvider(S).getImmediate({optional:!0})}globalThis[Ba]||(globalThis[Ba]=to().then(S=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=S)),globalThis[ko]||(globalThis[ko]=ps().then(S=>globalThis.__angularfire_symbol__messagingIsSupportedValue=S)),globalThis[Cs]||(globalThis[Cs]=Rr().then(S=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=S));const Ha=(S,F)=>{const K=F?[F]:(0,m.C6)(),le=[];return K.forEach(xe=>{xe.container.getProvider(S).instances.forEach(at=>{le.includes(at)||le.push(at)})}),le};function Fs(){}class no{constructor(F,K=Ou.N){this.zone=F,this.delegate=K}now(){return this.delegate.now()}schedule(F,K,le){const xe=this.zone;return this.delegate.schedule(function(at){xe.runGuarded(()=>{F.apply(this,[at])})},K,le)}}class bc{constructor(F){this.zone=F,this.task=null}call(F,K){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fs,{},Fs,Fs)),K.pipe((0,il.b)({next:le,complete:le,error:le})).subscribe(F).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bl=(()=>{class S{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new no(Zone.current)),this.insideAngular=K.run(()=>new no(Zone.current,rl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(K){return new(K||S)(D.LFG(D.R0b))},S.\u0275prov=D.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Fo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Aa(S){return Fo(),function(S){return function(K){return(K=K.lift(new bc(S.ngZone))).pipe((0,cu.R)(S.outsideAngular),(0,$c.QV)(S.insideAngular))}}(Fo())(S)}},9075:(ft,Me,L)=>{"use strict";L.d(Me,{b2:()=>mi,H7:()=>Ce,q6:()=>ri,se:()=>Yt});var D=L(8583),m=L(7716);class B extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends B{static makeCurrent(){(0,D.HT)(new Ee)}onAndCancel(be,re,Ne){return be.addEventListener(re,Ne,!1),()=>{be.removeEventListener(re,Ne,!1)}}dispatchEvent(be,re){be.dispatchEvent(re)}remove(be){be.parentNode&&be.parentNode.removeChild(be)}createElement(be,re){return(re=re||this.getDefaultDocument()).createElement(be)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(be){return be.nodeType===Node.ELEMENT_NODE}isShadowRoot(be){return be instanceof DocumentFragment}getGlobalEventTarget(be,re){return"window"===re?window:"document"===re?be:"body"===re?be.body:null}getBaseHref(be){const re=(de=de||document.querySelector("base"),de?de.getAttribute("href"):null);return null==re?null:function(Te){se=se||document.createElement("a"),se.setAttribute("href",Te);const be=se.pathname;return"/"===be.charAt(0)?be:`/${be}`}(re)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(be){return(0,D.Mx)(document.cookie,be)}}let se,de=null;const ie=new m.OlP("TRANSITION_ID"),J=[{provide:m.ip1,useFactory:function(Te,be,re){return()=>{re.get(m.CZH).donePromise.then(()=>{const Ne=(0,D.q)(),Xe=be.querySelectorAll(`style[ng-transition="${Te}"]`);for(let Nt=0;Nt<Xe.length;Nt++)Ne.remove(Xe[Nt])})}},deps:[ie,D.K0,m.zs3],multi:!0}];class Q{static init(){(0,m.VLi)(new Q)}addToWindow(be){m.dqk.getAngularTestability=(Ne,Xe=!0)=>{const Nt=be.findTestabilityInTree(Ne,Xe);if(null==Nt)throw new Error("Could not find testability for element.");return Nt},m.dqk.getAllAngularTestabilities=()=>be.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>be.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(Ne=>{const Xe=m.dqk.getAllAngularTestabilities();let Nt=Xe.length,sn=!1;const tn=function(zt){sn=sn||zt,Nt--,0==Nt&&Ne(sn)};Xe.forEach(function(zt){zt.whenStable(tn)})})}findTestabilityInTree(be,re,Ne){if(null==re)return null;const Xe=be.getTestability(re);return null!=Xe?Xe:Ne?(0,D.q)().isShadowRoot(re)?this.findTestabilityInTree(be,re.host,!0):this.findTestabilityInTree(be,re.parentElement,!0):null}}let me=(()=>{class Te{build(){return new XMLHttpRequest}}return Te.\u0275fac=function(re){return new(re||Te)},Te.\u0275prov=m.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Wt=new m.OlP("EventManagerPlugins");let Ft=(()=>{class Te{constructor(re,Ne){this._zone=Ne,this._eventNameToPlugin=new Map,re.forEach(Xe=>Xe.manager=this),this._plugins=re.slice().reverse()}addEventListener(re,Ne,Xe){return this._findPluginFor(Ne).addEventListener(re,Ne,Xe)}addGlobalEventListener(re,Ne,Xe){return this._findPluginFor(Ne).addGlobalEventListener(re,Ne,Xe)}getZone(){return this._zone}_findPluginFor(re){const Ne=this._eventNameToPlugin.get(re);if(Ne)return Ne;const Xe=this._plugins;for(let Nt=0;Nt<Xe.length;Nt++){const sn=Xe[Nt];if(sn.supports(re))return this._eventNameToPlugin.set(re,sn),sn}throw new Error(`No event manager plugin found for event ${re}`)}}return Te.\u0275fac=function(re){return new(re||Te)(m.LFG(Wt),m.LFG(m.R0b))},Te.\u0275prov=m.Yz7({token:Te,factory:Te.\u0275fac}),Te})();class en{constructor(be){this._doc=be}addGlobalEventListener(be,re,Ne){const Xe=(0,D.q)().getGlobalEventTarget(this._doc,be);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${re}`);return this.addEventListener(Xe,re,Ne)}}let bt=(()=>{class Te{constructor(){this._stylesSet=new Set}addStyles(re){const Ne=new Set;re.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),Ne.add(Xe))}),this.onStylesAdded(Ne)}onStylesAdded(re){}getAllStyles(){return Array.from(this._stylesSet)}}return Te.\u0275fac=function(re){return new(re||Te)},Te.\u0275prov=m.Yz7({token:Te,factory:Te.\u0275fac}),Te})(),kr=(()=>{class Te extends bt{constructor(re){super(),this._doc=re,this._hostNodes=new Map,this._hostNodes.set(re.head,[])}_addStylesToHost(re,Ne,Xe){re.forEach(Nt=>{const sn=this._doc.createElement("style");sn.textContent=Nt,Xe.push(Ne.appendChild(sn))})}addHost(re){const Ne=[];this._addStylesToHost(this._stylesSet,re,Ne),this._hostNodes.set(re,Ne)}removeHost(re){const Ne=this._hostNodes.get(re);Ne&&Ne.forEach(er),this._hostNodes.delete(re)}onStylesAdded(re){this._hostNodes.forEach((Ne,Xe)=>{this._addStylesToHost(re,Xe,Ne)})}ngOnDestroy(){this._hostNodes.forEach(re=>re.forEach(er))}}return Te.\u0275fac=function(re){return new(re||Te)(m.LFG(D.K0))},Te.\u0275prov=m.Yz7({token:Te,factory:Te.\u0275fac}),Te})();function er(Te){(0,D.q)().remove(Te)}const $n={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zn=/%COMP%/g;function ni(Te,be,re){for(let Ne=0;Ne<be.length;Ne++){let Xe=be[Ne];Array.isArray(Xe)?ni(Te,Xe,re):(Xe=Xe.replace(Zn,Te),re.push(Xe))}return re}function Wn(Te){return be=>{if("__ngUnwrap__"===be)return Te;!1===Te(be)&&(be.preventDefault(),be.returnValue=!1)}}let Yt=(()=>{class Te{constructor(re,Ne,Xe){this.eventManager=re,this.sharedStylesHost=Ne,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new Rn(re)}createRenderer(re,Ne){if(!re||!Ne)return this.defaultRenderer;switch(Ne.encapsulation){case m.ifc.Emulated:{let Xe=this.rendererByCompId.get(Ne.id);return Xe||(Xe=new rt(this.eventManager,this.sharedStylesHost,Ne,this.appId),this.rendererByCompId.set(Ne.id,Xe)),Xe.applyToHost(re),Xe}case 1:case m.ifc.ShadowDom:return new Ir(this.eventManager,this.sharedStylesHost,re,Ne);default:if(!this.rendererByCompId.has(Ne.id)){const Xe=ni(Ne.id,Ne.styles,[]);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(Ne.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Te.\u0275fac=function(re){return new(re||Te)(m.LFG(Ft),m.LFG(kr),m.LFG(m.AFp))},Te.\u0275prov=m.Yz7({token:Te,factory:Te.\u0275fac}),Te})();class Rn{constructor(be){this.eventManager=be,this.data=Object.create(null)}destroy(){}createElement(be,re){return re?document.createElementNS($n[re]||re,be):document.createElement(be)}createComment(be){return document.createComment(be)}createText(be){return document.createTextNode(be)}appendChild(be,re){be.appendChild(re)}insertBefore(be,re,Ne){be&&be.insertBefore(re,Ne)}removeChild(be,re){be&&be.removeChild(re)}selectRootElement(be,re){let Ne="string"==typeof be?document.querySelector(be):be;if(!Ne)throw new Error(`The selector "${be}" did not match any elements`);return re||(Ne.textContent=""),Ne}parentNode(be){return be.parentNode}nextSibling(be){return be.nextSibling}setAttribute(be,re,Ne,Xe){if(Xe){re=Xe+":"+re;const Nt=$n[Xe];Nt?be.setAttributeNS(Nt,re,Ne):be.setAttribute(re,Ne)}else be.setAttribute(re,Ne)}removeAttribute(be,re,Ne){if(Ne){const Xe=$n[Ne];Xe?be.removeAttributeNS(Xe,re):be.removeAttribute(`${Ne}:${re}`)}else be.removeAttribute(re)}addClass(be,re){be.classList.add(re)}removeClass(be,re){be.classList.remove(re)}setStyle(be,re,Ne,Xe){Xe&(m.JOm.DashCase|m.JOm.Important)?be.style.setProperty(re,Ne,Xe&m.JOm.Important?"important":""):be.style[re]=Ne}removeStyle(be,re,Ne){Ne&m.JOm.DashCase?be.style.removeProperty(re):be.style[re]=""}setProperty(be,re,Ne){be[re]=Ne}setValue(be,re){be.nodeValue=re}listen(be,re,Ne){return"string"==typeof be?this.eventManager.addGlobalEventListener(be,re,Wn(Ne)):this.eventManager.addEventListener(be,re,Wn(Ne))}}class rt extends Rn{constructor(be,re,Ne,Xe){super(be),this.component=Ne;const Nt=ni(Xe+"-"+Ne.id,Ne.styles,[]);re.addStyles(Nt),this.contentAttr="_ngcontent-%COMP%".replace(Zn,Xe+"-"+Ne.id),this.hostAttr="_nghost-%COMP%".replace(Zn,Xe+"-"+Ne.id)}applyToHost(be){super.setAttribute(be,this.hostAttr,"")}createElement(be,re){const Ne=super.createElement(be,re);return super.setAttribute(Ne,this.contentAttr,""),Ne}}class Ir extends Rn{constructor(be,re,Ne,Xe){super(be),this.sharedStylesHost=re,this.hostEl=Ne,this.shadowRoot=Ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nt=ni(Xe.id,Xe.styles,[]);for(let sn=0;sn<Nt.length;sn++){const tn=document.createElement("style");tn.textContent=Nt[sn],this.shadowRoot.appendChild(tn)}}nodeOrShadowRoot(be){return be===this.hostEl?this.shadowRoot:be}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(be,re){return super.appendChild(this.nodeOrShadowRoot(be),re)}insertBefore(be,re,Ne){return super.insertBefore(this.nodeOrShadowRoot(be),re,Ne)}removeChild(be,re){return super.removeChild(this.nodeOrShadowRoot(be),re)}parentNode(be){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(be)))}}let rn=(()=>{class Te extends en{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Ne,Xe){return re.addEventListener(Ne,Xe,!1),()=>this.removeEventListener(re,Ne,Xe)}removeEventListener(re,Ne,Xe){return re.removeEventListener(Ne,Xe)}}return Te.\u0275fac=function(re){return new(re||Te)(m.LFG(D.K0))},Te.\u0275prov=m.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const yt=["alt","control","meta","shift"],Ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hn={alt:Te=>Te.altKey,control:Te=>Te.ctrlKey,meta:Te=>Te.metaKey,shift:Te=>Te.shiftKey};let ge=(()=>{class Te extends en{constructor(re){super(re)}supports(re){return null!=Te.parseEventName(re)}addEventListener(re,Ne,Xe){const Nt=Te.parseEventName(Ne),sn=Te.eventCallback(Nt.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(re,Nt.domEventName,sn))}static parseEventName(re){const Ne=re.toLowerCase().split("."),Xe=Ne.shift();if(0===Ne.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const Nt=Te._normalizeKey(Ne.pop());let sn="";if(yt.forEach(zt=>{const Bs=Ne.indexOf(zt);Bs>-1&&(Ne.splice(Bs,1),sn+=zt+".")}),sn+=Nt,0!=Ne.length||0===Nt.length)return null;const tn={};return tn.domEventName=Xe,tn.fullKey=sn,tn}static getEventFullKey(re){let Ne="",Xe=function(Te){let be=Te.key;if(null==be){if(be=Te.keyIdentifier,null==be)return"Unidentified";be.startsWith("U+")&&(be=String.fromCharCode(parseInt(be.substring(2),16)),3===Te.location&&gn.hasOwnProperty(be)&&(be=gn[be]))}return Ct[be]||be}(re);return Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),yt.forEach(Nt=>{Nt!=Xe&&hn[Nt](re)&&(Ne+=Nt+".")}),Ne+=Xe,Ne}static eventCallback(re,Ne,Xe){return Nt=>{Te.getEventFullKey(Nt)===re&&Xe.runGuarded(()=>Ne(Nt))}}static _normalizeKey(re){switch(re){case"esc":return"escape";default:return re}}}return Te.\u0275fac=function(re){return new(re||Te)(m.LFG(D.K0))},Te.\u0275prov=m.Yz7({token:Te,factory:Te.\u0275fac}),Te})(),Ce=(()=>{class Te{}return Te.\u0275fac=function(re){return new(re||Te)},Te.\u0275prov=(0,m.Yz7)({factory:function(){return(0,m.LFG)(Ue)},token:Te,providedIn:"root"}),Te})(),Ue=(()=>{class Te extends Ce{constructor(re){super(),this._doc=re}sanitize(re,Ne){if(null==Ne)return null;switch(re){case m.q3G.NONE:return Ne;case m.q3G.HTML:return(0,m.qzn)(Ne,"HTML")?(0,m.z3N)(Ne):(0,m.EiD)(this._doc,String(Ne)).toString();case m.q3G.STYLE:return(0,m.qzn)(Ne,"Style")?(0,m.z3N)(Ne):Ne;case m.q3G.SCRIPT:if((0,m.qzn)(Ne,"Script"))return(0,m.z3N)(Ne);throw new Error("unsafe value used in a script context");case m.q3G.URL:return(0,m.yhl)(Ne),(0,m.qzn)(Ne,"URL")?(0,m.z3N)(Ne):(0,m.mCW)(String(Ne));case m.q3G.RESOURCE_URL:if((0,m.qzn)(Ne,"ResourceURL"))return(0,m.z3N)(Ne);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${re} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(re){return(0,m.JVY)(re)}bypassSecurityTrustStyle(re){return(0,m.L6k)(re)}bypassSecurityTrustScript(re){return(0,m.eBb)(re)}bypassSecurityTrustUrl(re){return(0,m.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,m.pB0)(re)}}return Te.\u0275fac=function(re){return new(re||Te)(m.LFG(D.K0))},Te.\u0275prov=(0,m.Yz7)({factory:function(){return function(Te){return new Ue(Te.get(D.K0))}((0,m.LFG)(m.gxx))},token:Te,providedIn:"root"}),Te})();const ri=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:D.bD},{provide:m.g9A,useValue:function(){Ee.makeCurrent(),Q.init()},multi:!0},{provide:D.K0,useFactory:function(){return(0,m.RDi)(document),document},deps:[]}]),Ts=[[],{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function(){return new m.qLn},deps:[]},{provide:Wt,useClass:rn,multi:!0,deps:[D.K0,m.R0b,m.Lbi]},{provide:Wt,useClass:ge,multi:!0,deps:[D.K0]},[],{provide:Yt,useClass:Yt,deps:[Ft,kr,m.AFp]},{provide:m.FYo,useExisting:Yt},{provide:bt,useExisting:kr},{provide:kr,useClass:kr,deps:[D.K0]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:Ft,useClass:Ft,deps:[Wt,m.R0b]},{provide:D.JF,useClass:me,deps:[]},[]];let mi=(()=>{class Te{constructor(re){if(re)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(re){return{ngModule:Te,providers:[{provide:m.AFp,useValue:re.appId},{provide:ie,useExisting:m.AFp},J]}}}return Te.\u0275fac=function(re){return new(re||Te)(m.LFG(Te,12))},Te.\u0275mod=m.oAB({type:Te}),Te.\u0275inj=m.cJS({providers:Ts,imports:[D.ez,m.hGG]}),Te})();"undefined"!=typeof window&&window},3128:(ft,Me,L)=>{"use strict";L.d(Me,{gz:()=>tn,F0:()=>Yr,Od:()=>qs,yS:()=>Ur,Bz:()=>ta,lC:()=>rr});var D=L(8583),m=L(7716),B=L(5917),Ee=L(3282);function X(...A){return(0,Ee.J)(1)((0,B.of)(...A))}var se=L(7574),ee=L(4402),ie=L(9193);function Y(A){return new se.y(I=>{let b;try{b=A()}catch(V){return void I.error(V)}return(b?(0,ee.D)(b):(0,ie.c)()).subscribe(I)})}var J=L(6215),Q=L(9112),me=L(3410),Ie=L(2441),Le=L(9765),Ve=L(4869),Ae=L(5435),He=L(7393),ze=L(7108);function Se(A){return function(b){return 0===A?(0,ie.c)():b.lift(new Be(A))}}class Be{constructor(I){if(this.total=I,this.total<0)throw new ze.W}call(I,b){return b.subscribe(new Oe(I,this.total))}}class Oe extends He.L{constructor(I,b){super(I),this.total=b,this.ring=new Array,this.count=0}_next(I){const b=this.ring,N=this.total,V=this.count++;b.length<N?b.push(I):b[V%N]=I}_complete(){const I=this.destination;let b=this.count;if(b>0){const N=this.count>=this.total?this.total:this.count,V=this.ring;for(let G=0;G<N;G++){const ue=b++%N;I.next(V[ue])}}I.complete()}}var Je=L(4635),dt=L(5242),pt=L(4487),mt=L(8002),Wt=L(3190),Ft=L(5257),en=L(2145),bt=L(5304),kr=L(4612),er=L(8049),$n=L(9773),Zn=L(3342),En=L(1307),ln=L(8939);class br{constructor(I,b){this.id=I,this.url=b}}class ti extends br{constructor(I,b,N="imperative",V=null){super(I,b),this.navigationTrigger=N,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends br{constructor(I,b,N){super(I,b),this.urlAfterRedirects=N}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bn extends br{constructor(I,b,N){super(I,b),this.reason=N}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ni extends br{constructor(I,b,N){super(I,b),this.error=N}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wn extends br{constructor(I,b,N,V){super(I,b),this.urlAfterRedirects=N,this.state=V}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pn extends br{constructor(I,b,N,V){super(I,b),this.urlAfterRedirects=N,this.state=V}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yt extends br{constructor(I,b,N,V,G){super(I,b),this.urlAfterRedirects=N,this.state=V,this.shouldActivate=G}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rn extends br{constructor(I,b,N,V){super(I,b),this.urlAfterRedirects=N,this.state=V}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wr extends br{constructor(I,b,N,V){super(I,b),this.urlAfterRedirects=N,this.state=V}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class On{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sr{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rt{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ir{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vt{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jt{constructor(I,b,N){this.routerEvent=I,this.position=b,this.anchor=N}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jt="primary";class Tr{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const b=this.params[I];return Array.isArray(b)?b[0]:b}return null}getAll(I){if(this.has(I)){const b=this.params[I];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Fe(A){return new Tr(A)}const ce="ngNavigationCancelingError";function he(A){const I=Error("NavigationCancelingError: "+A);return I[ce]=!0,I}function ot(A,I,b){const N=b.path.split("/");if(N.length>A.length||"full"===b.pathMatch&&(I.hasChildren()||N.length<A.length))return null;const V={};for(let G=0;G<N.length;G++){const ue=N[G],we=A[G];if(ue.startsWith(":"))V[ue.substring(1)]=we;else if(ue!==we.path)return null}return{consumed:A.slice(0,N.length),posParams:V}}function nt(A,I){const b=A?Object.keys(A):void 0,N=I?Object.keys(I):void 0;if(!b||!N||b.length!=N.length)return!1;let V;for(let G=0;G<b.length;G++)if(V=b[G],!Ct(A[V],I[V]))return!1;return!0}function Ct(A,I){if(Array.isArray(A)&&Array.isArray(I)){if(A.length!==I.length)return!1;const b=[...A].sort(),N=[...I].sort();return b.every((V,G)=>N[G]===V)}return A===I}function gn(A){return Array.prototype.concat.apply([],A)}function tr(A){return A.length>0?A[A.length-1]:null}function Tt(A,I){for(const b in A)A.hasOwnProperty(b)&&I(A[b],b)}function Bn(A){return(0,m.CqO)(A)?A:(0,m.QGY)(A)?(0,ee.D)(Promise.resolve(A)):(0,B.of)(A)}const ge={exact:function Ue(A,I,b){if(!ri(A.segments,I.segments)||!ir(A.segments,I.segments,b)||A.numberOfChildren!==I.numberOfChildren)return!1;for(const N in I.children)if(!A.children[N]||!Ue(A.children[N],I.children[N],b))return!1;return!0},subset:Ut},ae={exact:function(A,I){return nt(A,I)},subset:function(A,I){return Object.keys(I).length<=Object.keys(A).length&&Object.keys(I).every(b=>Ct(A[b],I[b]))},ignored:()=>!0};function Ce(A,I,b){return ge[b.paths](A.root,I.root,b.matrixParams)&&ae[b.queryParams](A.queryParams,I.queryParams)&&!("exact"===b.fragment&&A.fragment!==I.fragment)}function Ut(A,I,b){return Dn(A,I,I.segments,b)}function Dn(A,I,b,N){if(A.segments.length>b.length){const V=A.segments.slice(0,b.length);return!(!ri(V,b)||I.hasChildren()||!ir(V,b,N))}if(A.segments.length===b.length){if(!ri(A.segments,b)||!ir(A.segments,b,N))return!1;for(const V in I.children)if(!A.children[V]||!Ut(A.children[V],I.children[V],N))return!1;return!0}{const V=b.slice(0,A.segments.length),G=b.slice(A.segments.length);return!!(ri(A.segments,V)&&ir(A.segments,V,N)&&A.children[jt])&&Dn(A.children[jt],I,G,N)}}function ir(A,I,b){return I.every((N,V)=>ae[b](A[V].parameters,N.parameters))}class Gn{constructor(I,b,N){this.root=I,this.queryParams=b,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return Qi.serialize(this)}}class Ht{constructor(I,b){this.segments=I,this.children=b,this.parent=null,Tt(b,(N,V)=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vi(this)}}class cn{constructor(I,b){this.path=I,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=Fe(this.parameters)),this._parameterMap}toString(){return Et(this)}}function ri(A,I){return A.length===I.length&&A.every((b,N)=>b.path===I[N].path)}class mi{}class Us{parse(I){const b=new as(I);return new Gn(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(I){var A;return`${`/${yr(I.root,!0)}`}${function(A){const I=Object.keys(A).map(b=>{const N=A[b];return Array.isArray(N)?N.map(V=>`${Yn(b)}=${Yn(V)}`).join("&"):`${Yn(b)}=${Yn(N)}`}).filter(b=>!!b);return I.length?`?${I.join("&")}`:""}(I.queryParams)}${"string"==typeof I.fragment?`#${A=I.fragment,encodeURI(A)}`:""}`}}const Qi=new Us;function Vi(A){return A.segments.map(I=>Et(I)).join("/")}function yr(A,I){if(!A.hasChildren())return Vi(A);if(I){const b=A.children[jt]?yr(A.children[jt],!1):"",N=[];return Tt(A.children,(V,G)=>{G!==jt&&N.push(`${G}:${yr(V,!1)}`)}),N.length>0?`${b}(${N.join("//")})`:b}{const b=function(A,I){let b=[];return Tt(A.children,(N,V)=>{V===jt&&(b=b.concat(I(N,V)))}),Tt(A.children,(N,V)=>{V!==jt&&(b=b.concat(I(N,V)))}),b}(A,(N,V)=>V===jt?[yr(A.children[jt],!1)]:[`${V}:${yr(N,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[jt]?`${Vi(A)}/${b[0]}`:`${Vi(A)}/(${b.join("//")})`}}function vr(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yn(A){return vr(A).replace(/%3B/gi,";")}function Er(A){return vr(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fr(A){return decodeURIComponent(A)}function Mr(A){return Fr(A.replace(/\+/g,"%20"))}function Et(A){return`${Er(A.path)}${function(A){return Object.keys(A).map(I=>`;${Er(I)}=${Er(A[I])}`).join("")}(A.parameters)}`}const Lr=/^[^\/()?;=#]+/;function _i(A){const I=A.match(Lr);return I?I[0]:""}const dr=/^[^=?&#]+/,jn=/^[^?&#]+/;class as{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(I.length>0||Object.keys(b).length>0)&&(N[jt]=new Ht(I,b)),N}parseSegment(){const I=_i(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new cn(Fr(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const b=_i(this.remaining);if(!b)return;this.capture(b);let N="";if(this.consumeOptional("=")){const V=_i(this.remaining);V&&(N=V,this.capture(N))}I[Fr(b)]=Fr(N)}parseQueryParam(I){const b=function(A){const I=A.match(dr);return I?I[0]:""}(this.remaining);if(!b)return;this.capture(b);let N="";if(this.consumeOptional("=")){const ue=function(A){const I=A.match(jn);return I?I[0]:""}(this.remaining);ue&&(N=ue,this.capture(N))}const V=Mr(b),G=Mr(N);if(I.hasOwnProperty(V)){let ue=I[V];Array.isArray(ue)||(ue=[ue],I[V]=ue),ue.push(G)}else I[V]=G}parseParens(I){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=_i(this.remaining),V=this.remaining[N.length];if("/"!==V&&")"!==V&&";"!==V)throw new Error(`Cannot parse url '${this.url}'`);let G;N.indexOf(":")>-1?(G=N.substr(0,N.indexOf(":")),this.capture(G),this.capture(":")):I&&(G=jt);const ue=this.parseChildren();b[G]=1===Object.keys(ue).length?ue[jt]:new Ht([],ue),this.consumeOptional("//")}return b}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class Gt{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const b=this.pathFromRoot(I);return b.length>1?b[b.length-2]:null}children(I){const b=Te(I,this._root);return b?b.children.map(N=>N.value):[]}firstChild(I){const b=Te(I,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(I){const b=be(I,this._root);return b.length<2?[]:b[b.length-2].children.map(V=>V.value).filter(V=>V!==I)}pathFromRoot(I){return be(I,this._root).map(b=>b.value)}}function Te(A,I){if(A===I.value)return I;for(const b of I.children){const N=Te(A,b);if(N)return N}return null}function be(A,I){if(A===I.value)return[I];for(const b of I.children){const N=be(A,b);if(N.length)return N.unshift(I),N}return[]}class re{constructor(I,b){this.value=I,this.children=b}toString(){return`TreeNode(${this.value})`}}function Ne(A){const I={};return A&&A.children.forEach(b=>I[b.value.outlet]=b),I}class Xe extends Gt{constructor(I,b){super(I),this.snapshot=b,co(this,I)}toString(){return this.snapshot.toString()}}function Nt(A,I){const b=function(A,I){const ue=new As([],{},{},"",{},jt,I,null,A.root,-1,{});return new ls("",new re(ue,[]))}(A,I),N=new J.X([new cn("",{})]),V=new J.X({}),G=new J.X({}),ue=new J.X({}),we=new J.X(""),et=new tn(N,V,ue,we,G,jt,I,b.root);return et.snapshot=b.root,new Xe(new re(et,[]),b)}class tn{constructor(I,b,N,V,G,ue,we,et){this.url=I,this.params=b,this.queryParams=N,this.fragment=V,this.data=G,this.outlet=ue,this.component=we,this._futureSnapshot=et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(I=>Fe(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(I=>Fe(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zt(A,I="emptyOnly"){const b=A.pathFromRoot;let N=0;if("always"!==I)for(N=b.length-1;N>=1;){const V=b[N],G=b[N-1];if(V.routeConfig&&""===V.routeConfig.path)N--;else{if(G.component)break;N--}}return function(A){return A.reduce((I,b)=>({params:Object.assign(Object.assign({},I.params),b.params),data:Object.assign(Object.assign({},I.data),b.data),resolve:Object.assign(Object.assign({},I.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(N))}class As{constructor(I,b,N,V,G,ue,we,et,It,xn,Mt){this.url=I,this.params=b,this.queryParams=N,this.fragment=V,this.data=G,this.outlet=ue,this.component=we,this.routeConfig=et,this._urlSegment=It,this._lastPathIndex=xn,this._resolve=Mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ls extends Gt{constructor(I,b){super(b),this.url=I,co(this,b)}toString(){return js(this._root)}}function co(A,I){I.value._routerState=A,I.children.forEach(b=>co(A,b))}function js(A){const I=A.children.length>0?` { ${A.children.map(js).join(", ")} } `:"";return`${A.value}${I}`}function yi(A){if(A.snapshot){const I=A.snapshot,b=A._futureSnapshot;A.snapshot=b,nt(I.queryParams,b.queryParams)||A.queryParams.next(b.queryParams),I.fragment!==b.fragment&&A.fragment.next(b.fragment),nt(I.params,b.params)||A.params.next(b.params),function(A,I){if(A.length!==I.length)return!1;for(let b=0;b<A.length;++b)if(!nt(A[b],I[b]))return!1;return!0}(I.url,b.url)||A.url.next(b.url),nt(I.data,b.data)||A.data.next(b.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function Pi(A,I){return nt(A.params,I.params)&&function(A,I){return ri(A,I)&&A.every((b,N)=>nt(b.parameters,I[N].parameters))}(A.url,I.url)&&!(!A.parent!=!I.parent)&&(!A.parent||Pi(A.parent,I.parent))}function ya(A,I,b){if(b&&A.shouldReuseRoute(I.value,b.value.snapshot)){const N=b.value;N._futureSnapshot=I.value;const V=function(A,I,b){return I.children.map(N=>{for(const V of b.children)if(A.shouldReuseRoute(N.value,V.value.snapshot))return ya(A,N,V);return ya(A,N)})}(A,I,b);return new re(N,V)}{if(A.shouldAttach(I.value)){const G=A.retrieve(I.value);if(null!==G){const ue=G.route;return nr(I,ue),ue}}const N=function(A){return new tn(new J.X(A.url),new J.X(A.params),new J.X(A.queryParams),new J.X(A.fragment),new J.X(A.data),A.outlet,A.component,A)}(I.value),V=I.children.map(G=>ya(A,G));return new re(N,V)}}function nr(A,I){if(A.value.routeConfig!==I.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(A.children.length!==I.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");I.value._futureSnapshot=A.value;for(let b=0;b<A.children.length;++b)nr(A.children[b],I.children[b])}function Ji(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Gr(A){return"object"==typeof A&&null!=A&&A.outlets}function di(A,I,b,N,V){let G={};return N&&Tt(N,(ue,we)=>{G[we]=Array.isArray(ue)?ue.map(et=>`${et}`):`${ue}`}),new Gn(b.root===A?I:Ss(b.root,A,I),G,V)}function Ss(A,I,b){const N={};return Tt(A.children,(V,G)=>{N[G]=V===I?b:Ss(V,I,b)}),new Ht(A.segments,N)}class Go{constructor(I,b,N){if(this.isAbsolute=I,this.numberOfDoubleDots=b,this.commands=N,I&&N.length>0&&Ji(N[0]))throw new Error("Root segment cannot have matrix parameters");const V=N.find(Gr);if(V&&V!==tr(N))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zo{constructor(I,b,N){this.segmentGroup=I,this.processChildren=b,this.index=N}}function Xt(A,I,b){if(A||(A=new Ht([],{})),0===A.segments.length&&A.hasChildren())return vi(A,I,b);const N=function(A,I,b){let N=0,V=I;const G={match:!1,pathIndex:0,commandIndex:0};for(;V<A.segments.length;){if(N>=b.length)return G;const ue=A.segments[V],we=b[N];if(Gr(we))break;const et=`${we}`,It=N<b.length-1?b[N+1]:null;if(V>0&&void 0===et)break;if(et&&It&&"object"==typeof It&&void 0===It.outlets){if(!Ko(et,It,ue))return G;N+=2}else{if(!Ko(et,{},ue))return G;N++}V++}return{match:!0,pathIndex:V,commandIndex:N}}(A,I,b),V=b.slice(N.commandIndex);if(N.match&&N.pathIndex<A.segments.length){const G=new Ht(A.segments.slice(0,N.pathIndex),{});return G.children[jt]=new Ht(A.segments.slice(N.pathIndex),A.children),vi(G,0,V)}return N.match&&0===V.length?new Ht(A.segments,{}):N.match&&!A.hasChildren()?uo(A,I,b):N.match?vi(A,0,V):uo(A,I,b)}function vi(A,I,b){if(0===b.length)return new Ht(A.segments,{});{const N=function(A){return Gr(A[0])?A[0].outlets:{[jt]:A}}(b),V={};return Tt(N,(G,ue)=>{"string"==typeof G&&(G=[G]),null!==G&&(V[ue]=Xt(A.children[ue],I,G))}),Tt(A.children,(G,ue)=>{void 0===N[ue]&&(V[ue]=G)}),new Ht(A.segments,V)}}function uo(A,I,b){const N=A.segments.slice(0,I);let V=0;for(;V<b.length;){const G=b[V];if(Gr(G)){const et=Qa(G.outlets);return new Ht(N,et)}if(0===V&&Ji(b[0])){N.push(new cn(A.segments[I].path,$s(b[0]))),V++;continue}const ue=Gr(G)?G.outlets[jt]:`${G}`,we=V<b.length-1?b[V+1]:null;ue&&we&&Ji(we)?(N.push(new cn(ue,$s(we))),V+=2):(N.push(new cn(ue,{})),V++)}return new Ht(N,{})}function Qa(A){const I={};return Tt(A,(b,N)=>{"string"==typeof b&&(b=[b]),null!==b&&(I[N]=uo(new Ht([],{}),0,b))}),I}function $s(A){const I={};return Tt(A,(b,N)=>I[N]=`${b}`),I}function Ko(A,I,b){return A==b.path&&nt(I,b.parameters)}class mn{constructor(I,b,N,V){this.routeReuseStrategy=I,this.futureState=b,this.currState=N,this.forwardEvent=V}activate(I){const b=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,N,I),yi(this.futureState.root),this.activateChildRoutes(b,N,I)}deactivateChildRoutes(I,b,N){const V=Ne(b);I.children.forEach(G=>{const ue=G.value.outlet;this.deactivateRoutes(G,V[ue],N),delete V[ue]}),Tt(V,(G,ue)=>{this.deactivateRouteAndItsChildren(G,N)})}deactivateRoutes(I,b,N){const V=I.value,G=b?b.value:null;if(V===G)if(V.component){const ue=N.getContext(V.outlet);ue&&this.deactivateChildRoutes(I,b,ue.children)}else this.deactivateChildRoutes(I,b,N);else G&&this.deactivateRouteAndItsChildren(b,N)}deactivateRouteAndItsChildren(I,b){this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,b):this.deactivateRouteAndOutlet(I,b)}detachAndStoreRouteSubtree(I,b){const N=b.getContext(I.value.outlet);if(N&&N.outlet){const V=N.outlet.detach(),G=N.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:V,route:I,contexts:G})}}deactivateRouteAndOutlet(I,b){const N=b.getContext(I.value.outlet),V=N&&I.value.component?N.children:b,G=Ne(I);for(const ue of Object.keys(G))this.deactivateRouteAndItsChildren(G[ue],V);N&&N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated(),N.attachRef=null,N.resolver=null,N.route=null)}activateChildRoutes(I,b,N){const V=Ne(b);I.children.forEach(G=>{this.activateRoutes(G,V[G.value.outlet],N),this.forwardEvent(new vt(G.value.snapshot))}),I.children.length&&this.forwardEvent(new Ir(I.value.snapshot))}activateRoutes(I,b,N){const V=I.value,G=b?b.value:null;if(yi(V),V===G)if(V.component){const ue=N.getOrCreateContext(V.outlet);this.activateChildRoutes(I,b,ue.children)}else this.activateChildRoutes(I,b,N);else if(V.component){const ue=N.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const we=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),ue.children.onOutletReAttached(we.contexts),ue.attachRef=we.componentRef,ue.route=we.route.value,ue.outlet&&ue.outlet.attach(we.componentRef,we.route.value),Rr(we.route)}else{const we=function(A){for(let I=A.parent;I;I=I.parent){const b=I.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(V.snapshot),et=we?we.module.componentFactoryResolver:null;ue.attachRef=null,ue.route=V,ue.resolver=et,ue.outlet&&ue.outlet.activateWith(V,et),this.activateChildRoutes(I,null,ue.children)}}else this.activateChildRoutes(I,null,N)}}function Rr(A){yi(A.value),A.children.forEach(Rr)}class Ms{constructor(I,b){this.routes=I,this.module=b}}function Dr(A){return"function"==typeof A}function cs(A){return A instanceof Gn}const us=Symbol("INITIAL_VALUE");function Or(){return(0,Wt.w)(A=>(0,Q.aj)(A.map(I=>I.pipe((0,Ft.q)(1),function(...A){const I=A[A.length-1];return(0,Ve.K)(I)?(A.pop(),b=>X(A,b,I)):b=>X(A,b)}(us)))).pipe((0,en.R)((I,b)=>{let N=!1;return b.reduce((V,G,ue)=>V!==us?V:(G===us&&(N=!0),N||!1!==G&&ue!==b.length-1&&!cs(G)?V:G),I)},us),(0,Ae.h)(I=>I!==us),(0,mt.U)(I=>cs(I)?I:!0===I),(0,Ft.q)(1)))}let Bi=(()=>{class A{}return A.\u0275fac=function(b){return new(b||A)},A.\u0275cmp=m.Xpm({type:A,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,N){1&b&&m._UZ(0,"router-outlet")},directives:function(){return[rr]},encapsulation:2}),A})();function Gs(A,I=""){for(let b=0;b<A.length;b++){const N=A[b];Yo(N,qo(I,N))}}function Yo(A,I){A.children&&Gs(A.children,I)}function qo(A,I){return I?A||I.path?A&&!I.path?`${A}/`:!A&&I.path?I.path:`${A}/${I.path}`:"":A}function Qo(A){const I=A.children&&A.children.map(Qo),b=I?Object.assign(Object.assign({},A),{children:I}):Object.assign({},A);return!b.component&&(I||b.loadChildren)&&b.outlet&&b.outlet!==jt&&(b.component=Bi),b}function or(A){return A.outlet||jt}function Mi(A,I){const b=A.filter(N=>or(N)===I);return b.push(...A.filter(N=>or(N)!==I)),b}const _n={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ei(A,I,b){var N;if(""===I.path)return"full"===I.pathMatch&&(A.hasChildren()||b.length>0)?Object.assign({},_n):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const G=(I.matcher||ot)(b,A,I);if(!G)return Object.assign({},_n);const ue={};Tt(G.posParams,(et,It)=>{ue[It]=et.path});const we=G.consumed.length>0?Object.assign(Object.assign({},ue),G.consumed[G.consumed.length-1].parameters):ue;return{matched:!0,consumedSegments:G.consumed,lastChild:G.consumed.length,parameters:we,positionalParamSegments:null!==(N=G.posParams)&&void 0!==N?N:{}}}function Ci(A,I,b,N,V="corrected"){if(b.length>0&&function(A,I,b){return b.some(N=>x(A,I,N)&&or(N)!==jt)}(A,b,N)){const ue=new Ht(I,function(A,I,b,N){const V={};V[jt]=N,N._sourceSegment=A,N._segmentIndexShift=I.length;for(const G of b)if(""===G.path&&or(G)!==jt){const ue=new Ht([],{});ue._sourceSegment=A,ue._segmentIndexShift=I.length,V[or(G)]=ue}return V}(A,I,N,new Ht(b,A.children)));return ue._sourceSegment=A,ue._segmentIndexShift=I.length,{segmentGroup:ue,slicedSegments:[]}}if(0===b.length&&function(A,I,b){return b.some(N=>x(A,I,N))}(A,b,N)){const ue=new Ht(A.segments,function(A,I,b,N,V,G){const ue={};for(const we of N)if(x(A,b,we)&&!V[or(we)]){const et=new Ht([],{});et._sourceSegment=A,et._segmentIndexShift="legacy"===G?A.segments.length:I.length,ue[or(we)]=et}return Object.assign(Object.assign({},V),ue)}(A,I,b,N,A.children,V));return ue._sourceSegment=A,ue._segmentIndexShift=I.length,{segmentGroup:ue,slicedSegments:b}}const G=new Ht(A.segments,A.children);return G._sourceSegment=A,G._segmentIndexShift=I.length,{segmentGroup:G,slicedSegments:b}}function x(A,I,b){return(!(A.hasChildren()||I.length>0)||"full"!==b.pathMatch)&&""===b.path}function z(A,I,b,N){return!!(or(A)===N||N!==jt&&x(I,b,A))&&("**"===A.path||Ei(I,A,b).matched)}function fe(A,I,b){return 0===I.length&&!A.children[b]}class Ye{constructor(I){this.segmentGroup=I||null}}class lt{constructor(I){this.urlTree=I}}function Pt(A){return new se.y(I=>I.error(new Ye(A)))}function ct(A){return new se.y(I=>I.error(new lt(A)))}function un(A){return new se.y(I=>I.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${A}'`)))}class Nn{constructor(I,b,N,V,G){this.configLoader=b,this.urlSerializer=N,this.urlTree=V,this.config=G,this.allowRedirects=!0,this.ngModule=I.get(m.h0i)}apply(){const I=Ci(this.urlTree.root,[],[],this.config).segmentGroup,b=new Ht(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,b,jt).pipe((0,mt.U)(G=>this.createUrlTree(fr(G),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,bt.K)(G=>{if(G instanceof lt)return this.allowRedirects=!1,this.match(G.urlTree);throw G instanceof Ye?this.noMatchError(G):G}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,jt).pipe((0,mt.U)(V=>this.createUrlTree(fr(V),I.queryParams,I.fragment))).pipe((0,bt.K)(V=>{throw V instanceof Ye?this.noMatchError(V):V}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,b,N){const V=I.segments.length>0?new Ht([],{[jt]:I}):I;return new Gn(V,b,N)}expandSegmentGroup(I,b,N,V){return 0===N.segments.length&&N.hasChildren()?this.expandChildren(I,b,N).pipe((0,mt.U)(G=>new Ht([],G))):this.expandSegment(I,N,b,N.segments,V,!0)}expandChildren(I,b,N){const V=[];for(const G of Object.keys(N.children))"primary"===G?V.unshift(G):V.push(G);return(0,ee.D)(V).pipe((0,kr.b)(G=>{const ue=N.children[G],we=Mi(b,G);return this.expandSegmentGroup(I,we,ue,G).pipe((0,mt.U)(et=>({segment:et,outlet:G})))}),(0,en.R)((G,ue)=>(G[ue.outlet]=ue.segment,G),{}),function(A,I){const b=arguments.length>=2;return N=>N.pipe(A?(0,Ae.h)((V,G)=>A(V,G,N)):pt.y,Se(1),b?(0,dt.d)(I):(0,Je.T)(()=>new me.K))}())}expandSegment(I,b,N,V,G,ue){return(0,ee.D)(N).pipe((0,kr.b)(we=>this.expandSegmentAgainstRoute(I,b,N,we,V,G,ue).pipe((0,bt.K)(It=>{if(It instanceof Ye)return(0,B.of)(null);throw It}))),(0,er.P)(we=>!!we),(0,bt.K)((we,et)=>{if(we instanceof me.K||"EmptyError"===we.name){if(fe(b,V,G))return(0,B.of)(new Ht([],{}));throw new Ye(b)}throw we}))}expandSegmentAgainstRoute(I,b,N,V,G,ue,we){return z(V,b,G,ue)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(I,b,V,G,ue):we&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,b,N,V,G,ue):Pt(b):Pt(b)}expandSegmentAgainstRouteUsingRedirect(I,b,N,V,G,ue){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,N,V,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(I,b,N,V,G,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,b,N,V){const G=this.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?ct(G):this.lineralizeSegments(N,G).pipe((0,$n.zg)(ue=>{const we=new Ht(ue,{});return this.expandSegment(I,we,b,ue,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,b,N,V,G,ue){const{matched:we,consumedSegments:et,lastChild:It,positionalParamSegments:xn}=Ei(b,V,G);if(!we)return Pt(b);const Mt=this.applyRedirectCommands(et,V.redirectTo,xn);return V.redirectTo.startsWith("/")?ct(Mt):this.lineralizeSegments(V,Mt).pipe((0,$n.zg)(Jn=>this.expandSegment(I,b,N,Jn.concat(G.slice(It)),ue,!1)))}matchSegmentAgainstRoute(I,b,N,V,G){if("**"===N.path)return N.loadChildren?(N._loadedConfig?(0,B.of)(N._loadedConfig):this.configLoader.load(I.injector,N)).pipe((0,mt.U)(Jn=>(N._loadedConfig=Jn,new Ht(V,{})))):(0,B.of)(new Ht(V,{}));const{matched:ue,consumedSegments:we,lastChild:et}=Ei(b,N,V);if(!ue)return Pt(b);const It=V.slice(et);return this.getChildConfig(I,N,V).pipe((0,$n.zg)(Mt=>{const Jn=Mt.module,Un=Mt.routes,{segmentGroup:Di,slicedSegments:$i}=Ci(b,we,It,Un),sr=new Ht(Di.segments,Di.children);if(0===$i.length&&sr.hasChildren())return this.expandChildren(Jn,Un,sr).pipe((0,mt.U)(xo=>new Ht(we,xo)));if(0===Un.length&&0===$i.length)return(0,B.of)(new Ht(we,{}));const Co=or(N)===G;return this.expandSegment(Jn,sr,Un,$i,Co?jt:G,!0).pipe((0,mt.U)(qr=>new Ht(we.concat(qr.segments),qr.children)))}))}getChildConfig(I,b,N){return b.children?(0,B.of)(new Ms(b.children,I)):b.loadChildren?void 0!==b._loadedConfig?(0,B.of)(b._loadedConfig):this.runCanLoadGuards(I.injector,b,N).pipe((0,$n.zg)(V=>{return V?this.configLoader.load(I.injector,b).pipe((0,mt.U)(G=>(b._loadedConfig=G,G))):(A=b,new se.y(I=>I.error(he(`Cannot load children because the guard of the route "path: '${A.path}'" returned false`))));var A})):(0,B.of)(new Ms([],I))}runCanLoadGuards(I,b,N){const V=b.canLoad;if(!V||0===V.length)return(0,B.of)(!0);const G=V.map(ue=>{const we=I.get(ue);let et;if((A=we)&&Dr(A.canLoad))et=we.canLoad(b,N);else{if(!Dr(we))throw new Error("Invalid CanLoad guard");et=we(b,N)}var A;return Bn(et)});return(0,B.of)(G).pipe(Or(),(0,Zn.b)(ue=>{if(!cs(ue))return;const we=he(`Redirecting to "${this.urlSerializer.serialize(ue)}"`);throw we.url=ue,we}),(0,mt.U)(ue=>!0===ue))}lineralizeSegments(I,b){let N=[],V=b.root;for(;;){if(N=N.concat(V.segments),0===V.numberOfChildren)return(0,B.of)(N);if(V.numberOfChildren>1||!V.children[jt])return un(I.redirectTo);V=V.children[jt]}}applyRedirectCommands(I,b,N){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),I,N)}applyRedirectCreatreUrlTree(I,b,N,V){const G=this.createSegmentGroup(I,b.root,N,V);return new Gn(G,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(I,b){const N={};return Tt(I,(V,G)=>{if("string"==typeof V&&V.startsWith(":")){const we=V.substring(1);N[G]=b[we]}else N[G]=V}),N}createSegmentGroup(I,b,N,V){const G=this.createSegments(I,b.segments,N,V);let ue={};return Tt(b.children,(we,et)=>{ue[et]=this.createSegmentGroup(I,we,N,V)}),new Ht(G,ue)}createSegments(I,b,N,V){return b.map(G=>G.path.startsWith(":")?this.findPosParam(I,G,V):this.findOrReturn(G,N))}findPosParam(I,b,N){const V=N[b.path.substring(1)];if(!V)throw new Error(`Cannot redirect to '${I}'. Cannot find '${b.path}'.`);return V}findOrReturn(I,b){let N=0;for(const V of b){if(V.path===I.path)return b.splice(N),V;N++}return I}}function fr(A){const I={};for(const N of Object.keys(A.children)){const G=fr(A.children[N]);(G.segments.length>0||G.hasChildren())&&(I[N]=G)}return function(A){if(1===A.numberOfChildren&&A.children[jt]){const I=A.children[jt];return new Ht(A.segments.concat(I.segments),I.children)}return A}(new Ht(A.segments,I))}class yn{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Tn{constructor(I,b){this.component=I,this.route=b}}function Ri(A,I,b){const N=A._root;return Oi(N,I?I._root:null,b,[N.value])}function bi(A,I,b){const N=function(A){if(!A)return null;for(let I=A.parent;I;I=I.parent){const b=I.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(I);return(N?N.module.injector:b).get(A)}function Oi(A,I,b,N,V={canDeactivateChecks:[],canActivateChecks:[]}){const G=Ne(I);return A.children.forEach(ue=>{(function(A,I,b,N,V={canDeactivateChecks:[],canActivateChecks:[]}){const G=A.value,ue=I?I.value:null,we=b?b.getContext(A.value.outlet):null;if(ue&&G.routeConfig===ue.routeConfig){const et=function(A,I,b){if("function"==typeof b)return b(A,I);switch(b){case"pathParamsChange":return!ri(A.url,I.url);case"pathParamsOrQueryParamsChange":return!ri(A.url,I.url)||!nt(A.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pi(A,I)||!nt(A.queryParams,I.queryParams);case"paramsChange":default:return!Pi(A,I)}}(ue,G,G.routeConfig.runGuardsAndResolvers);et?V.canActivateChecks.push(new yn(N)):(G.data=ue.data,G._resolvedData=ue._resolvedData),Oi(A,I,G.component?we?we.children:null:b,N,V),et&&we&&we.outlet&&we.outlet.isActivated&&V.canDeactivateChecks.push(new Tn(we.outlet.component,ue))}else ue&&qt(I,we,V),V.canActivateChecks.push(new yn(N)),Oi(A,null,G.component?we?we.children:null:b,N,V)})(ue,G[ue.value.outlet],b,N.concat([ue.value]),V),delete G[ue.value.outlet]}),Tt(G,(ue,we)=>qt(ue,b.getContext(we),V)),V}function qt(A,I,b){const N=Ne(A),V=A.value;Tt(N,(G,ue)=>{qt(G,V.component?I?I.children.getContext(ue):null:I,b)}),b.canDeactivateChecks.push(new Tn(V.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,V))}class fo{}function po(A){return new se.y(I=>I.error(A))}class Fa{constructor(I,b,N,V,G,ue){this.rootComponentType=I,this.config=b,this.urlTree=N,this.url=V,this.paramsInheritanceStrategy=G,this.relativeLinkResolution=ue}recognize(){const I=Ci(this.urlTree.root,[],[],this.config.filter(ue=>void 0===ue.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,I,jt);if(null===b)return null;const N=new As([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new re(N,b),G=new ls(this.url,V);return this.inheritParamsAndData(G._root),G}inheritParamsAndData(I){const b=I.value,N=zt(b,this.paramsInheritanceStrategy);b.params=Object.freeze(N.params),b.data=Object.freeze(N.data),I.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(I,b,N){return 0===b.segments.length&&b.hasChildren()?this.processChildren(I,b):this.processSegment(I,b,b.segments,N)}processChildren(I,b){const N=[];for(const G of Object.keys(b.children)){const ue=b.children[G],we=Mi(I,G),et=this.processSegmentGroup(we,ue,G);if(null===et)return null;N.push(...et)}const V=hi(N);return V.sort((I,b)=>I.value.outlet===jt?-1:b.value.outlet===jt?1:I.value.outlet.localeCompare(b.value.outlet)),V}processSegment(I,b,N,V){for(const G of I){const ue=this.processSegmentAgainstRoute(G,b,N,V);if(null!==ue)return ue}return fe(b,N,V)?[]:null}processSegmentAgainstRoute(I,b,N,V){if(I.redirectTo||!z(I,b,N,V))return null;let G,ue=[],we=[];if("**"===I.path){const Un=N.length>0?tr(N).parameters:{};G=new As(N,Un,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mo(I),or(I),I.component,I,ii(b),si(b)+N.length,fs(I))}else{const Un=Ei(b,I,N);if(!Un.matched)return null;ue=Un.consumedSegments,we=N.slice(Un.lastChild),G=new As(ue,Un.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mo(I),or(I),I.component,I,ii(b),si(b)+ue.length,fs(I))}const et=(A=I).children?A.children:A.loadChildren?A._loadedConfig.routes:[],{segmentGroup:It,slicedSegments:xn}=Ci(b,ue,we,et.filter(Un=>void 0===Un.redirectTo),this.relativeLinkResolution);var A;if(0===xn.length&&It.hasChildren()){const Un=this.processChildren(et,It);return null===Un?null:[new re(G,Un)]}if(0===et.length&&0===xn.length)return[new re(G,[])];const Mt=or(I)===V,Jn=this.processSegment(et,It,xn,Mt?jt:V);return null===Jn?null:[new re(G,Jn)]}}function Nr(A){const I=A.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function hi(A){const I=[],b=new Set;for(const N of A){if(!Nr(N)){I.push(N);continue}const V=I.find(G=>N.value.routeConfig===G.value.routeConfig);void 0!==V?(V.children.push(...N.children),b.add(V)):I.push(N)}for(const N of b){const V=hi(N.children);I.push(new re(N.value,V))}return I.filter(N=>!b.has(N))}function ii(A){let I=A;for(;I._sourceSegment;)I=I._sourceSegment;return I}function si(A){let I=A,b=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,b+=I._segmentIndexShift?I._segmentIndexShift:0;return b-1}function mo(A){return A.data||{}}function fs(A){return A.resolve||{}}function Ys(A){return(0,Wt.w)(I=>{const b=A(I);return b?(0,ee.D)(b).pipe((0,mt.U)(()=>I)):(0,B.of)(I)})}class vo extends class{shouldDetach(I){return!1}store(I,b){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,b){return I.routeConfig===b.routeConfig}}{}const fi=new m.OlP("ROUTES");class rs{constructor(I,b,N,V){this.loader=I,this.compiler=b,this.onLoadStartListener=N,this.onLoadEndListener=V}load(I,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const V=this.loadModuleFactory(b.loadChildren).pipe((0,mt.U)(G=>{this.onLoadEndListener&&this.onLoadEndListener(b);const ue=G.create(I);return new Ms(gn(ue.injector.get(fi,void 0,m.XFs.Self|m.XFs.Optional)).map(Qo),ue)}),(0,bt.K)(G=>{throw b._loader$=void 0,G}));return b._loader$=new Ie.c(V,()=>new Le.xQ).pipe((0,En.x)()),b._loader$}loadModuleFactory(I){return"string"==typeof I?(0,ee.D)(this.loader.load(I)):Bn(I()).pipe((0,$n.zg)(b=>b instanceof m.YKP?(0,B.of)(b):(0,ee.D)(this.compiler.compileModuleAsync(b))))}}class Oo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ps,this.attachRef=null}}class ps{constructor(){this.contexts=new Map}onChildOutletCreated(I,b){const N=this.getOrCreateContext(I);N.outlet=b,this.contexts.set(I,N)}onChildOutletDestroyed(I){const b=this.getContext(I);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let b=this.getContext(I);return b||(b=new Oo,this.contexts.set(I,b)),b}getContext(I){return this.contexts.get(I)||null}}class Ca{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,b){return I}}function gs(A){throw A}function Ar(A,I,b){return I.parse("/")}function Ns(A,I){return(0,B.of)(null)}const gr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yr=(()=>{class A{constructor(b,N,V,G,ue,we,et,It){this.rootComponentType=b,this.urlSerializer=N,this.rootContexts=V,this.location=G,this.config=It,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Le.xQ,this.errorHandler=gs,this.malformedUriErrorHandler=Ar,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ns,afterPreactivation:Ns},this.urlHandlingStrategy=new Ca,this.routeReuseStrategy=new vo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ue.get(m.h0i),this.console=ue.get(m.c2e);const Jn=ue.get(m.R0b);this.isNgZoneEnabled=Jn instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(It),this.currentUrlTree=new Gn(new Ht([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rs(we,et,Un=>this.triggerEvent(new On(Un)),Un=>this.triggerEvent(new Sr(Un))),this.routerState=Nt(this.currentUrlTree,this.rootComponentType),this.transitions=new J.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const N=this.events;return b.pipe((0,Ae.h)(V=>0!==V.id),(0,mt.U)(V=>Object.assign(Object.assign({},V),{extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl)})),(0,Wt.w)(V=>{let G=!1,ue=!1;return(0,B.of)(V).pipe((0,Zn.b)(we=>{this.currentNavigation={id:we.id,initialUrl:we.currentRawUrl,extractedUrl:we.extractedUrl,trigger:we.source,extras:we.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Wt.w)(we=>{const et=this.browserUrlTree.toString(),It=!this.navigated||we.extractedUrl.toString()!==et||et!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||It)&&this.urlHandlingStrategy.shouldProcessUrl(we.rawUrl))return xr(we.source)&&(this.browserUrlTree=we.extractedUrl),(0,B.of)(we).pipe((0,Wt.w)(Mt=>{const Jn=this.transitions.getValue();return N.next(new ti(Mt.id,this.serializeUrl(Mt.extractedUrl),Mt.source,Mt.restoredState)),Jn!==this.transitions.getValue()?ie.E:Promise.resolve(Mt)}),function(A,I,b,N){return(0,Wt.w)(V=>function(A,I,b,N,V){return new Nn(A,I,b,N,V).apply()}(A,I,b,V.extractedUrl,N).pipe((0,mt.U)(G=>Object.assign(Object.assign({},V),{urlAfterRedirects:G}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zn.b)(Mt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Mt.urlAfterRedirects})}),function(A,I,b,N,V){return(0,$n.zg)(G=>function(A,I,b,N,V="emptyOnly",G="legacy"){try{const ue=new Fa(A,I,b,N,V,G).recognize();return null===ue?po(new fo):(0,B.of)(ue)}catch(ue){return po(ue)}}(A,I,G.urlAfterRedirects,b(G.urlAfterRedirects),N,V).pipe((0,mt.U)(ue=>Object.assign(Object.assign({},G),{targetSnapshot:ue}))))}(this.rootComponentType,this.config,Mt=>this.serializeUrl(Mt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zn.b)(Mt=>{"eager"===this.urlUpdateStrategy&&(Mt.extras.skipLocationChange||this.setBrowserUrl(Mt.urlAfterRedirects,Mt),this.browserUrlTree=Mt.urlAfterRedirects);const Jn=new Wn(Mt.id,this.serializeUrl(Mt.extractedUrl),this.serializeUrl(Mt.urlAfterRedirects),Mt.targetSnapshot);N.next(Jn)}));if(It&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Jn,extractedUrl:Un,source:Di,restoredState:$i,extras:sr}=we,Co=new ti(Jn,this.serializeUrl(Un),Di,$i);N.next(Co);const xi=Nt(Un,this.rootComponentType).snapshot;return(0,B.of)(Object.assign(Object.assign({},we),{targetSnapshot:xi,urlAfterRedirects:Un,extras:Object.assign(Object.assign({},sr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=we.rawUrl,this.browserUrlTree=we.urlAfterRedirects,we.resolve(null),ie.E}),Ys(we=>{const{targetSnapshot:et,id:It,extractedUrl:xn,rawUrl:Mt,extras:{skipLocationChange:Jn,replaceUrl:Un}}=we;return this.hooks.beforePreactivation(et,{navigationId:It,appliedUrlTree:xn,rawUrlTree:Mt,skipLocationChange:!!Jn,replaceUrl:!!Un})}),(0,Zn.b)(we=>{const et=new pn(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot);this.triggerEvent(et)}),(0,mt.U)(we=>Object.assign(Object.assign({},we),{guards:Ri(we.targetSnapshot,we.currentSnapshot,this.rootContexts)})),function(A,I){return(0,$n.zg)(b=>{const{targetSnapshot:N,currentSnapshot:V,guards:{canActivateChecks:G,canDeactivateChecks:ue}}=b;return 0===ue.length&&0===G.length?(0,B.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function(A,I,b,N){return(0,ee.D)(A).pipe((0,$n.zg)(V=>function(A,I,b,N,V){const G=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,B.of)(!0);const ue=G.map(we=>{const et=bi(we,I,V);let It;if(function(A){return A&&Dr(A.canDeactivate)}(et))It=Bn(et.canDeactivate(A,I,b,N));else{if(!Dr(et))throw new Error("Invalid CanDeactivate guard");It=Bn(et(A,I,b,N))}return It.pipe((0,er.P)())});return(0,B.of)(ue).pipe(Or())}(V.component,V.route,b,I,N)),(0,er.P)(V=>!0!==V,!0))}(ue,N,V,A).pipe((0,$n.zg)(we=>we&&function(A){return"boolean"==typeof A}(we)?function(A,I,b,N){return(0,ee.D)(I).pipe((0,kr.b)(V=>X(function(A,I){return null!==A&&I&&I(new rt(A)),(0,B.of)(!0)}(V.route.parent,N),function(A,I){return null!==A&&I&&I(new rn(A)),(0,B.of)(!0)}(V.route,N),function(A,I,b){const N=I[I.length-1],G=I.slice(0,I.length-1).reverse().map(ue=>function(A){const I=A.routeConfig?A.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:A,guards:I}:null}(ue)).filter(ue=>null!==ue).map(ue=>Y(()=>{const we=ue.guards.map(et=>{const It=bi(et,ue.node,b);let xn;if(function(A){return A&&Dr(A.canActivateChild)}(It))xn=Bn(It.canActivateChild(N,A));else{if(!Dr(It))throw new Error("Invalid CanActivateChild guard");xn=Bn(It(N,A))}return xn.pipe((0,er.P)())});return(0,B.of)(we).pipe(Or())}));return(0,B.of)(G).pipe(Or())}(A,V.path,b),function(A,I,b){const N=I.routeConfig?I.routeConfig.canActivate:null;if(!N||0===N.length)return(0,B.of)(!0);const V=N.map(G=>Y(()=>{const ue=bi(G,I,b);let we;if(function(A){return A&&Dr(A.canActivate)}(ue))we=Bn(ue.canActivate(I,A));else{if(!Dr(ue))throw new Error("Invalid CanActivate guard");we=Bn(ue(I,A))}return we.pipe((0,er.P)())}));return(0,B.of)(V).pipe(Or())}(A,V.route,b))),(0,er.P)(V=>!0!==V,!0))}(N,G,A,I):(0,B.of)(we)),(0,mt.U)(we=>Object.assign(Object.assign({},b),{guardsResult:we})))})}(this.ngModule.injector,we=>this.triggerEvent(we)),(0,Zn.b)(we=>{if(cs(we.guardsResult)){const It=he(`Redirecting to "${this.serializeUrl(we.guardsResult)}"`);throw It.url=we.guardsResult,It}const et=new Yt(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot,!!we.guardsResult);this.triggerEvent(et)}),(0,Ae.h)(we=>!!we.guardsResult||(this.restoreHistory(we),this.cancelNavigationTransition(we,""),!1)),Ys(we=>{if(we.guards.canActivateChecks.length)return(0,B.of)(we).pipe((0,Zn.b)(et=>{const It=new Rn(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(It)}),(0,Wt.w)(et=>{let It=!1;return(0,B.of)(et).pipe(function(A,I){return(0,$n.zg)(b=>{const{targetSnapshot:N,guards:{canActivateChecks:V}}=b;if(!V.length)return(0,B.of)(b);let G=0;return(0,ee.D)(V).pipe((0,kr.b)(ue=>function(A,I,b,N){return function(A,I,b,N){const V=Object.keys(A);if(0===V.length)return(0,B.of)({});const G={};return(0,ee.D)(V).pipe((0,$n.zg)(ue=>function(A,I,b,N){const V=bi(A,I,N);return Bn(V.resolve?V.resolve(I,b):V(I,b))}(A[ue],I,b,N).pipe((0,Zn.b)(we=>{G[ue]=we}))),Se(1),(0,$n.zg)(()=>Object.keys(G).length===V.length?(0,B.of)(G):ie.E))}(A._resolve,A,I,N).pipe((0,mt.U)(G=>(A._resolvedData=G,A.data=Object.assign(Object.assign({},A.data),zt(A,b).resolve),null)))}(ue.route,N,A,I)),(0,Zn.b)(()=>G++),Se(1),(0,$n.zg)(ue=>G===V.length?(0,B.of)(b):ie.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zn.b)({next:()=>It=!0,complete:()=>{It||(this.restoreHistory(et),this.cancelNavigationTransition(et,"At least one route resolver didn't emit any value."))}}))}),(0,Zn.b)(et=>{const It=new wr(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(It)}))}),Ys(we=>{const{targetSnapshot:et,id:It,extractedUrl:xn,rawUrl:Mt,extras:{skipLocationChange:Jn,replaceUrl:Un}}=we;return this.hooks.afterPreactivation(et,{navigationId:It,appliedUrlTree:xn,rawUrlTree:Mt,skipLocationChange:!!Jn,replaceUrl:!!Un})}),(0,mt.U)(we=>{const et=function(A,I,b){const N=ya(A,I._root,b?b._root:void 0);return new Xe(N,I)}(this.routeReuseStrategy,we.targetSnapshot,we.currentRouterState);return Object.assign(Object.assign({},we),{targetRouterState:et})}),(0,Zn.b)(we=>{this.currentUrlTree=we.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(we.urlAfterRedirects,we.rawUrl),this.routerState=we.targetRouterState,"deferred"===this.urlUpdateStrategy&&(we.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,we),this.browserUrlTree=we.urlAfterRedirects)}),((A,I,b)=>(0,mt.U)(N=>(new mn(I,N.targetRouterState,N.currentRouterState,b).activate(A),N)))(this.rootContexts,this.routeReuseStrategy,we=>this.triggerEvent(we)),(0,Zn.b)({next(){G=!0},complete(){G=!0}}),(0,ln.x)(()=>{var we;if(!G&&!ue){const et=`Navigation ID ${V.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(V),this.cancelNavigationTransition(V,et)):this.cancelNavigationTransition(V,et)}(null===(we=this.currentNavigation)||void 0===we?void 0:we.id)===V.id&&(this.currentNavigation=null)}),(0,bt.K)(we=>{if(ue=!0,function(A){return A&&A[ce]}(we)){const et=cs(we.url);et||(this.navigated=!0,this.restoreHistory(V,!0));const It=new bn(V.id,this.serializeUrl(V.extractedUrl),we.message);N.next(It),et?setTimeout(()=>{const xn=this.urlHandlingStrategy.merge(we.url,this.rawUrlTree),Mt={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xr(V.source)};this.scheduleNavigation(xn,"imperative",null,Mt,{resolve:V.resolve,reject:V.reject,promise:V.promise})},0):V.resolve(!1)}else{this.restoreHistory(V,!0);const et=new ni(V.id,this.serializeUrl(V.extractedUrl),we);N.next(et);try{V.resolve(this.errorHandler(we))}catch(It){V.reject(It)}}return ie.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}getTransition(){const b=this.transitions.value;return b.urlAfterRedirects=this.browserUrlTree,b}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const N=this.extractLocationChangeInfoFromEvent(b);this.shouldScheduleNavigation(this.lastLocationChangeInfo,N)&&setTimeout(()=>{const{source:V,state:G,urlTree:ue}=N,we={replaceUrl:!0};if(G){const et=Object.assign({},G);delete et.navigationId,delete et.\u0275routerPageId,0!==Object.keys(et).length&&(we.state=et)}this.scheduleNavigation(ue,V,G,we)},0),this.lastLocationChangeInfo=N}))}extractLocationChangeInfoFromEvent(b){var N;return{source:"popstate"===b.type?"popstate":"hashchange",urlTree:this.parseUrl(b.url),state:(null===(N=b.state)||void 0===N?void 0:N.navigationId)?b.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(b,N){if(!b)return!0;const V=N.urlTree.toString()===b.urlTree.toString();return N.transitionId!==b.transitionId||!V||!("hashchange"===N.source&&"popstate"===b.source||"popstate"===N.source&&"hashchange"===b.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){Gs(b),this.config=b.map(Qo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,N={}){const{relativeTo:V,queryParams:G,fragment:ue,queryParamsHandling:we,preserveFragment:et}=N,It=V||this.routerState.root,xn=et?this.currentUrlTree.fragment:ue;let Mt=null;switch(we){case"merge":Mt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),G);break;case"preserve":Mt=this.currentUrlTree.queryParams;break;default:Mt=G||null}return null!==Mt&&(Mt=this.removeEmptyProps(Mt)),function(A,I,b,N,V){if(0===b.length)return di(I.root,I.root,I,N,V);const G=function(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Go(!0,0,A);let I=0,b=!1;const N=A.reduce((V,G,ue)=>{if("object"==typeof G&&null!=G){if(G.outlets){const we={};return Tt(G.outlets,(et,It)=>{we[It]="string"==typeof et?et.split("/"):et}),[...V,{outlets:we}]}if(G.segmentPath)return[...V,G.segmentPath]}return"string"!=typeof G?[...V,G]:0===ue?(G.split("/").forEach((we,et)=>{0==et&&"."===we||(0==et&&""===we?b=!0:".."===we?I++:""!=we&&V.push(we))}),V):[...V,G]},[]);return new Go(b,I,N)}(b);if(G.toRoot())return di(I.root,new Ht([],{}),I,N,V);const ue=function(A,I,b){if(A.isAbsolute)return new zo(I.root,!0,0);if(-1===b.snapshot._lastPathIndex){const G=b.snapshot._urlSegment;return new zo(G,G===I.root,0)}const N=Ji(A.commands[0])?0:1;return function(A,I,b){let N=A,V=I,G=b;for(;G>V;){if(G-=V,N=N.parent,!N)throw new Error("Invalid number of '../'");V=N.segments.length}return new zo(N,!1,V-G)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+N,A.numberOfDoubleDots)}(G,I,A),we=ue.processChildren?vi(ue.segmentGroup,ue.index,G.commands):Xt(ue.segmentGroup,ue.index,G.commands);return di(ue.segmentGroup,we,I,N,V)}(It,this.currentUrlTree,b,Mt,null!=xn?xn:null)}navigateByUrl(b,N={skipLocationChange:!1}){const V=cs(b)?b:this.parseUrl(b),G=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(G,"imperative",null,N)}navigate(b,N={skipLocationChange:!1}){return function(A){for(let I=0;I<A.length;I++){const b=A[I];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${I}`)}}(b),this.navigateByUrl(this.createUrlTree(b,N),N)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let N;try{N=this.urlSerializer.parse(b)}catch(V){N=this.malformedUriErrorHandler(V,this.urlSerializer,b)}return N}isActive(b,N){let V;if(V=!0===N?Object.assign({},gr):!1===N?Object.assign({},Xa):N,cs(b))return Ce(this.currentUrlTree,b,V);const G=this.parseUrl(b);return Ce(this.currentUrlTree,G,V)}removeEmptyProps(b){return Object.keys(b).reduce((N,V)=>{const G=b[V];return null!=G&&(N[V]=G),N},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new _r(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,N,V,G,ue){var we,et;if(this.disposed)return Promise.resolve(!1);const It=this.getTransition(),xn=xr(N)&&It&&!xr(It.source),Un=(this.lastSuccessfulId===It.id||this.currentNavigation?It.rawUrl:It.urlAfterRedirects).toString()===b.toString();if(xn&&Un)return Promise.resolve(!0);let Di,$i,sr;ue?(Di=ue.resolve,$i=ue.reject,sr=ue.promise):sr=new Promise((qr,xo)=>{Di=qr,$i=xo});const Co=++this.navigationId;let xi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(V=this.location.getState()),xi=V&&V.\u0275routerPageId?V.\u0275routerPageId:G.replaceUrl||G.skipLocationChange?null!==(we=this.browserPageId)&&void 0!==we?we:0:(null!==(et=this.browserPageId)&&void 0!==et?et:0)+1):xi=0,this.setTransition({id:Co,targetPageId:xi,source:N,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:G,resolve:Di,reject:$i,promise:sr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),sr.catch(qr=>Promise.reject(qr))}setBrowserUrl(b,N){const V=this.urlSerializer.serialize(b),G=Object.assign(Object.assign({},N.extras.state),this.generateNgRouterState(N.id,N.targetPageId));this.location.isCurrentPathEqualTo(V)||N.extras.replaceUrl?this.location.replaceState(V,"",G):this.location.go(V,"",G)}restoreHistory(b,N=!1){var V,G;if("computed"===this.canceledNavigationResolution){const ue=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)||0===ue?this.currentUrlTree===(null===(G=this.currentNavigation)||void 0===G?void 0:G.finalUrl)&&0===ue&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ue)}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,N){const V=new bn(b.id,this.serializeUrl(b.extractedUrl),N);this.triggerEvent(V),b.resolve(!1)}generateNgRouterState(b,N){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:N}:{navigationId:b}}}return A.\u0275fac=function(b){return new(b||A)(m.LFG(m.DyG),m.LFG(mi),m.LFG(ps),m.LFG(D.Ye),m.LFG(m.zs3),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(void 0))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac}),A})();function xr(A){return"imperative"!==A}let ba=(()=>{class A{constructor(b,N,V,G,ue){this.router=b,this.route=N,this.commands=[],this.onChanges=new Le.xQ,null==V&&G.setAttribute(ue.nativeElement,"tabindex","0")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:[]}onClick(){const b={skipLocationChange:ms(this.skipLocationChange),replaceUrl:ms(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ms(this.preserveFragment)})}}return A.\u0275fac=function(b){return new(b||A)(m.Y36(Yr),m.Y36(tn),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},A.\u0275dir=m.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,N){1&b&&m.NdJ("click",function(){return N.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[m.TTD]}),A})(),Ur=(()=>{class A{constructor(b,N,V){this.router=b,this.route=N,this.locationStrategy=V,this.commands=[],this.onChanges=new Le.xQ,this.subscription=b.events.subscribe(G=>{G instanceof _r&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:[]}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,N,V,G,ue){if(0!==b||N||V||G||ue||"string"==typeof this.target&&"_self"!=this.target)return!0;const we={skipLocationChange:ms(this.skipLocationChange),replaceUrl:ms(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,we),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ms(this.preserveFragment)})}}return A.\u0275fac=function(b){return new(b||A)(m.Y36(Yr),m.Y36(tn),m.Y36(D.S$))},A.\u0275dir=m.lG2({type:A,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,N){1&b&&m.NdJ("click",function(G){return N.onClick(G.button,G.ctrlKey,G.shiftKey,G.altKey,G.metaKey)}),2&b&&(m.Ikx("href",N.href,m.LSH),m.uIk("target",N.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[m.TTD]}),A})();function ms(A){return""===A||!!A}let qs=(()=>{class A{constructor(b,N,V,G,ue,we){this.router=b,this.element=N,this.renderer=V,this.cdr=G,this.link=ue,this.linkWithHref=we,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=b.events.subscribe(et=>{et instanceof _r&&this.update()})}ngAfterContentInit(){(0,B.of)(this.links.changes,this.linksWithHrefs.changes,(0,B.of)(null)).pipe((0,Ee.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var b;null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe();const N=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(V=>!!V).map(V=>V.onChanges);this.linkInputChangesSubscription=(0,ee.D)(N).pipe((0,Ee.J)()).subscribe(V=>{this.isActive!==this.isLinkActive(this.router)(V)&&this.update()})}set routerLinkActive(b){const N=Array.isArray(b)?b:b.split(" ");this.classes=N.filter(V=>!!V)}ngOnChanges(b){this.update()}ngOnDestroy(){var b;this.routerEventsSubscription.unsubscribe(),null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this.isActive!==b&&(this.isActive=b,this.cdr.markForCheck(),this.classes.forEach(N=>{b?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}))})}isLinkActive(b){const N=function(A){return!!A.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return V=>b.isActive(V.urlTree,N)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.linkWithHref&&b(this.linkWithHref)||this.links.some(b)||this.linksWithHrefs.some(b)}}return A.\u0275fac=function(b){return new(b||A)(m.Y36(Yr),m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(ba,8),m.Y36(Ur,8))},A.\u0275dir=m.lG2({type:A,selectors:[["","routerLinkActive",""]],contentQueries:function(b,N,V){if(1&b&&(m.Suo(V,ba,5),m.Suo(V,Ur,5)),2&b){let G;m.iGM(G=m.CRH())&&(N.links=G),m.iGM(G=m.CRH())&&(N.linksWithHrefs=G)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[m.TTD]}),A})(),rr=(()=>{class A{constructor(b,N,V,G,ue){this.parentContexts=b,this.location=N,this.resolver=V,this.changeDetector=ue,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.name=G||jt,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,b}attach(b,N){this.activated=b,this._activatedRoute=N,this.location.insert(b.hostView)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,N){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const ue=(N=N||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),we=this.parentContexts.getOrCreateContext(this.name).children,et=new xs(b,we,this.location.injector);this.activated=this.location.createComponent(ue,this.location.length,et),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(b){return new(b||A)(m.Y36(ps),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},A.\u0275dir=m.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),A})();class xs{constructor(I,b,N){this.route=I,this.childContexts=b,this.parent=N}get(I,b){return I===tn?this.route:I===ps?this.childContexts:this.parent.get(I,b)}}class Qs{}class Ii{preload(I,b){return(0,B.of)(null)}}let ea=(()=>{class A{constructor(b,N,V,G,ue){this.router=b,this.injector=G,this.preloadingStrategy=ue,this.loader=new rs(N,V,It=>b.triggerEvent(new On(It)),It=>b.triggerEvent(new Sr(It)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ae.h)(b=>b instanceof _r),(0,kr.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(m.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,N){const V=[];for(const G of N)if(G.loadChildren&&!G.canLoad&&G._loadedConfig){const ue=G._loadedConfig;V.push(this.processRoutes(ue.module,ue.routes))}else G.loadChildren&&!G.canLoad?V.push(this.preloadConfig(b,G)):G.children&&V.push(this.processRoutes(b,G.children));return(0,ee.D)(V).pipe((0,Ee.J)(),(0,mt.U)(G=>{}))}preloadConfig(b,N){return this.preloadingStrategy.preload(N,()=>(N._loadedConfig?(0,B.of)(N._loadedConfig):this.loader.load(b.injector,N)).pipe((0,$n.zg)(G=>(N._loadedConfig=G,this.processRoutes(G.module,G.routes)))))}}return A.\u0275fac=function(b){return new(b||A)(m.LFG(Yr),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(Qs))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac}),A})(),Js=(()=>{class A{constructor(b,N,V={}){this.router=b,this.viewportScroller=N,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof ti?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof _r&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Jt&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,N){this.router.triggerEvent(new Jt(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(b){return new(b||A)(m.LFG(Yr),m.LFG(D.EM),m.LFG(void 0))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac}),A})();const Xs=new m.OlP("ROUTER_CONFIGURATION"),yl=new m.OlP("ROUTER_FORROOT_GUARD"),Va=[D.Ye,{provide:mi,useClass:Us},{provide:Yr,useFactory:function(A,I,b,N,V,G,ue,we={},et,It){const xn=new Yr(null,A,I,b,N,V,G,gn(ue));return et&&(xn.urlHandlingStrategy=et),It&&(xn.routeReuseStrategy=It),function(A,I){A.errorHandler&&(I.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(I.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(I.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(I.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(I.urlUpdateStrategy=A.urlUpdateStrategy)}(we,xn),we.enableTracing&&xn.events.subscribe(Mt=>{var Jn,Un;null===(Jn=console.group)||void 0===Jn||Jn.call(console,`Router Event: ${Mt.constructor.name}`),console.log(Mt.toString()),console.log(Mt),null===(Un=console.groupEnd)||void 0===Un||Un.call(console)}),xn},deps:[mi,ps,D.Ye,m.zs3,m.v3s,m.Sil,fi,Xs,[class{},new m.FiY],[class{},new m.FiY]]},ps,{provide:tn,useFactory:function(A){return A.routerState.root},deps:[Yr]},{provide:m.v3s,useClass:m.EAV},ea,Ii,class{preload(I,b){return b().pipe((0,bt.K)(()=>(0,B.of)(null)))}},{provide:Xs,useValue:{enableTracing:!1}}];function pi(){return new m.PXZ("Router",Yr)}let ta=(()=>{class A{constructor(b,N){}static forRoot(b,N){return{ngModule:A,providers:[Va,Qn(b),{provide:yl,useFactory:ra,deps:[[Yr,new m.FiY,new m.tp0]]},{provide:Xs,useValue:N||{}},{provide:D.S$,useFactory:na,deps:[D.lw,[new m.tBr(D.mr),new m.FiY],Xs]},{provide:Js,useFactory:Hi,deps:[Yr,D.EM,Xs]},{provide:Qs,useExisting:N&&N.preloadingStrategy?N.preloadingStrategy:Ii},{provide:m.PXZ,multi:!0,useFactory:pi},[oi,{provide:m.ip1,multi:!0,useFactory:Eo,deps:[oi]},{provide:vl,useFactory:Ni,deps:[oi]},{provide:m.tb,multi:!0,useExisting:vl}]]}}static forChild(b){return{ngModule:A,providers:[Qn(b)]}}}return A.\u0275fac=function(b){return new(b||A)(m.LFG(yl,8),m.LFG(Yr,8))},A.\u0275mod=m.oAB({type:A}),A.\u0275inj=m.cJS({}),A})();function Hi(A,I,b){return b.scrollOffset&&I.setOffset(b.scrollOffset),new Js(A,I,b)}function na(A,I,b={}){return b.useHash?new D.Do(A,I):new D.b0(A,I)}function ra(A){return"guarded"}function Qn(A){return[{provide:m.deG,multi:!0,useValue:A},{provide:fi,multi:!0,useValue:A}]}let oi=(()=>{class A{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Le.xQ}appInitializer(){return this.injector.get(D.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let N=null;const V=new Promise(we=>N=we),G=this.injector.get(Yr),ue=this.injector.get(Xs);return"disabled"===ue.initialNavigation?(G.setUpLocationChangeListener(),N(!0)):"enabled"===ue.initialNavigation||"enabledBlocking"===ue.initialNavigation?(G.hooks.afterPreactivation=()=>this.initNavigation?(0,B.of)(null):(this.initNavigation=!0,N(!0),this.resultOfPreactivationDone),G.initialNavigation()):N(!0),V})}bootstrapListener(b){const N=this.injector.get(Xs),V=this.injector.get(ea),G=this.injector.get(Js),ue=this.injector.get(Yr),we=this.injector.get(m.z2F);b===we.components[0]&&(("enabledNonBlocking"===N.initialNavigation||void 0===N.initialNavigation)&&ue.initialNavigation(),V.setUpPreloading(),G.init(),ue.resetRootComponentType(we.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return A.\u0275fac=function(b){return new(b||A)(m.LFG(m.zs3))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac}),A})();function Eo(A){return A.appInitializer.bind(A)}function Ni(A){return A.bootstrapListener.bind(A)}const vl=new m.OlP("Router Initializer")},3854:(ft,Me,L)=>{"use strict";L.d(Me,{BH:()=>me,LL:()=>bt,ZR:()=>en,gQ:()=>rt,zI:()=>mt,hu:()=>m,g5:()=>B,US:()=>X,tV:()=>ie,h$:()=>se,$s:()=>Cn,r3:()=>bn,Sg:()=>Ie,ne:()=>Ir,p$:()=>Y,vZ:()=>Yt,ZB:()=>J,gK:()=>Fe,pd:()=>Sr,m9:()=>hn,z$:()=>Le,GJ:()=>_r,jU:()=>Ae,ru:()=>He,xb:()=>Wn,w1:()=>Be,hl:()=>pt,uI:()=>Ve,UG:()=>Re,Yr:()=>Je,b$:()=>ze,w9:()=>ti,cI:()=>$n,UI:()=>pn,xO:()=>wr,zd:()=>On,DV:()=>ni,ug:()=>yt,dS:()=>ot,Pz:()=>Zn,Dv:()=>Tr,Wj:()=>he,lb:()=>Qe,eu:()=>Z});const m=function(ge,ae){if(!ge)throw B(ae)},B=function(ge){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ge)},Ee=function(ge){const ae=[];let Ce=0;for(let Ze=0;Ze<ge.length;Ze++){let Ue=ge.charCodeAt(Ze);Ue<128?ae[Ce++]=Ue:Ue<2048?(ae[Ce++]=Ue>>6|192,ae[Ce++]=63&Ue|128):55296==(64512&Ue)&&Ze+1<ge.length&&56320==(64512&ge.charCodeAt(Ze+1))?(Ue=65536+((1023&Ue)<<10)+(1023&ge.charCodeAt(++Ze)),ae[Ce++]=Ue>>18|240,ae[Ce++]=Ue>>12&63|128,ae[Ce++]=Ue>>6&63|128,ae[Ce++]=63&Ue|128):(ae[Ce++]=Ue>>12|224,ae[Ce++]=Ue>>6&63|128,ae[Ce++]=63&Ue|128)}return ae},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,ae){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[];for(let Ue=0;Ue<ge.length;Ue+=3){const wt=ge[Ue],Ut=Ue+1<ge.length,Dn=Ut?ge[Ue+1]:0,ir=Ue+2<ge.length,Gn=ir?ge[Ue+2]:0;let Pr=(15&Dn)<<2|Gn>>6,ri=63&Gn;ir||(ri=64,Ut||(Pr=64)),Ze.push(Ce[wt>>2],Ce[(3&wt)<<4|Dn>>4],Ce[Pr],Ce[ri])}return Ze.join("")},encodeString(ge,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(ge):this.encodeByteArray(Ee(ge),ae)},decodeString(ge,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(ge):function(ge){const ae=[];let Ce=0,Ze=0;for(;Ce<ge.length;){const Ue=ge[Ce++];if(Ue<128)ae[Ze++]=String.fromCharCode(Ue);else if(Ue>191&&Ue<224){const wt=ge[Ce++];ae[Ze++]=String.fromCharCode((31&Ue)<<6|63&wt)}else if(Ue>239&&Ue<365){const ir=((7&Ue)<<18|(63&ge[Ce++])<<12|(63&ge[Ce++])<<6|63&ge[Ce++])-65536;ae[Ze++]=String.fromCharCode(55296+(ir>>10)),ae[Ze++]=String.fromCharCode(56320+(1023&ir))}else{const wt=ge[Ce++],Ut=ge[Ce++];ae[Ze++]=String.fromCharCode((15&Ue)<<12|(63&wt)<<6|63&Ut)}}return ae.join("")}(this.decodeStringToByteArray(ge,ae))},decodeStringToByteArray(ge,ae){this.init_();const Ce=ae?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[];for(let Ue=0;Ue<ge.length;){const wt=Ce[ge.charAt(Ue++)],Dn=Ue<ge.length?Ce[ge.charAt(Ue)]:0;++Ue;const Gn=Ue<ge.length?Ce[ge.charAt(Ue)]:64;++Ue;const cn=Ue<ge.length?Ce[ge.charAt(Ue)]:64;if(++Ue,null==wt||null==Dn||null==Gn||null==cn)throw Error();Ze.push(wt<<2|Dn>>4),64!==Gn&&(Ze.push(Dn<<4&240|Gn>>2),64!==cn&&Ze.push(Gn<<6&192|cn))}return Ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}},se=function(ge){const ae=Ee(ge);return X.encodeByteArray(ae,!0)},ee=function(ge){return se(ge).replace(/\./g,"")},ie=function(ge){try{return X.decodeString(ge,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function Y(ge){return J(void 0,ge)}function J(ge,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return ae}for(const Ce in ae)!ae.hasOwnProperty(Ce)||!Q(Ce)||(ge[Ce]=J(ge[Ce],ae[Ce]));return ge}function Q(ge){return"__proto__"!==ge}class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,Ce)=>{this.resolve=ae,this.reject=Ce})}wrapCallback(ae){return(Ce,Ze)=>{Ce?this.reject(Ce):this.resolve(Ze),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(Ce):ae(Ce,Ze))}}}function Ie(ge,ae){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ze=ae||"demo-project",Ue=ge.iat||0,wt=ge.sub||ge.user_id;if(!wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ut=Object.assign({iss:`https://securetoken.google.com/${Ze}`,aud:Ze,iat:Ue,exp:Ue+3600,auth_time:Ue,sub:wt,user_id:wt,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(Ut)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Re(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ge){return!1}}function Ae(){return"object"==typeof self&&self.self===self}function He(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){const ge=Le();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function Je(){return!1}function pt(){return"object"==typeof indexedDB}function Z(){return new Promise((ge,ae)=>{try{let Ce=!0;const Ze="validate-browser-context-for-indexeddb-analytics-module",Ue=self.indexedDB.open(Ze);Ue.onsuccess=()=>{Ue.result.close(),Ce||self.indexedDB.deleteDatabase(Ze),ge(!0)},Ue.onupgradeneeded=()=>{Ce=!1},Ue.onerror=()=>{var wt;ae((null===(wt=Ue.error)||void 0===wt?void 0:wt.message)||"")}}catch(Ce){ae(Ce)}})}function mt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class en extends Error{constructor(ae,Ce,Ze){super(Ce),this.code=ae,this.customData=Ze,this.name="FirebaseError",Object.setPrototypeOf(this,en.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(ae,Ce,Ze){this.service=ae,this.serviceName=Ce,this.errors=Ze}create(ae,...Ce){const Ze=Ce[0]||{},Ue=`${this.service}/${ae}`,wt=this.errors[ae],Ut=wt?function(ge,ae){return ge.replace(er,(Ce,Ze)=>{const Ue=ae[Ze];return null!=Ue?String(Ue):`<${Ze}?>`})}(wt,Ze):"Error";return new en(Ue,`${this.serviceName}: ${Ut} (${Ue}).`,Ze)}}const er=/\{\$([^}]+)}/g;function $n(ge){return JSON.parse(ge)}function Zn(ge){return JSON.stringify(ge)}const En=function(ge){let ae={},Ce={},Ze={},Ue="";try{const wt=ge.split(".");ae=$n(ie(wt[0])||""),Ce=$n(ie(wt[1])||""),Ue=wt[2],Ze=Ce.d||{},delete Ce.d}catch(wt){}return{header:ae,claims:Ce,data:Ze,signature:Ue}},ti=function(ge){const Ce=En(ge).claims;return!!Ce&&"object"==typeof Ce&&Ce.hasOwnProperty("iat")},_r=function(ge){const ae=En(ge).claims;return"object"==typeof ae&&!0===ae.admin};function bn(ge,ae){return Object.prototype.hasOwnProperty.call(ge,ae)}function ni(ge,ae){if(Object.prototype.hasOwnProperty.call(ge,ae))return ge[ae]}function Wn(ge){for(const ae in ge)if(Object.prototype.hasOwnProperty.call(ge,ae))return!1;return!0}function pn(ge,ae,Ce){const Ze={};for(const Ue in ge)Object.prototype.hasOwnProperty.call(ge,Ue)&&(Ze[Ue]=ae.call(Ce,ge[Ue],Ue,ge));return Ze}function Yt(ge,ae){if(ge===ae)return!0;const Ce=Object.keys(ge),Ze=Object.keys(ae);for(const Ue of Ce){if(!Ze.includes(Ue))return!1;const wt=ge[Ue],Ut=ae[Ue];if(Rn(wt)&&Rn(Ut)){if(!Yt(wt,Ut))return!1}else if(wt!==Ut)return!1}for(const Ue of Ze)if(!Ce.includes(Ue))return!1;return!0}function Rn(ge){return null!==ge&&"object"==typeof ge}function wr(ge){const ae=[];for(const[Ce,Ze]of Object.entries(ge))Array.isArray(Ze)?Ze.forEach(Ue=>{ae.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Ue))}):ae.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Ze));return ae.length?"&"+ae.join("&"):""}function On(ge){const ae={};return ge.replace(/^\?/,"").split("&").forEach(Ze=>{if(Ze){const[Ue,wt]=Ze.split("=");ae[decodeURIComponent(Ue)]=decodeURIComponent(wt)}}),ae}function Sr(ge){const ae=ge.indexOf("?");if(!ae)return"";const Ce=ge.indexOf("#",ae);return ge.substring(ae,Ce>0?Ce:void 0)}class rt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ae=1;ae<this.blockSize;++ae)this.pad_[ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ae,Ce){Ce||(Ce=0);const Ze=this.W_;if("string"==typeof ae)for(let cn=0;cn<16;cn++)Ze[cn]=ae.charCodeAt(Ce)<<24|ae.charCodeAt(Ce+1)<<16|ae.charCodeAt(Ce+2)<<8|ae.charCodeAt(Ce+3),Ce+=4;else for(let cn=0;cn<16;cn++)Ze[cn]=ae[Ce]<<24|ae[Ce+1]<<16|ae[Ce+2]<<8|ae[Ce+3],Ce+=4;for(let cn=16;cn<80;cn++){const Pr=Ze[cn-3]^Ze[cn-8]^Ze[cn-14]^Ze[cn-16];Ze[cn]=4294967295&(Pr<<1|Pr>>>31)}let Gn,Ht,Ue=this.chain_[0],wt=this.chain_[1],Ut=this.chain_[2],Dn=this.chain_[3],ir=this.chain_[4];for(let cn=0;cn<80;cn++){cn<40?cn<20?(Gn=Dn^wt&(Ut^Dn),Ht=1518500249):(Gn=wt^Ut^Dn,Ht=1859775393):cn<60?(Gn=wt&Ut|Dn&(wt|Ut),Ht=2400959708):(Gn=wt^Ut^Dn,Ht=3395469782);const Pr=(Ue<<5|Ue>>>27)+Gn+ir+Ht+Ze[cn]&4294967295;ir=Dn,Dn=Ut,Ut=4294967295&(wt<<30|wt>>>2),wt=Ue,Ue=Pr}this.chain_[0]=this.chain_[0]+Ue&4294967295,this.chain_[1]=this.chain_[1]+wt&4294967295,this.chain_[2]=this.chain_[2]+Ut&4294967295,this.chain_[3]=this.chain_[3]+Dn&4294967295,this.chain_[4]=this.chain_[4]+ir&4294967295}update(ae,Ce){if(null==ae)return;void 0===Ce&&(Ce=ae.length);const Ze=Ce-this.blockSize;let Ue=0;const wt=this.buf_;let Ut=this.inbuf_;for(;Ue<Ce;){if(0===Ut)for(;Ue<=Ze;)this.compress_(ae,Ue),Ue+=this.blockSize;if("string"==typeof ae){for(;Ue<Ce;)if(wt[Ut]=ae.charCodeAt(Ue),++Ut,++Ue,Ut===this.blockSize){this.compress_(wt),Ut=0;break}}else for(;Ue<Ce;)if(wt[Ut]=ae[Ue],++Ut,++Ue,Ut===this.blockSize){this.compress_(wt),Ut=0;break}}this.inbuf_=Ut,this.total_+=Ce}digest(){const ae=[];let Ce=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ue=this.blockSize-1;Ue>=56;Ue--)this.buf_[Ue]=255&Ce,Ce/=256;this.compress_(this.buf_);let Ze=0;for(let Ue=0;Ue<5;Ue++)for(let wt=24;wt>=0;wt-=8)ae[Ze]=this.chain_[Ue]>>wt&255,++Ze;return ae}}function Ir(ge,ae){const Ce=new rn(ge,ae);return Ce.subscribe.bind(Ce)}class rn{constructor(ae,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{ae(this)}).catch(Ze=>{this.error(Ze)})}next(ae){this.forEachObserver(Ce=>{Ce.next(ae)})}error(ae){this.forEachObserver(Ce=>{Ce.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,Ce,Ze){let Ue;if(void 0===ae&&void 0===Ce&&void 0===Ze)throw new Error("Missing Observer.");Ue=function(ge,ae){if("object"!=typeof ge||null===ge)return!1;for(const Ce of["next","error","complete"])if(Ce in ge&&"function"==typeof ge[Ce])return!0;return!1}(ae)?ae:{next:ae,error:Ce,complete:Ze},void 0===Ue.next&&(Ue.next=jt),void 0===Ue.error&&(Ue.error=jt),void 0===Ue.complete&&(Ue.complete=jt);const wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ue.error(this.finalError):Ue.complete()}catch(Ut){}}),this.observers.push(Ue),wt}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,ae)}sendOne(ae,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{Ce(this.observers[ae])}catch(Ze){"undefined"!=typeof console&&console.error&&console.error(Ze)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jt(){}const Tr=function(ge,ae,Ce,Ze){let Ue;if(Ze<ae?Ue="at least "+ae:Ze>Ce&&(Ue=0===Ce?"none":"no more than "+Ce),Ue)throw new Error(ge+" failed: Was called with "+Ze+(1===Ze?" argument.":" arguments.")+" Expects "+Ue+".")};function Fe(ge,ae){return`${ge} failed: ${ae} argument `}function he(ge,ae,Ce,Ze){if((!Ze||Ce)&&"function"!=typeof Ce)throw new Error(Fe(ge,ae)+"must be a valid function.")}function Qe(ge,ae,Ce,Ze){if((!Ze||Ce)&&("object"!=typeof Ce||null===Ce))throw new Error(Fe(ge,ae)+"must be a valid context object.")}const ot=function(ge){const ae=[];let Ce=0;for(let Ze=0;Ze<ge.length;Ze++){let Ue=ge.charCodeAt(Ze);if(Ue>=55296&&Ue<=56319){const wt=Ue-55296;Ze++,m(Ze<ge.length,"Surrogate pair missing trail surrogate."),Ue=65536+(wt<<10)+(ge.charCodeAt(Ze)-56320)}Ue<128?ae[Ce++]=Ue:Ue<2048?(ae[Ce++]=Ue>>6|192,ae[Ce++]=63&Ue|128):Ue<65536?(ae[Ce++]=Ue>>12|224,ae[Ce++]=Ue>>6&63|128,ae[Ce++]=63&Ue|128):(ae[Ce++]=Ue>>18|240,ae[Ce++]=Ue>>12&63|128,ae[Ce++]=Ue>>6&63|128,ae[Ce++]=63&Ue|128)}return ae},yt=function(ge){let ae=0;for(let Ce=0;Ce<ge.length;Ce++){const Ze=ge.charCodeAt(Ce);Ze<128?ae++:Ze<2048?ae+=2:Ze>=55296&&Ze<=56319?(ae+=4,Ce++):ae+=3}return ae};function Cn(ge,ae=1e3,Ce=2){const Ze=ae*Math.pow(Ce,ge),Ue=Math.round(.5*Ze*(Math.random()-.5)*2);return Math.min(144e5,Ze+Ue)}function hn(ge){return ge&&ge._delegate?ge._delegate:ge}},2329:(ft,Me,L)=>{"use strict";L.d(Me,{Mq:()=>D.getApp,C6:()=>D.getApps});var D=L(8026);(0,D.registerVersion)("firebase","9.6.1","app")},7841:(ft,Me,L)=>{"use strict";L.d(Me,{Z:()=>D.Z});var D=L(3394);D.Z.registerVersion("firebase","9.6.1","app-compat")},2755:(ft,Me,L)=>{"use strict";L.r(Me);var D=L(8239),m=L(3394),B=L(3854),Ee=L(8026);function ee(y,d){var f={};for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&d.indexOf(C)<0&&(f[C]=y[C]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(C=Object.getOwnPropertySymbols(y);k<C.length;k++)d.indexOf(C[k])<0&&Object.prototype.propertyIsEnumerable.call(y,C[k])&&(f[C[k]]=y[C[k]])}return f}var en=L(5422),bt=L(3910);const ti=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_r=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bn=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wn=new en.Yd("@firebase/auth");function pn(y,...d){Wn.logLevel<=en.in.ERROR&&Wn.error(`Auth (${Ee.SDK_VERSION}): ${y}`,...d)}function Yt(y,...d){throw Sr(y,...d)}function Rn(y,...d){return Sr(y,...d)}function wr(y,d,f){const C=Object.assign(Object.assign({},_r()),{[d]:f});return new B.LL("auth","Firebase",C).create(d,{appName:y.name})}function On(y,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&Yt(y,"argument-error"),wr(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sr(y,...d){if("string"!=typeof y){const f=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(f,...C)}return bn.create(y,...d)}function rt(y,d,...f){if(!y)throw Sr(d,...f)}function Ir(y){const d="INTERNAL ASSERTION FAILED: "+y;throw pn(d),new Error(d)}function rn(y,d){y||Ir(d)}const vt=new Map;function Jt(y){rn(y instanceof Function,"Expected a class definition");let d=vt.get(y);return d?(rn(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,vt.set(y,d),d)}function Fe(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ce(){return"http:"===he()||"https:"===he()}function he(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class yt{constructor(d,f){this.shortDelay=d,this.longDelay=f,rn(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ce()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function nt(y,d){rn(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class Ct{static initialize(d,f,C){this.fetchImpl=d,f&&(this.headersImpl=f),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tr=new yt(3e4,6e4);function Cn(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function Tt(y,d,f,C){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,D.Z)(function*(y,d,f,C,k={}){return hn(y,k,(0,D.Z)(function*(){let j={},ve={};C&&("GET"===d?ve=C:j={body:JSON.stringify(C)});const $e=(0,B.xO)(Object.assign({key:y.config.apiKey},ve)).slice(1),_t=yield y._getAdditionalHeaders();return _t["Content-Type"]="application/json",y.languageCode&&(_t["X-Firebase-Locale"]=y.languageCode),Ct.fetch()(Ze(y,y.config.apiHost,f,$e),Object.assign({method:d,headers:_t,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function hn(y,d,f){return ge.apply(this,arguments)}function ge(){return(ge=(0,D.Z)(function*(y,d,f){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},gn),d);try{const k=new Ue(y),j=yield Promise.race([f(),k.promise]);k.clearNetworkTimeout();const ve=yield j.json();if("needConfirmation"in ve)throw wt(y,"account-exists-with-different-credential",ve);if(j.ok&&!("errorMessage"in ve))return ve;{const $e=j.ok?ve.errorMessage:ve.error.message,[_t,ut]=$e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_t)throw wt(y,"credential-already-in-use",ve);if("EMAIL_EXISTS"===_t)throw wt(y,"email-already-in-use",ve);const Vt=C[_t]||_t.toLowerCase().replace(/[_\s]+/g,"-");if(ut)throw wr(y,Vt,ut);Yt(y,Vt)}}catch(k){if(k instanceof B.ZR)throw k;Yt(y,"network-request-failed")}})).apply(this,arguments)}function ae(y,d,f,C){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,D.Z)(function*(y,d,f,C,k={}){const j=yield Tt(y,d,f,C,k);return"mfaPendingCredential"in j&&Yt(y,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function Ze(y,d,f,C){const k=`${d}${f}?${C}`;return y.config.emulator?nt(y.config,k):`${y.config.apiScheme}://${k}`}class Ue{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,C)=>{this.timer=setTimeout(()=>C(Rn(this.auth,"timeout")),tr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wt(y,d,f){const C={appName:y.name};f.email&&(C.email=f.email),f.phoneNumber&&(C.phoneNumber=f.phoneNumber);const k=Rn(y,d,C);return k.customData._tokenResponse=f,k}function Dn(){return(Dn=(0,D.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function ir(y,d){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,D.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ht(y,d){return cn.apply(this,arguments)}function cn(){return(cn=(0,D.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Pr(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function mi(){return(mi=(0,D.Z)(function*(y,d=!1){const f=(0,B.m9)(y),C=yield f.getIdToken(d),k=Qi(C);rt(k&&k.exp&&k.auth_time&&k.iat,f.auth,"internal-error");const j="object"==typeof k.firebase?k.firebase:void 0,ve=null==j?void 0:j.sign_in_provider;return{claims:k,token:C,authTime:Pr(Us(k.auth_time)),issuedAtTime:Pr(Us(k.iat)),expirationTime:Pr(Us(k.exp)),signInProvider:ve||null,signInSecondFactor:(null==j?void 0:j.sign_in_second_factor)||null}})).apply(this,arguments)}function Us(y){return 1e3*Number(y)}function Qi(y){const[d,f,C]=y.split(".");if(void 0===d||void 0===f||void 0===C)return pn("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,B.tV)(f);return k?JSON.parse(k):(pn("Failed to decode base64 JWT payload"),null)}catch(k){return pn("Caught error parsing JWT payload as JSON",k),null}}function yr(y,d){return vr.apply(this,arguments)}function vr(){return(vr=(0,D.Z)(function*(y,d,f=!1){if(f)return d;try{return yield d}catch(C){throw C instanceof B.ZR&&Yn(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Yn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Kr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const k=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,D.Z)(function*(){yield f.iteration()}),C)}iteration(){var d=this;return(0,D.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&d.schedule(!0))}d.schedule()})()}}class Er{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pr(this.lastLoginAt),this.creationTime=Pr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fr(y){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,D.Z)(function*(y){var d;const f=y.auth,C=yield y.getIdToken(),k=yield yr(y,Ht(f,{idToken:C}));rt(null==k?void 0:k.users.length,f,"internal-error");const j=k.users[0];y._notifyReloadListener(j);const ve=(null===(d=j.providerUserInfo)||void 0===d?void 0:d.length)?Lr(j.providerUserInfo):[],$e=Vn(y.providerData,ve),Vt=!!y.isAnonymous&&!(y.email&&j.passwordHash||(null==$e?void 0:$e.length)),Bt={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:$e,metadata:new Er(j.createdAt,j.lastLoginAt),isAnonymous:Vt};Object.assign(y,Bt)})).apply(this,arguments)}function an(){return(an=(0,D.Z)(function*(y){const d=(0,B.m9)(y);yield Fr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Vn(y,d){return[...y.filter(C=>!d.some(k=>k.providerId===C.providerId)),...d]}function Lr(y){return y.map(d=>{var{providerId:f}=d,C=ee(d,["providerId"]);return{providerId:f,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function dr(){return(dr=(0,D.Z)(function*(y,d){const f=yield hn(y,{},(0,D.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:k,apiKey:j}=y.config,ve=Ze(y,k,"/v1/token",`key=${j}`),$e=yield y._getAdditionalHeaders();return $e["Content-Type"]="application/x-www-form-urlencoded",Ct.fetch()(ve,{method:"POST",headers:$e,body:C})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class $r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){rt(d.idToken,"internal-error"),rt(void 0!==d.idToken,"internal-error"),rt(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(y){const d=Qi(y);return rt(d,"internal-error"),rt(void 0!==d.exp,"internal-error"),rt(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var C=this;return(0,D.Z)(function*(){return rt(!C.accessToken||C.refreshToken,d,"user-token-expired"),f||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(d,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var C=this;return(0,D.Z)(function*(){const{accessToken:k,refreshToken:j,expiresIn:ve}=yield function(y,d){return dr.apply(this,arguments)}(d,f);C.updateTokensAndExpiration(k,j,Number(ve))})()}updateTokensAndExpiration(d,f,C){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,f){const{refreshToken:C,accessToken:k,expirationTime:j}=f,ve=new $r;return C&&(rt("string"==typeof C,"internal-error",{appName:d}),ve.refreshToken=C),k&&(rt("string"==typeof k,"internal-error",{appName:d}),ve.accessToken=k),j&&(rt("number"==typeof j,"internal-error",{appName:d}),ve.expirationTime=j),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new $r,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function jn(y,d){rt("string"==typeof y||void 0===y,"internal-error",{appName:d})}class ui{constructor(d){var{uid:f,auth:C,stsTokenManager:k}=d,j=ee(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Kr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=C,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.metadata=new Er(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,D.Z)(function*(){const C=yield yr(f,f.stsTokenManager.getToken(f.auth,d));return rt(C,f.auth,"internal-error"),f.accessToken!==C&&(f.accessToken=C,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),C})()}getIdTokenResult(d){return function(y){return mi.apply(this,arguments)}(this,d)}reload(){return function(y){return an.apply(this,arguments)}(this)}_assign(d){this!==d&&(rt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new ui(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var C=this;return(0,D.Z)(function*(){let k=!1;d.idToken&&d.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(d),k=!0),f&&(yield Fr(C)),yield C.auth._persistUserIfCurrent(C),k&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var d=this;return(0,D.Z)(function*(){const f=yield d.getIdToken();return yield yr(d,function(y,d){return Dn.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var C,k,j,ve,$e,_t,ut,Vt;const Bt=null!==(C=f.displayName)&&void 0!==C?C:void 0,Fn=null!==(k=f.email)&&void 0!==k?k:void 0,Li=null!==(j=f.phoneNumber)&&void 0!==j?j:void 0,gl=null!==(ve=f.photoURL)&&void 0!==ve?ve:void 0,Eu=null!==($e=f.tenantId)&&void 0!==$e?$e:void 0,ru=null!==(_t=f._redirectEventId)&&void 0!==_t?_t:void 0,md=null!==(ut=f.createdAt)&&void 0!==ut?ut:void 0,_d=null!==(Vt=f.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:$u,emailVerified:yd,isAnonymous:fh,providerData:vd,stsTokenManager:Wu}=f;rt($u&&Wu,d,"internal-error");const Gu=$r.fromJSON(this.name,Wu);rt("string"==typeof $u,d,"internal-error"),jn(Bt,d.name),jn(Fn,d.name),rt("boolean"==typeof yd,d,"internal-error"),rt("boolean"==typeof fh,d,"internal-error"),jn(Li,d.name),jn(gl,d.name),jn(Eu,d.name),jn(ru,d.name),jn(md,d.name),jn(_d,d.name);const Cu=new ui({uid:$u,auth:d,email:Fn,emailVerified:yd,displayName:Bt,isAnonymous:fh,photoURL:gl,phoneNumber:Li,tenantId:Eu,stsTokenManager:Gu,createdAt:md,lastLoginAt:_d});return vd&&Array.isArray(vd)&&(Cu.providerData=vd.map(bu=>Object.assign({},bu))),ru&&(Cu._redirectEventId=ru),Cu}static _fromIdTokenResponse(d,f,C=!1){return(0,D.Z)(function*(){const k=new $r;k.updateFromServerResponse(f);const j=new ui({uid:f.localId,auth:d,stsTokenManager:k,isAnonymous:C});return yield Fr(j),j})()}}const Gt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.Z)(function*(){return!0})()}_set(f,C){var k=this;return(0,D.Z)(function*(){k.storage[f]=C})()}_get(f){var C=this;return(0,D.Z)(function*(){const k=C.storage[f];return void 0===k?null:k})()}_remove(f){var C=this;return(0,D.Z)(function*(){delete C.storage[f]})()}_addListener(f,C){}_removeListener(f,C){}}return y.type="NONE",y})();function Te(y,d,f){return`firebase:${y}:${d}:${f}`}class be{constructor(d,f,C){this.persistence=d,this.auth=f,this.userKey=C;const{config:k,name:j}=this.auth;this.fullUserKey=Te(this.userKey,k.apiKey,j),this.fullPersistenceKey=Te("persistence",k.apiKey,j),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,D.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?ui._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,D.Z)(function*(){if(f.persistence===d)return;const C=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,C?f.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,C="authUser"){return(0,D.Z)(function*(){if(!f.length)return new be(Jt(Gt),d,C);const k=(yield Promise.all(f.map(function(){var ut=(0,D.Z)(function*(Vt){if(yield Vt._isAvailable())return Vt});return function(Vt){return ut.apply(this,arguments)}}()))).filter(ut=>ut);let j=k[0]||Jt(Gt);const ve=Te(C,d.config.apiKey,d.name);let $e=null;for(const ut of f)try{const Vt=yield ut._get(ve);if(Vt){const Bt=ui._fromJSON(d,Vt);ut!==j&&($e=Bt),j=ut;break}}catch(Vt){}const _t=k.filter(ut=>ut._shouldAllowMigration);return j._shouldAllowMigration&&_t.length?(j=_t[0],$e&&(yield j._set(ve,$e.toJSON())),yield Promise.all(f.map(function(){var ut=(0,D.Z)(function*(Vt){if(Vt!==j)try{yield Vt._remove(ve)}catch(Bt){}});return function(Vt){return ut.apply(this,arguments)}}())),new be(j,d,C)):new be(j,d,C)})()}}function re(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(sn(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ne(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(zt(d))return"Blackberry";if(Bs(d))return"Webos";if(Xe(d))return"Safari";if((d.includes("chrome/")||Nt(d))&&!d.includes("edge/"))return"Chrome";if(tn(d))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Ne(y=(0,B.z$)()){return/firefox\//i.test(y)}function Xe(y=(0,B.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Nt(y=(0,B.z$)()){return/crios\//i.test(y)}function sn(y=(0,B.z$)()){return/iemobile/i.test(y)}function tn(y=(0,B.z$)()){return/android/i.test(y)}function zt(y=(0,B.z$)()){return/blackberry/i.test(y)}function Bs(y=(0,B.z$)()){return/webos/i.test(y)}function As(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)}function yi(y=(0,B.z$)()){return As(y)||tn(y)||Bs(y)||zt(y)||/windows phone/i.test(y)||sn(y)}function Zr(y,d=[]){let f;switch(y){case"Browser":f=re((0,B.z$)());break;case"Worker":f=`${re((0,B.z$)())}-${y}`;break;default:f=y}const C=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${Ee.SDK_VERSION}/${C}`}class ya{constructor(d,f){this.app=d,this.config=f,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wr(this),this.idTokenSubscription=new Wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=f.sdkClientVersion}_initializeWithPersistence(d,f){var C=this;return f&&(this._popupRedirectResolver=Jt(f)),this._initializationPromise=this.queue((0,D.Z)(function*(){var k,j;if(!C._deleted&&(C.persistenceManager=yield be.create(C,d),!C._deleted)){if(null===(k=C._popupRedirectResolver)||void 0===k?void 0:k._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(ve){}yield C.initializeCurrentUser(f),C.lastNotifiedUid=(null===(j=C.currentUser)||void 0===j?void 0:j.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,D.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f)}})()}initializeCurrentUser(d){var f=this;return(0,D.Z)(function*(){var C;let k=yield f.assertedPersistence.getCurrentUser();if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const j=null===(C=f.redirectUser)||void 0===C?void 0:C._redirectEventId,ve=null==k?void 0:k._redirectEventId,$e=yield f.tryRedirectSignIn(d);(!j||j===ve)&&(null==$e?void 0:$e.user)&&(k=$e.user)}return k?k._redirectEventId?(rt(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===k._redirectEventId?f.directlySetCurrentUser(k):f.reloadAndSetCurrentUserOrClear(k)):f.reloadAndSetCurrentUserOrClear(k):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var f=this;return(0,D.Z)(function*(){let C=null;try{C=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(k){yield f._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,D.Z)(function*(){try{yield Fr(d)}catch(C){if("auth/network-request-failed"!==C.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,D.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,D.Z)(function*(){const C=d?(0,B.m9)(d):null;return C&&rt(C.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(C&&C._clone(f))})()}_updateCurrentUser(d){var f=this;return(0,D.Z)(function*(){if(!f._deleted)return d&&rt(f.tenantId===d.tenantId,f,"tenant-id-mismatch"),f.queue((0,D.Z)(function*(){yield f.directlySetCurrentUser(d),f.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,D.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var f=this;return this.queue((0,D.Z)(function*(){yield f.assertedPersistence.setPersistence(Jt(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new B.LL("auth","Firebase",d())}onAuthStateChanged(d,f,C){return this.registerStateListener(this.authStateSubscription,d,f,C)}onIdTokenChanged(d,f,C){return this.registerStateListener(this.idTokenSubscription,d,f,C)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var C=this;return(0,D.Z)(function*(){const k=yield C.getOrInitRedirectPersistenceManager(f);return null===d?k.removeCurrentUser():k.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,D.Z)(function*(){if(!f.redirectPersistenceManager){const C=d&&Jt(d)||f._popupRedirectResolver;rt(C,f,"argument-error"),f.redirectPersistenceManager=yield be.create(f,[Jt(C._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,D.Z)(function*(){var C,k;return f._isInitialized&&(yield f.queue((0,D.Z)(function*(){}))),(null===(C=f._currentUser)||void 0===C?void 0:C._redirectEventId)===d?f._currentUser:(null===(k=f.redirectUser)||void 0===k?void 0:k._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,D.Z)(function*(){if(d===f.currentUser)return f.queue((0,D.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,C,k){if(this._deleted)return()=>{};const j="function"==typeof f?f:f.next.bind(f),ve=this._isInitialized?Promise.resolve():this._initializationPromise;return rt(ve,this,"internal-error"),ve.then(()=>j(this.currentUser)),"function"==typeof f?d.addObserver(f,C,k):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,D.Z)(function*(){f.currentUser&&f.currentUser!==d&&(f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh()),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Zr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,D.Z)(function*(){const f={"X-Client-Version":d.clientVersion};return d.app.options.appId&&(f["X-Firebase-gmpid"]=d.app.options.appId),f})()}}function nr(y){return(0,B.m9)(y)}class Wr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,B.ne)(f=>this.observer=f)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hs(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function Gr(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class Ss{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return Ir("not implemented")}_getIdTokenResponse(d){return Ir("not implemented")}_linkToIdToken(d,f){return Ir("not implemented")}_getReauthenticationResolver(d){return Ir("not implemented")}}function Go(y,d){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,D.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:resetPassword",Cn(y,d))})).apply(this,arguments)}function zo(y,d){return Po.apply(this,arguments)}function Po(){return(Po=(0,D.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function qn(y,d){return wn.apply(this,arguments)}function wn(){return(wn=(0,D.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:update",Cn(y,d))})).apply(this,arguments)}function vi(){return(vi=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithPassword",Cn(y,d))})).apply(this,arguments)}function Hn(y,d){return uo.apply(this,arguments)}function uo(){return(uo=(0,D.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:sendOobCode",Cn(y,d))})).apply(this,arguments)}function Qa(y,d){return $s.apply(this,arguments)}function $s(){return($s=(0,D.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function Ko(y,d){return hr.apply(this,arguments)}function hr(){return(hr=(0,D.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function mn(y,d){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,D.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function Zo(y,d){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,D.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function Mo(){return(Mo=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithEmailLink",Cn(y,d))})).apply(this,arguments)}function Ui(){return(Ui=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithEmailLink",Cn(y,d))})).apply(this,arguments)}class ho extends Ss{constructor(d,f,C,k=null){super("password",C),this._email=d,this._password=f,this._tenantId=k}static _fromEmailAndPassword(d,f){return new ho(d,f,"password")}static _fromEmailAndCode(d,f,C=null){return new ho(d,f,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,D.Z)(function*(){switch(f.signInMethod){case"password":return function(y,d){return vi.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function(y,d){return Mo.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:Yt(d,"internal-error")}})()}_linkToIdToken(d,f){var C=this;return(0,D.Z)(function*(){switch(C.signInMethod){case"password":return zo(d,{idToken:f,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(y,d){return Ui.apply(this,arguments)}(d,{idToken:f,email:C._email,oobCode:C._password});default:Yt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Vr(y,d){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithIdp",Cn(y,d))})).apply(this,arguments)}class Or extends Ss{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new Or(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):Yt("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:k}=f,j=ee(f,["providerId","signInMethod"]);if(!C||!k)return null;const ve=new Or(C,k);return ve.idToken=j.idToken||void 0,ve.accessToken=j.accessToken||void 0,ve.secret=j.secret,ve.nonce=j.nonce,ve.pendingToken=j.pendingToken||null,ve}_getIdTokenResponse(d){return Vr(d,this.buildRequest())}_linkToIdToken(d,f){const C=this.buildRequest();return C.idToken=f,Vr(d,C)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Vr(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,B.xO)(f)}return d}}function Bi(y,d){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,D.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:sendVerificationCode",Cn(y,d))})).apply(this,arguments)}function qo(){return(qo=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithPhoneNumber",Cn(y,d))})).apply(this,arguments)}function or(){return(or=(0,D.Z)(function*(y,d){const f=yield ae(y,"POST","/v1/accounts:signInWithPhoneNumber",Cn(y,d));if(f.temporaryProof)throw wt(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Mi={USER_NOT_FOUND:"user-not-found"};function Ei(){return(Ei=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithPhoneNumber",Cn(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Mi)})).apply(this,arguments)}class Ci extends Ss{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new Ci({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new Ci({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function(y,d){return qo.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function(y,d){return or.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(y,d){return Ei.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:C,verificationCode:k}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:C,code:k}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:C,phoneNumber:k,temporaryProof:j}=d;return C||f||k||j?new Ci({verificationId:f,verificationCode:C,phoneNumber:k,temporaryProof:j}):null}}class O{constructor(d){var f,C,k,j,ve,$e;const _t=(0,B.zd)((0,B.pd)(d)),ut=null!==(f=_t.apiKey)&&void 0!==f?f:null,Vt=null!==(C=_t.oobCode)&&void 0!==C?C:null,Bt=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=_t.mode)&&void 0!==k?k:null);rt(ut&&Vt&&Bt,"argument-error"),this.apiKey=ut,this.operation=Bt,this.code=Vt,this.continueUrl=null!==(j=_t.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(ve=_t.languageCode)&&void 0!==ve?ve:null,this.tenantId=null!==($e=_t.tenantId)&&void 0!==$e?$e:null}static parseLink(d){const f=function(y){const d=(0,B.zd)((0,B.pd)(y)).link,f=d?(0,B.zd)((0,B.pd)(d)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||f||d||y}(d);try{return new O(f)}catch(C){return null}}}let x=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(f,C){return ho._fromEmailAndPassword(f,C)}static credentialWithLink(f,C){const k=O.parseLink(C);return rt(k,"argument-error"),ho._fromEmailAndCode(f,k.code,k.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class z{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class fe extends z{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ye extends fe{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return rt("providerId"in f&&"signInMethod"in f,"argument-error"),Or._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return rt(d.idToken||d.accessToken,"argument-error"),Or._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ye.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ye.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:C,oauthTokenSecret:k,pendingToken:j,nonce:ve,providerId:$e}=d;if(!C&&!k&&!f&&!j||!$e)return null;try{return new Ye($e)._credential({idToken:f,accessToken:C,nonce:ve,pendingToken:j})}catch(_t){return null}}}let lt=(()=>{class y extends fe{constructor(){super("facebook.com")}static credential(f){return Or._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Pt=(()=>{class y extends fe{constructor(){super("google.com"),this.addScope("profile")}static credential(f,C){return Or._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:C})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:C,oauthAccessToken:k}=f;if(!C&&!k)return null;try{return y.credential(C,k)}catch(j){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ct=(()=>{class y extends fe{constructor(){super("github.com")}static credential(f){return Or._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Pn extends Ss{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return Vr(d,this.buildRequest())}_linkToIdToken(d,f){const C=this.buildRequest();return C.idToken=f,Vr(d,C)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Vr(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:k,pendingToken:j}=f;return C&&k&&j&&C===k?new Pn(C,j):null}static _create(d,f){return new Pn(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Nn extends z{constructor(d){rt(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Nn.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Nn.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Pn.fromJSON(d);return rt(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:C}=d;if(!f||!C)return null;try{return Pn._create(C,f)}catch(k){return null}}}let zn=(()=>{class y extends fe{constructor(){super("twitter.com")}static credential(f,C){return Or._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:C})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:C,oauthTokenSecret:k}=f;if(!C||!k)return null;try{return y.credential(C,k)}catch(j){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function fr(y,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signUp",Cn(y,d))})).apply(this,arguments)}class yn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,C,k=!1){return(0,D.Z)(function*(){const j=yield ui._fromIdTokenResponse(d,C,k),ve=Tn(C);return new yn({user:j,providerId:ve,_tokenResponse:C,operationType:f})})()}static _forOperation(d,f,C){return(0,D.Z)(function*(){yield d._updateTokensIfNecessary(C,!0);const k=Tn(C);return new yn({user:d,providerId:k,_tokenResponse:C,operationType:f})})()}}function Tn(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Kt(){return(Kt=(0,D.Z)(function*(y){var d;const f=nr(y);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new yn({user:f.currentUser,providerId:null,operationType:"signIn"});const C=yield fr(f,{returnSecureToken:!0}),k=yield yn._fromIdTokenResponse(f,"signIn",C,!0);return yield f._updateCurrentUser(k.user),k})).apply(this,arguments)}class bi extends B.ZR{constructor(d,f,C,k){var j;super(f.code,f.message),this.operationType=C,this.user=k,Object.setPrototypeOf(this,bi.prototype),this.customData={appName:d.name,tenantId:null!==(j=d.tenantId)&&void 0!==j?j:void 0,_serverResponse:f.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,f,C,k){return new bi(d,f,C,k)}}function Jo(y,d,f,C){return("reauthenticate"===d?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?bi._fromErrorAndOperation(y,j,d,C):j})}function Oi(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function ds(){return(ds=(0,D.Z)(function*(y,d){const f=(0,B.m9)(y);yield it(!0,f,d);const{providerUserInfo:C}=yield ir(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),k=Oi(C||[]);return f.providerData=f.providerData.filter(j=>k.has(j.providerId)),k.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function qt(y,d){return hs.apply(this,arguments)}function hs(){return(hs=(0,D.Z)(function*(y,d,f=!1){const C=yield yr(y,d._linkToIdToken(y.auth,yield y.getIdToken()),f);return yn._forOperation(y,"link",C)})).apply(this,arguments)}function it(y,d,f){return In.apply(this,arguments)}function In(){return(In=(0,D.Z)(function*(y,d,f){yield Fr(d);const k=!1===y?"provider-already-linked":"no-such-provider";rt(Oi(d.providerData).has(f)===y,d.auth,k)})).apply(this,arguments)}function pr(y,d){return ar.apply(this,arguments)}function ar(){return(ar=(0,D.Z)(function*(y,d,f=!1){const{auth:C}=y,k="reauthenticate";try{const j=yield yr(y,Jo(C,k,d,y),f);rt(j.idToken,C,"internal-error");const ve=Qi(j.idToken);rt(ve,C,"internal-error");const{sub:$e}=ve;return rt(y.uid===$e,C,"user-mismatch"),yn._forOperation(y,k,j)}catch(j){throw"auth/user-not-found"===(null==j?void 0:j.code)&&Yt(C,"user-mismatch"),j}})).apply(this,arguments)}function va(y,d){return ts.apply(this,arguments)}function ts(){return(ts=(0,D.Z)(function*(y,d,f=!1){const C="signIn",k=yield Jo(y,C,d),j=yield yn._fromIdTokenResponse(y,C,k);return f||(yield y._updateCurrentUser(j.user)),j})).apply(this,arguments)}function zr(y,d){return fo.apply(this,arguments)}function fo(){return(fo=(0,D.Z)(function*(y,d){return va(nr(y),d)})).apply(this,arguments)}function po(y,d){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,D.Z)(function*(y,d){const f=(0,B.m9)(y);return yield it(!1,f,d.providerId),qt(f,d)})).apply(this,arguments)}function Fa(y,d){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,D.Z)(function*(y,d){return pr((0,B.m9)(y),d)})).apply(this,arguments)}function Ks(y,d){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,D.Z)(function*(y,d){return ae(y,"POST","/v1/accounts:signInWithCustomToken",Cn(y,d))})).apply(this,arguments)}function go(){return(go=(0,D.Z)(function*(y,d){const f=nr(y),C=yield Ks(f,{token:d,returnSecureToken:!0}),k=yield yn._fromIdTokenResponse(f,"signIn",C);return yield f._updateCurrentUser(k.user),k})).apply(this,arguments)}class ii{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?si._fromServerResponse(d,f):Yt(d,"internal-error")}}class si extends ii{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new si(f)}}function mo(y,d,f){var C;rt((null===(C=f.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),rt(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(rt(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(rt(f.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function Rs(){return(Rs=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y),k={requestType:"PASSWORD_RESET",email:d};f&&mo(C,k,f),yield Ko(C,k)})).apply(this,arguments)}function yo(){return(yo=(0,D.Z)(function*(y,d,f){yield Go((0,B.m9)(y),{oobCode:d,newPassword:f})})).apply(this,arguments)}function Zs(){return(Zs=(0,D.Z)(function*(y,d){yield qn((0,B.m9)(y),{oobCode:d})})).apply(this,arguments)}function Ys(y,d){return ns.apply(this,arguments)}function ns(){return(ns=(0,D.Z)(function*(y,d){const f=(0,B.m9)(y),C=yield Go(f,{oobCode:d}),k=C.requestType;switch(rt(k,f,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":rt(C.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":rt(C.mfaInfo,f,"internal-error");default:rt(C.email,f,"internal-error")}let j=null;return C.mfaInfo&&(j=ii._fromServerResponse(nr(f),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:j},operation:k}})).apply(this,arguments)}function vo(){return(vo=(0,D.Z)(function*(y,d){const{data:f}=yield Ys((0,B.m9)(y),d);return f.email})).apply(this,arguments)}function rs(){return(rs=(0,D.Z)(function*(y,d,f){const C=nr(y),k=yield fr(C,{returnSecureToken:!0,email:d,password:f}),j=yield yn._fromIdTokenResponse(C,"signIn",k);return yield C._updateCurrentUser(j.user),j})).apply(this,arguments)}function Os(){return(Os=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y),k={requestType:"EMAIL_SIGNIN",email:d};rt(f.handleCodeInApp,C,"argument-error"),f&&mo(C,k,f),yield mn(C,k)})).apply(this,arguments)}function Ar(){return(Ar=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y),k=x.credentialWithLink(d,f||Fe());return rt(k._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),zr(C,k)})).apply(this,arguments)}function Ns(y,d){return gr.apply(this,arguments)}function gr(){return(gr=(0,D.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:createAuthUri",Cn(y,d))})).apply(this,arguments)}function Yr(){return(Yr=(0,D.Z)(function*(y,d){const C={identifier:d,continueUri:ce()?Fe():"http://localhost"},{signinMethods:k}=yield Ns((0,B.m9)(y),C);return k||[]})).apply(this,arguments)}function xr(){return(xr=(0,D.Z)(function*(y,d){const f=(0,B.m9)(y),k={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&mo(f.auth,k,d);const{email:j}=yield Qa(f.auth,k);j!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ur(){return(Ur=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};f&&mo(C.auth,j,f);const{email:ve}=yield Zo(C.auth,j);ve!==y.email&&(yield y.reload())})).apply(this,arguments)}function ms(y,d){return qs.apply(this,arguments)}function qs(){return(qs=(0,D.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function rr(){return(rr=(0,D.Z)(function*(y,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const C=(0,B.m9)(y),j={idToken:yield C.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},ve=yield yr(C,ms(C.auth,j));C.displayName=ve.displayName||null,C.photoURL=ve.photoUrl||null;const $e=C.providerData.find(({providerId:_t})=>"password"===_t);$e&&($e.displayName=C.displayName,$e.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ve)})).apply(this,arguments)}function wi(y,d,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,D.Z)(function*(y,d,f){const{auth:C}=y,j={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(j.email=d),f&&(j.password=f);const ve=yield yr(y,zo(C,j));yield y._updateTokensIfNecessary(ve,!0)})).apply(this,arguments)}class Js{constructor(d,f,C={}){this.isNewUser=d,this.providerId=f,this.profile=C}}class _s extends Js{constructor(d,f,C,k){super(d,f,C),this.username=k}}class Xs extends Js{constructor(d,f){super(d,"facebook.com",f)}}class yl extends _s{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class La extends Js{constructor(d,f){super(d,"google.com",f)}}class Va extends _s{constructor(d,f,C){super(d,"twitter.com",f,C)}}function pi(y){const{user:d,_tokenResponse:f}=y;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function(y){var d,f;if(!y)return null;const{providerId:C}=y,k=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},j=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const ve=null===(f=null===(d=Qi(y.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(ve)return new Js(j,"anonymous"!==ve&&"custom"!==ve?ve:null)}if(!C)return null;switch(C){case"facebook.com":return new Xs(j,k);case"github.com":return new yl(j,k);case"google.com":return new La(j,k);case"twitter.com":return new Va(j,k,y.screenName||null);case"custom":case"anonymous":return new Js(j,null);default:return new Js(j,C,k)}}(f)}class oi{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new oi("enroll",d)}static _fromMfaPendingCredential(d){return new oi("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,C;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return oi._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(C=d.multiFactorSession)||void 0===C?void 0:C.idToken)return oi._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Eo{constructor(d,f,C){this.session=d,this.hints=f,this.signInResolver=C}static _fromError(d,f){const C=nr(d),k=f.customData._serverResponse,j=(k.mfaInfo||[]).map($e=>ii._fromServerResponse(C,$e));rt(k.mfaPendingCredential,C,"internal-error");const ve=oi._fromMfaPendingCredential(k.mfaPendingCredential);return new Eo(ve,j,function(){var $e=(0,D.Z)(function*(_t){const ut=yield _t._process(C,ve);delete k.mfaInfo,delete k.mfaPendingCredential;const Vt=Object.assign(Object.assign({},k),{idToken:ut.idToken,refreshToken:ut.refreshToken});switch(f.operationType){case"signIn":const Bt=yield yn._fromIdTokenResponse(C,f.operationType,Vt);return yield C._updateCurrentUser(Bt.user),Bt;case"reauthenticate":return rt(f.user,C,"internal-error"),yn._forOperation(f.user,f.operationType,Vt);default:Yt(C,"internal-error")}});return function(_t){return $e.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,D.Z)(function*(){return f.signInResolver(d)})()}}function vl(y,d){return Tt(y,"POST","/v2/accounts/mfaEnrollment:start",Cn(y,d))}class A{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(C=>ii._fromServerResponse(d.auth,C)))})}static _fromUser(d){return new A(d)}getSession(){var d=this;return(0,D.Z)(function*(){return oi._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var C=this;return(0,D.Z)(function*(){const k=d,j=yield C.getSession(),ve=yield yr(C.user,k._process(C.user.auth,j,f));return yield C.user._updateTokensIfNecessary(ve),C.user.reload()})()}unenroll(d){var f=this;return(0,D.Z)(function*(){const C="string"==typeof d?d:d.uid,k=yield f.user.getIdToken(),j=yield yr(f.user,function(y,d){return Tt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Cn(y,d))}(f.user.auth,{idToken:k,mfaEnrollmentId:C}));f.enrolledFactors=f.enrolledFactors.filter(({uid:ve})=>ve!==C),yield f.user._updateTokensIfNecessary(j);try{yield f.user.reload()}catch(ve){if("auth/user-token-expired"!==ve.code)throw ve}})()}}const I=new WeakMap,N="__sak";class V{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(N,"1"),this.storage.removeItem(N),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const It=(()=>{class y extends V{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,C)=>this.onStorageEvent(f,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,B.z$)();return Xe(y)||As(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=yi(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const C of Object.keys(this.listeners)){const k=this.storage.getItem(C),j=this.localCache[C];k!==j&&f(C,j,k)}}onStorageEvent(f,C=!1){if(!f.key)return void this.forAllChangedKeys(($e,_t,ut)=>{this.notifyListeners($e,ut)});const k=f.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const $e=this.storage.getItem(k);if(f.newValue!==$e)null!==f.newValue?this.storage.setItem(k,f.newValue):this.storage.removeItem(k);else if(this.localCache[k]===f.newValue&&!C)return}const j=()=>{const $e=this.storage.getItem(k);!C&&this.localCache[k]===$e||this.notifyListeners(k,$e)},ve=this.storage.getItem(k);(0,B.w1)()&&10===document.documentMode&&ve!==f.newValue&&f.newValue!==f.oldValue?setTimeout(j,10):j()}notifyListeners(f,C){this.localCache[f]=C;const k=this.listeners[f];if(k)for(const j of Array.from(k))j(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,C,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:C,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(C)}_removeListener(f,C){this.listeners[f]&&(this.listeners[f].delete(C),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,C){var k=()=>super._set,j=this;return(0,D.Z)(function*(){yield k().call(j,f,C),j.localCache[f]=JSON.stringify(C)})()}_get(f){var C=()=>super._get,k=this;return(0,D.Z)(function*(){const j=yield C().call(k,f);return k.localCache[f]=JSON.stringify(j),j})()}_remove(f){var C=()=>super._remove,k=this;return(0,D.Z)(function*(){yield C().call(k,f),delete k.localCache[f]})()}}return y.type="LOCAL",y})(),Mt=(()=>{class y extends V{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,C){}_removeListener(f,C){}}return y.type="SESSION",y})();let Un=(()=>{class y{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const C=this.receivers.find(j=>j.isListeningto(f));if(C)return C;const k=new y(f);return this.receivers.push(k),k}isListeningto(f){return this.eventTarget===f}handleEvent(f){var C=this;return(0,D.Z)(function*(){const k=f,{eventId:j,eventType:ve,data:$e}=k.data,_t=C.handlersMap[ve];if(!(null==_t?void 0:_t.size))return;k.ports[0].postMessage({status:"ack",eventId:j,eventType:ve});const ut=Array.from(_t).map(function(){var Bt=(0,D.Z)(function*(Fn){return Fn(k.origin,$e)});return function(Fn){return Bt.apply(this,arguments)}}()),Vt=yield function(y){return Promise.all(y.map(function(){var d=(0,D.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(C){return{fulfilled:!1,reason:C}}});return function(f){return d.apply(this,arguments)}}()))}(ut);k.ports[0].postMessage({status:"done",eventId:j,eventType:ve,response:Vt})})()}_subscribe(f,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(C)}_unsubscribe(f,C){this.handlersMap[f]&&C&&this.handlersMap[f].delete(C),(!C||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Di(y="",d=10){let f="";for(let C=0;C<d;C++)f+=Math.floor(10*Math.random());return y+f}class $i{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,C=50){var k=this;return(0,D.Z)(function*(){const j="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let ve,$e;return new Promise((_t,ut)=>{const Vt=Di("",20);j.port1.start();const Bt=setTimeout(()=>{ut(new Error("unsupported_event"))},C);$e={messageChannel:j,onMessage(Fn){const Li=Fn;if(Li.data.eventId===Vt)switch(Li.data.status){case"ack":clearTimeout(Bt),ve=setTimeout(()=>{ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),_t(Li.data.response);break;default:clearTimeout(Bt),clearTimeout(ve),ut(new Error("invalid_response"))}}},k.handlers.add($e),j.port1.addEventListener("message",$e.onMessage),k.target.postMessage({eventType:d,eventId:Vt,data:f},[j.port2])}).finally(()=>{$e&&k.removeMessageHandler($e)})})()}}function sr(){return window}function xi(){return void 0!==sr().WorkerGlobalScope&&"function"==typeof sr().importScripts}function xo(){return(xo=(0,D.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const eo="firebaseLocalStorageDb",Es="firebaseLocalStorage",el="fbase_key";class Da{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function to(y,d){return y.transaction([Es],d?"readwrite":"readonly").objectStore(Es)}function Hc(){const y=indexedDB.open(eo,1);return new Promise((d,f)=>{y.addEventListener("error",()=>{f(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Es,{keyPath:el})}catch(k){f(k)}}),y.addEventListener("success",(0,D.Z)(function*(){const C=y.result;C.objectStoreNames.contains(Es)?d(C):(C.close(),yield function(){const y=indexedDB.deleteDatabase(eo);return new Da(y).toPromise()}(),d(yield Hc()))}))})}function ks(y,d,f){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,D.Z)(function*(y,d,f){const C=to(y,!0).put({[el]:d,value:f});return new Da(C).toPromise()})).apply(this,arguments)}function mr(){return(mr=(0,D.Z)(function*(y,d){const f=to(y,!1).get(d),C=yield new Da(f).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ua(y,d){const f=to(y,!0).delete(d);return new Da(f).toPromise()}const rl=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,D.Z)(function*(){return f.db||(f.db=yield Hc()),f.db})()}_withRetries(f){var C=this;return(0,D.Z)(function*(){let k=0;for(;;)try{const j=yield C._openDb();return yield f(j)}catch(j){if(k++>3)throw j;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,D.Z)(function*(){return xi()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,D.Z)(function*(){f.receiver=Un._getInstance(xi()?self:null),f.receiver._subscribe("keyChanged",function(){var C=(0,D.Z)(function*(k,j){return{keyProcessed:(yield f._poll()).includes(j.key)}});return function(k,j){return C.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var C=(0,D.Z)(function*(k,j){return["keyChanged"]});return function(k,j){return C.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,D.Z)(function*(){var C,k;if(f.activeServiceWorker=yield function(){return xo.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new $i(f.activeServiceWorker);const j=yield f.sender._send("ping",{},800);!j||(null===(C=j[0])||void 0===C?void 0:C.fulfilled)&&(null===(k=j[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var C=this;return(0,D.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:f},C.serviceWorkerReceiverAvailable?800:50)}catch(k){}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Hc();return yield ks(f,N,"1"),yield Ua(f,N),!0}catch(f){}return!1})()}_withPendingWrite(f){var C=this;return(0,D.Z)(function*(){C.pendingWrites++;try{yield f()}finally{C.pendingWrites--}})()}_set(f,C){var k=this;return(0,D.Z)(function*(){return k._withPendingWrite((0,D.Z)(function*(){return yield k._withRetries(j=>ks(j,f,C)),k.localCache[f]=C,k.notifyServiceWorker(f)}))})()}_get(f){var C=this;return(0,D.Z)(function*(){const k=yield C._withRetries(j=>function(y,d){return mr.apply(this,arguments)}(j,f));return C.localCache[f]=k,k})()}_remove(f){var C=this;return(0,D.Z)(function*(){return C._withPendingWrite((0,D.Z)(function*(){return yield C._withRetries(k=>Ua(k,f)),delete C.localCache[f],C.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,D.Z)(function*(){const C=yield f._withRetries(ve=>{const $e=to(ve,!1).getAll();return new Da($e).toPromise()});if(!C)return[];if(0!==f.pendingWrites)return[];const k=[],j=new Set;for(const{fbase_key:ve,value:$e}of C)j.add(ve),JSON.stringify(f.localCache[ve])!==JSON.stringify($e)&&(f.notifyListeners(ve,$e),k.push(ve));for(const ve of Object.keys(f.localCache))f.localCache[ve]&&!j.has(ve)&&(f.notifyListeners(ve,null),k.push(ve));return k})()}notifyListeners(f,C){this.localCache[f]=C;const k=this.listeners[f];if(k)for(const j of Array.from(k))j(C)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(C)}_removeListener(f,C){this.listeners[f]&&(this.listeners[f].delete(C),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function il(y,d){return Tt(y,"POST","/v2/accounts/mfaSignIn:start",Cn(y,d))}function Wl(){return(Wl=(0,D.Z)(function*(y){return(yield Tt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ba(y){return new Promise((d,f)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=d,C.onerror=k=>{const j=Rn("internal-error");j.customData=k,f(j)},C.type="text/javascript",C.charset="UTF-8",function(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(C)})}function ja(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ko=1e12;class Ta{constructor(d){this.auth=d,this.counter=ko,this._widgets=new Map}render(d,f){const C=this.counter;return this._widgets.set(C,new Wc(d,this.auth.name,f||{})),this.counter++,C}reset(d){var f;const C=d||ko;null===(f=this._widgets.get(C))||void 0===f||f.delete(),this._widgets.delete(C)}getResponse(d){var f;return(null===(f=this._widgets.get(d||ko))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,D.Z)(function*(){var C;return null===(C=f._widgets.get(d||ko))||void 0===C||C.execute(),""})()}}class Wc{constructor(d,f,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof d?document.getElementById(d):d;rt(k,"argument-error",{appName:f}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}();const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wi=ja("rcb"),ki=new yt(3e4,6e4);class Fs{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!sr().grecaptcha}load(d,f=""){return rt((y=f).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(sr().grecaptcha):new Promise((C,k)=>{const j=sr().setTimeout(()=>{k(Rn(d,"network-request-failed"))},ki.get());sr()[Wi]=()=>{sr().clearTimeout(j),delete sr()[Wi];const $e=sr().grecaptcha;if(!$e)return void k(Rn(d,"internal-error"));const _t=$e.render;$e.render=(ut,Vt)=>{const Bt=_t(ut,Vt);return this.counter++,Bt},this.hostLanguage=f,C($e)},Ba(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Wi,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(j),k(Rn(d,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!sr().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bc{load(d){return(0,D.Z)(function*(){return new Ta(d)})()}clearedOneInstance(){}}const bl="recaptcha",Fo={theme:"light",type:"image"};class Gc{constructor(d,f=Object.assign({},Fo),C){this.parameters=f,this.type=bl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(C),this.isInvisible="invisible"===this.parameters.size,rt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof d?document.getElementById(d):d;rt(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bc:new Fs,this.validateStartingState()}verify(){var d=this;return(0,D.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),C=d.getAssertedRecaptcha();return C.getResponse(f)||new Promise(j=>{const ve=$e=>{!$e||(d.tokenChangeListeners.delete(ve),j($e))};d.tokenChangeListeners.add(ve),d.isInvisible&&C.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){rt(!this.parameters.sitekey,this.auth,"argument-error"),rt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),rt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(C=>C(f)),"function"==typeof d)d(f);else if("string"==typeof d){const C=sr()[d];"function"==typeof C&&C(f)}}}assertNotDestroyed(){rt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,D.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const C=document.createElement("div");f.appendChild(C),f=C}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,D.Z)(function*(){rt(ce()&&!xi(),d.auth,"internal-error"),yield function(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function(y){return Wl.apply(this,arguments)}(d.auth);rt(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return rt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wl{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=Ci._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function Aa(){return(Aa=(0,D.Z)(function*(y,d,f){const C=nr(y),k=yield F(C,d,(0,B.m9)(f));return new wl(k,j=>zr(C,j))})).apply(this,arguments)}function bo(){return(bo=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y);yield it(!1,C,"phone");const k=yield F(C.auth,d,(0,B.m9)(f));return new wl(k,j=>po(C,j))})).apply(this,arguments)}function S(){return(S=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y),k=yield F(C.auth,d,(0,B.m9)(f));return new wl(k,j=>Fa(C,j))})).apply(this,arguments)}function F(y,d,f){return K.apply(this,arguments)}function K(){return(K=(0,D.Z)(function*(y,d,f){var C;const k=yield f.verify();try{let j;if(rt("string"==typeof k,y,"argument-error"),rt(f.type===bl,y,"argument-error"),j="string"==typeof d?{phoneNumber:d}:d,"session"in j){const ve=j.session;if("phoneNumber"in j)return rt("enroll"===ve.type,y,"internal-error"),(yield vl(y,{idToken:ve.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{rt("signin"===ve.type,y,"internal-error");const $e=(null===(C=j.multiFactorHint)||void 0===C?void 0:C.uid)||j.multiFactorUid;return rt($e,y,"missing-multi-factor-info"),(yield il(y,{mfaPendingCredential:ve.credential,mfaEnrollmentId:$e,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ve}=yield Bi(y,{phoneNumber:j.phoneNumber,recaptchaToken:k});return ve}}finally{f._reset()}})).apply(this,arguments)}function xe(){return(xe=(0,D.Z)(function*(y,d){yield qt((0,B.m9)(y),d)})).apply(this,arguments)}let Ke=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=nr(f)}verifyPhoneNumber(f,C){return F(this.auth,f,(0,B.m9)(C))}static credential(f,C){return Ci._fromVerification(f,C)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:C,temporaryProof:k}=f;return C&&k?Ci._fromTokenResponse(C,k):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function at(y,d){return d?Jt(d):(rt(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Dt extends Ss{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Vr(d,this._buildIdpRequest())}_linkToIdToken(d,f){return Vr(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return Vr(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function St(y){return va(y.auth,new Dt(y),y.bypassAuthState)}function kn(y){const{auth:d,user:f}=y;return rt(f,d,"internal-error"),pr(f,new Dt(y),y.bypassAuthState)}function lr(y){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,D.Z)(function*(y){const{auth:d,user:f}=y;return rt(f,d,"internal-error"),qt(f,new Dt(y),y.bypassAuthState)})).apply(this,arguments)}class Gi{constructor(d,f,C,k,j=!1){this.auth=d,this.resolver=C,this.user=k,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,D.Z)(function*(C,k){d.pendingPromise={resolve:C,reject:k};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(j){d.reject(j)}});return function(C,k){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,D.Z)(function*(){const{urlResponse:C,sessionId:k,postBody:j,tenantId:ve,error:$e,type:_t}=d;if($e)return void f.reject($e);const ut={auth:f.auth,requestUri:C,sessionId:k,tenantId:ve||void 0,postBody:j||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(_t)(ut))}catch(Vt){f.reject(Vt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return St;case"linkViaPopup":case"linkViaRedirect":return lr;case"reauthViaPopup":case"reauthViaRedirect":return kn;default:Yt(this.auth,"internal-error")}}resolve(d){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ti=new yt(2e3,1e4);function Pa(){return(Pa=(0,D.Z)(function*(y,d,f){const C=nr(y);On(y,d,z);const k=at(C,f);return new wc(C,"signInViaPopup",d,k).executeNotNull()})).apply(this,arguments)}function ro(){return(ro=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y);On(C.auth,d,z);const k=at(C.auth,f);return new wc(C.auth,"reauthViaPopup",d,k,C).executeNotNull()})).apply(this,arguments)}function io(){return(io=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y);On(C.auth,d,z);const k=at(C.auth,f);return new wc(C.auth,"linkViaPopup",d,k,C).executeNotNull()})).apply(this,arguments)}let wc=(()=>{class y extends Gi{constructor(f,C,k,j,ve){super(f,C,j,ve),this.provider=k,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,D.Z)(function*(){const C=yield f.execute();return rt(C,f.auth,"internal-error"),C})()}onExecution(){var f=this;return(0,D.Z)(function*(){rn(1===f.filter.length,"Popup operations only handle one event");const C=Di();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],C),f.authWindow.associatedEvent=C,f.resolver._originValidation(f.auth).catch(k=>{f.reject(k)}),f.resolver._isIframeWebStorageSupported(f.auth,k=>{k||f.reject(Rn(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var C,k;this.pollId=(null===(k=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===k?void 0:k.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Ti.get())};f()}}return y.currentPopupAction=null,y})();const Ga=new Map;class Ic extends Gi{constructor(d,f,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,D.Z)(function*(){let C=Ga.get(f.auth._key());if(!C){try{const j=(yield function(y,d){return aa.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;C=()=>Promise.resolve(j)}catch(k){C=()=>Promise.reject(k)}Ga.set(f.auth._key(),C)}return f.bypassAuthState||Ga.set(f.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,C=this;return(0,D.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(C,d);if("unknown"!==d.type){if(d.eventId){const k=yield C.auth._redirectUserForId(d.eventId);if(k)return C.user=k,f().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function aa(){return(aa=(0,D.Z)(function*(y,d){const f=ol(d),C=Nu(y);if(!(yield C._isAvailable()))return!1;const k="true"===(yield C._get(f));return yield C._remove(f),k})).apply(this,arguments)}function Gl(y,d){return zl.apply(this,arguments)}function zl(){return(zl=(0,D.Z)(function*(y,d){return Nu(y)._set(ol(d),"true")})).apply(this,arguments)}function Nu(y){return Jt(y._redirectPersistence)}function ol(y){return Te("pendingRedirect",y.config.apiKey,y.name)}function Io(){return(Io=(0,D.Z)(function*(y,d,f){const C=nr(y);On(y,d,z);const k=at(C,f);return yield Gl(k,C),k._openRedirect(C,d,"signInViaRedirect")})).apply(this,arguments)}function Tl(){return(Tl=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y);On(C.auth,d,z);const k=at(C.auth,f);yield Gl(k,C.auth);const j=yield Al(C);return k._openRedirect(C.auth,d,"reauthViaRedirect",j)})).apply(this,arguments)}function Zl(){return(Zl=(0,D.Z)(function*(y,d,f){const C=(0,B.m9)(y);On(C.auth,d,z);const k=at(C.auth,f);yield it(!1,C,d.providerId),yield Gl(k,C.auth);const j=yield Al(C);return k._openRedirect(C.auth,d,"linkViaRedirect",j)})).apply(this,arguments)}function bs(){return(bs=(0,D.Z)(function*(y,d){return yield nr(y)._initializationPromise,Lo(y,d,!1)})).apply(this,arguments)}function Lo(y,d){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,D.Z)(function*(y,d,f=!1){const C=nr(y),k=at(C,d),ve=yield new Ic(C,k,f).execute();return ve&&!f&&(delete ve.user._redirectEventId,yield C._persistUserIfCurrent(ve.user),yield C._setRedirectUser(null,d)),ve})).apply(this,arguments)}function Al(y){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,D.Z)(function*(y){const d=Di(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class Ac{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(f=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fu(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var C;if(d.error&&!fu(d)){const k=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";f.onError(Rn(this.auth,k))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const C=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(al(d))}saveEventToCache(d){this.cachedEventUids.add(al(d)),this.lastProcessedEventTime=Date.now()}}function al(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function fu({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===(null==d?void 0:d.code)}function ll(y){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,D.Z)(function*(y,d={}){return Tt(y,"GET","/v1/projects",d)})).apply(this,arguments)}const Sl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ku=/^https?/;function Jl(){return(Jl=(0,D.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield ll(y);for(const f of d)try{if(Xl(f))return}catch(C){}Yt(y,"unauthorized-domain")})).apply(this,arguments)}function Xl(y){const d=Fe(),{protocol:f,hostname:C}=new URL(d);if(y.startsWith("chrome-extension://")){const ve=new URL(y);return""===ve.hostname&&""===C?"chrome-extension:"===f&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&ve.hostname===C}if(!ku.test(f))return!1;if(Sl.test(y))return C===y;const k=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(C)}const Kc=new yt(3e4,6e4);function cl(){const y=sr().___jsl;if(null==y?void 0:y.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let Ra=null;function ul(y){return Ra=Ra||function(y){return new Promise((d,f)=>{var C,k,j;function ve(){cl(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{cl(),f(Rn(y,"network-request-failed"))},timeout:Kc.get()})}if(null===(k=null===(C=sr().gapi)||void 0===C?void 0:C.iframes)||void 0===k?void 0:k.Iframe)d(gapi.iframes.getContext());else{if(!(null===(j=sr().gapi)||void 0===j?void 0:j.load)){const $e=ja("iframefcb");return sr()[$e]=()=>{gapi.load?ve():f(Rn(y,"network-request-failed"))},Ba(`https://apis.google.com/js/api.js?onload=${$e}`).catch(_t=>f(_t))}ve()}}).catch(d=>{throw Ra=null,d})}(y),Ra}const pu=new yt(5e3,15e3),tc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xr(y){const d=y.config;rt(d.authDomain,y,"auth-domain-config-required");const f=d.emulator?nt(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:d.apiKey,appName:y.name,v:Ee.SDK_VERSION},k=Fu.get(y.config.apiHost);k&&(C.eid=k);const j=y._getFrameworks();return j.length&&(C.fw=j.join(",")),`${f}?${(0,B.xO)(C).slice(1)}`}function Sc(){return(Sc=(0,D.Z)(function*(y){const d=yield ul(y),f=sr().gapi;return rt(f,y,"internal-error"),d.open({where:document.body,url:Xr(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tc,dontclear:!0},C=>new Promise(function(){var k=(0,D.Z)(function*(j,ve){yield C.restyle({setHideOnLeave:!1});const $e=Rn(y,"network-request-failed"),_t=sr().setTimeout(()=>{ve($e)},pu.get());function ut(){sr().clearTimeout(_t),j(C)}C.ping(ut).then(ut,()=>{ve($e)})});return function(j,ve){return k.apply(this,arguments)}}()))})).apply(this,arguments)}const Pc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mc{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Pl(y,d,f,C,k,j){rt(y.config.authDomain,y,"auth-domain-config-required"),rt(y.config.apiKey,y,"invalid-api-key");const ve={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:C,v:Ee.SDK_VERSION,eventId:k};if(d instanceof z){d.setDefaultLanguage(y.languageCode),ve.providerId=d.providerId||"",(0,B.xb)(d.getCustomParameters())||(ve.customParameters=JSON.stringify(d.getCustomParameters()));for(const[_t,ut]of Object.entries(j||{}))ve[_t]=ut}if(d instanceof fe){const _t=d.getScopes().filter(ut=>""!==ut);_t.length>0&&(ve.scopes=_t.join(","))}y.tenantId&&(ve.tid=y.tenantId);const $e=ve;for(const _t of Object.keys($e))void 0===$e[_t]&&delete $e[_t];return`${function({config:y}){return y.emulator?nt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,B.xO)($e).slice(1)}`}const za="webStorageSupport";class Rc extends class{constructor(d){this.factorId=d}_process(d,f,C){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,C);case"signin":return this._finalizeSignIn(d,f.credential);default:return Ir("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Rc(d)}_finalizeEnroll(d,f,C){return function(y,d){return Tt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Cn(y,d))}(d,{idToken:f,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function(y,d){return Tt(y,"POST","/v2/accounts/mfaSignIn:finalize",Cn(y,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Oc=(()=>{class y{constructor(){}static assertion(f){return Rc._fromCredential(f)}}return y.FACTOR_ID="phone",y})();var y,qc="@firebase/auth";class dd{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,D.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(C=>{var k;d((null===(k=C)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Oa(){return window}function Nc(){return(Nc=(0,D.Z)(function*(y,d,f){var C;const{BuildInfo:k}=Oa();rn(d.sessionId,"AuthEvent did not contain a session ID");const j=yield fl(d.sessionId),ve={};return As()?ve.ibi=k.packageName:tn()?ve.apn=k.packageName:Yt(y,"operation-not-supported-in-this-environment"),k.displayName&&(ve.appDisplayName=k.displayName),ve.sessionId=j,Pl(y,f,d.type,void 0,null!==(C=d.eventId)&&void 0!==C?C:void 0,ve)})).apply(this,arguments)}function la(){return(la=(0,D.Z)(function*(y){const{BuildInfo:d}=Oa(),f={};As()?f.iosBundleId=d.packageName:tn()?f.androidPackageName=d.packageName:Yt(y,"operation-not-supported-in-this-environment"),yield ll(y,f)})).apply(this,arguments)}function hl(){return(hl=(0,D.Z)(function*(y,d,f){const{cordova:C}=Oa();let k=()=>{};try{yield new Promise((j,ve)=>{let $e=null;function _t(){var Bt;j();const Fn=null===(Bt=C.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof Fn&&Fn(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function ut(){$e||($e=window.setTimeout(()=>{ve(Rn(y,"redirect-cancelled-by-user"))},2e3))}function Vt(){"visible"===(null==document?void 0:document.visibilityState)&&ut()}d.addPassiveListener(_t),document.addEventListener("resume",ut,!1),tn()&&document.addEventListener("visibilitychange",Vt,!1),k=()=>{d.removePassiveListener(_t),document.removeEventListener("resume",ut,!1),document.removeEventListener("visibilitychange",Vt,!1),$e&&window.clearTimeout($e)}})}finally{k()}})).apply(this,arguments)}function fl(y){return nc.apply(this,arguments)}function nc(){return(nc=(0,D.Z)(function*(y){const d=vu(y),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vu(y){if(rn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),f=new Uint8Array(d);for(let C=0;C<y.length;C++)f[C]=y.charCodeAt(C);return f}y="Browser",(0,Ee._registerComponent)(new bt.wA("auth",(d,{options:f})=>{const C=d.getProvider("app").getImmediate(),{apiKey:k,authDomain:j}=C.options;return(ve=>{rt(k&&!k.includes(":"),"invalid-api-key",{appName:ve.name}),rt(!(null==j?void 0:j.includes(":")),"argument-error",{appName:ve.name});const $e={apiKey:k,authDomain:j,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zr(y)},_t=new ya(ve,$e);return function(y,d){const f=(null==d?void 0:d.persistence)||[],C=(Array.isArray(f)?f:[f]).map(Jt);(null==d?void 0:d.errorMap)&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(C,null==d?void 0:d.popupRedirectResolver)}(_t,f),_t})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,C)=>{d.getProvider("auth-internal").initialize()})),(0,Ee._registerComponent)(new bt.wA("auth-internal",d=>{const f=nr(d.getProvider("auth").getImmediate());return new dd(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)(qc,"0.19.4",void 0),(0,Ee.registerVersion)(qc,"0.19.4","esm2017");class tu extends Ac{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,D.Z)(function*(){yield d.initPromise})()}}function g(y){return u.apply(this,arguments)}function u(){return(u=(0,D.Z)(function*(y){const d=yield R()._get($(y));return d&&(yield R()._remove($(y))),d})).apply(this,arguments)}function _(){const y=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const C=Math.floor(Math.random()*d.length);y.push(d.charAt(C))}return y.join("")}function R(){return Jt(It)}function $(y){return Te("authEvent",y.config.apiKey,y.name)}function ke(y){if(!(null==y?void 0:y.includes("?")))return{};const[d,...f]=y.split("?");return(0,B.zd)(f.join("?"))}function nn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rn("no-auth-event")}}function cr(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function ss(y=(0,B.z$)()){return!("file:"!==cr()&&"ionic:"!==cr()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ca(){try{const y=self.localStorage,d=Di();if(y)return y.setItem(d,"1"),y.removeItem(d),!function(y=(0,B.z$)()){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,B.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.hl)()}catch(y){return jo()&&(0,B.hl)()}return!1}function jo(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Is(){return("http:"===cr()||"https:"===cr()||(0,B.ru)()||ss())&&!((0,B.b$)()||(0,B.UG)())&&ca()&&!jo()}function Ya(){return ss()&&"undefined"!=typeof document}function Ho(){return(Ho=(0,D.Z)(function*(){return!!Ya()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const Ls={LOCAL:"local",NONE:"none",SESSION:"session"},qa=rt,Rt="persistence";function dn(y){return on.apply(this,arguments)}function on(){return(on=(0,D.Z)(function*(y){yield y._initializationPromise;const d=$o(),f=Te(Rt,y.config.apiKey,y.name);(null==d?void 0:d.sessionStorage)&&d.sessionStorage.setItem(f,y._getPersistence())})).apply(this,arguments)}function $o(){return"undefined"!=typeof window?window:null}const oo=rt;class Ds{constructor(){this.browserResolver=Jt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mt,this._completeRedirectFn=Lo}_openPopup(d,f,C,k){var j=this;return(0,D.Z)(function*(){var ve;rn(null===(ve=j.eventManagers[d._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const $e=Pl(d,f,C,Fe(),k);return function(y,d,f,C=500,k=600){const j=Math.max((window.screen.availHeight-k)/2,0).toString(),ve=Math.max((window.screen.availWidth-C)/2,0).toString();let $e="";const _t=Object.assign(Object.assign({},Pc),{width:C.toString(),height:k.toString(),top:j,left:ve}),ut=(0,B.z$)().toLowerCase();f&&($e=Nt(ut)?"_blank":f),Ne(ut)&&(d=d||"http://localhost",_t.scrollbars="yes");const Vt=Object.entries(_t).reduce((Fn,[Li,gl])=>`${Fn}${Li}=${gl},`,"");if(function(y=(0,B.z$)()){var d;return As(y)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(ut)&&"_self"!==$e)return function(y,d){const f=document.createElement("a");f.href=y,f.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(C)}(d||"",$e),new Mc(null);const Bt=window.open(d||"",$e,Vt);rt(Bt,y,"popup-blocked");try{Bt.focus()}catch(Fn){}return new Mc(Bt)}(d,$e,Di())})()}_openRedirect(d,f,C,k){var j=this;return(0,D.Z)(function*(){return yield j._originValidation(d),y=Pl(d,f,C,Fe(),k),sr().location.href=y,new Promise(()=>{});var y})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:k,promise:j}=this.eventManagers[f];return k?Promise.resolve(k):(rn(j,"If manager is not set, promise should be"),j)}const C=this.initAndGetManager(d);return this.eventManagers[f]={promise:C},C.catch(()=>{delete this.eventManagers[f]}),C}initAndGetManager(d){var f=this;return(0,D.Z)(function*(){const C=yield function(y){return Sc.apply(this,arguments)}(d),k=new Ac(d);return C.register("authEvent",j=>(rt(null==j?void 0:j.authEvent,d,"invalid-auth-event"),{status:k.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:k},f.iframes[d._key()]=C,k})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(za,{type:za},k=>{var j;const ve=null===(j=null==k?void 0:k[0])||void 0===j?void 0:j[za];void 0!==ve&&f(!!ve),Yt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(y){return Jl.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return yi()||Xe()||As()}}),this.cordovaResolver=Jt(class{constructor(){this._redirectPersistence=Mt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lo}_initialize(d){var f=this;return(0,D.Z)(function*(){const C=d._key();let k=f.eventManagers.get(C);return k||(k=new tu(d),f.eventManagers.set(C,k),f.attachCallbackListeners(d,k)),k})()}_openPopup(d){Yt(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,C,k){var j=this;return(0,D.Z)(function*(){!function(y){var d,f,C,k,j,ve,$e,_t,ut,Vt;const Bt=Oa();rt("function"==typeof(null===(d=null==Bt?void 0:Bt.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),rt(void 0!==(null===(f=null==Bt?void 0:Bt.BuildInfo)||void 0===f?void 0:f.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),rt("function"==typeof(null===(j=null===(k=null===(C=null==Bt?void 0:Bt.cordova)||void 0===C?void 0:C.plugins)||void 0===k?void 0:k.browsertab)||void 0===j?void 0:j.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),rt("function"==typeof(null===(_t=null===($e=null===(ve=null==Bt?void 0:Bt.cordova)||void 0===ve?void 0:ve.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===_t?void 0:_t.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),rt("function"==typeof(null===(Vt=null===(ut=null==Bt?void 0:Bt.cordova)||void 0===ut?void 0:ut.InAppBrowser)||void 0===Vt?void 0:Vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const ve=yield j._initialize(d);yield ve.initialized(),ve.resetRedirect(),Ga.clear(),yield j._originValidation(d);const $e=function(y,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:_(),postBody:null,tenantId:y.tenantId,error:Rn(y,"no-auth-event")}}(d,C,k);yield function(y,d){return R()._set($(y),d)}(d,$e);const _t=yield function(y,d,f){return Nc.apply(this,arguments)}(d,$e,f),ut=yield function(y){const{cordova:d}=Oa();return new Promise(f=>{d.plugins.browsertab.isAvailable(C=>{let k=null;C?d.plugins.browsertab.openUrl(y):k=d.InAppBrowser.open(y,function(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),f(k)})})}(_t);return function(y,d,f){return hl.apply(this,arguments)}(d,ve,ut)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(y){return la.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:C,handleOpenURL:k,BuildInfo:j}=Oa(),ve=setTimeout((0,D.Z)(function*(){yield g(d),f.onEvent(nn())}),500),$e=function(){var Vt=(0,D.Z)(function*(Bt){clearTimeout(ve);const Fn=yield g(d);let Li=null;Fn&&(null==Bt?void 0:Bt.url)&&(Li=function(y,d){var f,C;const k=function(y){const d=ke(y),f=d.link?decodeURIComponent(d.link):void 0,C=ke(f).link,k=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return ke(k).link||k||C||f||y}(d);if(k.includes("/__/auth/callback")){const j=ke(k),ve=j.firebaseError?function(y){try{return JSON.parse(y)}catch(d){return null}}(decodeURIComponent(j.firebaseError)):null,$e=null===(C=null===(f=null==ve?void 0:ve.code)||void 0===f?void 0:f.split("auth/"))||void 0===C?void 0:C[1],_t=$e?Rn($e):null;return _t?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:_t,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:k,postBody:null}}return null}(Fn,Bt.url)),f.onEvent(Li||nn())});return function(Fn){return Vt.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,$e);const _t=k,ut=`${j.packageName.toLowerCase()}://`;Oa().handleOpenURL=function(){var Vt=(0,D.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(ut)&&$e({url:Bt}),"function"==typeof _t)try{_t(Bt)}catch(Fn){console.error(Fn)}});return function(Bt){return Vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Mt,this._completeRedirectFn=Lo}_initialize(d){var f=this;return(0,D.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,C,k){var j=this;return(0,D.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openPopup(d,f,C,k)})()}_openRedirect(d,f,C,k){var j=this;return(0,D.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openRedirect(d,f,C,k)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Ya()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oo(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,D.Z)(function*(){if(d.underlyingResolver)return;const f=yield function(){return Ho.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function jr(y){return y.unwrap()}function ci(y){return ic(y)}function ic(y){const{_tokenResponse:d}=y instanceof B.ZR?y.customData:y;if(!d)return null;if(!(y instanceof B.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Ke.credentialFromResult(y);const f=d.providerId;if(!f||"password"===f)return null;let C;switch(f){case"google.com":C=Pt;break;case"facebook.com":C=lt;break;case"github.com":C=ct;break;case"twitter.com":C=zn;break;default:const{oauthIdToken:k,oauthAccessToken:j,oauthTokenSecret:ve,pendingToken:$e,nonce:_t}=d;return j||ve||k||$e?$e?f.startsWith("saml.")?Pn._create(f,$e):Or._fromParams({providerId:f,signInMethod:f,pendingToken:$e,idToken:k,accessToken:j}):new Ye(f).credential({idToken:k,accessToken:j,rawNonce:_t}):null}return y instanceof B.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function gi(y,d){return d.catch(f=>{throw f instanceof B.ZR&&function(y,d){var f;const C=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new fd(y,function(y,d){var f;const C=(0,B.m9)(y),k=d;return rt(d.customData.operationType,C,"argument-error"),rt(null===(f=k.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,C,"argument-error"),Eo._fromError(C,k)}(y,d));else if(C){const k=ic(d),j=d;k&&(j.credential=k,j.tenantId=C.tenantId||void 0,j.email=C.email||void 0,j.phoneNumber=C.phoneNumber||void 0)}}(y,f),f}).then(f=>{const k=f.user;return{operationType:f.operationType,credential:ci(f),additionalUserInfo:pi(f),user:pl.getOrCreate(k)}})}function Ol(y,d){return hd.apply(this,arguments)}function hd(){return(hd=(0,D.Z)(function*(y,d){const f=yield d;return{verificationId:f.verificationId,confirm:C=>gi(y,f.confirm(C))}})).apply(this,arguments)}class fd{constructor(d,f){this.resolver=f,this.auth=function(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return gi(jr(this.auth),this.resolver.resolveSignIn(d))}}class pl{constructor(d){this._delegate=d,this.multiFactor=function(y){const d=(0,B.m9)(y);return I.has(d)||I.set(d,A._fromUser(d)),I.get(d)}(d)}static getOrCreate(d){return pl.USER_MAP.has(d)||pl.USER_MAP.set(d,new pl(d)),pl.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,D.Z)(function*(){return gi(f.auth,po(f._delegate,d))})()}linkWithPhoneNumber(d,f){var C=this;return(0,D.Z)(function*(){return Ol(C.auth,function(y,d,f){return bo.apply(this,arguments)}(C._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,D.Z)(function*(){return gi(f.auth,function(y,d,f){return io.apply(this,arguments)}(f._delegate,d,Ds))})()}linkWithRedirect(d){var f=this;return(0,D.Z)(function*(){return yield dn(nr(f.auth)),function(y,d,f){return function(y,d,f){return Zl.apply(this,arguments)}(y,d,f)}(f._delegate,d,Ds)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,D.Z)(function*(){return gi(f.auth,Fa(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return Ol(this.auth,function(y,d,f){return S.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return gi(this.auth,function(y,d,f){return ro.apply(this,arguments)}(this._delegate,d,Ds))}reauthenticateWithRedirect(d){var f=this;return(0,D.Z)(function*(){return yield dn(nr(f.auth)),function(y,d,f){return function(y,d,f){return Tl.apply(this,arguments)}(y,d,f)}(f._delegate,d,Ds)})()}sendEmailVerification(d){return function(y,d){return xr.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,D.Z)(function*(){return yield function(y,d){return ds.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function(y,d){return wi((0,B.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function(y,d){return wi((0,B.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(y,d){return xe.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(y,d){return rr.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function(y,d,f){return Ur.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pl.USER_MAP=new WeakMap;const nu=rt;let pd=(()=>{class y{constructor(f,C){if(this.app=f,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=f.options;nu(k,"invalid-api-key",{appName:f.name});let j=[Gt];if("undefined"!=typeof window){j=function(y,d){const f=$o();if(!(null==f?void 0:f.sessionStorage))return[];const C=Te(Rt,y,d);switch(f.sessionStorage.getItem(C)){case Ls.NONE:return[Gt];case Ls.LOCAL:return[rl,Mt];case Ls.SESSION:return[Mt];default:return[]}}(k,f.name);for(const $e of[rl,It,Mt])j.includes($e)||j.push($e)}nu(k,"invalid-api-key",{appName:f.name});const ve="undefined"!=typeof window?Ds:void 0;this._delegate=C.initialize({options:{persistence:j,popupRedirectResolver:ve}}),this._delegate._updateErrorMap(ti),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,C){!function(y,d,f){const C=nr(y);rt(C._canInitEmulator,C,"emulator-config-failed"),rt(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const k=!!(null==f?void 0:f.disableWarnings),j=Hs(d),{host:ve,port:$e}=function(y){const d=Hs(y),f=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!f)return{host:"",port:null};const C=f[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(C);if(k){const j=k[1];return{host:j,port:Gr(C.substr(j.length+1))}}{const[j,ve]=C.split(":");return{host:j,port:Gr(ve)}}}(d);C.config.emulator={url:`${j}//${ve}${null===$e?"":`:${$e}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ve,port:$e,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function(){function y(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,f,C)}applyActionCode(f){return function(y,d){return Zs.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Ys(this._delegate,f)}confirmPasswordReset(f,C){return function(y,d,f){return yo.apply(this,arguments)}(this._delegate,f,C)}createUserWithEmailAndPassword(f,C){var k=this;return(0,D.Z)(function*(){return gi(k._delegate,function(y,d,f){return rs.apply(this,arguments)}(k._delegate,f,C))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function(y,d){return Yr.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function(y,d){const f=O.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,D.Z)(function*(){nu(Is(),f._delegate,"operation-not-supported-in-this-environment");const C=yield function(y,d){return bs.apply(this,arguments)}(f._delegate,Ds);return C?gi(f._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function(y,d){nr(y)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,C,k){const{next:j,error:ve,complete:$e}=sc(f,C,k);return this._delegate.onAuthStateChanged(j,ve,$e)}onIdTokenChanged(f,C,k){const{next:j,error:ve,complete:$e}=sc(f,C,k);return this._delegate.onIdTokenChanged(j,ve,$e)}sendSignInLinkToEmail(f,C){return function(y,d,f){return Os.apply(this,arguments)}(this._delegate,f,C)}sendPasswordResetEmail(f,C){return function(y,d,f){return Rs.apply(this,arguments)}(this._delegate,f,C||void 0)}setPersistence(f){var C=this;return(0,D.Z)(function*(){let k;switch(function(y,d){qa(Object.values(Ls).includes(d),y,"invalid-persistence-type"),(0,B.b$)()?qa(d!==Ls.SESSION,y,"unsupported-persistence-type"):(0,B.UG)()?qa(d===Ls.NONE,y,"unsupported-persistence-type"):jo()?qa(d===Ls.NONE||d===Ls.LOCAL&&(0,B.hl)(),y,"unsupported-persistence-type"):qa(d===Ls.NONE||ca(),y,"unsupported-persistence-type")}(C._delegate,f),f){case Ls.SESSION:k=Mt;break;case Ls.LOCAL:k=(yield Jt(rl)._isAvailable())?rl:It;break;case Ls.NONE:k=Gt;break;default:return Yt("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return gi(this._delegate,function(y){return Kt.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return gi(this._delegate,zr(this._delegate,f))}signInWithCustomToken(f){return gi(this._delegate,function(y,d){return go.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,C){return gi(this._delegate,function(y,d,f){return zr((0,B.m9)(y),x.credential(d,f))}(this._delegate,f,C))}signInWithEmailLink(f,C){return gi(this._delegate,function(y,d,f){return Ar.apply(this,arguments)}(this._delegate,f,C))}signInWithPhoneNumber(f,C){return Ol(this._delegate,function(y,d,f){return Aa.apply(this,arguments)}(this._delegate,f,C))}signInWithPopup(f){var C=this;return(0,D.Z)(function*(){return nu(Is(),C._delegate,"operation-not-supported-in-this-environment"),gi(C._delegate,function(y,d,f){return Pa.apply(this,arguments)}(C._delegate,f,Ds))})()}signInWithRedirect(f){var C=this;return(0,D.Z)(function*(){return nu(Is(),C._delegate,"operation-not-supported-in-this-environment"),yield dn(C._delegate),function(y,d,f){return function(y,d,f){return Io.apply(this,arguments)}(y,d,f)}(C._delegate,f,Ds)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function(y,d){return vo.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ls,y})();function sc(y,d,f){let C=y;"function"!=typeof y&&({next:C,error:d,complete:f}=y);const k=C;return{next:ve=>k(ve&&pl.getOrCreate(ve)),error:d,complete:f}}class da{constructor(){this.providerId="phone",this._delegate=new Ke(jr(m.Z.auth()))}static credential(d,f){return Ke.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}da.PHONE_SIGN_IN_METHOD=Ke.PHONE_SIGN_IN_METHOD,da.PROVIDER_ID=Ke.PROVIDER_ID;const wf=rt;class If{constructor(d,f,C=m.Z.app()){var k;wf(null===(k=C.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Gc(d,f,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new bt.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),C=d.getProvider("auth");return new pd(f,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:x,FacebookAuthProvider:lt,GithubAuthProvider:ct,GoogleAuthProvider:Pt,OAuthProvider:Ye,SAMLAuthProvider:Nn,PhoneAuthProvider:da,PhoneMultiFactorGenerator:Oc,RecaptchaVerifier:If,TwitterAuthProvider:zn,Auth:pd,AuthCredential:Ss,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.4")}(m.Z)},6676:function(ft,Me){!function(L){"use strict";function D(Re){return Array.prototype.slice.call(Re)}function m(Re){return new Promise(function(Ae,He){Re.onsuccess=function(){Ae(Re.result)},Re.onerror=function(){He(Re.error)}})}function B(Re,Ae,He){var ze,Se=new Promise(function(Be,Oe){m(ze=Re[Ae].apply(Re,He)).then(Be,Oe)});return Se.request=ze,Se}function Ee(Re,Ae,He){var ze=B(Re,Ae,He);return ze.then(function(Se){if(Se)return new Y(Se,ze.request)})}function de(Re,Ae,He){He.forEach(function(ze){Object.defineProperty(Re.prototype,ze,{get:function(){return this[Ae][ze]},set:function(Se){this[Ae][ze]=Se}})})}function X(Re,Ae,He,ze){ze.forEach(function(Se){Se in He.prototype&&(Re.prototype[Se]=function(){return B(this[Ae],Se,arguments)})})}function se(Re,Ae,He,ze){ze.forEach(function(Se){Se in He.prototype&&(Re.prototype[Se]=function(){return this[Ae][Se].apply(this[Ae],arguments)})})}function ee(Re,Ae,He,ze){ze.forEach(function(Se){Se in He.prototype&&(Re.prototype[Se]=function(){return Ee(this[Ae],Se,arguments)})})}function ie(Re){this._index=Re}function Y(Re,Ae){this._cursor=Re,this._request=Ae}function J(Re){this._store=Re}function Q(Re){this._tx=Re,this.complete=new Promise(function(Ae,He){Re.oncomplete=function(){Ae()},Re.onerror=function(){He(Re.error)},Re.onabort=function(){He(Re.error)}})}function me(Re,Ae,He){this._db=Re,this.oldVersion=Ae,this.transaction=new Q(He)}function Ie(Re){this._db=Re}de(ie,"_index",["name","keyPath","multiEntry","unique"]),X(ie,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ee(ie,"_index",IDBIndex,["openCursor","openKeyCursor"]),de(Y,"_cursor",["direction","key","primaryKey","value"]),X(Y,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Re){Re in IDBCursor.prototype&&(Y.prototype[Re]=function(){var Ae=this,He=arguments;return Promise.resolve().then(function(){return Ae._cursor[Re].apply(Ae._cursor,He),m(Ae._request).then(function(ze){if(ze)return new Y(ze,Ae._request)})})})}),J.prototype.createIndex=function(){return new ie(this._store.createIndex.apply(this._store,arguments))},J.prototype.index=function(){return new ie(this._store.index.apply(this._store,arguments))},de(J,"_store",["name","keyPath","indexNames","autoIncrement"]),X(J,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ee(J,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),se(J,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new J(this._tx.objectStore.apply(this._tx,arguments))},de(Q,"_tx",["objectStoreNames","mode"]),se(Q,"_tx",IDBTransaction,["abort"]),me.prototype.createObjectStore=function(){return new J(this._db.createObjectStore.apply(this._db,arguments))},de(me,"_db",["name","version","objectStoreNames"]),se(me,"_db",IDBDatabase,["deleteObjectStore","close"]),Ie.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},de(Ie,"_db",["name","version","objectStoreNames"]),se(Ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Re){[J,ie].forEach(function(Ae){Re in Ae.prototype&&(Ae.prototype[Re.replace("open","iterate")]=function(){var He=D(arguments),ze=He[He.length-1],Se=this._store||this._index,Be=Se[Re].apply(Se,He.slice(0,-1));Be.onsuccess=function(){ze(Be.result)}})})}),[ie,J].forEach(function(Re){Re.prototype.getAll||(Re.prototype.getAll=function(Ae,He){var ze=this,Se=[];return new Promise(function(Be){ze.iterateCursor(Ae,function(Oe){Oe?(Se.push(Oe.value),void 0===He||Se.length!=He?Oe.continue():Be(Se)):Be(Se)})})})}),L.openDb=function(Re,Ae,He){var ze=B(indexedDB,"open",[Re,Ae]),Se=ze.request;return Se&&(Se.onupgradeneeded=function(Be){He&&He(new me(Se.result,Be.oldVersion,Se.transaction))}),ze.then(function(Be){return new Ie(Be)})},L.deleteDb=function(Re){return B(indexedDB,"deleteDatabase",[Re])},Object.defineProperty(L,"__esModule",{value:!0})}(Me)},6215:(ft,Me,L)=>{"use strict";L.d(Me,{X:()=>B});var D=L(9765),m=L(7971);class B extends D.xQ{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const X=super._subscribe(de);return X&&!X.closed&&de.next(this._value),X}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new m.N;return this._value}next(de){super.next(this._value=de)}}},7574:(ft,Me,L)=>{"use strict";L.d(Me,{y:()=>J});var D=L(7393),B=L(9181),Ee=L(6490),X=L(6554),se=L(4487);var Y=L(2494);let J=(()=>{class me{constructor(Le){this._isScalar=!1,Le&&(this._subscribe=Le)}lift(Le){const Ve=new me;return Ve.source=this,Ve.operator=Le,Ve}subscribe(Le,Ve,Re){const{operator:Ae}=this,He=function(me,Ie,Le){if(me){if(me instanceof D.L)return me;if(me[B.b])return me[B.b]()}return me||Ie||Le?new D.L(me,Ie,Le):new D.L(Ee.c)}(Le,Ve,Re);if(He.add(Ae?Ae.call(He,this.source):this.source||Y.v.useDeprecatedSynchronousErrorHandling&&!He.syncErrorThrowable?this._subscribe(He):this._trySubscribe(He)),Y.v.useDeprecatedSynchronousErrorHandling&&He.syncErrorThrowable&&(He.syncErrorThrowable=!1,He.syncErrorThrown))throw He.syncErrorValue;return He}_trySubscribe(Le){try{return this._subscribe(Le)}catch(Ve){Y.v.useDeprecatedSynchronousErrorHandling&&(Le.syncErrorThrown=!0,Le.syncErrorValue=Ve),function(me){for(;me;){const{closed:Ie,destination:Le,isStopped:Ve}=me;if(Ie||Ve)return!1;me=Le&&Le instanceof D.L?Le:null}return!0}(Le)?Le.error(Ve):console.warn(Ve)}}forEach(Le,Ve){return new(Ve=Q(Ve))((Re,Ae)=>{let He;He=this.subscribe(ze=>{try{Le(ze)}catch(Se){Ae(Se),He&&He.unsubscribe()}},Ae,Re)})}_subscribe(Le){const{source:Ve}=this;return Ve&&Ve.subscribe(Le)}[X.L](){return this}pipe(...Le){return 0===Le.length?this:function(me){return 0===me.length?se.y:1===me.length?me[0]:function(Le){return me.reduce((Ve,Re)=>Re(Ve),Le)}}(Le)(this)}toPromise(Le){return new(Le=Q(Le))((Ve,Re)=>{let Ae;this.subscribe(He=>Ae=He,He=>Re(He),()=>Ve(Ae))})}}return me.create=Ie=>new me(Ie),me})();function Q(me){if(me||(me=Y.v.Promise||Promise),!me)throw new Error("no Promise impl found");return me}},6490:(ft,Me,L)=>{"use strict";L.d(Me,{c:()=>B});var D=L(2494),m=L(4449);const B={closed:!0,next(Ee){},error(Ee){if(D.v.useDeprecatedSynchronousErrorHandling)throw Ee;(0,m.z)(Ee)},complete(){}}},5197:(ft,Me,L)=>{"use strict";L.d(Me,{L:()=>m});var D=L(7393);class m extends D.L{notifyNext(Ee,de,X,se,ee){this.destination.next(de)}notifyError(Ee,de){this.destination.error(Ee)}notifyComplete(Ee){this.destination.complete()}}},9765:(ft,Me,L)=>{"use strict";L.d(Me,{Yc:()=>se,xQ:()=>ee});var D=L(7574),m=L(7393),B=L(5319),Ee=L(7971),de=L(8858),X=L(9181);class se extends m.L{constructor(J){super(J),this.destination=J}}let ee=(()=>{class Y extends D.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[X.b](){return new se(this)}lift(Q){const me=new ie(this,this);return me.operator=Q,me}next(Q){if(this.closed)throw new Ee.N;if(!this.isStopped){const{observers:me}=this,Ie=me.length,Le=me.slice();for(let Ve=0;Ve<Ie;Ve++)Le[Ve].next(Q)}}error(Q){if(this.closed)throw new Ee.N;this.hasError=!0,this.thrownError=Q,this.isStopped=!0;const{observers:me}=this,Ie=me.length,Le=me.slice();for(let Ve=0;Ve<Ie;Ve++)Le[Ve].error(Q);this.observers.length=0}complete(){if(this.closed)throw new Ee.N;this.isStopped=!0;const{observers:Q}=this,me=Q.length,Ie=Q.slice();for(let Le=0;Le<me;Le++)Ie[Le].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Q){if(this.closed)throw new Ee.N;return super._trySubscribe(Q)}_subscribe(Q){if(this.closed)throw new Ee.N;return this.hasError?(Q.error(this.thrownError),B.w.EMPTY):this.isStopped?(Q.complete(),B.w.EMPTY):(this.observers.push(Q),new de.W(this,Q))}asObservable(){const Q=new D.y;return Q.source=this,Q}}return Y.create=(J,Q)=>new ie(J,Q),Y})();class ie extends ee{constructor(J,Q){super(),this.destination=J,this.source=Q}next(J){const{destination:Q}=this;Q&&Q.next&&Q.next(J)}error(J){const{destination:Q}=this;Q&&Q.error&&this.destination.error(J)}complete(){const{destination:J}=this;J&&J.complete&&this.destination.complete()}_subscribe(J){const{source:Q}=this;return Q?this.source.subscribe(J):B.w.EMPTY}}},8858:(ft,Me,L)=>{"use strict";L.d(Me,{W:()=>m});var D=L(5319);class m extends D.w{constructor(Ee,de){super(),this.subject=Ee,this.subscriber=de,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ee=this.subject,de=Ee.observers;if(this.subject=null,!de||0===de.length||Ee.isStopped||Ee.closed)return;const X=de.indexOf(this.subscriber);-1!==X&&de.splice(X,1)}}},7393:(ft,Me,L)=>{"use strict";L.d(Me,{L:()=>se});var D=L(9105),m=L(6490),B=L(5319),Ee=L(9181),de=L(2494),X=L(4449);class se extends B.w{constructor(Y,J,Q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=m.c;break;case 1:if(!Y){this.destination=m.c;break}if("object"==typeof Y){Y instanceof se?(this.syncErrorThrowable=Y.syncErrorThrowable,this.destination=Y,Y.add(this)):(this.syncErrorThrowable=!0,this.destination=new ee(this,Y));break}default:this.syncErrorThrowable=!0,this.destination=new ee(this,Y,J,Q)}}[Ee.b](){return this}static create(Y,J,Q){const me=new se(Y,J,Q);return me.syncErrorThrowable=!1,me}next(Y){this.isStopped||this._next(Y)}error(Y){this.isStopped||(this.isStopped=!0,this._error(Y))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Y){this.destination.next(Y)}_error(Y){this.destination.error(Y),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Y}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Y,this}}class ee extends se{constructor(Y,J,Q,me){super(),this._parentSubscriber=Y;let Ie,Le=this;(0,D.m)(J)?Ie=J:J&&(Ie=J.next,Q=J.error,me=J.complete,J!==m.c&&(Le=Object.create(J),(0,D.m)(Le.unsubscribe)&&this.add(Le.unsubscribe.bind(Le)),Le.unsubscribe=this.unsubscribe.bind(this))),this._context=Le,this._next=Ie,this._error=Q,this._complete=me}next(Y){if(!this.isStopped&&this._next){const{_parentSubscriber:J}=this;de.v.useDeprecatedSynchronousErrorHandling&&J.syncErrorThrowable?this.__tryOrSetError(J,this._next,Y)&&this.unsubscribe():this.__tryOrUnsub(this._next,Y)}}error(Y){if(!this.isStopped){const{_parentSubscriber:J}=this,{useDeprecatedSynchronousErrorHandling:Q}=de.v;if(this._error)Q&&J.syncErrorThrowable?(this.__tryOrSetError(J,this._error,Y),this.unsubscribe()):(this.__tryOrUnsub(this._error,Y),this.unsubscribe());else if(J.syncErrorThrowable)Q?(J.syncErrorValue=Y,J.syncErrorThrown=!0):(0,X.z)(Y),this.unsubscribe();else{if(this.unsubscribe(),Q)throw Y;(0,X.z)(Y)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Y}=this;if(this._complete){const J=()=>this._complete.call(this._context);de.v.useDeprecatedSynchronousErrorHandling&&Y.syncErrorThrowable?(this.__tryOrSetError(Y,J),this.unsubscribe()):(this.__tryOrUnsub(J),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Y,J){try{Y.call(this._context,J)}catch(Q){if(this.unsubscribe(),de.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,X.z)(Q)}}__tryOrSetError(Y,J,Q){if(!de.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{J.call(this._context,Q)}catch(me){return de.v.useDeprecatedSynchronousErrorHandling?(Y.syncErrorValue=me,Y.syncErrorThrown=!0,!0):((0,X.z)(me),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Y}=this;this._context=null,this._parentSubscriber=null,Y.unsubscribe()}}},5319:(ft,Me,L)=>{"use strict";L.d(Me,{w:()=>X});var D=L(9796),m=L(1555),B=L(9105);const de=(()=>{function ee(ie){return Error.call(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((Y,J)=>`${J+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie,this}return ee.prototype=Object.create(Error.prototype),ee})();class X{constructor(ie){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ie&&(this._ctorUnsubscribe=!0,this._unsubscribe=ie)}unsubscribe(){let ie;if(this.closed)return;let{_parentOrParents:Y,_ctorUnsubscribe:J,_unsubscribe:Q,_subscriptions:me}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Y instanceof X)Y.remove(this);else if(null!==Y)for(let Ie=0;Ie<Y.length;++Ie)Y[Ie].remove(this);if((0,B.m)(Q)){J&&(this._unsubscribe=void 0);try{Q.call(this)}catch(Ie){ie=Ie instanceof de?se(Ie.errors):[Ie]}}if((0,D.k)(me)){let Ie=-1,Le=me.length;for(;++Ie<Le;){const Ve=me[Ie];if((0,m.K)(Ve))try{Ve.unsubscribe()}catch(Re){ie=ie||[],Re instanceof de?ie=ie.concat(se(Re.errors)):ie.push(Re)}}}if(ie)throw new de(ie)}add(ie){let Y=ie;if(!ie)return X.EMPTY;switch(typeof ie){case"function":Y=new X(ie);case"object":if(Y===this||Y.closed||"function"!=typeof Y.unsubscribe)return Y;if(this.closed)return Y.unsubscribe(),Y;if(!(Y instanceof X)){const me=Y;Y=new X,Y._subscriptions=[me]}break;default:throw new Error("unrecognized teardown "+ie+" added to Subscription.")}let{_parentOrParents:J}=Y;if(null===J)Y._parentOrParents=this;else if(J instanceof X){if(J===this)return Y;Y._parentOrParents=[J,this]}else{if(-1!==J.indexOf(this))return Y;J.push(this)}const Q=this._subscriptions;return null===Q?this._subscriptions=[Y]:Q.push(Y),Y}remove(ie){const Y=this._subscriptions;if(Y){const J=Y.indexOf(ie);-1!==J&&Y.splice(J,1)}}}var ee;function se(ee){return ee.reduce((ie,Y)=>ie.concat(Y instanceof de?Y.errors:Y),[])}X.EMPTY=((ee=new X).closed=!0,ee)},2494:(ft,Me,L)=>{"use strict";L.d(Me,{v:()=>m});let D=!1;const m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(B){if(B){const Ee=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ee.stack)}else D&&console.log("RxJS: Back to a better error behavior. Thank you. <3");D=B},get useDeprecatedSynchronousErrorHandling(){return D}}},5345:(ft,Me,L)=>{"use strict";L.d(Me,{IY:()=>Ee,Ds:()=>X,ft:()=>ee});var D=L(7393),m=L(7574),B=L(7444);class Ee extends D.L{constructor(Y){super(),this.parent=Y}_next(Y){this.parent.notifyNext(Y)}_error(Y){this.parent.notifyError(Y),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class X extends D.L{notifyNext(Y){this.destination.next(Y)}notifyError(Y){this.destination.error(Y)}notifyComplete(){this.destination.complete()}}function ee(ie,Y){if(Y.closed)return;if(ie instanceof m.y)return ie.subscribe(Y);let J;try{J=(0,B.s)(ie)(Y)}catch(Q){Y.error(Q)}return J}},2441:(ft,Me,L)=>{"use strict";L.d(Me,{c:()=>de,N:()=>X});var D=L(9765),m=L(7574),B=L(5319),Ee=L(1307);class de extends m.y{constructor(J,Q){super(),this.source=J,this.subjectFactory=Q,this._refCount=0,this._isComplete=!1}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let J=this._connection;return J||(this._isComplete=!1,J=this._connection=new B.w,J.add(this.source.subscribe(new se(this.getSubject(),this))),J.closed&&(this._connection=null,J=B.w.EMPTY)),J}refCount(){return(0,Ee.x)()(this)}}const X=(()=>{const Y=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Y._subscribe},_isComplete:{value:Y._isComplete,writable:!0},getSubject:{value:Y.getSubject},connect:{value:Y.connect},refCount:{value:Y.refCount}}})();class se extends D.Yc{constructor(J,Q){super(J),this.connectable=Q}_error(J){this._unsubscribe(),super._error(J)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const J=this.connectable;if(J){this.connectable=null;const Q=J._connection;J._refCount=0,J._subject=null,J._connection=null,Q&&Q.unsubscribe()}}}},9112:(ft,Me,L)=>{"use strict";L.d(Me,{aj:()=>se});var D=L(4869),m=L(9796),B=L(5197),Ee=L(509),de=L(6693);const X={};function se(...Y){let J,Q;return(0,D.K)(Y[Y.length-1])&&(Q=Y.pop()),"function"==typeof Y[Y.length-1]&&(J=Y.pop()),1===Y.length&&(0,m.k)(Y[0])&&(Y=Y[0]),(0,de.n)(Y,Q).lift(new ee(J))}class ee{constructor(J){this.resultSelector=J}call(J,Q){return Q.subscribe(new ie(J,this.resultSelector))}}class ie extends B.L{constructor(J,Q){super(J),this.resultSelector=Q,this.active=0,this.values=[],this.observables=[]}_next(J){this.values.push(X),this.observables.push(J)}_complete(){const J=this.observables,Q=J.length;if(0===Q)this.destination.complete();else{this.active=Q,this.toRespond=Q;for(let me=0;me<Q;me++)this.add((0,Ee.D)(this,J[me],void 0,me))}}notifyComplete(J){0==(this.active-=1)&&this.destination.complete()}notifyNext(J,Q,me){const Ie=this.values,Ve=this.toRespond?Ie[me]===X?--this.toRespond:this.toRespond:0;Ie[me]=Q,0===Ve&&(this.resultSelector?this._tryResultSelector(Ie):this.destination.next(Ie.slice()))}_tryResultSelector(J){let Q;try{Q=this.resultSelector.apply(this,J)}catch(me){return void this.destination.error(me)}this.destination.next(Q)}}},9193:(ft,Me,L)=>{"use strict";L.d(Me,{E:()=>m,c:()=>B});var D=L(7574);const m=new D.y(de=>de.complete());function B(de){return de?function(de){return new D.y(X=>de.schedule(()=>X.complete()))}(de):m}},4402:(ft,Me,L)=>{"use strict";L.d(Me,{D:()=>Le});var D=L(7574),m=L(7444),B=L(5319),Ee=L(6554),se=L(4087),ee=L(377),J=L(4072),Q=L(9489);function Le(Ve,Re){return Re?function(Ve,Re){if(null!=Ve){if(function(Ve){return Ve&&"function"==typeof Ve[Ee.L]}(Ve))return function(Ve,Re){return new D.y(Ae=>{const He=new B.w;return He.add(Re.schedule(()=>{const ze=Ve[Ee.L]();He.add(ze.subscribe({next(Se){He.add(Re.schedule(()=>Ae.next(Se)))},error(Se){He.add(Re.schedule(()=>Ae.error(Se)))},complete(){He.add(Re.schedule(()=>Ae.complete()))}}))})),He})}(Ve,Re);if((0,J.t)(Ve))return function(Ve,Re){return new D.y(Ae=>{const He=new B.w;return He.add(Re.schedule(()=>Ve.then(ze=>{He.add(Re.schedule(()=>{Ae.next(ze),He.add(Re.schedule(()=>Ae.complete()))}))},ze=>{He.add(Re.schedule(()=>Ae.error(ze)))}))),He})}(Ve,Re);if((0,Q.z)(Ve))return(0,se.r)(Ve,Re);if(function(Ve){return Ve&&"function"==typeof Ve[ee.hZ]}(Ve)||"string"==typeof Ve)return function(Ve,Re){if(!Ve)throw new Error("Iterable cannot be null");return new D.y(Ae=>{const He=new B.w;let ze;return He.add(()=>{ze&&"function"==typeof ze.return&&ze.return()}),He.add(Re.schedule(()=>{ze=Ve[ee.hZ](),He.add(Re.schedule(function(){if(Ae.closed)return;let Se,Be;try{const Oe=ze.next();Se=Oe.value,Be=Oe.done}catch(Oe){return void Ae.error(Oe)}Be?Ae.complete():(Ae.next(Se),this.schedule())}))})),He})}(Ve,Re)}throw new TypeError((null!==Ve&&typeof Ve||Ve)+" is not observable")}(Ve,Re):Ve instanceof D.y?Ve:new D.y((0,m.s)(Ve))}},6693:(ft,Me,L)=>{"use strict";L.d(Me,{n:()=>Ee});var D=L(7574),m=L(5015),B=L(4087);function Ee(de,X){return X?(0,B.r)(de,X):new D.y((0,m.V)(de))}},2759:(ft,Me,L)=>{"use strict";L.d(Me,{R:()=>X});var D=L(7574),m=L(9796),B=L(9105),Ee=L(8002);function X(J,Q,me,Ie){return(0,B.m)(me)&&(Ie=me,me=void 0),Ie?X(J,Q,me).pipe((0,Ee.U)(Le=>(0,m.k)(Le)?Ie(...Le):Ie(Le))):new D.y(Le=>{se(J,Q,function(Re){Le.next(arguments.length>1?Array.prototype.slice.call(arguments):Re)},Le,me)})}function se(J,Q,me,Ie,Le){let Ve;if(function(J){return J&&"function"==typeof J.addEventListener&&"function"==typeof J.removeEventListener}(J)){const Re=J;J.addEventListener(Q,me,Le),Ve=()=>Re.removeEventListener(Q,me,Le)}else if(function(J){return J&&"function"==typeof J.on&&"function"==typeof J.off}(J)){const Re=J;J.on(Q,me),Ve=()=>Re.off(Q,me)}else if(function(J){return J&&"function"==typeof J.addListener&&"function"==typeof J.removeListener}(J)){const Re=J;J.addListener(Q,me),Ve=()=>Re.removeListener(Q,me)}else{if(!J||!J.length)throw new TypeError("Invalid event target");for(let Re=0,Ae=J.length;Re<Ae;Re++)se(J[Re],Q,me,Ie,Le)}Ie.add(Ve)}},6682:(ft,Me,L)=>{"use strict";L.d(Me,{T:()=>de});var D=L(7574),m=L(4869),B=L(3282),Ee=L(6693);function de(...X){let se=Number.POSITIVE_INFINITY,ee=null,ie=X[X.length-1];return(0,m.K)(ie)?(ee=X.pop(),X.length>1&&"number"==typeof X[X.length-1]&&(se=X.pop())):"number"==typeof ie&&(se=X.pop()),null===ee&&1===X.length&&X[0]instanceof D.y?X[0]:(0,B.J)(se)((0,Ee.n)(X,ee))}},5917:(ft,Me,L)=>{"use strict";L.d(Me,{of:()=>Ee});var D=L(4869),m=L(6693),B=L(4087);function Ee(...de){let X=de[de.length-1];return(0,D.K)(X)?(de.pop(),(0,B.r)(de,X)):(0,m.n)(de)}},205:(ft,Me,L)=>{"use strict";L.d(Me,{_:()=>m});var D=L(7574);function m(Ee,de){return new D.y(de?X=>de.schedule(B,0,{error:Ee,subscriber:X}):X=>X.error(Ee))}function B({error:Ee,subscriber:de}){de.error(Ee)}},5304:(ft,Me,L)=>{"use strict";L.d(Me,{K:()=>m});var D=L(5345);function m(de){return function(se){const ee=new B(de),ie=se.lift(ee);return ee.caught=ie}}class B{constructor(X){this.selector=X}call(X,se){return se.subscribe(new Ee(X,this.selector,this.caught))}}class Ee extends D.Ds{constructor(X,se,ee){super(X),this.selector=se,this.caught=ee}error(X){if(!this.isStopped){let se;try{se=this.selector(X,this.caught)}catch(Y){return void super.error(Y)}this._unsubscribeAndRecycle();const ee=new D.IY(this);this.add(ee);const ie=(0,D.ft)(se,ee);ie!==ee&&this.add(ie)}}}},4612:(ft,Me,L)=>{"use strict";L.d(Me,{b:()=>m});var D=L(9773);function m(B,Ee){return(0,D.zg)(B,Ee,1)}},5242:(ft,Me,L)=>{"use strict";L.d(Me,{d:()=>m});var D=L(7393);function m(de=null){return X=>X.lift(new B(de))}class B{constructor(X){this.defaultValue=X}call(X,se){return se.subscribe(new Ee(X,this.defaultValue))}}class Ee extends D.L{constructor(X,se){super(X),this.defaultValue=se,this.isEmpty=!0}_next(X){this.isEmpty=!1,this.destination.next(X)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(ft,Me,L)=>{"use strict";L.d(Me,{x:()=>m});var D=L(7393);function m(de,X){return se=>se.lift(new B(de,X))}class B{constructor(X,se){this.compare=X,this.keySelector=se}call(X,se){return se.subscribe(new Ee(X,this.compare,this.keySelector))}}class Ee extends D.L{constructor(X,se,ee){super(X),this.keySelector=ee,this.hasKey=!1,"function"==typeof se&&(this.compare=se)}compare(X,se){return X===se}_next(X){let se;try{const{keySelector:ie}=this;se=ie?ie(X):X}catch(ie){return this.destination.error(ie)}let ee=!1;if(this.hasKey)try{const{compare:ie}=this;ee=ie(this.key,se)}catch(ie){return this.destination.error(ie)}else this.hasKey=!0;ee||(this.key=se,this.destination.next(X))}}},5435:(ft,Me,L)=>{"use strict";L.d(Me,{h:()=>m});var D=L(7393);function m(de,X){return function(ee){return ee.lift(new B(de,X))}}class B{constructor(X,se){this.predicate=X,this.thisArg=se}call(X,se){return se.subscribe(new Ee(X,this.predicate,this.thisArg))}}class Ee extends D.L{constructor(X,se,ee){super(X),this.predicate=se,this.thisArg=ee,this.count=0}_next(X){let se;try{se=this.predicate.call(this.thisArg,X,this.count++)}catch(ee){return void this.destination.error(ee)}se&&this.destination.next(X)}}},8939:(ft,Me,L)=>{"use strict";L.d(Me,{x:()=>B});var D=L(7393),m=L(5319);function B(X){return se=>se.lift(new Ee(X))}class Ee{constructor(se){this.callback=se}call(se,ee){return ee.subscribe(new de(se,this.callback))}}class de extends D.L{constructor(se,ee){super(se),this.add(new m.w(ee))}}},8049:(ft,Me,L)=>{"use strict";L.d(Me,{P:()=>se});var D=L(3410),m=L(5435),B=L(5257),Ee=L(5242),de=L(4635),X=L(4487);function se(ee,ie){const Y=arguments.length>=2;return J=>J.pipe(ee?(0,m.h)((Q,me)=>ee(Q,me,J)):X.y,(0,B.q)(1),Y?(0,Ee.d)(ie):(0,de.T)(()=>new D.K))}},8002:(ft,Me,L)=>{"use strict";L.d(Me,{U:()=>m});var D=L(7393);function m(de,X){return function(ee){if("function"!=typeof de)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ee.lift(new B(de,X))}}class B{constructor(X,se){this.project=X,this.thisArg=se}call(X,se){return se.subscribe(new Ee(X,this.project,this.thisArg))}}class Ee extends D.L{constructor(X,se,ee){super(X),this.project=se,this.count=0,this.thisArg=ee||this}_next(X){let se;try{se=this.project.call(this.thisArg,X,this.count++)}catch(ee){return void this.destination.error(ee)}this.destination.next(se)}}},3282:(ft,Me,L)=>{"use strict";L.d(Me,{J:()=>B});var D=L(9773),m=L(4487);function B(Ee=Number.POSITIVE_INFINITY){return(0,D.zg)(m.y,Ee)}},9773:(ft,Me,L)=>{"use strict";L.d(Me,{zg:()=>Ee});var D=L(8002),m=L(4402),B=L(5345);function Ee(ee,ie,Y=Number.POSITIVE_INFINITY){return"function"==typeof ie?J=>J.pipe(Ee((Q,me)=>(0,m.D)(ee(Q,me)).pipe((0,D.U)((Ie,Le)=>ie(Q,Ie,me,Le))),Y)):("number"==typeof ie&&(Y=ie),J=>J.lift(new de(ee,Y)))}class de{constructor(ie,Y=Number.POSITIVE_INFINITY){this.project=ie,this.concurrent=Y}call(ie,Y){return Y.subscribe(new X(ie,this.project,this.concurrent))}}class X extends B.Ds{constructor(ie,Y,J=Number.POSITIVE_INFINITY){super(ie),this.project=Y,this.concurrent=J,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ie){this.active<this.concurrent?this._tryNext(ie):this.buffer.push(ie)}_tryNext(ie){let Y;const J=this.index++;try{Y=this.project(ie,J)}catch(Q){return void this.destination.error(Q)}this.active++,this._innerSub(Y)}_innerSub(ie){const Y=new B.IY(this),J=this.destination;J.add(Y);const Q=(0,B.ft)(ie,Y);Q!==Y&&J.add(Q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ie){this.destination.next(ie)}notifyComplete(){const ie=this.buffer;this.active--,ie.length>0?this._next(ie.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(ft,Me,L)=>{"use strict";L.d(Me,{ht:()=>ie,QV:()=>se});var D=L(7393),m=L(9193),B=L(5917),Ee=L(205);class X{constructor(Q,me,Ie){this.kind=Q,this.value=me,this.error=Ie,this.hasValue="N"===Q}observe(Q){switch(this.kind){case"N":return Q.next&&Q.next(this.value);case"E":return Q.error&&Q.error(this.error);case"C":return Q.complete&&Q.complete()}}do(Q,me,Ie){switch(this.kind){case"N":return Q&&Q(this.value);case"E":return me&&me(this.error);case"C":return Ie&&Ie()}}accept(Q,me,Ie){return Q&&"function"==typeof Q.next?this.observe(Q):this.do(Q,me,Ie)}toObservable(){switch(this.kind){case"N":return(0,B.of)(this.value);case"E":return(0,Ee._)(this.error);case"C":return(0,m.c)()}throw new Error("unexpected notification kind value")}static createNext(Q){return void 0!==Q?new X("N",Q):X.undefinedValueNotification}static createError(Q){return new X("E",void 0,Q)}static createComplete(){return X.completeNotification}}function se(J,Q=0){return function(Ie){return Ie.lift(new ee(J,Q))}}X.completeNotification=new X("C"),X.undefinedValueNotification=new X("N",void 0);class ee{constructor(Q,me=0){this.scheduler=Q,this.delay=me}call(Q,me){return me.subscribe(new ie(Q,this.scheduler,this.delay))}}class ie extends D.L{constructor(Q,me,Ie=0){super(Q),this.scheduler=me,this.delay=Ie}static dispatch(Q){const{notification:me,destination:Ie}=Q;me.observe(Ie),this.unsubscribe()}scheduleMessage(Q){this.destination.add(this.scheduler.schedule(ie.dispatch,this.delay,new Y(Q,this.destination)))}_next(Q){this.scheduleMessage(X.createNext(Q))}_error(Q){this.scheduleMessage(X.createError(Q)),this.unsubscribe()}_complete(){this.scheduleMessage(X.createComplete()),this.unsubscribe()}}class Y{constructor(Q,me){this.notification=Q,this.destination=me}}},1307:(ft,Me,L)=>{"use strict";L.d(Me,{x:()=>m});var D=L(7393);function m(){return function(X){return X.lift(new B(X))}}class B{constructor(X){this.connectable=X}call(X,se){const{connectable:ee}=this;ee._refCount++;const ie=new Ee(X,ee),Y=se.subscribe(ie);return ie.closed||(ie.connection=ee.connect()),Y}}class Ee extends D.L{constructor(X,se){super(X),this.connectable=se}_unsubscribe(){const{connectable:X}=this;if(!X)return void(this.connection=null);this.connectable=null;const se=X._refCount;if(se<=0)return void(this.connection=null);if(X._refCount=se-1,se>1)return void(this.connection=null);const{connection:ee}=this,ie=X._connection;this.connection=null,ie&&(!ee||ie===ee)&&ie.unsubscribe()}}},2145:(ft,Me,L)=>{"use strict";L.d(Me,{R:()=>m});var D=L(7393);function m(de,X){let se=!1;return arguments.length>=2&&(se=!0),function(ie){return ie.lift(new B(de,X,se))}}class B{constructor(X,se,ee=!1){this.accumulator=X,this.seed=se,this.hasSeed=ee}call(X,se){return se.subscribe(new Ee(X,this.accumulator,this.seed,this.hasSeed))}}class Ee extends D.L{constructor(X,se,ee,ie){super(X),this.accumulator=se,this._seed=ee,this.hasSeed=ie,this.index=0}get seed(){return this._seed}set seed(X){this.hasSeed=!0,this._seed=X}_next(X){if(this.hasSeed)return this._tryNext(X);this.seed=X,this.destination.next(X)}_tryNext(X){const se=this.index++;let ee;try{ee=this.accumulator(this.seed,X,se)}catch(ie){this.destination.error(ie)}this.seed=ee,this.destination.next(ee)}}},8819:(ft,Me,L)=>{"use strict";L.d(Me,{B:()=>se});var D=L(2441);var Ee=L(1307),de=L(9765);function X(){return new de.xQ}function se(){return ee=>(0,Ee.x)()(function(ee,ie){return function(J){let Q;Q="function"==typeof ee?ee:function(){return ee};const me=Object.create(J,D.N);return me.source=J,me.subjectFactory=Q,me}}(X)(ee))}},3101:(ft,Me,L)=>{"use strict";L.d(Me,{R:()=>Re});var D=L(7574);let m=1;const B=Promise.resolve(),Ee={};function de(He){return He in Ee&&(delete Ee[He],!0)}const X={setImmediate(He){const ze=m++;return Ee[ze]=!0,B.then(()=>de(ze)&&He()),ze},clearImmediate(He){de(He)}};var ee=L(6465),Y=L(6102);const me=new class extends Y.v{flush(ze){this.active=!0,this.scheduled=void 0;const{actions:Se}=this;let Be,Oe=-1,Je=Se.length;ze=ze||Se.shift();do{if(Be=ze.execute(ze.state,ze.delay))break}while(++Oe<Je&&(ze=Se.shift()));if(this.active=!1,Be){for(;++Oe<Je&&(ze=Se.shift());)ze.unsubscribe();throw Be}}}(class extends ee.o{constructor(ze,Se){super(ze,Se),this.scheduler=ze,this.work=Se}requestAsyncId(ze,Se,Be=0){return null!==Be&&Be>0?super.requestAsyncId(ze,Se,Be):(ze.actions.push(this),ze.scheduled||(ze.scheduled=X.setImmediate(ze.flush.bind(ze,null))))}recycleAsyncId(ze,Se,Be=0){if(null!==Be&&Be>0||null===Be&&this.delay>0)return super.recycleAsyncId(ze,Se,Be);0===ze.actions.length&&(X.clearImmediate(Se),ze.scheduled=void 0)}});var Ie=L(9796);class Ve extends D.y{constructor(ze,Se=0,Be=me){var He;super(),this.source=ze,this.delayTime=Se,this.scheduler=Be,(!(!(0,Ie.k)(He=Se)&&He-parseFloat(He)+1>=0)||Se<0)&&(this.delayTime=0),(!Be||"function"!=typeof Be.schedule)&&(this.scheduler=me)}static create(ze,Se=0,Be=me){return new Ve(ze,Se,Be)}static dispatch(ze){const{source:Se,subscriber:Be}=ze;return this.add(Se.subscribe(Be))}_subscribe(ze){return this.scheduler.schedule(Ve.dispatch,this.delayTime,{source:this.source,subscriber:ze})}}function Re(He,ze=0){return function(Be){return Be.lift(new Ae(He,ze))}}class Ae{constructor(ze,Se){this.scheduler=ze,this.delay=Se}call(ze,Se){return new Ve(Se,this.delay,this.scheduler).subscribe(ze)}}},3190:(ft,Me,L)=>{"use strict";L.d(Me,{w:()=>Ee});var D=L(8002),m=L(4402),B=L(5345);function Ee(se,ee){return"function"==typeof ee?ie=>ie.pipe(Ee((Y,J)=>(0,m.D)(se(Y,J)).pipe((0,D.U)((Q,me)=>ee(Y,Q,J,me))))):ie=>ie.lift(new de(se))}class de{constructor(ee){this.project=ee}call(ee,ie){return ie.subscribe(new X(ee,this.project))}}class X extends B.Ds{constructor(ee,ie){super(ee),this.project=ie,this.index=0}_next(ee){let ie;const Y=this.index++;try{ie=this.project(ee,Y)}catch(J){return void this.destination.error(J)}this._innerSub(ie)}_innerSub(ee){const ie=this.innerSubscription;ie&&ie.unsubscribe();const Y=new B.IY(this),J=this.destination;J.add(Y),this.innerSubscription=(0,B.ft)(ee,Y),this.innerSubscription!==Y&&J.add(this.innerSubscription)}_complete(){const{innerSubscription:ee}=this;(!ee||ee.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ee){this.destination.next(ee)}}},5257:(ft,Me,L)=>{"use strict";L.d(Me,{q:()=>Ee});var D=L(7393),m=L(7108),B=L(9193);function Ee(se){return ee=>0===se?(0,B.c)():ee.lift(new de(se))}class de{constructor(ee){if(this.total=ee,this.total<0)throw new m.W}call(ee,ie){return ie.subscribe(new X(ee,this.total))}}class X extends D.L{constructor(ee,ie){super(ee),this.total=ie,this.count=0}_next(ee){const ie=this.total,Y=++this.count;Y<=ie&&(this.destination.next(ee),Y===ie&&(this.destination.complete(),this.unsubscribe()))}}},3342:(ft,Me,L)=>{"use strict";L.d(Me,{b:()=>Ee});var D=L(7393);function m(){}var B=L(9105);function Ee(se,ee,ie){return function(J){return J.lift(new de(se,ee,ie))}}class de{constructor(ee,ie,Y){this.nextOrObserver=ee,this.error=ie,this.complete=Y}call(ee,ie){return ie.subscribe(new X(ee,this.nextOrObserver,this.error,this.complete))}}class X extends D.L{constructor(ee,ie,Y,J){super(ee),this._tapNext=m,this._tapError=m,this._tapComplete=m,this._tapError=Y||m,this._tapComplete=J||m,(0,B.m)(ie)?(this._context=this,this._tapNext=ie):ie&&(this._context=ie,this._tapNext=ie.next||m,this._tapError=ie.error||m,this._tapComplete=ie.complete||m)}_next(ee){try{this._tapNext.call(this._context,ee)}catch(ie){return void this.destination.error(ie)}this.destination.next(ee)}_error(ee){try{this._tapError.call(this._context,ee)}catch(ie){return void this.destination.error(ie)}this.destination.error(ee)}_complete(){try{this._tapComplete.call(this._context)}catch(ee){return void this.destination.error(ee)}return this.destination.complete()}}},4635:(ft,Me,L)=>{"use strict";L.d(Me,{T:()=>B});var D=L(3410),m=L(7393);function B(se=X){return ee=>ee.lift(new Ee(se))}class Ee{constructor(ee){this.errorFactory=ee}call(ee,ie){return ie.subscribe(new de(ee,this.errorFactory))}}class de extends m.L{constructor(ee,ie){super(ee),this.errorFactory=ie,this.hasValue=!1}_next(ee){this.hasValue=!0,this.destination.next(ee)}_complete(){if(this.hasValue)return this.destination.complete();{let ee;try{ee=this.errorFactory()}catch(ie){ee=ie}this.destination.error(ee)}}}function X(){return new D.K}},4087:(ft,Me,L)=>{"use strict";L.d(Me,{r:()=>B});var D=L(7574),m=L(5319);function B(Ee,de){return new D.y(X=>{const se=new m.w;let ee=0;return se.add(de.schedule(function(){ee!==Ee.length?(X.next(Ee[ee++]),X.closed||se.add(this.schedule())):X.complete()})),se})}},6465:(ft,Me,L)=>{"use strict";L.d(Me,{o:()=>B});var D=L(5319);class m extends D.w{constructor(de,X){super()}schedule(de,X=0){return this}}class B extends m{constructor(de,X){super(de,X),this.scheduler=de,this.work=X,this.pending=!1}schedule(de,X=0){if(this.closed)return this;this.state=de;const se=this.id,ee=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(ee,se,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(ee,this.id,X),this}requestAsyncId(de,X,se=0){return setInterval(de.flush.bind(de,this),se)}recycleAsyncId(de,X,se=0){if(null!==se&&this.delay===se&&!1===this.pending)return X;clearInterval(X)}execute(de,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(de,X);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,X){let ee,se=!1;try{this.work(de)}catch(ie){se=!0,ee=!!ie&&ie||new Error(ie)}if(se)return this.unsubscribe(),ee}_unsubscribe(){const de=this.id,X=this.scheduler,se=X.actions,ee=se.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ee&&se.splice(ee,1),null!=de&&(this.id=this.recycleAsyncId(X,de,null)),this.delay=null}}},6102:(ft,Me,L)=>{"use strict";L.d(Me,{v:()=>m});let D=(()=>{class B{constructor(de,X=B.now){this.SchedulerAction=de,this.now=X}schedule(de,X=0,se){return new this.SchedulerAction(this,de).schedule(se,X)}}return B.now=()=>Date.now(),B})();class m extends D{constructor(Ee,de=D.now){super(Ee,()=>m.delegate&&m.delegate!==this?m.delegate.now():de()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ee,de=0,X){return m.delegate&&m.delegate!==this?m.delegate.schedule(Ee,de,X):super.schedule(Ee,de,X)}flush(Ee){const{actions:de}=this;if(this.active)return void de.push(Ee);let X;this.active=!0;do{if(X=Ee.execute(Ee.state,Ee.delay))break}while(Ee=de.shift());if(this.active=!1,X){for(;Ee=de.shift();)Ee.unsubscribe();throw X}}}},3637:(ft,Me,L)=>{"use strict";L.d(Me,{z:()=>B,P:()=>Ee});var D=L(6465);const B=new(L(6102).v)(D.o),Ee=B},7771:(ft,Me,L)=>{"use strict";L.d(Me,{c:()=>X,N:()=>de});var D=L(6465),B=L(6102);const de=new class extends B.v{}(class extends D.o{constructor(ee,ie){super(ee,ie),this.scheduler=ee,this.work=ie}schedule(ee,ie=0){return ie>0?super.schedule(ee,ie):(this.delay=ie,this.state=ee,this.scheduler.flush(this),this)}execute(ee,ie){return ie>0||this.closed?super.execute(ee,ie):this._execute(ee,ie)}requestAsyncId(ee,ie,Y=0){return null!==Y&&Y>0||null===Y&&this.delay>0?super.requestAsyncId(ee,ie,Y):ee.flush(this)}}),X=de},377:(ft,Me,L)=>{"use strict";L.d(Me,{hZ:()=>m});const m="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ft,Me,L)=>{"use strict";L.d(Me,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ft,Me,L)=>{"use strict";L.d(Me,{b:()=>D});const D="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(ft,Me,L)=>{"use strict";L.d(Me,{W:()=>m});const m=(()=>{function B(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return B.prototype=Object.create(Error.prototype),B})()},3410:(ft,Me,L)=>{"use strict";L.d(Me,{K:()=>m});const m=(()=>{function B(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return B.prototype=Object.create(Error.prototype),B})()},7971:(ft,Me,L)=>{"use strict";L.d(Me,{N:()=>m});const m=(()=>{function B(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return B.prototype=Object.create(Error.prototype),B})()},4449:(ft,Me,L)=>{"use strict";function D(m){setTimeout(()=>{throw m},0)}L.d(Me,{z:()=>D})},4487:(ft,Me,L)=>{"use strict";function D(m){return m}L.d(Me,{y:()=>D})},9796:(ft,Me,L)=>{"use strict";L.d(Me,{k:()=>D});const D=Array.isArray||(m=>m&&"number"==typeof m.length)},9489:(ft,Me,L)=>{"use strict";L.d(Me,{z:()=>D});const D=m=>m&&"number"==typeof m.length&&"function"!=typeof m},9105:(ft,Me,L)=>{"use strict";function D(m){return"function"==typeof m}L.d(Me,{m:()=>D})},1555:(ft,Me,L)=>{"use strict";function D(m){return null!==m&&"object"==typeof m}L.d(Me,{K:()=>D})},4072:(ft,Me,L)=>{"use strict";function D(m){return!!m&&"function"!=typeof m.subscribe&&"function"==typeof m.then}L.d(Me,{t:()=>D})},4869:(ft,Me,L)=>{"use strict";function D(m){return m&&"function"==typeof m.schedule}L.d(Me,{K:()=>D})},7444:(ft,Me,L)=>{"use strict";L.d(Me,{s:()=>J});var D=L(5015),m=L(4449),Ee=L(377),X=L(6554),ee=L(9489),ie=L(4072),Y=L(1555);const J=Q=>{if(Q&&"function"==typeof Q[X.L])return(Q=>me=>{const Ie=Q[X.L]();if("function"!=typeof Ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ie.subscribe(me)})(Q);if((0,ee.z)(Q))return(0,D.V)(Q);if((0,ie.t)(Q))return(Q=>me=>(Q.then(Ie=>{me.closed||(me.next(Ie),me.complete())},Ie=>me.error(Ie)).then(null,m.z),me))(Q);if(Q&&"function"==typeof Q[Ee.hZ])return(Q=>me=>{const Ie=Q[Ee.hZ]();for(;;){let Le;try{Le=Ie.next()}catch(Ve){return me.error(Ve),me}if(Le.done){me.complete();break}if(me.next(Le.value),me.closed)break}return"function"==typeof Ie.return&&me.add(()=>{Ie.return&&Ie.return()}),me})(Q);{const Ie=`You provided ${(0,Y.K)(Q)?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ie)}}},5015:(ft,Me,L)=>{"use strict";L.d(Me,{V:()=>D});const D=m=>B=>{for(let Ee=0,de=m.length;Ee<de&&!B.closed;Ee++)B.next(m[Ee]);B.complete()}},509:(ft,Me,L)=>{"use strict";L.d(Me,{D:()=>de});var D=L(7393);class m extends D.L{constructor(se,ee,ie){super(),this.parent=se,this.outerValue=ee,this.outerIndex=ie,this.index=0}_next(se){this.parent.notifyNext(this.outerValue,se,this.outerIndex,this.index++,this)}_error(se){this.parent.notifyError(se,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var B=L(7444),Ee=L(7574);function de(X,se,ee,ie,Y=new m(X,ee,ie)){if(!Y.closed)return se instanceof Ee.y?se.subscribe(Y):(0,B.s)(se)(Y)}},2570:(ft,Me,L)=>{"use strict";L.d(Me,{n:()=>Ee});var D=L(8583),m=L(6215),B=L(7716);let Ee=(()=>{class de{constructor(se){this.document=se,this.imageUrl=new m.X(null)}setImage(se){this.imageUrl.next(se)}removeImage(){this.imageUrl.next(null)}}return de.\u0275fac=function(se){return new(se||de)(B.LFG(D.K0))},de.\u0275prov=B.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},7625:(ft,Me,L)=>{"use strict";L.d(Me,{o:()=>J});var D=L(5917),m=L(8002),B=L(5257),Ee=L(3190),de=L(2340),se=L(6962);class ee{formatResultsToComingMovieData(me){return this.formatResultsToMovieData(me).map((Ie,Le)=>Object.assign(Object.assign({},Ie),{comingDate:me[Le].release_date}))}formatResultsToMovieData(me){return me.map(({id:Ie,genre_ids:Le,title:Ve,poster_path:Re,vote_average:Ae,adult:He})=>({id:Ie,gengres:Le,title:Ve,coverUrl:Re,duration:Ae,pg:He?"18+":"p"}))}}var ie=L(7716),Y=L(1841);let J=(()=>{class Q{constructor(Ie){this.http=Ie,this.apiKey=de.N.tmdbApiKEy,this.apiUrl="https://api.themoviedb.org/3",this.formatter=new ee}getConfig(){return this.http.get(`${this.apiUrl}/configuration?api_key=${this.apiKey}`).pipe((0,m.U)(Ie=>this.config=Ie))}setConfig(){this.http.get(`${this.apiUrl}/configuration?api_key=${this.apiKey}`).subscribe(Ie=>this.config=Ie)}getPopular(){return this.get("/movie/popular").pipe((0,m.U)(Ie=>Object.assign(Object.assign({},Ie),{results:this.formatter.formatResultsToMovieData(Ie.results)})))}getImagePath(Ie,Le=se.w.w342){return Ie?("/"!==Ie[0]&&(Ie=`/${Ie}`),`${this.config.images.secure_base_url}${this.config.images.poster_sizes[Le]}${Ie}`):""}getBackdropPath(Ie,Le=se.w.w342){return this.config?(0,D.of)(`${this.config.images.secure_base_url}${this.config.images.poster_sizes[Le]}${Ie}`).pipe((0,B.q)(1)):this.getConfig().pipe((0,Ee.w)(()=>(0,D.of)(`${this.config.images.secure_base_url}${this.config.images.poster_sizes[Le]}${Ie}`)),(0,B.q)(1))}getGenres(){return this.get("/genre/movie/list").pipe((0,m.U)(Ie=>Ie.genres))}getUpcoming(){return this.get("/movie/upcoming").pipe((0,m.U)(Ie=>Object.assign(Object.assign({},Ie),{results:this.formatter.formatResultsToComingMovieData(Ie.results)})))}getMovie(Ie){return this.get(`/movie/${Ie}`)}getDiscoverMovieBy(Ie){const Le=Object.keys(Ie).map(Ve=>`${Ve}=${Ie[Ve]}`).join("&");return this.get("/discover/movie",Le).pipe((0,m.U)(Ve=>Object.assign(Object.assign({},Ve),{results:this.formatter.formatResultsToMovieData(Ve.results)})))}getMovieCredits(Ie){return this.get(`/movie/${Ie}/credits`)}getMovieImages(Ie){return this.get(`/movie/${Ie}/images`)}getMovieVideos(Ie){return this.get(`/movie/${Ie}/videos`)}get(Ie,Le){return this.http.get(`${this.apiUrl}${Ie}?api_key=${this.apiKey}${Le?`&${Le}`:""}`)}}return Q.\u0275fac=function(Ie){return new(Ie||Q)(ie.LFG(Y.eN))},Q.\u0275prov=ie.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},6962:(ft,Me,L)=>{"use strict";L.d(Me,{w:()=>D});var D=(()=>{return(m=D||(D={}))[m.w92=0]="w92",m[m.w154=1]="w154",m[m.w185=2]="w185",m[m.w342=3]="w342",m[m.w500=4]="w500",m[m.w780=5]="w780",m[m.original=6]="original",D;var m})()},910:(ft,Me,L)=>{"use strict";L.d(Me,{k:()=>Pu});var D=L(7716),m=L(3637),B=L(7574),Ee=L(5917),de=L(6682),X=L(8002),se=L(8819),ee=L(3190),ie=L(2145),Y=L(7519),J=L(5197),Q=L(509);class Ie{constructor(i,s){this.observables=i,this.project=s}call(i,s){return s.subscribe(new Le(i,this.observables,this.project))}}class Le extends J.L{constructor(i,s,h){super(i),this.observables=s,this.project=h,this.toRespond=[];const v=s.length;this.values=new Array(v);for(let T=0;T<v;T++)this.toRespond.push(T);for(let T=0;T<v;T++)this.add((0,Q.D)(this,s[T],void 0,T))}notifyNext(i,s,h){this.values[h]=s;const v=this.toRespond;if(v.length>0){const T=v.indexOf(h);-1!==T&&v.splice(T,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const s=[i,...this.values];this.project?this._tryProject(s):this.destination.next(s)}}_tryProject(i){let s;try{s=this.project.apply(this,i)}catch(h){return void this.destination.error(h)}this.destination.next(s)}}var Ve=L(7393);class Ae{constructor(i){this.predicate=i}call(i,s){return s.subscribe(new He(i,this.predicate))}}class He extends Ve.L{constructor(i,s){super(i),this.predicate=s,this.skipping=!0,this.index=0}_next(i){const s=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||s.next(i)}tryCallPredicate(i){try{const s=this.predicate(i,this.index++);this.skipping=Boolean(s)}catch(s){this.destination.error(s)}}}var ze=L(5096),Se=L(8747),Oe=(L(2755),L(3394)),Je=L(3910),dt=L(8239),pt=L(8026),Z=L(3854),mt=L(5422);const Wt="@firebase/database";let en="";function bt(a){en=a}class kr{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,s){null==s?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,Z.Pz)(s))}get(i){const s=this.domStorage_.getItem(this.prefixedName_(i));return null==s?null:(0,Z.cI)(s)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class er{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,s){null==s?delete this.cache_[i]:this.cache_[i]=s}get(i){return(0,Z.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const $n=function(a){try{if("undefined"!=typeof window&&void 0!==window[a]){const i=window[a];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new kr(i)}}catch(i){}return new er},Zn=$n("localStorage"),En=$n("sessionStorage"),ln=new mt.Yd("@firebase/database"),br=function(){let a=1;return function(){return a++}}(),ti=function(a){const i=(0,Z.dS)(a),s=new Z.gQ;s.update(i);const h=s.digest();return Z.US.encodeByteArray(h)},_r=function(...a){let i="";for(let s=0;s<a.length;s++){const h=a[s];Array.isArray(h)||h&&"object"==typeof h&&"number"==typeof h.length?i+=_r.apply(null,h):i+="object"==typeof h?(0,Z.Pz)(h):h,i+=" "}return i};let bn=null,ni=!0;const Wn=function(a,i){(0,Z.hu)(!i||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?(ln.logLevel=mt.in.VERBOSE,bn=ln.log.bind(ln),i&&En.set("logging_enabled",!0)):"function"==typeof a?bn=a:(bn=null,En.remove("logging_enabled"))},pn=function(...a){if(!0===ni&&(ni=!1,null===bn&&!0===En.get("logging_enabled")&&Wn(!0)),bn){const i=_r.apply(null,a);bn(i)}},Yt=function(a){return function(...i){pn(a,...i)}},Rn=function(...a){const i="FIREBASE INTERNAL ERROR: "+_r(...a);ln.error(i)},wr=function(...a){const i=`FIREBASE FATAL ERROR: ${_r(...a)}`;throw ln.error(i),new Error(i)},On=function(...a){const i="FIREBASE WARNING: "+_r(...a);ln.warn(i)},rt=function(a){return"number"==typeof a&&(a!=a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},rn="[MIN_NAME]",vt="[MAX_NAME]",Jt=function(a,i){if(a===i)return 0;if(a===rn||i===vt)return-1;if(i===rn||a===vt)return 1;{const s=Cn(a),h=Cn(i);return null!==s?null!==h?s-h==0?a.length-i.length:s-h:-1:null!==h?1:a<i?-1:1}},jt=function(a,i){return a===i?0:a<i?-1:1},Tr=function(a,i){if(i&&a in i)return i[a];throw new Error("Missing required key ("+a+") in object: "+(0,Z.Pz)(i))},Fe=function(a){if("object"!=typeof a||null===a)return(0,Z.Pz)(a);const i=[];for(const h in a)i.push(h);i.sort();let s="{";for(let h=0;h<i.length;h++)0!==h&&(s+=","),s+=(0,Z.Pz)(i[h]),s+=":",s+=Fe(a[i[h]]);return s+="}",s},ce=function(a,i){const s=a.length;if(s<=i)return[a];const h=[];for(let v=0;v<s;v+=i)h.push(a.substring(v,v+i>s?s:v+i));return h};function he(a,i){for(const s in a)a.hasOwnProperty(s)&&i(s,a[s])}const Qe=function(a){(0,Z.hu)(!rt(a),"Invalid JSON number");const h=1023;let v,T,M,H,te;0===a?(T=0,M=0,v=1/a==-1/0?1:0):(v=a<0,(a=Math.abs(a))>=Math.pow(2,1-h)?(H=Math.min(Math.floor(Math.log(a)/Math.LN2),h),T=H+h,M=Math.round(a*Math.pow(2,52-H)-Math.pow(2,52))):(T=0,M=Math.round(a/Math.pow(2,-1074))));const pe=[];for(te=52;te;te-=1)pe.push(M%2?1:0),M=Math.floor(M/2);for(te=11;te;te-=1)pe.push(T%2?1:0),T=Math.floor(T/2);pe.push(v?1:0),pe.reverse();const We=pe.join("");let Pe="";for(te=0;te<64;te+=8){let tt=parseInt(We.substr(te,8),2).toString(16);1===tt.length&&(tt="0"+tt),Pe+=tt}return Pe.toLowerCase()},Ct=new RegExp("^-?(0*)\\d{1,10}$"),gn=-2147483648,tr=2147483647,Cn=function(a){if(Ct.test(a)){const i=Number(a);if(i>=gn&&i<=tr)return i}return null},Tt=function(a){try{a()}catch(i){setTimeout(()=>{throw On("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},hn=function(a,i){const s=setTimeout(a,i);return"object"==typeof s&&s.unref&&s.unref(),s};class ge{constructor(i,s){this.appName_=i,this.appCheckProvider=s,this.appCheck=null==s?void 0:s.getImmediate({optional:!0}),this.appCheck||null==s||s.get().then(h=>this.appCheck=h)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((s,h)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(s,h):s(null)},0)})}addTokenChangeListener(i){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(h=>h.addTokenListener(i))}notifyForInvalidToken(){On(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ae{constructor(i,s,h){this.appName_=i,this.firebaseOptions_=s,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(v=>this.auth_=v)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(s=>s&&"auth/token-not-initialized"===s.code?(pn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,h)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(s,h):s(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(s=>s.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(s=>s.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(i)}}let Ce=(()=>{class a{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return a.OWNER="owner",a})();const ir=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Pr="websocket",ri="long_polling";class Ts{constructor(i,s,h,v,T=!1,M="",H=!1){this.secure=s,this.namespace=h,this.webSocketOnly=v,this.nodeAdmin=T,this.persistenceKey=M,this.includeNamespaceInQueryParams=H,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zn.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Zn.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Us(a,i,s){let h;if((0,Z.hu)("string"==typeof i,"typeof type must == string"),(0,Z.hu)("object"==typeof s,"typeof params must == object"),i===Pr)h=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else{if(i!==ri)throw new Error("Unknown connection type: "+i);h=(a.secure?"https://":"http://")+a.internalHost+"/.lp?"}(function(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams})(a)&&(s.ns=a.namespace);const v=[];return he(s,(T,M)=>{v.push(T+"="+M)}),h+v.join("&")}class Qi{constructor(){this.counters_={}}incrementCounter(i,s=1){(0,Z.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=s}get(){return(0,Z.p$)(this.counters_)}}const Vi={},yr={};function vr(a){const i=a.toString();return Vi[i]||(Vi[i]=new Qi),Vi[i]}class Kr{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,s){this.closeAfterResponse=i,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,s){for(this.pendingResponses[i]=s;this.pendingResponses[this.currentResponseNum];){const h=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let v=0;v<h.length;++v)h[v]&&Tt(()=>{this.onMessage_(h[v])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ne{constructor(i,s,h,v,T,M,H){this.connId=i,this.repoInfo=s,this.applicationId=h,this.appCheckToken=v,this.authToken=T,this.transportSessionId=M,this.lastSessionId=H,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yt(i),this.stats_=vr(s),this.urlFn=te=>(this.appCheckToken&&(te.ac=this.appCheckToken),Us(s,ri,te))}open(i,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new Kr(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(a){if((0,Z.Yr)()||"complete"===document.readyState)a();else{let i=!1;const s=function(){document.body?i||(i=!0,a()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xe((...T)=>{const[M,H,te,pe,We]=T;if(this.incrementIncomingBytes_(T),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===M)this.id=H,this.password=te;else{if("close"!==M)throw new Error("Unrecognized command received: "+M);H?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(H,()=>{this.onClosed_()})):this.onClosed_()}},(...T)=>{const[M,H]=T;this.incrementIncomingBytes_(T),this.myPacketOrderer.handleResponse(M,H)},()=>{this.onClosed_()},this.urlFn);const h={start:"t"};h.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(h.cb=this.scriptTagHolder.uniqueCallbackIdentifier),h.v="5",this.transportSessionId&&(h.s=this.transportSessionId),this.lastSessionId&&(h.ls=this.lastSessionId),this.applicationId&&(h.p=this.applicationId),this.appCheckToken&&(h.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&ir.test(location.hostname)&&(h.r="f");const v=this.urlFn(h);this.log_("Connecting via long-poll to "+v),this.scriptTagHolder.addTag(v,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ne.forceAllow_=!0}static forceDisallow(){Ne.forceDisallow_=!0}static isAvailable(){return!((0,Z.Yr)()||!Ne.forceAllow_&&(Ne.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const s=(0,Z.Pz)(i);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const h=(0,Z.h$)(s),v=ce(h,1840);for(let T=0;T<v.length;T++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[T]),this.curSegmentNum++}addDisconnectPingFrame(i,s){if((0,Z.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const h={dframe:"t"};h.id=i,h.pw=s,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const s=(0,Z.Pz)(i).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Xe{constructor(i,s,h,v){if(this.onDisconnect=h,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Z.Yr)())this.commandCB=i,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=br(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=Xe.createIFrame_();let T="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(T='<script>document.domain="'+document.domain+'";<\/script>');const M="<html><body>"+T+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(M),this.myIFrame.doc.close()}catch(H){pn("frame writing exception"),H.stack&&pn(H.stack),pn(H)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||pn("No IE domain setting required")}catch(s){const h=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,s){for(this.myID=i,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let s=this.urlFn(i),h="",v=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){const M=this.pendingSegs.shift();h=h+"&seg"+v+"="+M.seg+"&ts"+v+"="+M.ts+"&d"+v+"="+M.d,v++}return s+=h,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(i,s,h){this.pendingSegs.push({seg:i,ts:s,d:h}),this.alive&&this.newRequest_()}addLongPollTag_(i,s){this.outstandingRequests.add(s);const h=()=>{this.outstandingRequests.delete(s),this.newRequest_()},v=setTimeout(h,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(v),h()})}addTag(i,s){(0,Z.Yr)()?this.doNodeLongPoll(i,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const h=this.myIFrame.doc.createElement("script");h.type="text/javascript",h.async=!0,h.src=i,h.onload=h.onreadystatechange=function(){const v=h.readyState;(!v||"loaded"===v||"complete"===v)&&(h.onload=h.onreadystatechange=null,h.parentNode&&h.parentNode.removeChild(h),s())},h.onerror=()=>{pn("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(h)}catch(h){}},Math.floor(1))}}let tn=null;"undefined"!=typeof MozWebSocket?tn=MozWebSocket:"undefined"!=typeof WebSocket&&(tn=WebSocket);let zt=(()=>{class a{constructor(s,h,v,T,M,H,te){this.connId=s,this.applicationId=v,this.appCheckToken=T,this.authToken=M,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yt(this.connId),this.stats_=vr(h),this.connURL=a.connectionURL_(h,H,te,T),this.nodeAdmin=h.nodeAdmin}static connectionURL_(s,h,v,T){const M={v:"5"};return!(0,Z.Yr)()&&"undefined"!=typeof location&&location.hostname&&ir.test(location.hostname)&&(M.r="f"),h&&(M.s=h),v&&(M.ls=v),T&&(M.ac=T),Us(s,Pr,M)}open(s,h){this.onDisconnect=h,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zn.set("previous_websocket_failure",!0);try{if((0,Z.Yr)()){const T={headers:{"User-Agent":`Firebase/5/${en}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(T.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(T.headers["X-Firebase-AppCheck"]=this.appCheckToken);const M=process.env,H=0===this.connURL.indexOf("wss://")?M.HTTPS_PROXY||M.https_proxy:M.HTTP_PROXY||M.http_proxy;H&&(T.proxy={origin:H}),this.mySock=new tn(this.connURL,[],T)}else this.mySock=new tn(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(v){this.log_("Error instantiating WebSocket.");const T=v.message||v.data;return T&&this.log_(T),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=v=>{this.handleIncomingFrame(v)},this.mySock.onerror=v=>{this.log_("WebSocket error.  Closing connection.");const T=v.message||v.data;T&&this.log_(T),this.onClosed_()}}start(){}static forceDisallow(){a.forceDisallow_=!0}static isAvailable(){let s=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const v=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);v&&v.length>1&&parseFloat(v[1])<4.4&&(s=!0)}return!s&&null!==tn&&!a.forceDisallow_}static previouslyFailed(){return Zn.isInMemoryStorage||!0===Zn.get("previous_websocket_failure")}markConnectionHealthy(){Zn.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const h=this.frames.join("");this.frames=null;const v=(0,Z.cI)(h);this.onMessage(v)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,Z.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const h=Number(s);if(!isNaN(h))return this.handleNewFrameCount_(h),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const h=s.data;if(this.bytesReceived+=h.length,this.stats_.incrementCounter("bytes_received",h.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(h);else{const v=this.extractFrameCount_(h);null!==v&&this.appendFrame_(v)}}send(s){this.resetKeepAlive();const h=(0,Z.Pz)(s);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const v=ce(h,16384);v.length>1&&this.sendString_(String(v.length));for(let T=0;T<v.length;T++)this.sendString_(v[T])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(h){this.log_("Exception thrown from WebSocket.send():",h.message||h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return a.responsesRequiredToBeHealthy=2,a.healthyTimeout=3e4,a})();class Bs{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[Ne,zt]}initTransports_(i){const s=zt&&zt.isAvailable();let h=s&&!zt.previouslyFailed();if(i.webSocketOnly&&(s||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),h=!0),h)this.transports_=[zt];else{const v=this.transports_=[];for(const T of Bs.ALL_TRANSPORTS)T&&T.isAvailable()&&v.push(T)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class di{constructor(i,s,h,v,T,M,H,te,pe,We){this.id=i,this.repoInfo_=s,this.applicationId_=h,this.appCheckToken_=v,this.authToken_=T,this.onMessage_=M,this.onReady_=H,this.onDisconnect_=te,this.onKill_=pe,this.lastSessionId=We,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yt("c:"+this.id+":"),this.transportManager_=new Bs(s),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),h=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,h)},Math.floor(0));const v=i.healthyTimeout||0;v>0&&(this.healthyTimeout_=hn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(v)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return s=>{i===this.conn_?this.onConnectionLost_(s):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return s=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(s):i===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const s=i.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const s=Tr("t",i),h=Tr("d",i);if("c"===s)this.onSecondaryControl_(h);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(h)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const s=Tr("t",i),h=Tr("d",i);"c"===s?this.onControl_(h):"d"===s&&this.onDataMessage_(h)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const s=Tr("t",i);if("d"in i){const h=i.d;if("h"===s)this.onHandshake_(h);else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(h):"r"===s?this.onReset_(h):"e"===s?Rn("Server Error: "+h):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rn("Unknown control packet command: "+s)}}onHandshake_(i){const s=i.ts,h=i.v,v=i.h;this.sessionId=i.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==h&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),h=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,h),hn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,s){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ss{put(i,s,h,v){}merge(i,s,h,v){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,s,h){}onDisconnectMerge(i,s,h){}onDisconnectCancel(i,s){}reportStats(i){}}class Go{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,Z.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...s){if(Array.isArray(this.listeners_[i])){const h=[...this.listeners_[i]];for(let v=0;v<h.length;v++)h[v].callback.apply(h[v].context,s)}}on(i,s,h){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:s,context:h});const v=this.getInitialEvent(i);v&&s.apply(h,v)}off(i,s,h){this.validateEventType_(i);const v=this.listeners_[i]||[];for(let T=0;T<v.length;T++)if(v[T].callback===s&&(!h||h===v[T].context))return void v.splice(T,1)}validateEventType_(i){(0,Z.hu)(this.allowedEvents_.find(s=>s===i),"Unknown event: "+i)}}class Ps extends Go{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,Z.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ps}getInitialEvent(i){return(0,Z.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class qn{constructor(i,s){if(void 0===s){this.pieces_=i.split("/");let h=0;for(let v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[h]=this.pieces_[v],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=s}toString(){let i="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(i+="/"+this.pieces_[s]);return i||"/"}}function wn(){return new qn("")}function Xt(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function vi(a){return a.pieces_.length-a.pieceNum_}function Hn(a){let i=a.pieceNum_;return i<a.pieces_.length&&i++,new qn(a.pieces_,i)}function uo(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function $s(a,i=0){return a.pieces_.slice(a.pieceNum_+i)}function Ko(a){if(a.pieceNum_>=a.pieces_.length)return null;const i=[];for(let s=a.pieceNum_;s<a.pieces_.length-1;s++)i.push(a.pieces_[s]);return new qn(i,0)}function hr(a,i){const s=[];for(let h=a.pieceNum_;h<a.pieces_.length;h++)s.push(a.pieces_[h]);if(i instanceof qn)for(let h=i.pieceNum_;h<i.pieces_.length;h++)s.push(i.pieces_[h]);else{const h=i.split("/");for(let v=0;v<h.length;v++)h[v].length>0&&s.push(h[v])}return new qn(s,0)}function mn(a){return a.pieceNum_>=a.pieces_.length}function Rr(a,i){const s=Xt(a),h=Xt(i);if(null===s)return i;if(s===h)return Rr(Hn(a),Hn(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+a+")")}function Zo(a,i){const s=$s(a,0),h=$s(i,0);for(let v=0;v<s.length&&v<h.length;v++){const T=Jt(s[v],h[v]);if(0!==T)return T}return s.length===h.length?0:s.length<h.length?-1:1}function Ms(a,i){if(vi(a)!==vi(i))return!1;for(let s=a.pieceNum_,h=i.pieceNum_;s<=a.pieces_.length;s++,h++)if(a.pieces_[s]!==i.pieces_[h])return!1;return!0}function Dr(a,i){let s=a.pieceNum_,h=i.pieceNum_;if(vi(a)>vi(i))return!1;for(;s<a.pieces_.length;){if(a.pieces_[s]!==i.pieces_[h])return!1;++s,++h}return!0}class Mo{constructor(i,s){this.errorPrefix_=s,this.parts_=$s(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let h=0;h<this.parts_.length;h++)this.byteLength_+=(0,Z.ug)(this.parts_[h]);ho(this)}}function ho(a){if(a.byteLength_>768)throw new Error(a.errorPrefix_+"has a key path longer than 768 bytes ("+a.byteLength_+").");if(a.parts_.length>32)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Vr(a))}function Vr(a){return 0===a.parts_.length?"":"in property '"+a.parts_.join(".")+"'"}class Ws extends Go{constructor(){let i,s;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(s="visibilitychange",i="hidden"):void 0!==document.mozHidden?(s="mozvisibilitychange",i="mozHidden"):void 0!==document.msHidden?(s="msvisibilitychange",i="msHidden"):void 0!==document.webkitHidden&&(s="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const h=!document[i];h!==this.visible_&&(this.visible_=h,this.trigger("visible",h))},!1)}static getInstance(){return new Ws}getInitialEvent(i){return(0,Z.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const us=1e3;let Ci,Mi=(()=>{class a extends Ss{constructor(s,h,v,T,M,H,te,pe){if(super(),this.repoInfo_=s,this.applicationId_=h,this.onDataUpdate_=v,this.onConnectStatus_=T,this.onServerInfoUpdate_=M,this.authTokenProvider_=H,this.appCheckTokenProvider_=te,this.authOverride_=pe,this.id=a.nextPersistentConnectionId_++,this.log_=Yt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=us,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,pe&&!(0,Z.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ws.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&Ps.getInstance().on("online",this.onOnline_,this)}sendRequest(s,h,v){const T=++this.requestNumber_,M={r:T,a:s,b:h};this.log_((0,Z.Pz)(M)),(0,Z.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(M),v&&(this.requestCBHash_[T]=v)}get(s){this.initConnection_();const h=new Z.BH,v={p:s._path.toString(),q:s._queryObject},T={action:"g",request:v,onComplete:H=>{const te=H.d;"ok"===H.s?(this.onDataUpdate_(v.p,te,!1,null),h.resolve(te)):h.reject(te)}};this.outstandingGets_.push(T),this.outstandingGetCount_++;const M=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const H=this.outstandingGets_[M];void 0===H||T!==H||(delete this.outstandingGets_[M],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+M+" timed out on connection"),h.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(M),h.promise}listen(s,h,v,T){this.initConnection_();const M=s._queryIdentifier,H=s._path.toString();this.log_("Listen called for "+H+" "+M),this.listens.has(H)||this.listens.set(H,new Map),(0,Z.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Z.hu)(!this.listens.get(H).has(M),"listen() called twice for same path/queryId.");const te={onComplete:T,hashFn:h,query:s,tag:v};this.listens.get(H).set(M,te),this.connected_&&this.sendListen_(te)}sendGet_(s){const h=this.outstandingGets_[s];this.sendRequest("g",h.request,v=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),h.onComplete&&h.onComplete(v)})}sendListen_(s){const h=s.query,v=h._path.toString(),T=h._queryIdentifier;this.log_("Listen on "+v+" for "+T);const M={p:v};s.tag&&(M.q=h._queryObject,M.t=s.tag),M.h=s.hashFn(),this.sendRequest("q",M,te=>{const pe=te.d,We=te.s;a.warnOnListenWarnings_(pe,h),(this.listens.get(v)&&this.listens.get(v).get(T))===s&&(this.log_("listen response",te),"ok"!==We&&this.removeListen_(v,T),s.onComplete&&s.onComplete(We,pe))})}static warnOnListenWarnings_(s,h){if(s&&"object"==typeof s&&(0,Z.r3)(s,"w")){const v=(0,Z.DV)(s,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){const T='".indexOn": "'+h._queryParams.getIndex().toString()+'"',M=h._path.toString();On(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${T} at ${M} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,Z.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,h=(0,Z.w9)(s)?"auth":"gauth",v={cred:s};null===this.authOverride_?v.noauth=!0:"object"==typeof this.authOverride_&&(v.authvar=this.authOverride_),this.sendRequest(h,v,T=>{const M=T.s,H=T.d||"error";this.authToken_===s&&("ok"===M?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(M,H))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const h=s.s,v=s.d||"error";"ok"===h?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(h,v)})}unlisten(s,h){const v=s._path.toString(),T=s._queryIdentifier;this.log_("Unlisten called for "+v+" "+T),(0,Z.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,T)&&this.connected_&&this.sendUnlisten_(v,T,s._queryObject,h)}sendUnlisten_(s,h,v,T){this.log_("Unlisten on "+s+" for "+h);const M={p:s};T&&(M.q=v,M.t=T),this.sendRequest("n",M)}onDisconnectPut(s,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,h,v):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:h,onComplete:v})}onDisconnectMerge(s,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,h,v):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:h,onComplete:v})}onDisconnectCancel(s,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,h):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:h})}sendOnDisconnect_(s,h,v,T){const M={p:h,d:v};this.log_("onDisconnect "+s,M),this.sendRequest(s,M,H=>{T&&setTimeout(()=>{T(H.s,H.d)},Math.floor(0))})}put(s,h,v,T){this.putInternal("p",s,h,v,T)}merge(s,h,v,T){this.putInternal("m",s,h,v,T)}putInternal(s,h,v,T,M){this.initConnection_();const H={p:h,d:v};void 0!==M&&(H.h=M),this.outstandingPuts_.push({action:s,request:H,onComplete:T}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)}sendPut_(s){const h=this.outstandingPuts_[s].action,v=this.outstandingPuts_[s].request,T=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(h,v,M=>{this.log_(h+" response",M),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),T&&T(M.s,M.d)})}reportStats(s){if(this.connected_){const h={c:s};this.log_("reportStats",h),this.sendRequest("s",h,v=>{"ok"!==v.s&&this.log_("reportStats","Error sending stats: "+v.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,Z.Pz)(s));const h=s.r,v=this.requestCBHash_[h];v&&(delete this.requestCBHash_[h],v(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,h){this.log_("handleServerMessage",s,h),"d"===s?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===s?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===s?this.onListenRevoked_(h.p,h.q):"ac"===s?this.onAuthRevoked_(h.s,h.d):"apc"===s?this.onAppCheckRevoked_(h.s,h.d):"sd"===s?this.onSecurityDebugPacket_(h):Rn("Unrecognized action received from server: "+(0,Z.Pz)(s)+"\nAre you using the latest client?")}onReady_(s,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,Z.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=us),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let h=Math.max(0,this.reconnectDelay_-s);h=Math.random()*h,this.log_("Trying to reconnect in "+h+"ms"),this.scheduleConnect_(h),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,dt.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const h=s.onDataMessage_.bind(s),v=s.onReady_.bind(s),T=s.onRealtimeDisconnect_.bind(s),M=s.id+":"+a.nextConnectionId_++,H=s.lastSessionId;let te=!1,pe=null;const We=function(){pe?pe.close():(te=!0,T())};s.realtime_={close:We,sendRequest:function(Ot){(0,Z.hu)(pe,"sendRequest call when we're not connected not allowed."),pe.sendRequest(Ot)}};const tt=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[Ot,kt]=yield Promise.all([s.authTokenProvider_.getToken(tt),s.appCheckTokenProvider_.getToken(tt)]);te?pn("getToken() completed but was canceled"):(pn("getToken() completed. Creating connection."),s.authToken_=Ot&&Ot.accessToken,s.appCheckToken_=kt&&kt.token,pe=new di(M,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,h,v,T,Xn=>{On(Xn+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},H))}catch(Ot){s.log_("Failed to get token: "+Ot),te||(s.repoInfo_.nodeAdmin&&On(Ot),We())}}})()}interrupt(s){pn("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){pn("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,Z.xb)(this.interruptReasons_)&&(this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const h=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const h=this.outstandingPuts_[s];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,h){let v;v=h?h.map(M=>Fe(M)).join("$"):"default";const T=this.removeListen_(s,v);T&&T.onComplete&&T.onComplete("permission_denied")}removeListen_(s,h){const v=new qn(s).toString();let T;if(this.listens.has(v)){const M=this.listens.get(v);T=M.get(h),M.delete(h),0===M.size&&this.listens.delete(v)}else T=void 0;return T}onAuthRevoked_(s,h){pn("Auth token revoked: "+s+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,h){pn("App check token revoked: "+s+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const h of s.values())this.sendListen_(h);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let h="js";(0,Z.Yr)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+h+"."+en.replace(/\./g,"-")]=1,(0,Z.uI)()?s["framework.cordova"]=1:(0,Z.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=Ps.getInstance().currentlyOnline();return(0,Z.xb)(this.interruptReasons_)&&s}}return a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a})();class _n{constructor(i,s){this.name=i,this.node=s}static Wrap(i,s){return new _n(i,s)}}class Ei{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,s){const h=new _n(rn,i),v=new _n(rn,s);return 0!==this.compare(h,v)}minPost(){return _n.MIN}}class Xi extends Ei{static get __EMPTY_NODE(){return Ci}static set __EMPTY_NODE(i){Ci=i}compare(i,s){return Jt(i.name,s.name)}isDefinedOn(i){throw(0,Z.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,s){return!1}minPost(){return _n.MIN}maxPost(){return new _n(vt,Ci)}makePost(i,s){return(0,Z.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new _n(i,Ci)}toString(){return".key"}}const es=new Xi;class O{constructor(i,s,h,v,T=null){this.isReverse_=v,this.resultGenerator_=T,this.nodeStack_=[];let M=1;for(;!i.isEmpty();)if(i=i,M=s?h(i.key,s):1,v&&(M*=-1),M<0)i=this.isReverse_?i.left:i.right;else{if(0===M){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,i=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let lt,W=(()=>{class a{constructor(s,h,v,T,M){this.key=s,this.value=h,this.color=null!=v?v:a.RED,this.left=null!=T?T:z.EMPTY_NODE,this.right=null!=M?M:z.EMPTY_NODE}copy(s,h,v,T,M){return new a(null!=s?s:this.key,null!=h?h:this.value,null!=v?v:this.color,null!=T?T:this.left,null!=M?M:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,h,v){let T=this;const M=v(s,T.key);return T=M<0?T.copy(null,null,null,T.left.insert(s,h,v),null):0===M?T.copy(null,h,null,null,null):T.copy(null,null,null,null,T.right.insert(s,h,v)),T.fixUp_()}removeMin_(){if(this.left.isEmpty())return z.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,h){let v,T;if(v=this,h(s,v.key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(s,h),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===h(s,v.key)){if(v.right.isEmpty())return z.EMPTY_NODE;T=v.right.min_(),v=v.copy(T.key,T.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(s,h))}return v.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,h)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return a.RED=!0,a.BLACK=!1,a})();class z{constructor(i,s=z.EMPTY_NODE){this.comparator_=i,this.root_=s}insert(i,s){return new z(this.comparator_,this.root_.insert(i,s,this.comparator_).copy(null,null,W.BLACK,null,null))}remove(i){return new z(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,W.BLACK,null,null))}get(i){let s,h=this.root_;for(;!h.isEmpty();){if(s=this.comparator_(i,h.key),0===s)return h.value;s<0?h=h.left:s>0&&(h=h.right)}return null}getPredecessorKey(i){let s,h=this.root_,v=null;for(;!h.isEmpty();){if(s=this.comparator_(i,h.key),0===s){if(h.left.isEmpty())return v?v.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}s<0?h=h.left:s>0&&(v=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new O(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,s){return new O(this.root_,i,this.comparator_,!1,s)}getReverseIteratorFrom(i,s){return new O(this.root_,i,this.comparator_,!0,s)}getReverseIterator(i){return new O(this.root_,null,this.comparator_,!0,i)}}function fe(a,i){return Jt(a.name,i.name)}function Ye(a,i){return Jt(a,i)}z.EMPTY_NODE=new class{copy(i,s,h,v,T){return this}insert(i,s,h){return new W(i,s,null)}remove(i,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ct=function(a){return"number"==typeof a?"number:"+Qe(a):"string:"+a},un=function(a){if(a.isLeafNode()){const i=a.val();(0,Z.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,Z.r3)(i,".sv"),"Priority must be a string or number.")}else(0,Z.hu)(a===lt||a.isEmpty(),"priority of unexpected type.");(0,Z.hu)(a===lt||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Pn,Nn,zn,$t=(()=>{class a{constructor(s,h=a.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=h,this.lazyHash_=null,(0,Z.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),un(this.priorityNode_)}static set __childrenNodeConstructor(s){Pn=s}static get __childrenNodeConstructor(){return Pn}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new a(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return mn(s)?this:".priority"===Xt(s)?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,h){return null}updateImmediateChild(s,h){return".priority"===s?this.updatePriority(h):h.isEmpty()&&".priority"!==s?this:a.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,h).updatePriority(this.priorityNode_)}updateChild(s,h){const v=Xt(s);return null===v?h:h.isEmpty()&&".priority"!==v?this:((0,Z.hu)(".priority"!==v||1===vi(s),".priority must be the last token in a path"),this.updateImmediateChild(v,a.__childrenNodeConstructor.EMPTY_NODE.updateChild(Hn(s),h)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,h){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+ct(this.priorityNode_.val())+":");const h=typeof this.value_;s+=h+":",s+="number"===h?Qe(this.value_):this.value_,this.lazyHash_=ti(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===a.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof a.__childrenNodeConstructor?-1:((0,Z.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const h=typeof s.value_,v=typeof this.value_,T=a.VALUE_TYPE_ORDER.indexOf(h),M=a.VALUE_TYPE_ORDER.indexOf(v);return(0,Z.hu)(T>=0,"Unknown leaf type: "+h),(0,Z.hu)(M>=0,"Unknown leaf type: "+v),T===M?"object"===v?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:M-T}withIndex(){return this}isIndexed(){return!0}equals(s){if(s===this)return!0;if(s.isLeafNode()){const h=s;return this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_)}return!1}}return a.VALUE_TYPE_ORDER=["object","boolean","number","string"],a})();const Tn=new class extends Ei{compare(i,s){const h=i.node.getPriority(),v=s.node.getPriority(),T=h.compareTo(v);return 0===T?Jt(i.name,s.name):T}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,s){return!i.getPriority().equals(s.getPriority())}minPost(){return _n.MIN}maxPost(){return new _n(vt,new $t("[PRIORITY-POST]",zn))}makePost(i,s){const h=Nn(i);return new _n(s,new $t("[PRIORITY-POST]",h))}toString(){return".priority"}},Ri=Math.log(2);class Kt{constructor(i){this.count=parseInt(Math.log(i+1)/Ri,10),this.current_=this.count-1;const v=(T=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&v}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const bi=function(a,i,s,h){a.sort(i);const v=function(te,pe){const We=pe-te;let Pe,tt;if(0===We)return null;if(1===We)return Pe=a[te],tt=s?s(Pe):Pe,new W(tt,Pe.node,W.BLACK,null,null);{const Ot=parseInt(We/2,10)+te,kt=v(te,Ot),Xn=v(Ot+1,pe);return Pe=a[Ot],tt=s?s(Pe):Pe,new W(tt,Pe.node,W.BLACK,kt,Xn)}},H=function(te){let pe=null,We=null,Pe=a.length;const tt=function(kt,Xn){const ei=Pe-kt,ml=Pe;Pe-=kt;const Na=v(ei+1,ml),kl=a[ei],Yi=s?s(kl):kl;Ot(new W(Yi,kl.node,Xn,null,Na))},Ot=function(kt){pe?(pe.left=kt,pe=kt):(We=kt,pe=kt)};for(let kt=0;kt<te.count;++kt){const Xn=te.nextBitIsOne(),ei=Math.pow(2,te.count-(kt+1));Xn?tt(ei,W.BLACK):(tt(ei,W.BLACK),tt(ei,W.RED))}return We}(new Kt(a.length));return new z(h||i,H)};let Jo;const Oi={};class zs{constructor(i,s){this.indexes_=i,this.indexSet_=s}static get Default(){return(0,Z.hu)(Oi&&Tn,"ChildrenNode.ts has not been loaded"),Jo=Jo||new zs({".priority":Oi},{".priority":Tn}),Jo}get(i){const s=(0,Z.DV)(this.indexes_,i);if(!s)throw new Error("No index defined for "+i);return s instanceof z?s:null}hasIndex(i){return(0,Z.r3)(this.indexSet_,i.toString())}addIndex(i,s){(0,Z.hu)(i!==es,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const h=[];let v=!1;const T=s.getIterator(_n.Wrap);let H,M=T.getNext();for(;M;)v=v||i.isDefinedOn(M.node),h.push(M),M=T.getNext();H=v?bi(h,i.getCompare()):Oi;const te=i.toString(),pe=Object.assign({},this.indexSet_);pe[te]=i;const We=Object.assign({},this.indexes_);return We[te]=H,new zs(We,pe)}addToIndexes(i,s){const h=(0,Z.UI)(this.indexes_,(v,T)=>{const M=(0,Z.DV)(this.indexSet_,T);if((0,Z.hu)(M,"Missing index implementation for "+T),v===Oi){if(M.isDefinedOn(i.node)){const H=[],te=s.getIterator(_n.Wrap);let pe=te.getNext();for(;pe;)pe.name!==i.name&&H.push(pe),pe=te.getNext();return H.push(i),bi(H,M.getCompare())}return Oi}{const H=s.get(i.name);let te=v;return H&&(te=te.remove(new _n(i.name,H))),te.insert(i,i.node)}});return new zs(h,this.indexSet_)}removeFromIndexes(i,s){const h=(0,Z.UI)(this.indexes_,v=>{if(v===Oi)return v;{const T=s.get(i.name);return T?v.remove(new _n(i.name,T)):v}});return new zs(h,this.indexSet_)}}let ds,qt=(()=>{class a{constructor(s,h,v){this.children_=s,this.priorityNode_=h,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&un(this.priorityNode_),this.children_.isEmpty()&&(0,Z.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ds||(ds=new a(new z(Ye),null,zs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ds}updatePriority(s){return this.children_.isEmpty()?this:new a(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const h=this.children_.get(s);return null===h?ds:h}}getChild(s){const h=Xt(s);return null===h?this:this.getImmediateChild(h).getChild(Hn(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,h){if((0,Z.hu)(h,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(h);{const v=new _n(s,h);let T,M;h.isEmpty()?(T=this.children_.remove(s),M=this.indexMap_.removeFromIndexes(v,this.children_)):(T=this.children_.insert(s,h),M=this.indexMap_.addToIndexes(v,this.children_));const H=T.isEmpty()?ds:this.priorityNode_;return new a(T,H,M)}}updateChild(s,h){const v=Xt(s);if(null===v)return h;{(0,Z.hu)(".priority"!==Xt(s)||1===vi(s),".priority must be the last token in a path");const T=this.getImmediateChild(v).updateChild(Hn(s),h);return this.updateImmediateChild(v,T)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const h={};let v=0,T=0,M=!0;if(this.forEachChild(Tn,(H,te)=>{h[H]=te.val(s),v++,M&&a.INTEGER_REGEXP_.test(H)?T=Math.max(T,Number(H)):M=!1}),!s&&M&&T<2*v){const H=[];for(const te in h)H[te]=h[te];return H}return s&&!this.getPriority().isEmpty()&&(h[".priority"]=this.getPriority().val()),h}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+ct(this.getPriority().val())+":"),this.forEachChild(Tn,(h,v)=>{const T=v.hash();""!==T&&(s+=":"+h+":"+T)}),this.lazyHash_=""===s?"":ti(s)}return this.lazyHash_}getPredecessorChildName(s,h,v){const T=this.resolveIndex_(v);if(T){const M=T.getPredecessorKey(new _n(s,h));return M?M.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const h=this.resolveIndex_(s);if(h){const v=h.minKey();return v&&v.name}return this.children_.minKey()}getFirstChild(s){const h=this.getFirstChildName(s);return h?new _n(h,this.children_.get(h)):null}getLastChildName(s){const h=this.resolveIndex_(s);if(h){const v=h.maxKey();return v&&v.name}return this.children_.maxKey()}getLastChild(s){const h=this.getLastChildName(s);return h?new _n(h,this.children_.get(h)):null}forEachChild(s,h){const v=this.resolveIndex_(s);return v?v.inorderTraversal(T=>h(T.name,T.node)):this.children_.inorderTraversal(h)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,h){const v=this.resolveIndex_(h);if(v)return v.getIteratorFrom(s,T=>T);{const T=this.children_.getIteratorFrom(s.name,_n.Wrap);let M=T.peek();for(;null!=M&&h.compare(M,s)<0;)T.getNext(),M=T.peek();return T}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,h){const v=this.resolveIndex_(h);if(v)return v.getReverseIteratorFrom(s,T=>T);{const T=this.children_.getReverseIteratorFrom(s.name,_n.Wrap);let M=T.peek();for(;null!=M&&h.compare(M,s)>0;)T.getNext(),M=T.peek();return T}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===it?-1:0}withIndex(s){if(s===es||this.indexMap_.hasIndex(s))return this;{const h=this.indexMap_.addIndex(s,this.children_);return new a(this.children_,this.priorityNode_,h)}}isIndexed(s){return s===es||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const h=s;if(this.getPriority().equals(h.getPriority())){if(this.children_.count()===h.children_.count()){const v=this.getIterator(Tn),T=h.getIterator(Tn);let M=v.getNext(),H=T.getNext();for(;M&&H;){if(M.name!==H.name||!M.node.equals(H.node))return!1;M=v.getNext(),H=T.getNext()}return null===M&&null===H}return!1}return!1}}resolveIndex_(s){return s===es?null:this.indexMap_.get(s.toString())}}return a.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,a})();const it=new class extends qt{constructor(){super(new z(Ye),qt.EMPTY_NODE,zs.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return qt.EMPTY_NODE}isEmpty(){return!1}};function pr(a,i=null){if(null===a)return qt.EMPTY_NODE;if("object"==typeof a&&".priority"in a&&(i=a[".priority"]),(0,Z.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new $t(a,pr(i));if(a instanceof Array){let s=qt.EMPTY_NODE;return he(a,(h,v)=>{if((0,Z.r3)(a,h)&&"."!==h.substring(0,1)){const T=pr(v);(T.isLeafNode()||!T.isEmpty())&&(s=s.updateImmediateChild(h,T))}}),s.updatePriority(pr(i))}{const s=[];let h=!1;if(he(a,(M,H)=>{if("."!==M.substring(0,1)){const te=pr(H);te.isEmpty()||(h=h||!te.getPriority().isEmpty(),s.push(new _n(M,te)))}}),0===s.length)return qt.EMPTY_NODE;const T=bi(s,fe,M=>M.name,Ye);if(h){const M=bi(s,Tn.getCompare());return new qt(T,pr(i),new zs({".priority":M},{".priority":Tn}))}return new qt(T,pr(i),zs.Default)}}Object.defineProperties(_n,{MIN:{value:new _n(rn,qt.EMPTY_NODE)},MAX:{value:new _n(vt,it)}}),Xi.__EMPTY_NODE=qt.EMPTY_NODE,$t.__childrenNodeConstructor=qt,lt=it,zn=it,function(a){Nn=a}(pr);class ar extends Ei{constructor(i){super(),this.indexPath_=i,(0,Z.hu)(!mn(i)&&".priority"!==Xt(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,s){const h=this.extractChild(i.node),v=this.extractChild(s.node),T=h.compareTo(v);return 0===T?Jt(i.name,s.name):T}makePost(i,s){const h=pr(i),v=qt.EMPTY_NODE.updateChild(this.indexPath_,h);return new _n(s,v)}maxPost(){const i=qt.EMPTY_NODE.updateChild(this.indexPath_,it);return new _n(vt,i)}toString(){return $s(this.indexPath_,0).join("/")}}const ts=new class extends Ei{compare(i,s){const h=i.node.compareTo(s.node);return 0===h?Jt(i.name,s.name):h}isDefinedOn(i){return!0}indexedValueChanged(i,s){return!i.equals(s)}minPost(){return _n.MIN}maxPost(){return _n.MAX}makePost(i,s){const h=pr(i);return new _n(s,h)}toString(){return".value"}},zr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fa=function(){let a=0;const i=[];return function(s){const h=s===a;let v;a=s;const T=new Array(8);for(v=7;v>=0;v--)T[v]=zr.charAt(s%64),s=Math.floor(s/64);(0,Z.hu)(0===s,"Cannot push at time == 0");let M=T.join("");if(h){for(v=11;v>=0&&63===i[v];v--)i[v]=0;i[v]++}else for(v=0;v<12;v++)i[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)M+=zr.charAt(i[v]);return(0,Z.hu)(20===M.length,"nextPushId: Length should be 20."),M}}(),Ro=function(a){if(a===""+tr)return"-";const i=Cn(a);if(null!=i)return""+(i+1);const s=new Array(a.length);for(let M=0;M<s.length;M++)s[M]=a.charAt(M);if(s.length<786)return s.push("-"),s.join("");let h=s.length-1;for(;h>=0&&"z"===s[h];)h--;if(-1===h)return vt;const T=zr.charAt(zr.indexOf(s[h])+1);return s[h]=T,s.slice(0,h+1).join("")},Ks=function(a){if(a===""+gn)return rn;const i=Cn(a);if(null!=i)return""+(i-1);const s=new Array(a.length);for(let h=0;h<s.length;h++)s[h]=a.charAt(h);return"-"===s[s.length-1]?1===s.length?""+tr:(delete s[s.length-1],s.join("")):(s[s.length-1]=zr.charAt(zr.indexOf(s[s.length-1])-1),s.join("")+"z".repeat(786-s.length))};function Nr(a){return{type:"value",snapshotNode:a}}function hi(a,i){return{type:"child_added",snapshotNode:i,childName:a}}function go(a,i){return{type:"child_removed",snapshotNode:i,childName:a}}function ii(a,i,s){return{type:"child_changed",snapshotNode:i,childName:a,oldSnap:s}}class mo{constructor(i){this.index_=i}updateChild(i,s,h,v,T,M){(0,Z.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const H=i.getImmediateChild(s);return H.getChild(v).equals(h.getChild(v))&&H.isEmpty()===h.isEmpty()||(null!=M&&(h.isEmpty()?i.hasChild(s)?M.trackChildChange(go(s,H)):(0,Z.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):H.isEmpty()?M.trackChildChange(hi(s,h)):M.trackChildChange(ii(s,h,H))),i.isLeafNode()&&h.isEmpty())?i:i.updateImmediateChild(s,h).withIndex(this.index_)}updateFullNode(i,s,h){return null!=h&&(i.isLeafNode()||i.forEachChild(Tn,(v,T)=>{s.hasChild(v)||h.trackChildChange(go(v,T))}),s.isLeafNode()||s.forEachChild(Tn,(v,T)=>{if(i.hasChild(v)){const M=i.getImmediateChild(v);M.equals(T)||h.trackChildChange(ii(v,T,M))}else h.trackChildChange(hi(v,T))})),s.withIndex(this.index_)}updatePriority(i,s){return i.isEmpty()?qt.EMPTY_NODE:i.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class fs{constructor(i){this.indexedFilter_=new mo(i.getIndex()),this.index_=i.getIndex(),this.startPost_=fs.getStartPost_(i),this.endPost_=fs.getEndPost_(i)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0}updateChild(i,s,h,v,T,M){return this.matches(new _n(s,h))||(h=qt.EMPTY_NODE),this.indexedFilter_.updateChild(i,s,h,v,T,M)}updateFullNode(i,s,h){s.isLeafNode()&&(s=qt.EMPTY_NODE);let v=s.withIndex(this.index_);v=v.updatePriority(qt.EMPTY_NODE);const T=this;return s.forEachChild(Tn,(M,H)=>{T.matches(new _n(M,H))||(v=v.updateImmediateChild(M,qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,v,h)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const s=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),s)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const s=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),s)}return i.getIndex().maxPost()}}class Rs{constructor(i){this.rangedFilter_=new fs(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}updateChild(i,s,h,v,T,M){return this.rangedFilter_.matches(new _n(s,h))||(h=qt.EMPTY_NODE),i.getImmediateChild(s).equals(h)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,s,h,v,T,M):this.fullLimitUpdateChild_(i,s,h,T,M)}updateFullNode(i,s,h){let v;if(s.isLeafNode()||s.isEmpty())v=qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let T;v=qt.EMPTY_NODE.withIndex(this.index_),T=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let M=0;for(;T.hasNext()&&M<this.limit_;){const H=T.getNext();let te;if(te=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),H)<=0:this.index_.compare(H,this.rangedFilter_.getEndPost())<=0,!te)break;v=v.updateImmediateChild(H.name,H.node),M++}}else{let T,M,H,te;if(v=s.withIndex(this.index_),v=v.updatePriority(qt.EMPTY_NODE),this.reverse_){te=v.getReverseIterator(this.index_),T=this.rangedFilter_.getEndPost(),M=this.rangedFilter_.getStartPost();const Pe=this.index_.getCompare();H=(tt,Ot)=>Pe(Ot,tt)}else te=v.getIterator(this.index_),T=this.rangedFilter_.getStartPost(),M=this.rangedFilter_.getEndPost(),H=this.index_.getCompare();let pe=0,We=!1;for(;te.hasNext();){const Pe=te.getNext();!We&&H(T,Pe)<=0&&(We=!0),We&&pe<this.limit_&&H(Pe,M)<=0?pe++:v=v.updateImmediateChild(Pe.name,qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,v,h)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,s,h,v,T){let M;if(this.reverse_){const Pe=this.index_.getCompare();M=(tt,Ot)=>Pe(Ot,tt)}else M=this.index_.getCompare();const H=i;(0,Z.hu)(H.numChildren()===this.limit_,"");const te=new _n(s,h),pe=this.reverse_?H.getFirstChild(this.index_):H.getLastChild(this.index_),We=this.rangedFilter_.matches(te);if(H.hasChild(s)){const Pe=H.getImmediateChild(s);let tt=v.getChildAfterChild(this.index_,pe,this.reverse_);for(;null!=tt&&(tt.name===s||H.hasChild(tt.name));)tt=v.getChildAfterChild(this.index_,tt,this.reverse_);const Ot=null==tt?1:M(tt,te);if(We&&!h.isEmpty()&&Ot>=0)return null!=T&&T.trackChildChange(ii(s,h,Pe)),H.updateImmediateChild(s,h);{null!=T&&T.trackChildChange(go(s,Pe));const Xn=H.updateImmediateChild(s,qt.EMPTY_NODE);return null!=tt&&this.rangedFilter_.matches(tt)?(null!=T&&T.trackChildChange(hi(tt.name,tt.node)),Xn.updateImmediateChild(tt.name,tt.node)):Xn}}return h.isEmpty()?i:We&&M(pe,te)>=0?(null!=T&&(T.trackChildChange(go(pe.name,pe.node)),T.trackChildChange(hi(s,h))),H.updateImmediateChild(s,h).updateImmediateChild(pe.name,qt.EMPTY_NODE)):i}}class _o{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Z.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Z.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Z.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Z.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Z.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tn}copy(){const i=new _o;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Ys(a,i,s){const h=a.copy();return h.startSet_=!0,void 0===i&&(i=null),h.indexStartValue_=i,null!=s?(h.startNameSet_=!0,h.indexStartName_=s):(h.startNameSet_=!1,h.indexStartName_=""),h}function Xo(a,i,s){const h=a.copy();return h.endSet_=!0,void 0===i&&(i=null),h.indexEndValue_=i,void 0!==s?(h.endNameSet_=!0,h.indexEndName_=s):(h.endNameSet_=!1,h.indexEndName_=""),h}function fi(a,i){const s=a.copy();return s.index_=i,s}function rs(a){const i={};if(a.isDefault())return i;let s;return a.index_===Tn?s="$priority":a.index_===ts?s="$value":a.index_===es?s="$key":((0,Z.hu)(a.index_ instanceof ar,"Unrecognized index type!"),s=a.index_.toString()),i.orderBy=(0,Z.Pz)(s),a.startSet_&&(i.startAt=(0,Z.Pz)(a.indexStartValue_),a.startNameSet_&&(i.startAt+=","+(0,Z.Pz)(a.indexStartName_))),a.endSet_&&(i.endAt=(0,Z.Pz)(a.indexEndValue_),a.endNameSet_&&(i.endAt+=","+(0,Z.Pz)(a.indexEndName_))),a.limitSet_&&(a.isViewFromLeft()?i.limitToFirst=a.limit_:i.limitToLast=a.limit_),i}function Oo(a){const i={};if(a.startSet_&&(i.sp=a.indexStartValue_,a.startNameSet_&&(i.sn=a.indexStartName_)),a.endSet_&&(i.ep=a.indexEndValue_,a.endNameSet_&&(i.en=a.indexEndName_)),a.limitSet_){i.l=a.limit_;let s=a.viewFrom_;""===s&&(s=a.isViewFromLeft()?"l":"r"),i.vf=s}return a.index_!==Tn&&(i.i=a.index_.toString()),i}class ps extends Ss{constructor(i,s,h,v){super(),this.repoInfo_=i,this.onDataUpdate_=s,this.authTokenProvider_=h,this.appCheckTokenProvider_=v,this.log_=Yt("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,s){return void 0!==s?"tag$"+s:((0,Z.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,s,h,v){const T=i._path.toString();this.log_("Listen called for "+T+" "+i._queryIdentifier);const M=ps.getListenId_(i,h),H={};this.listens_[M]=H;const te=rs(i._queryParams);this.restRequest_(T+".json",te,(pe,We)=>{let Pe=We;if(404===pe&&(Pe=null,pe=null),null===pe&&this.onDataUpdate_(T,Pe,!1,h),(0,Z.DV)(this.listens_,M)===H){let tt;tt=pe?401===pe?"permission_denied":"rest_error:"+pe:"ok",v(tt,null)}})}unlisten(i,s){const h=ps.getListenId_(i,s);delete this.listens_[h]}get(i){const s=rs(i._queryParams),h=i._path.toString(),v=new Z.BH;return this.restRequest_(h+".json",s,(T,M)=>{let H=M;404===T&&(H=null,T=null),null===T?(this.onDataUpdate_(h,H,!1,null),v.resolve(H)):v.reject(new Error(H))}),v.promise}refreshAuthToken(i){}restRequest_(i,s={},h){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([v,T])=>{v&&v.accessToken&&(s.auth=v.accessToken),T&&T.token&&(s.ac=T.token);const M=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,Z.xO)(s);this.log_("Sending REST request for "+M);const H=new XMLHttpRequest;H.onreadystatechange=()=>{if(h&&4===H.readyState){this.log_("REST Response for "+M+" received. status:",H.status,"response:",H.responseText);let te=null;if(H.status>=200&&H.status<300){try{te=(0,Z.cI)(H.responseText)}catch(pe){On("Failed to parse JSON response for "+M+": "+H.responseText)}h(null,te)}else 401!==H.status&&404!==H.status&&On("Got unsuccessful REST response for "+M+" Status: "+H.status),h(H.status);h=null}},H.open("GET",M,!0),H.send()})}}class Os{constructor(){this.rootNode_=qt.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,s){this.rootNode_=this.rootNode_.updateChild(i,s)}}function Ca(){return{value:null,children:new Map}}function gs(a,i,s){if(mn(i))a.value=s,a.children.clear();else if(null!==a.value)a.value=a.value.updateChild(i,s);else{const h=Xt(i);a.children.has(h)||a.children.set(h,Ca()),gs(a.children.get(h),i=Hn(i),s)}}function Ar(a,i){if(mn(i))return a.value=null,a.children.clear(),!0;if(null!==a.value){if(a.value.isLeafNode())return!1;{const s=a.value;return a.value=null,s.forEachChild(Tn,(h,v)=>{gs(a,new qn(h),v)}),Ar(a,i)}}if(a.children.size>0){const s=Xt(i);return i=Hn(i),a.children.has(s)&&Ar(a.children.get(s),i)&&a.children.delete(s),0===a.children.size}return!0}function Ns(a,i,s){null!==a.value?s(i,a.value):function(a,i){a.children.forEach((s,h)=>{i(h,s)})}(a,(h,v)=>{Ns(v,new qn(i.toString()+"/"+h),s)})}class Xa{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),s=Object.assign({},i);return this.last_&&he(this.last_,(h,v)=>{s[h]=s[h]-v}),this.last_=i,s}}class ba{constructor(i,s){this.server_=s,this.statsToReport_={},this.statsListener_=new Xa(i);const h=1e4+2e4*Math.random();hn(this.reportStats_.bind(this),Math.floor(h))}reportStats_(){const i=this.statsListener_.get(),s={};let h=!1;he(i,(v,T)=>{T>0&&(0,Z.r3)(this.statsToReport_,v)&&(s[v]=T,h=!0)}),h&&this.server_.reportStats(s),hn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ur=(()=>(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ur||(Ur={})),Ur))();function No(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class rr{constructor(i,s,h){this.path=i,this.affectedTree=s,this.revert=h,this.type=Ur.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(mn(this.path)){if(null!=this.affectedTree.value)return(0,Z.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new qn(i));return new rr(wn(),s,this.revert)}}return(0,Z.hu)(Xt(this.path)===i,"operationForChild called for unrelated child."),new rr(Hn(this.path),this.affectedTree,this.revert)}}class xs{constructor(i,s){this.source=i,this.path=s,this.type=Ur.LISTEN_COMPLETE}operationForChild(i){return mn(this.path)?new xs(this.source,wn()):new xs(this.source,Hn(this.path))}}class Qs{constructor(i,s,h){this.source=i,this.path=s,this.snap=h,this.type=Ur.OVERWRITE}operationForChild(i){return mn(this.path)?new Qs(this.source,wn(),this.snap.getImmediateChild(i)):new Qs(this.source,Hn(this.path),this.snap)}}class wi{constructor(i,s,h){this.source=i,this.path=s,this.children=h,this.type=Ur.MERGE}operationForChild(i){if(mn(this.path)){const s=this.children.subtree(new qn(i));return s.isEmpty()?null:s.value?new Qs(this.source,wn(),s.value):new wi(this.source,wn(),s)}return(0,Z.hu)(Xt(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new wi(this.source,Hn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ii{constructor(i,s,h){this.node_=i,this.fullyInitialized_=s,this.filtered_=h}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(mn(i))return this.isFullyInitialized()&&!this.filtered_;const s=Xt(i);return this.isCompleteForChild(s)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class ea{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function _s(a,i,s,h,v,T){const M=h.filter(H=>H.type===s);M.sort((H,te)=>function(a,i,s){if(null==i.childName||null==s.childName)throw(0,Z.g5)("Should only compare child_ events.");const h=new _n(i.childName,i.snapshotNode),v=new _n(s.childName,s.snapshotNode);return a.index_.compare(h,v)}(a,H,te)),M.forEach(H=>{const te=function(a,i,s){return"value"===i.type||"child_removed"===i.type||(i.prevName=s.getPredecessorChildName(i.childName,i.snapshotNode,a.index_)),i}(a,H,T);v.forEach(pe=>{pe.respondsTo(H.type)&&i.push(pe.createEvent(te,a.query_))})})}function La(a,i){return{eventCache:a,serverCache:i}}function Va(a,i,s,h){return La(new Ii(i,s,h),a.serverCache)}function pi(a,i,s,h){return La(a.eventCache,new Ii(i,s,h))}function ta(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Hi(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let na;class Qn{constructor(i,s=(()=>(na||(na=new z(jt)),na))()){this.value=i,this.children=s}static fromObject(i){let s=new Qn(null);return he(i,(h,v)=>{s=s.set(new qn(h),v)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,s){if(null!=this.value&&s(this.value))return{path:wn(),value:this.value};if(mn(i))return null;{const h=Xt(i),v=this.children.get(h);if(null!==v){const T=v.findRootMostMatchingPathAndValue(Hn(i),s);return null!=T?{path:hr(new qn(h),T.path),value:T.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(mn(i))return this;{const s=Xt(i),h=this.children.get(s);return null!==h?h.subtree(Hn(i)):new Qn(null)}}set(i,s){if(mn(i))return new Qn(s,this.children);{const h=Xt(i),T=(this.children.get(h)||new Qn(null)).set(Hn(i),s),M=this.children.insert(h,T);return new Qn(this.value,M)}}remove(i){if(mn(i))return this.children.isEmpty()?new Qn(null):new Qn(null,this.children);{const s=Xt(i),h=this.children.get(s);if(h){const v=h.remove(Hn(i));let T;return T=v.isEmpty()?this.children.remove(s):this.children.insert(s,v),null===this.value&&T.isEmpty()?new Qn(null):new Qn(this.value,T)}return this}}get(i){if(mn(i))return this.value;{const s=Xt(i),h=this.children.get(s);return h?h.get(Hn(i)):null}}setTree(i,s){if(mn(i))return s;{const h=Xt(i),T=(this.children.get(h)||new Qn(null)).setTree(Hn(i),s);let M;return M=T.isEmpty()?this.children.remove(h):this.children.insert(h,T),new Qn(this.value,M)}}fold(i){return this.fold_(wn(),i)}fold_(i,s){const h={};return this.children.inorderTraversal((v,T)=>{h[v]=T.fold_(hr(i,v),s)}),s(i,this.value,h)}findOnPath(i,s){return this.findOnPath_(i,wn(),s)}findOnPath_(i,s,h){const v=!!this.value&&h(s,this.value);if(v)return v;if(mn(i))return null;{const T=Xt(i),M=this.children.get(T);return M?M.findOnPath_(Hn(i),hr(s,T),h):null}}foreachOnPath(i,s){return this.foreachOnPath_(i,wn(),s)}foreachOnPath_(i,s,h){if(mn(i))return this;{this.value&&h(s,this.value);const v=Xt(i),T=this.children.get(v);return T?T.foreachOnPath_(Hn(i),hr(s,v),h):new Qn(null)}}foreach(i){this.foreach_(wn(),i)}foreach_(i,s){this.children.inorderTraversal((h,v)=>{v.foreach_(hr(i,h),s)}),this.value&&s(i,this.value)}foreachChild(i){this.children.inorderTraversal((s,h)=>{h.value&&i(s,h.value)})}}class ys{constructor(i){this.writeTree_=i}static empty(){return new ys(new Qn(null))}}function vs(a,i,s){if(mn(i))return new ys(new Qn(s));{const h=a.writeTree_.findRootMostValueAndPath(i);if(null!=h){const v=h.path;let T=h.value;const M=Rr(v,i);return T=T.updateChild(M,s),new ys(a.writeTree_.set(v,T))}{const v=new Qn(s),T=a.writeTree_.setTree(i,v);return new ys(T)}}}function wa(a,i,s){let h=a;return he(s,(v,T)=>{h=vs(h,hr(i,v),T)}),h}function oi(a,i){if(mn(i))return ys.empty();{const s=a.writeTree_.setTree(i,new Qn(null));return new ys(s)}}function Eo(a,i){return null!=Ni(a,i)}function Ni(a,i){const s=a.writeTree_.findRootMostValueAndPath(i);return null!=s?a.writeTree_.get(s.path).getChild(Rr(s.path,i)):null}function vl(a){const i=[],s=a.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(Tn,(h,v)=>{i.push(new _n(h,v))}):a.writeTree_.children.inorderTraversal((h,v)=>{null!=v.value&&i.push(new _n(h,v.value))}),i}function is(a,i){if(mn(i))return a;{const s=Ni(a,i);return new ys(null!=s?new Qn(s):a.writeTree_.subtree(i))}}function Ia(a){return a.writeTree_.isEmpty()}function A(a,i){return I(wn(),a.writeTree_,i)}function I(a,i,s){if(null!=i.value)return s.updateChild(a,i.value);{let h=null;return i.children.inorderTraversal((v,T)=>{".priority"===v?((0,Z.hu)(null!==T.value,"Priority writes must always be leaf nodes"),h=T.value):s=I(hr(a,v),T,s)}),!s.getChild(a).isEmpty()&&null!==h&&(s=s.updateChild(hr(a,".priority"),h)),s}}function b(a,i){return Es(i,a)}function we(a,i){if(a.snap)return Dr(a.path,i);for(const s in a.children)if(a.children.hasOwnProperty(s)&&Dr(hr(a.path,s),i))return!0;return!1}function It(a){return a.visible}function xn(a,i,s){let h=ys.empty();for(let v=0;v<a.length;++v){const T=a[v];if(i(T)){const M=T.path;let H;if(T.snap)Dr(s,M)?(H=Rr(s,M),h=vs(h,H,T.snap)):Dr(M,s)&&(H=Rr(M,s),h=vs(h,wn(),T.snap.getChild(H)));else{if(!T.children)throw(0,Z.g5)("WriteRecord should have .snap or .children");if(Dr(s,M))H=Rr(s,M),h=wa(h,H,T.children);else if(Dr(M,s))if(H=Rr(M,s),mn(H))h=wa(h,wn(),T.children);else{const te=(0,Z.DV)(T.children,Xt(H));if(te){const pe=te.getChild(Hn(H));h=vs(h,wn(),pe)}}}}}return h}function Mt(a,i,s,h,v){if(h||v){const T=is(a.visibleWrites,i);return!v&&Ia(T)?s:v||null!=s||Eo(T,wn())?A(xn(a.allWrites,function(pe){return(pe.visible||v)&&(!h||!~h.indexOf(pe.writeId))&&(Dr(pe.path,i)||Dr(i,pe.path))},i),s||qt.EMPTY_NODE):null}{const T=Ni(a.visibleWrites,i);if(null!=T)return T;{const M=is(a.visibleWrites,i);return Ia(M)?s:null!=s||Eo(M,wn())?A(M,s||qt.EMPTY_NODE):null}}}function xi(a,i,s,h){return Mt(a.writeTree,a.treePath,i,s,h)}function qr(a,i){return function(a,i,s){let h=qt.EMPTY_NODE;const v=Ni(a.visibleWrites,i);if(v)return v.isLeafNode()||v.forEachChild(Tn,(T,M)=>{h=h.updateImmediateChild(T,M)}),h;if(s){const T=is(a.visibleWrites,i);return s.forEachChild(Tn,(M,H)=>{const te=A(is(T,new qn(M)),H);h=h.updateImmediateChild(M,te)}),vl(T).forEach(M=>{h=h.updateImmediateChild(M.name,M.node)}),h}return vl(is(a.visibleWrites,i)).forEach(M=>{h=h.updateImmediateChild(M.name,M.node)}),h}(a.writeTree,a.treePath,i)}function xo(a,i,s,h){return function(a,i,s,h,v){(0,Z.hu)(h||v,"Either existingEventSnap or existingServerSnap must exist");const T=hr(i,s);if(Eo(a.visibleWrites,T))return null;{const M=is(a.visibleWrites,T);return Ia(M)?v.getChild(s):A(M,v.getChild(s))}}(a.writeTree,a.treePath,i,s,h)}function ia(a,i){return function(a,i){return Ni(a.visibleWrites,i)}(a.writeTree,hr(a.treePath,i))}function eo(a,i,s){return function(a,i,s,h){const v=hr(i,s),T=Ni(a.visibleWrites,v);return null!=T?T:h.isCompleteForChild(s)?A(is(a.visibleWrites,v),h.getNode().getImmediateChild(s)):null}(a.writeTree,a.treePath,i,s)}function sa(a,i){return Es(hr(a.treePath,i),a.writeTree)}function Es(a,i){return{treePath:a,writeTree:i}}class el{constructor(){this.changeMap=new Map}trackChildChange(i){const s=i.type,h=i.childName;(0,Z.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,Z.hu)(".priority"!==h,"Only non-priority child changes can be tracked.");const v=this.changeMap.get(h);if(v){const T=v.type;if("child_added"===s&&"child_removed"===T)this.changeMap.set(h,ii(h,i.snapshotNode,v.snapshotNode));else if("child_removed"===s&&"child_added"===T)this.changeMap.delete(h);else if("child_removed"===s&&"child_changed"===T)this.changeMap.set(h,go(h,v.oldSnap));else if("child_changed"===s&&"child_added"===T)this.changeMap.set(h,hi(h,i.snapshotNode));else{if("child_changed"!==s||"child_changed"!==T)throw(0,Z.g5)("Illegal combination of changes: "+i+" occurred after "+v);this.changeMap.set(h,ii(h,i.snapshotNode,v.oldSnap))}}else this.changeMap.set(h,i)}getChanges(){return Array.from(this.changeMap.values())}}const to=new class{getCompleteChild(i){return null}getChildAfterChild(i,s,h){return null}};class tl{constructor(i,s,h=null){this.writes_=i,this.viewCache_=s,this.optCompleteServerCache_=h}getCompleteChild(i){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(i))return s.getNode().getImmediateChild(i);{const h=null!=this.optCompleteServerCache_?new Ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return eo(this.writes_,i,h)}}getChildAfterChild(i,s,h){const v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Hi(this.viewCache_),T=function(a,i,s,h,v,T){return function(a,i,s,h,v,T,M){let H;const te=is(a.visibleWrites,i),pe=Ni(te,wn());if(null!=pe)H=pe;else{if(null==s)return[];H=A(te,s)}if(H=H.withIndex(M),H.isEmpty()||H.isLeafNode())return[];{const We=[],Pe=M.getCompare(),tt=T?H.getReverseIteratorFrom(h,M):H.getIteratorFrom(h,M);let Ot=tt.getNext();for(;Ot&&We.length<v;)0!==Pe(Ot,h)&&We.push(Ot),Ot=tt.getNext();return We}}(a.writeTree,a.treePath,i,s,h,v,T)}(this.writes_,v,s,1,h,i);return 0===T.length?null:T[0]}}function mr(a,i,s,h,v,T){const M=i.eventCache;if(null!=ia(h,s))return i;{let H,te;if(mn(s))if((0,Z.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const pe=Hi(i),Pe=qr(h,pe instanceof qt?pe:qt.EMPTY_NODE);H=a.filter.updateFullNode(i.eventCache.getNode(),Pe,T)}else{const pe=xi(h,Hi(i));H=a.filter.updateFullNode(i.eventCache.getNode(),pe,T)}else{const pe=Xt(s);if(".priority"===pe){(0,Z.hu)(1===vi(s),"Can't have a priority with additional path components");const We=M.getNode();te=i.serverCache.getNode();const Pe=xo(h,s,We,te);H=null!=Pe?a.filter.updatePriority(We,Pe):M.getNode()}else{const We=Hn(s);let Pe;if(M.isCompleteForChild(pe)){te=i.serverCache.getNode();const tt=xo(h,s,M.getNode(),te);Pe=null!=tt?M.getNode().getImmediateChild(pe).updateChild(We,tt):M.getNode().getImmediateChild(pe)}else Pe=eo(h,pe,i.serverCache);H=null!=Pe?a.filter.updateChild(M.getNode(),pe,Pe,We,v,T):M.getNode()}}return Va(i,H,M.isFullyInitialized()||mn(s),a.filter.filtersNodes())}}function Ua(a,i,s,h,v,T,M,H){const te=i.serverCache;let pe;const We=M?a.filter:a.filter.getIndexedFilter();if(mn(s))pe=We.updateFullNode(te.getNode(),h,null);else if(We.filtersNodes()&&!te.isFiltered()){const Ot=te.getNode().updateChild(s,h);pe=We.updateFullNode(te.getNode(),Ot,null)}else{const Ot=Xt(s);if(!te.isCompleteForPath(s)&&vi(s)>1)return i;const kt=Hn(s),ei=te.getNode().getImmediateChild(Ot).updateChild(kt,h);pe=".priority"===Ot?We.updatePriority(te.getNode(),ei):We.updateChild(te.getNode(),Ot,ei,kt,to,null)}const Pe=pi(i,pe,te.isFullyInitialized()||mn(s),We.filtersNodes());return mr(a,Pe,s,v,new tl(v,Pe,T),H)}function nl(a,i,s,h,v,T,M){const H=i.eventCache;let te,pe;const We=new tl(v,i,T);if(mn(s))pe=a.filter.updateFullNode(i.eventCache.getNode(),h,M),te=Va(i,pe,!0,a.filter.filtersNodes());else{const Pe=Xt(s);if(".priority"===Pe)pe=a.filter.updatePriority(i.eventCache.getNode(),h),te=Va(i,pe,H.isFullyInitialized(),H.isFiltered());else{const tt=Hn(s),Ot=H.getNode().getImmediateChild(Pe);let kt;if(mn(tt))kt=h;else{const Xn=We.getCompleteChild(Pe);kt=null!=Xn?".priority"===uo(tt)&&Xn.getChild(Ko(tt)).isEmpty()?Xn:Xn.updateChild(tt,h):qt.EMPTY_NODE}te=Ot.equals(kt)?i:Va(i,a.filter.updateChild(H.getNode(),Pe,kt,tt,We,M),H.isFullyInitialized(),a.filter.filtersNodes())}}return te}function $l(a,i){return a.eventCache.isCompleteForChild(i)}function rl(a,i,s){return s.foreach((h,v)=>{i=i.updateChild(h,v)}),i}function il(a,i,s,h,v,T,M,H){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let pe,te=i;pe=mn(s)?h:new Qn(null).setTree(s,h);const We=i.serverCache.getNode();return pe.children.inorderTraversal((Pe,tt)=>{if(We.hasChild(Pe)){const kt=rl(0,i.serverCache.getNode().getImmediateChild(Pe),tt);te=Ua(a,te,new qn(Pe),kt,v,T,M,H)}}),pe.children.inorderTraversal((Pe,tt)=>{const Ot=!i.serverCache.isCompleteForChild(Pe)&&void 0===tt.value;if(!We.hasChild(Pe)&&!Ot){const Xn=rl(0,i.serverCache.getNode().getImmediateChild(Pe),tt);te=Ua(a,te,new qn(Pe),Xn,v,T,M,H)}}),te}class Cc{constructor(i,s){this.query_=i,this.eventRegistrations_=[];const h=this.query_._queryParams,v=new mo(h.getIndex()),T=function(a){return a.loadsAllData()?new mo(a.getIndex()):a.hasLimit()?new Rs(a):new fs(a)}(h);this.processor_=function(a){return{filter:a}}(T);const M=s.serverCache,H=s.eventCache,te=v.updateFullNode(qt.EMPTY_NODE,M.getNode(),null),pe=T.updateFullNode(qt.EMPTY_NODE,H.getNode(),null),We=new Ii(te,M.isFullyInitialized(),v.filtersNodes()),Pe=new Ii(pe,H.isFullyInitialized(),T.filtersNodes());this.viewCache_=La(Pe,We),this.eventGenerator_=new ea(this.query_)}get query(){return this.query_}}function Cs(a,i){const s=Hi(a.viewCache_);return s&&(a.query._queryParams.loadsAllData()||!mn(i)&&!s.getImmediateChild(Xt(i)).isEmpty())?s.getChild(i):null}function Cr(a){return 0===a.eventRegistrations_.length}function Ta(a,i,s){const h=[];if(s){(0,Z.hu)(null==i,"A cancel should cancel all event registrations.");const v=a.query._path;a.eventRegistrations_.forEach(T=>{const M=T.createCancelEvent(s,v);M&&h.push(M)})}if(i){let v=[];for(let T=0;T<a.eventRegistrations_.length;++T){const M=a.eventRegistrations_[T];if(M.matches(i)){if(i.hasAnyCallback()){v=v.concat(a.eventRegistrations_.slice(T+1));break}}else v.push(M)}a.eventRegistrations_=v}else a.eventRegistrations_=[];return h}function Wc(a,i,s,h){i.type===Ur.MERGE&&null!==i.source.queryId&&((0,Z.hu)(Hi(a.viewCache_),"We should always have a full cache before handling merges"),(0,Z.hu)(ta(a.viewCache_),"Missing event cache, even though we have a server cache"));const v=a.viewCache_,T=function(a,i,s,h,v){const T=new el;let M,H;if(s.type===Ur.OVERWRITE){const pe=s;pe.source.fromUser?M=nl(a,i,pe.path,pe.snap,h,v,T):((0,Z.hu)(pe.source.fromServer,"Unknown source."),H=pe.source.tagged||i.serverCache.isFiltered()&&!mn(pe.path),M=Ua(a,i,pe.path,pe.snap,h,v,H,T))}else if(s.type===Ur.MERGE){const pe=s;pe.source.fromUser?M=function(a,i,s,h,v,T,M){let H=i;return h.foreach((te,pe)=>{const We=hr(s,te);$l(i,Xt(We))&&(H=nl(a,H,We,pe,v,T,M))}),h.foreach((te,pe)=>{const We=hr(s,te);$l(i,Xt(We))||(H=nl(a,H,We,pe,v,T,M))}),H}(a,i,pe.path,pe.children,h,v,T):((0,Z.hu)(pe.source.fromServer,"Unknown source."),H=pe.source.tagged||i.serverCache.isFiltered(),M=il(a,i,pe.path,pe.children,h,v,H,T))}else if(s.type===Ur.ACK_USER_WRITE){const pe=s;M=pe.revert?function(a,i,s,h,v,T){let M;if(null!=ia(h,s))return i;{const H=new tl(h,i,v),te=i.eventCache.getNode();let pe;if(mn(s)||".priority"===Xt(s)){let We;if(i.serverCache.isFullyInitialized())We=xi(h,Hi(i));else{const Pe=i.serverCache.getNode();(0,Z.hu)(Pe instanceof qt,"serverChildren would be complete if leaf node"),We=qr(h,Pe)}We=We,pe=a.filter.updateFullNode(te,We,T)}else{const We=Xt(s);let Pe=eo(h,We,i.serverCache);null==Pe&&i.serverCache.isCompleteForChild(We)&&(Pe=te.getImmediateChild(We)),pe=null!=Pe?a.filter.updateChild(te,We,Pe,Hn(s),H,T):i.eventCache.getNode().hasChild(We)?a.filter.updateChild(te,We,qt.EMPTY_NODE,Hn(s),H,T):te,pe.isEmpty()&&i.serverCache.isFullyInitialized()&&(M=xi(h,Hi(i)),M.isLeafNode()&&(pe=a.filter.updateFullNode(pe,M,T)))}return M=i.serverCache.isFullyInitialized()||null!=ia(h,wn()),Va(i,pe,M,a.filter.filtersNodes())}}(a,i,pe.path,h,v,T):function(a,i,s,h,v,T,M){if(null!=ia(v,s))return i;const H=i.serverCache.isFiltered(),te=i.serverCache;if(null!=h.value){if(mn(s)&&te.isFullyInitialized()||te.isCompleteForPath(s))return Ua(a,i,s,te.getNode().getChild(s),v,T,H,M);if(mn(s)){let pe=new Qn(null);return te.getNode().forEachChild(es,(We,Pe)=>{pe=pe.set(new qn(We),Pe)}),il(a,i,s,pe,v,T,H,M)}return i}{let pe=new Qn(null);return h.foreach((We,Pe)=>{const tt=hr(s,We);te.isCompleteForPath(tt)&&(pe=pe.set(We,te.getNode().getChild(tt)))}),il(a,i,s,pe,v,T,H,M)}}(a,i,pe.path,pe.affectedTree,h,v,T)}else{if(s.type!==Ur.LISTEN_COMPLETE)throw(0,Z.g5)("Unknown operation type: "+s.type);M=function(a,i,s,h,v){const T=i.serverCache;return mr(a,pi(i,T.getNode(),T.isFullyInitialized()||mn(s),T.isFiltered()),s,h,to,v)}(a,i,s.path,h,T)}const te=T.getChanges();return function(a,i,s){const h=i.eventCache;if(h.isFullyInitialized()){const v=h.getNode().isLeafNode()||h.getNode().isEmpty(),T=ta(a);(s.length>0||!a.eventCache.isFullyInitialized()||v&&!h.getNode().equals(T)||!h.getNode().getPriority().equals(T.getPriority()))&&s.push(Nr(ta(i)))}}(i,M,te),{viewCache:M,changes:te}}(a.processor_,v,i,s,h);return function(a,i){(0,Z.hu)(i.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,Z.hu)(i.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}(a.processor_,T.viewCache),(0,Z.hu)(T.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=T.viewCache,Wi(a,T.changes,T.viewCache.eventCache.getNode(),null)}function Wi(a,i,s,h){return function(a,i,s,h){const v=[],T=[];return i.forEach(M=>{"child_changed"===M.type&&a.index_.indexedValueChanged(M.oldSnap,M.snapshotNode)&&T.push(function(a,i){return{type:"child_moved",snapshotNode:i,childName:a}}(M.childName,M.snapshotNode))}),_s(a,v,"child_removed",i,h,s),_s(a,v,"child_added",i,h,s),_s(a,v,"child_moved",T,h,s),_s(a,v,"child_changed",i,h,s),_s(a,v,"value",i,h,s),v}(a.eventGenerator_,i,s,h?[h]:a.eventRegistrations_)}let ki,S;class Ha{constructor(){this.views=new Map}}function bl(a,i,s,h){const v=i.source.queryId;if(null!==v){const T=a.views.get(v);return(0,Z.hu)(null!=T,"SyncTree gave us an op for an invalid query."),Wc(T,i,s,h)}{let T=[];for(const M of a.views.values())T=T.concat(Wc(M,i,s,h));return T}}function Fo(a,i,s,h,v){const M=a.views.get(i._queryIdentifier);if(!M){let H=xi(s,v?h:null),te=!1;H?te=!0:h instanceof qt?(H=qr(s,h),te=!1):(H=qt.EMPTY_NODE,te=!1);const pe=La(new Ii(H,te,!1),new Ii(h,v,!1));return new Cc(i,pe)}return M}function wl(a){const i=[];for(const s of a.views.values())s.query._queryParams.loadsAllData()||i.push(s);return i}function Qr(a,i){let s=null;for(const h of a.views.values())s=s||Cs(h,i);return s}function Aa(a,i){return i._queryParams.loadsAllData()?Wa(a):a.views.get(i._queryIdentifier)}function Sa(a,i){return null!=Aa(a,i)}function bo(a){return null!=Wa(a)}function Wa(a){for(const i of a.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let le=1;class xe{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Qn(null),this.pendingWriteTree_={visibleWrites:ys.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ke(a,i,s,h,v){return function(a,i,s,h,v){(0,Z.hu)(h>a.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),a.allWrites.push({path:i,snap:s,writeId:h,visible:v}),v&&(a.visibleWrites=vs(a.visibleWrites,i,s)),a.lastWriteId=h}(a.pendingWriteTree_,i,s,h,v),v?zi(a,new Qs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,s)):[]}function Dt(a,i,s=!1){const h=function(a,i){for(let s=0;s<a.allWrites.length;s++){const h=a.allWrites[s];if(h.writeId===i)return h}return null}(a.pendingWriteTree_,i);if(function(a,i){const s=a.allWrites.findIndex(H=>H.writeId===i);(0,Z.hu)(s>=0,"removeWrite called with nonexistent writeId.");const h=a.allWrites[s];a.allWrites.splice(s,1);let v=h.visible,T=!1,M=a.allWrites.length-1;for(;v&&M>=0;){const H=a.allWrites[M];H.visible&&(M>=s&&we(H,h.path)?v=!1:Dr(h.path,H.path)&&(T=!0)),M--}return!!v&&(T?(function(a){a.visibleWrites=xn(a.allWrites,It,wn()),a.lastWriteId=a.allWrites.length>0?a.allWrites[a.allWrites.length-1].writeId:-1}(a),!0):(h.snap?a.visibleWrites=oi(a.visibleWrites,h.path):he(h.children,te=>{a.visibleWrites=oi(a.visibleWrites,hr(h.path,te))}),!0))}(a.pendingWriteTree_,i)){let T=new Qn(null);return null!=h.snap?T=T.set(wn(),!0):he(h.children,M=>{T=T.set(new qn(M),!0)}),zi(a,new rr(h.path,T,s))}return[]}function St(a,i,s){return zi(a,new Qs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,s))}function Gi(a,i,s,h){const v=i._path,T=a.syncPointTree_.get(v);let M=[];if(T&&("default"===i._queryIdentifier||Sa(T,i))){const H=function(a,i,s,h){const v=i._queryIdentifier,T=[];let M=[];const H=bo(a);if("default"===v)for(const[te,pe]of a.views.entries())M=M.concat(Ta(pe,s,h)),Cr(pe)&&(a.views.delete(te),pe.query._queryParams.loadsAllData()||T.push(pe.query));else{const te=a.views.get(v);te&&(M=M.concat(Ta(te,s,h)),Cr(te)&&(a.views.delete(v),te.query._queryParams.loadsAllData()||T.push(te.query)))}return H&&!bo(a)&&T.push(new((0,Z.hu)(ki,"Reference.ts has not been loaded"),ki)(i._repo,i._path)),{removed:T,events:M}}(T,i,s,h);(function(a){return 0===a.views.size})(T)&&(a.syncPointTree_=a.syncPointTree_.remove(v));const te=H.removed;M=H.events;const pe=-1!==te.findIndex(Pe=>Pe._queryParams.loadsAllData()),We=a.syncPointTree_.findOnPath(v,(Pe,tt)=>bo(tt));if(pe&&!We){const Pe=a.syncPointTree_.subtree(v);if(!Pe.isEmpty()){const tt=function(a){return a.fold((i,s,h)=>{if(s&&bo(s))return[Wa(s)];{let v=[];return s&&(v=wl(s)),he(h,(T,M)=>{v=v.concat(M)}),v}})}(Pe);for(let Ot=0;Ot<tt.length;++Ot){const kt=tt[Ot],Xn=kt.query,ei=ai(a,kt);a.listenProvider_.startListening(Il(Xn),Ga(a,Xn),ei.hashFn,ei.onComplete)}}}if(!We&&te.length>0&&!h)if(pe){const Pe=null;a.listenProvider_.stopListening(Il(i),Pe)}else te.forEach(Pe=>{const tt=a.queryToTagMap.get(Ic(Pe));a.listenProvider_.stopListening(Il(Pe),tt)});!function(a,i){for(let s=0;s<i.length;++s){const h=i[s];if(!h._queryParams.loadsAllData()){const v=Ic(h),T=a.queryToTagMap.get(v);a.queryToTagMap.delete(v),a.tagToQueryMap.delete(T)}}}(a,te)}return M}function Pa(a,i,s){const h=i._path;let v=null,T=!1;a.syncPointTree_.foreachOnPath(h,(Pe,tt)=>{const Ot=Rr(Pe,h);v=v||Qr(tt,Ot),T=T||bo(tt)});let H,M=a.syncPointTree_.get(h);M?(T=T||bo(M),v=v||Qr(M,wn())):(M=new Ha,a.syncPointTree_=a.syncPointTree_.set(h,M)),null!=v?H=!0:(H=!1,v=qt.EMPTY_NODE,a.syncPointTree_.subtree(h).foreachChild((tt,Ot)=>{const kt=Qr(Ot,wn());kt&&(v=v.updateImmediateChild(tt,kt))}));const te=Sa(M,i);if(!te&&!i._queryParams.loadsAllData()){const Pe=Ic(i);(0,Z.hu)(!a.queryToTagMap.has(Pe),"View does not exist, but we have a tag");const tt=le++;a.queryToTagMap.set(Pe,tt),a.tagToQueryMap.set(tt,Pe)}let We=function(a,i,s,h,v,T){const M=Fo(a,i,h,v,T);return a.views.has(i._queryIdentifier)||a.views.set(i._queryIdentifier,M),function(a,i){a.eventRegistrations_.push(i)}(M,s),function(a,i){const s=a.viewCache_.eventCache,h=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Tn,(T,M)=>{h.push(hi(T,M))}),s.isFullyInitialized()&&h.push(Nr(s.getNode())),Wi(a,h,s.getNode(),i)}(M,s)}(M,i,s,b(a.pendingWriteTree_,h),v,H);if(!te&&!T){const Pe=Aa(M,i);We=We.concat(function(a,i,s){const h=i._path,v=Ga(a,i),T=ai(a,s),M=a.listenProvider_.startListening(Il(i),v,T.hashFn,T.onComplete),H=a.syncPointTree_.subtree(h);if(v)(0,Z.hu)(!bo(H.value),"If we're adding a query, it shouldn't be shadowed");else{const te=H.fold((pe,We,Pe)=>{if(!mn(pe)&&We&&bo(We))return[Wa(We).query];{let tt=[];return We&&(tt=tt.concat(wl(We).map(Ot=>Ot.query))),he(Pe,(Ot,kt)=>{tt=tt.concat(kt)}),tt}});for(let pe=0;pe<te.length;++pe){const We=te[pe];a.listenProvider_.stopListening(Il(We),Ga(a,We))}}return M}(a,i,Pe))}return We}function oa(a,i,s){const v=a.pendingWriteTree_,T=a.syncPointTree_.findOnPath(i,(M,H)=>{const pe=Qr(H,Rr(M,i));if(pe)return pe});return Mt(v,i,T,s,!0)}function zi(a,i){return io(i,a.syncPointTree_,null,b(a.pendingWriteTree_,wn()))}function io(a,i,s,h){if(mn(a.path))return wc(a,i,s,h);{const v=i.get(wn());null==s&&null!=v&&(s=Qr(v,wn()));let T=[];const M=Xt(a.path),H=a.operationForChild(M),te=i.children.get(M);if(te&&H){const pe=s?s.getImmediateChild(M):null,We=sa(h,M);T=T.concat(io(H,te,pe,We))}return v&&(T=T.concat(bl(v,a,h,s))),T}}function wc(a,i,s,h){const v=i.get(wn());null==s&&null!=v&&(s=Qr(v,wn()));let T=[];return i.children.inorderTraversal((M,H)=>{const te=s?s.getImmediateChild(M):null,pe=sa(h,M),We=a.operationForChild(M);We&&(T=T.concat(wc(We,H,te,pe)))}),v&&(T=T.concat(bl(v,a,h,s))),T}function ai(a,i){const s=i.query,h=Ga(a,s);return{hashFn:()=>(function(a){return a.viewCache_.serverCache.getNode()}(i)||qt.EMPTY_NODE).hash(),onComplete:v=>{if("ok"===v)return h?function(a,i,s){const h=wo(a,s);if(h){const v=aa(h),T=v.path,M=v.queryId,H=Rr(T,i);return Gl(a,T,new xs(No(M),H))}return[]}(a,s._path,h):function(a,i){return zi(a,new xs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(a,s._path);{const T=function(a,i){let s="Unknown Error";"too_big"===a?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===a?s="Client doesn't have permission to access the desired data.":"unavailable"===a&&(s="The service is unavailable");const h=new Error(a+" at "+i._path.toString()+": "+s);return h.code=a.toUpperCase(),h}(v,s);return Gi(a,s,null,T)}}}}function Ga(a,i){const s=Ic(i);return a.queryToTagMap.get(s)}function Ic(a){return a._path.toString()+"$"+a._queryIdentifier}function wo(a,i){return a.tagToQueryMap.get(i)}function aa(a){const i=a.indexOf("$");return(0,Z.hu)(-1!==i&&i<a.length-1,"Bad queryKey."),{queryId:a.substr(i+1),path:new qn(a.substr(0,i))}}function Gl(a,i,s){const h=a.syncPointTree_.get(i);return(0,Z.hu)(h,"Missing sync point for query tag that we're tracking"),bl(h,s,b(a.pendingWriteTree_,i),null)}function Il(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new((0,Z.hu)(S,"Reference.ts has not been loaded"),S)(a._repo,a._path):a}class Dl{constructor(i){this.node_=i}getImmediateChild(i){const s=this.node_.getImmediateChild(i);return new Dl(s)}node(){return this.node_}}class Io{constructor(i,s){this.syncTree_=i,this.path_=s}getImmediateChild(i){const s=hr(this.path_,i);return new Io(this.syncTree_,s)}node(){return oa(this.syncTree_,this.path_)}}const Dc=function(a,i,s){return a&&"object"==typeof a?((0,Z.hu)(".sv"in a,"Unexpected leaf node or priority contents"),"string"==typeof a[".sv"]?Tl(a[".sv"],i,s):"object"==typeof a[".sv"]?Kl(a[".sv"],i):void(0,Z.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2))):a},Tl=function(a,i,s){switch(a){case"timestamp":return s.timestamp;default:(0,Z.hu)(!1,"Unexpected server value: "+a)}},Kl=function(a,i,s){a.hasOwnProperty("increment")||(0,Z.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const h=a.increment;"number"!=typeof h&&(0,Z.hu)(!1,"Unexpected increment value: "+h);const v=i.node();if((0,Z.hu)(null!=v,"Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return h;const M=v.getValue();return"number"!=typeof M?h:M+h},Tc=function(a,i,s,h){return du(i,new Io(s,a),h)},Zl=function(a,i,s){return du(a,new Dl(i),s)};function du(a,i,s){const h=a.getPriority().val(),v=Dc(h,i.getImmediateChild(".priority"),s);let T;if(a.isLeafNode()){const M=a,H=Dc(M.getValue(),i,s);return H!==M.getValue()||v!==M.getPriority().val()?new $t(H,pr(v)):a}{const M=a;return T=M,v!==M.getPriority().val()&&(T=T.updatePriority(new $t(v))),M.forEachChild(Tn,(H,te)=>{const pe=du(te,i.getImmediateChild(H),s);pe!==te&&(T=T.updateImmediateChild(H,pe))}),T}}class bs{constructor(i="",s=null,h={children:{},childCount:0}){this.name=i,this.parent=s,this.node=h}}function Lo(a,i){let s=i instanceof qn?i:new qn(i),h=a,v=Xt(s);for(;null!==v;){const T=(0,Z.DV)(h.node.children,v)||{children:{},childCount:0};h=new bs(v,h,T),s=Hn(s),v=Xt(s)}return h}function Vo(a){return a.node.value}function Al(a,i){a.node.value=i,ll(a)}function Yl(a){return a.node.childCount>0}function Ac(a,i){he(a.node.children,(s,h)=>{i(new bs(s,a,h))})}function al(a,i,s,h){s&&!h&&i(a),Ac(a,v=>{al(v,i,!0,h)}),s&&h&&i(a)}function ql(a){return new qn(null===a.parent?a.name:ql(a.parent)+"/"+a.name)}function ll(a){null!==a.parent&&function(a,i,s){const h=function(a){return void 0===Vo(a)&&!Yl(a)}(s),v=(0,Z.r3)(a.node.children,i);h&&v?(delete a.node.children[i],a.node.childCount--,ll(a)):!h&&!v&&(a.node.children[i]=s.node,a.node.childCount++,ll(a))}(a.parent,a.name,a)}const Sl=/[\[\].#$\/\u0000-\u001F\u007F]/,ku=/[\[\].#$\u0000-\u001F\u007F]/,zc=10485760,Jl=function(a){return"string"==typeof a&&0!==a.length&&!Sl.test(a)},Xl=function(a){return"string"==typeof a&&0!==a.length&&!ku.test(a)},cl=function(a){return null===a||"string"==typeof a||"number"==typeof a&&!rt(a)||a&&"object"==typeof a&&(0,Z.r3)(a,".sv")},Uo=function(a,i,s,h){h&&void 0===i||Ra((0,Z.gK)(a,"value"),i,s)},Ra=function(a,i,s){const h=s instanceof qn?new Mo(s,a):s;if(void 0===i)throw new Error(a+"contains undefined "+Vr(h));if("function"==typeof i)throw new Error(a+"contains a function "+Vr(h)+" with contents = "+i.toString());if(rt(i))throw new Error(a+"contains "+i.toString()+" "+Vr(h));if("string"==typeof i&&i.length>zc/3&&(0,Z.ug)(i)>zc)throw new Error(a+"contains a string greater than "+zc+" utf8 bytes "+Vr(h)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let v=!1,T=!1;if(he(i,(M,H)=>{if(".value"===M)v=!0;else if(".priority"!==M&&".sv"!==M&&(T=!0,!Jl(M)))throw new Error(a+" contains an invalid key ("+M+") "+Vr(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(a,i){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(i),a.byteLength_+=(0,Z.ug)(i),ho(a)})(h,M),Ra(a,H,h),function(a){const i=a.parts_.pop();a.byteLength_-=(0,Z.ug)(i),a.parts_.length>0&&(a.byteLength_-=1)}(h)}),v&&T)throw new Error(a+' contains ".value" child '+Vr(h)+" in addition to actual children.")}},pu=function(a,i,s,h){if(h&&void 0===i)return;const v=(0,Z.gK)(a,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(v+" must be an object containing the children to replace.");const T=[];he(i,(M,H)=>{const te=new qn(M);if(Ra(v,H,hr(s,te)),".priority"===uo(te)&&!cl(H))throw new Error(v+"contains an invalid value for '"+te.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");T.push(te)}),function(a,i){let s,h;for(s=0;s<i.length;s++){h=i[s];const T=$s(h);for(let M=0;M<T.length;M++)if((".priority"!==T[M]||M!==T.length-1)&&!Jl(T[M]))throw new Error(a+"contains an invalid key ("+T[M]+") in path "+h.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(Zo);let v=null;for(s=0;s<i.length;s++){if(h=i[s],null!==v&&Dr(v,h))throw new Error(a+"contains a path "+v.toString()+" that is ancestor of another path "+h.toString());v=h}}(v,T)},Zc=function(a,i,s){if(!s||void 0!==i){if(rt(i))throw new Error((0,Z.gK)(a,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cl(i))throw new Error((0,Z.gK)(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ec=function(a,i,s,h){if(!(h&&void 0===s||Jl(s)))throw new Error((0,Z.gK)(a,i)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},tc=function(a,i,s,h){if(!(h&&void 0===s||Xl(s)))throw new Error((0,Z.gK)(a,i)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xr=function(a,i){if(".info"===Xt(i))throw new Error(a+" failed = Can't modify data under /.info/")},dl=function(a,i){const s=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Jl(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==s.length&&!function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Xl(a)}(s))throw new Error((0,Z.gK)(a,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Sc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pc(a,i){let s=null;for(let h=0;h<i.length;h++){const v=i[h],T=v.getPath();null!==s&&!Ms(T,s.path)&&(a.eventLists_.push(s),s=null),null===s&&(s={events:[],path:T}),s.events.push(v)}s&&a.eventLists_.push(s)}function Yc(a,i,s){Pc(a,s),gu(a,h=>Ms(h,i))}function Do(a,i,s){Pc(a,s),gu(a,h=>Dr(h,i)||Dr(i,h))}function gu(a,i){a.recursionDepth_++;let s=!0;for(let h=0;h<a.eventLists_.length;h++){const v=a.eventLists_[h];v&&(i(v.path)?(ud(a.eventLists_[h]),a.eventLists_[h]=null):s=!1)}s&&(a.eventLists_=[]),a.recursionDepth_--}function ud(a){for(let i=0;i<a.events.length;i++){const s=a.events[i];if(null!==s){a.events[i]=null;const h=s.getEventRunner();bn&&pn("event: "+s.toString()),Tt(h)}}}const Mc="repo_interrupt";class Vu{constructor(i,s,h,v){this.repoInfo_=i,this.forceRestClient_=s,this.authTokenProvider_=h,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Sc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ca(),this.transactionQueueTree_=new bs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mu(a){const s=a.infoData_.getNode(new qn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function Pl(a){return function(a){return(a=a||{}).timestamp=a.timestamp||(new Date).getTime(),a}({timestamp:mu(a)})}function _u(a,i,s,h,v){a.dataUpdateCount++;const T=new qn(i);s=a.interceptServerDataCallback_?a.interceptServerDataCallback_(i,s):s;let M=[];if(v)if(h){const te=(0,Z.UI)(s,pe=>pr(pe));M=function(a,i,s,h){const v=wo(a,h);if(v){const T=aa(v),M=T.path,H=T.queryId,te=Rr(M,i),pe=Qn.fromObject(s);return Gl(a,M,new wi(No(H),te,pe))}return[]}(a.serverSyncTree_,T,te,v)}else{const te=pr(s);M=function(a,i,s,h){const v=wo(a,h);if(null!=v){const T=aa(v),M=T.path,H=T.queryId,te=Rr(M,i);return Gl(a,M,new Qs(No(H),te,s))}return[]}(a.serverSyncTree_,T,te,v)}else if(h){const te=(0,Z.UI)(s,pe=>pr(pe));M=function(a,i,s){const h=Qn.fromObject(s);return zi(a,new wi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,h))}(a.serverSyncTree_,T,te)}else{const te=pr(s);M=St(a.serverSyncTree_,T,te)}let H=T;M.length>0&&(H=fl(a,T)),Do(a.eventQueue_,H,M)}function za(a,i){so(a,"connected",i),!1===i&&function(a){Ml(a,"onDisconnectEvents");const i=Pl(a),s=Ca();Ns(a.onDisconnect_,wn(),(v,T)=>{const M=Tc(v,T,a.serverSyncTree_,i);gs(s,v,M)});let h=[];Ns(s,wn(),(v,T)=>{h=h.concat(St(a.serverSyncTree_,v,T));const M=rc(a,v);fl(a,M)}),a.onDisconnect_=Ca(),Do(a.eventQueue_,wn(),h)}(a)}function so(a,i,s){const h=new qn("/.info/"+i),v=pr(s);a.infoData_.updateSnapshot(h,v);const T=St(a.infoSyncTree_,h,v);Do(a.eventQueue_,h,T)}function Ka(a){return a.nextWriteId_++}function Oc(a,i,s,h,v){Ml(a,"set",{path:i.toString(),value:s,priority:h});const T=Pl(a),M=pr(s,h),H=oa(a.serverSyncTree_,i),te=Zl(M,H,T),pe=Ka(a),We=Ke(a.serverSyncTree_,i,te,pe,!0);Pc(a.eventQueue_,We),a.server_.put(i.toString(),M.val(!0),(tt,Ot)=>{const kt="ok"===tt;kt||On("set at "+i+" failed: "+tt);const Xn=Dt(a.serverSyncTree_,pe,!kt);Do(a.eventQueue_,i,Xn),la(0,v,tt,Ot)});const Pe=rc(a,i);fl(a,Pe),Do(a.eventQueue_,Pe,[])}function dd(a,i,s){a.server_.onDisconnectCancel(i.toString(),(h,v)=>{"ok"===h&&Ar(a.onDisconnect_,i),la(0,s,h,v)})}function ju(a,i,s,h){const v=pr(s);a.server_.onDisconnectPut(i.toString(),v.val(!0),(T,M)=>{"ok"===T&&gs(a.onDisconnect_,i,v),la(0,h,T,M)})}function Jc(a,i,s){let h;h=".info"===Xt(i._path)?Gi(a.infoSyncTree_,i,s):Gi(a.serverSyncTree_,i,s),Yc(a.eventQueue_,i._path,h)}function Hu(a){a.persistentConnection_&&a.persistentConnection_.interrupt(Mc)}function Ml(a,...i){let s="";a.persistentConnection_&&(s=a.persistentConnection_.id+":"),pn(s,...i)}function la(a,i,s,h){i&&Tt(()=>{if("ok"===s)i(null);else{const v=(s||"error").toUpperCase();let T=v;h&&(T+=": "+h);const M=new Error(T);M.code=v,i(M)}})}function eu(a,i,s){return oa(a.serverSyncTree_,i,s)||qt.EMPTY_NODE}function hl(a,i=a.transactionQueueTree_){if(i||kc(a,i),Vo(i)){const s=Br(a,i);(0,Z.hu)(s.length>0,"Sending zero length transaction queue"),s.every(v=>0===v.status)&&function(a,i,s){const h=s.map(pe=>pe.currentWriteId),v=eu(a,i,h);let T=v;const M=v.hash();for(let pe=0;pe<s.length;pe++){const We=s[pe];(0,Z.hu)(0===We.status,"tryToSendTransactionQueue_: items in queue should all be run."),We.status=1,We.retryCount++;const Pe=Rr(i,We.path);T=T.updateChild(Pe,We.currentOutputSnapshotRaw)}const H=T.val(!0),te=i;a.server_.put(te.toString(),H,pe=>{Ml(a,"transaction put response",{path:te.toString(),status:pe});let We=[];if("ok"===pe){const Pe=[];for(let tt=0;tt<s.length;tt++)s[tt].status=2,We=We.concat(Dt(a.serverSyncTree_,s[tt].currentWriteId)),s[tt].onComplete&&Pe.push(()=>s[tt].onComplete(null,!0,s[tt].currentOutputSnapshotResolved)),s[tt].unwatcher();kc(a,Lo(a.transactionQueueTree_,i)),hl(a,a.transactionQueueTree_),Do(a.eventQueue_,i,We);for(let tt=0;tt<Pe.length;tt++)Tt(Pe[tt])}else{if("datastale"===pe)for(let Pe=0;Pe<s.length;Pe++)s[Pe].status=3===s[Pe].status?4:0;else{On("transaction at "+te.toString()+" failed: "+pe);for(let Pe=0;Pe<s.length;Pe++)s[Pe].status=4,s[Pe].abortReason=pe}fl(a,i)}},M)}(a,ql(i),s)}else Yl(i)&&Ac(i,s=>{hl(a,s)})}function fl(a,i){const s=vu(a,i),h=ql(s);return function(a,i,s){if(0===i.length)return;const h=[];let v=[];const M=i.filter(H=>0===H.status).map(H=>H.currentWriteId);for(let H=0;H<i.length;H++){const te=i[H],pe=Rr(s,te.path);let Pe,We=!1;if((0,Z.hu)(null!==pe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===te.status)We=!0,Pe=te.abortReason,v=v.concat(Dt(a.serverSyncTree_,te.currentWriteId,!0));else if(0===te.status)if(te.retryCount>=25)We=!0,Pe="maxretry",v=v.concat(Dt(a.serverSyncTree_,te.currentWriteId,!0));else{const tt=eu(a,te.path,M);te.currentInputSnapshot=tt;const Ot=i[H].update(tt.val());if(void 0!==Ot){Ra("transaction failed: Data returned ",Ot,te.path);let kt=pr(Ot);"object"==typeof Ot&&null!=Ot&&(0,Z.r3)(Ot,".priority")||(kt=kt.updatePriority(tt.getPriority()));const ei=te.currentWriteId,ml=Pl(a),Na=Zl(kt,tt,ml);te.currentOutputSnapshotRaw=kt,te.currentOutputSnapshotResolved=Na,te.currentWriteId=Ka(a),M.splice(M.indexOf(ei),1),v=v.concat(Ke(a.serverSyncTree_,te.path,Na,te.currentWriteId,te.applyLocally)),v=v.concat(Dt(a.serverSyncTree_,ei,!0))}else We=!0,Pe="nodata",v=v.concat(Dt(a.serverSyncTree_,te.currentWriteId,!0))}Do(a.eventQueue_,s,v),v=[],We&&(i[H].status=2,setTimeout(i[H].unwatcher,Math.floor(0)),i[H].onComplete&&h.push("nodata"===Pe?()=>i[H].onComplete(null,!1,i[H].currentInputSnapshot):()=>i[H].onComplete(new Error(Pe),!1,null)))}kc(a,a.transactionQueueTree_);for(let H=0;H<h.length;H++)Tt(h[H]);hl(a,a.transactionQueueTree_)}(a,Br(a,s),h),h}function vu(a,i){let s,h=a.transactionQueueTree_;for(s=Xt(i);null!==s&&void 0===Vo(h);)h=Lo(h,s),s=Xt(i=Hn(i));return h}function Br(a,i){const s=[];return tu(a,i,s),s.sort((h,v)=>h.order-v.order),s}function tu(a,i,s){const h=Vo(i);if(h)for(let v=0;v<h.length;v++)s.push(h[v]);Ac(i,v=>{tu(a,v,s)})}function kc(a,i){const s=Vo(i);if(s){let h=0;for(let v=0;v<s.length;v++)2!==s[v].status&&(s[h]=s[v],h++);s.length=h,Al(i,s.length>0?s:void 0)}Ac(i,h=>{kc(a,h)})}function rc(a,i){const s=ql(vu(a,i)),h=Lo(a.transactionQueueTree_,i);return function(a,i,s){let h=a.parent;for(;null!==h;){if(i(h))return!0;h=h.parent}}(h,v=>{g(a,v)}),g(a,h),al(h,v=>{g(a,v)}),s}function g(a,i){const s=Vo(i);if(s){const h=[];let v=[],T=-1;for(let M=0;M<s.length;M++)3===s[M].status||(1===s[M].status?((0,Z.hu)(T===M-1,"All SENT items should be at beginning of queue."),T=M,s[M].status=3,s[M].abortReason="set"):((0,Z.hu)(0===s[M].status,"Unexpected transaction status in abort"),s[M].unwatcher(),v=v.concat(Dt(a.serverSyncTree_,s[M].currentWriteId,!0)),s[M].onComplete&&h.push(s[M].onComplete.bind(null,new Error("set"),!1,null))));-1===T?Al(i,void 0):s.length=T+1,Do(a.eventQueue_,ql(i),v);for(let M=0;M<h.length;M++)Tt(h[M])}}const _=function(a,i){const s=R(a),h=s.namespace;return"firebase.com"===s.domain&&wr(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==s.domain&&wr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ts(s.host,s.secure,h,i,"ws"===s.scheme||"wss"===s.scheme,"",h!==s.subdomain),path:new qn(s.pathString)}},R=function(a){let i="",s="",h="",v="",T="",M=!0,H="https",te=443;if("string"==typeof a){let pe=a.indexOf("//");pe>=0&&(H=a.substring(0,pe-1),a=a.substring(pe+2));let We=a.indexOf("/");-1===We&&(We=a.length);let Pe=a.indexOf("?");-1===Pe&&(Pe=a.length),i=a.substring(0,Math.min(We,Pe)),We<Pe&&(v=function(a){let i="";const s=a.split("/");for(let h=0;h<s.length;h++)if(s[h].length>0){let v=s[h];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch(T){}i+="/"+v}return i}(a.substring(We,Pe)));const tt=function(a){const i={};"?"===a.charAt(0)&&(a=a.substring(1));for(const s of a.split("&")){if(0===s.length)continue;const h=s.split("=");2===h.length?i[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):On(`Invalid query segment '${s}' in query '${a}'`)}return i}(a.substring(Math.min(a.length,Pe)));pe=i.indexOf(":"),pe>=0?(M="https"===H||"wss"===H,te=parseInt(i.substring(pe+1),10)):pe=i.length;const Ot=i.slice(0,pe);if("localhost"===Ot.toLowerCase())s="localhost";else if(Ot.split(".").length<=2)s=Ot;else{const kt=i.indexOf(".");h=i.substring(0,kt).toLowerCase(),s=i.substring(kt+1),T=h}"ns"in tt&&(T=tt.ns)}return{host:i,port:te,domain:s,subdomain:h,secure:M,scheme:H,pathString:v,namespace:T}};class ${constructor(i,s,h,v){this.eventType=i,this.eventRegistration=s,this.snapshot=h,this.prevName=v}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Z.Pz)(this.snapshot.exportVal())}}class oe{constructor(i,s,h){this.eventRegistration=i,this.error=s,this.path=h}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ye{constructor(i,s){this.snapshotCallback=i,this.cancelCallback=s}onValue(i,s){this.snapshotCallback.call(null,i,s)}onCancel(i){return(0,Z.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class ke{constructor(i,s){this._repo=i,this._path=s}cancel(){const i=new Z.BH;return dd(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){Xr("OnDisconnect.remove",this._path);const i=new Z.BH;return ju(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){Xr("OnDisconnect.set",this._path),Uo("OnDisconnect.set",i,this._path,!1);const s=new Z.BH;return ju(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}setWithPriority(i,s){Xr("OnDisconnect.setWithPriority",this._path),Uo("OnDisconnect.setWithPriority",i,this._path,!1),Zc("OnDisconnect.setWithPriority",s,!1);const h=new Z.BH;return function(a,i,s,h,v){const T=pr(s,h);a.server_.onDisconnectPut(i.toString(),T.val(!0),(M,H)=>{"ok"===M&&gs(a.onDisconnect_,i,T),la(0,v,M,H)})}(this._repo,this._path,i,s,h.wrapCallback(()=>{})),h.promise}update(i){Xr("OnDisconnect.update",this._path),pu("OnDisconnect.update",i,this._path,!1);const s=new Z.BH;return function(a,i,s,h){if((0,Z.xb)(s))return pn("onDisconnect().update() called with empty data.  Don't do anything."),void la(0,h,"ok",void 0);a.server_.onDisconnectMerge(i.toString(),s,(v,T)=>{"ok"===v&&he(s,(M,H)=>{const te=pr(H);gs(a.onDisconnect_,hr(i,M),te)}),la(0,h,v,T)})}(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}}class Ge{constructor(i,s,h,v){this._repo=i,this._path=s,this._queryParams=h,this._orderByCalled=v}get key(){return mn(this._path)?null:uo(this._path)}get ref(){return new Lt(this._repo,this._path)}get _queryIdentifier(){const i=Oo(this._queryParams),s=Fe(i);return"{}"===s?"default":s}get _queryObject(){return Oo(this._queryParams)}isEqual(i){if(!((i=(0,Z.m9)(i))instanceof Ge))return!1;const s=this._repo===i._repo,h=Ms(this._path,i._path);return s&&h&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(a){let i="";for(let s=a.pieceNum_;s<a.pieces_.length;s++)""!==a.pieces_[s]&&(i+="/"+encodeURIComponent(String(a.pieces_[s])));return i||"/"}(this._path)}}function ht(a,i){if(!0===a._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function At(a){let i=null,s=null;if(a.hasStart()&&(i=a.getIndexStartValue()),a.hasEnd()&&(s=a.getIndexEndValue()),a.getIndex()===es){const h="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(a.hasStart()){if(a.getIndexStartName()!==rn)throw new Error(h);if("string"!=typeof i)throw new Error(v)}if(a.hasEnd()){if(a.getIndexEndName()!==vt)throw new Error(h);if("string"!=typeof s)throw new Error(v)}}else if(a.getIndex()===Tn){if(null!=i&&!cl(i)||null!=s&&!cl(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Z.hu)(a.getIndex()instanceof ar||a.getIndex()===ts,"unknown index type."),null!=i&&"object"==typeof i||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function nn(a){if(a.hasStart()&&a.hasEnd()&&a.hasLimit()&&!a.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Lt extends Ge{constructor(i,s){super(i,s,new _o,!1)}get parent(){const i=Ko(this._path);return null===i?null:new Lt(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class xt{constructor(i,s,h){this._node=i,this.ref=s,this._index=h}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const s=new qn(i),h=cr(this.ref,i);return new xt(this._node.getChild(s),h,Tn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(h,v)=>i(new xt(v,cr(this.ref,h),Tn)))}hasChild(i){const s=new qn(i);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fn(a,i){return(a=(0,Z.m9)(a))._checkNotDeleted("ref"),void 0!==i?cr(a._root,i):a._root}function Kn(a,i){(a=(0,Z.m9)(a))._checkNotDeleted("refFromURL");const s=_(i,a._repo.repoInfo_.nodeAdmin);dl("refFromURL",s);const h=s.repoInfo;return!a._repo.repoInfo_.isCustomHost()&&h.host!==a._repo.repoInfo_.host&&wr("refFromURL: Host name does not match the current database: (found "+h.host+" but expected "+a._repo.repoInfo_.host+")"),fn(a,s.path.toString())}function cr(a,i){return null===Xt((a=(0,Z.m9)(a))._path)?((s=i)&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),tc("child","path",s,!1)):tc("child","path",i,!1),new Lt(a._repo,hr(a._path,i));var s}function Za(a,i){a=(0,Z.m9)(a),Xr("set",a._path),Uo("set",i,a._path,!1);const s=new Z.BH;return Oc(a._repo,a._path,i,null,s.wrapCallback(()=>{})),s.promise}function ca(a,i){pu("update",i,a._path,!1);const s=new Z.BH;return function(a,i,s,h){Ml(a,"update",{path:i.toString(),value:s});let v=!0;const T=Pl(a),M={};if(he(s,(H,te)=>{v=!1,M[H]=Tc(hr(i,H),pr(te),a.serverSyncTree_,T)}),v)pn("update() called with empty data.  Don't do anything."),la(0,h,"ok",void 0);else{const H=Ka(a),te=function(a,i,s,h){!function(a,i,s,h){(0,Z.hu)(h>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:i,children:s,writeId:h,visible:!0}),a.visibleWrites=wa(a.visibleWrites,i,s),a.lastWriteId=h}(a.pendingWriteTree_,i,s,h);const v=Qn.fromObject(s);return zi(a,new wi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,v))}(a.serverSyncTree_,i,M,H);Pc(a.eventQueue_,te),a.server_.merge(i.toString(),s,(pe,We)=>{const Pe="ok"===pe;Pe||On("update at "+i+" failed: "+pe);const tt=Dt(a.serverSyncTree_,H,!Pe),Ot=tt.length>0?fl(a,i):i;Do(a.eventQueue_,Ot,tt),la(0,h,pe,We)}),he(s,pe=>{const We=rc(a,hr(i,pe));fl(a,We)}),Do(a.eventQueue_,i,[])}}(a._repo,a._path,i,s.wrapCallback(()=>{})),s.promise}function jo(a){return function(a,i){const s=function(a,i){const s=i._path;let h=null;a.syncPointTree_.foreachOnPath(s,(pe,We)=>{const Pe=Rr(pe,s);h=h||Qr(We,Pe)});let v=a.syncPointTree_.get(s);v?h=h||Qr(v,wn()):(v=new Ha,a.syncPointTree_=a.syncPointTree_.set(s,v));const T=null!=h,M=T?new Ii(h,!0,!1):null;return function(a){return ta(a.viewCache_)}(Fo(v,i,b(a.pendingWriteTree_,i._path),T?M.getNode():qt.EMPTY_NODE,T))}(a.serverSyncTree_,i);return null!=s?Promise.resolve(s):a.server_.get(i).then(h=>{const v=pr(h).withIndex(i._queryParams.getIndex()),T=St(a.serverSyncTree_,i._path,v);return Yc(a.eventQueue_,i._path,T),Promise.resolve(v)},h=>(Ml(a,"get for query "+(0,Z.Pz)(i)+" failed: "+h),Promise.reject(new Error(h))))}((a=(0,Z.m9)(a))._repo,a).then(i=>new xt(i,new Lt(a._repo,a._path),a._queryParams.getIndex()))}class Is{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,s){const h=s._queryParams.getIndex();return new $("value",this,new xt(i.snapshotNode,new Lt(s._repo,s._path),h))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new oe(this,i,s):null}matches(i){return i instanceof Is&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ya{constructor(i,s){this.eventType=i,this.callbackContext=s}respondsTo(i){let s="children_added"===i?"child_added":i;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new oe(this,i,s):null}createEvent(i,s){(0,Z.hu)(null!=i.childName,"Child events should have a childName.");const h=cr(new Lt(s._repo,s._path),i.childName),v=s._queryParams.getIndex();return new $(i.type,this,new xt(i.snapshotNode,h,v),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof Ya&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ua(a,i,s,h,v){let T;if("object"==typeof h&&(T=void 0,v=h),"function"==typeof h&&(T=h),v&&v.onlyOnce){const te=s,pe=(We,Pe)=>{Jc(a._repo,a,H),te(We,Pe)};pe.userCallback=s.userCallback,pe.context=s.context,s=pe}const M=new ye(s,T||void 0),H="value"===i?new Is(M):new Ya(i,M);return function(a,i,s){let h;h=".info"===Xt(i._path)?Pa(a.infoSyncTree_,i,s):Pa(a.serverSyncTree_,i,s),Yc(a.eventQueue_,i._path,h)}(a._repo,a,H),()=>Jc(a._repo,a,H)}function Ho(a,i,s,h){return ua(a,"value",i,s,h)}function Ls(a,i,s,h){return ua(a,"child_added",i,s,h)}function qa(a,i,s,h){return ua(a,"child_changed",i,s,h)}function Rt(a,i,s,h){return ua(a,"child_moved",i,s,h)}function Zt(a,i,s,h){return ua(a,"child_removed",i,s,h)}function dn(a,i,s){let h=null;const v=s?new ye(s):null;"value"===i?h=new Is(v):i&&(h=new Ya(i,v)),Jc(a._repo,a,h)}class on{}class Ai extends on{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Uo("endAt",this._value,i._path,!0);const s=Xo(i._queryParams,this._value,this._key);if(nn(s),At(s),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ge(i._repo,i._path,s,i._orderByCalled)}}class oo extends on{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Uo("endBefore",this._value,i._path,!1);const s=function(a,i,s){let h,v;return a.index_===es?("string"==typeof i&&(i=Ks(i)),v=Xo(a,i,s)):(h=null==s?rn:Ks(s),v=Xo(a,i,h)),v.endBeforeSet_=!0,v}(i._queryParams,this._value,this._key);if(nn(s),At(s),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ge(i._repo,i._path,s,i._orderByCalled)}}class jr extends on{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Uo("startAt",this._value,i._path,!0);const s=Ys(i._queryParams,this._value,this._key);if(nn(s),At(s),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ge(i._repo,i._path,s,i._orderByCalled)}}class ci extends on{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Uo("startAfter",this._value,i._path,!1);const s=function(a,i,s){let h;if(a.index_===es)"string"==typeof i&&(i=Ro(i)),h=Ys(a,i,s);else{let v;v=null==s?vt:Ro(s),h=Ys(a,i,v)}return h.startAfterSet_=!0,h}(i._queryParams,this._value,this._key);if(nn(s),At(s),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ge(i._repo,i._path,s,i._orderByCalled)}}class ic extends on{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ge(i._repo,i._path,function(a,i){const s=a.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="l",s}(i._queryParams,this._limit),i._orderByCalled)}}class Ol extends on{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ge(i._repo,i._path,function(a,i){const s=a.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="r",s}(i._queryParams,this._limit),i._orderByCalled)}}class fd extends on{constructor(i){super(),this._path=i}_apply(i){ht(i,"orderByChild");const s=new qn(this._path);if(mn(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const h=new ar(s),v=fi(i._queryParams,h);return At(v),new Ge(i._repo,i._path,v,!0)}}class nu extends on{_apply(i){ht(i,"orderByKey");const s=fi(i._queryParams,es);return At(s),new Ge(i._repo,i._path,s,!0)}}class sc extends on{_apply(i){ht(i,"orderByPriority");const s=fi(i._queryParams,Tn);return At(s),new Ge(i._repo,i._path,s,!0)}}class wf extends on{_apply(i){ht(i,"orderByValue");const s=fi(i._queryParams,ts);return At(s),new Ge(i._repo,i._path,s,!0)}}class gd extends on{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){if(Uo("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ai(this._value,this._key)._apply(new jr(this._value,this._key)._apply(i))}}function y(a,...i){let s=(0,Z.m9)(a);for(const h of i)s=h._apply(s);return s}(function(a){(0,Z.hu)(!ki,"__referenceConstructor has already been defined"),ki=a})(Lt),function(a){(0,Z.hu)(!S,"__referenceConstructor has already been defined"),S=a}(Lt);const f={};function j(a,i,s,h,v){let T=h||a.options.databaseURL;void 0===T&&(a.options.projectId||wr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pn("Using default host for project ",a.options.projectId),T=`${a.options.projectId}-default-rtdb.firebaseio.com`);let te,pe,M=_(T,v),H=M.repoInfo;"undefined"!=typeof process&&(pe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),pe?(te=!0,T=`http://${pe}?ns=${H.namespace}`,M=_(T,v),H=M.repoInfo):te=!M.repoInfo.secure;const We=v&&te?new Ce(Ce.OWNER):new ae(a.name,a.options,i);dl("Invalid Firebase Database URL",M),mn(M.path)||wr("Database URL must point to the root of a Firebase Database (not including a child path).");const Pe=function(a,i,s,h){let v=f[i.name];v||(v={},f[i.name]=v);let T=v[a.toURLString()];return T&&wr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),T=new Vu(a,false,s,h),v[a.toURLString()]=T,T}(H,a,We,new ge(a.name,s));return new ut(Pe,a)}class ut{constructor(i,s){this._repoInternal=i,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(a,i,s){if(a.stats_=vr(a.repoInfo_),a.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)a.server_=new ps(a.repoInfo_,(h,v,T,M)=>{_u(a,h,v,T,M)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>za(a,!0),0);else{if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Z.Pz)(s)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}a.persistentConnection_=new Mi(a.repoInfo_,i,(h,v,T,M)=>{_u(a,h,v,T,M)},h=>{za(a,h)},h=>{!function(a,i){he(i,(s,h)=>{so(a,s,h)})}(a,h)},a.authTokenProvider_,a.appCheckProvider_,s),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(h=>{a.server_.refreshAuthToken(h)}),a.appCheckProvider_.addTokenChangeListener(h=>{a.server_.refreshAppCheckToken(h.token)}),a.statsReporter_=function(a,i){const s=a.toString();return yr[s]||(yr[s]=i()),yr[s]}(a.repoInfo_,()=>new ba(a.stats_,a.server_)),a.infoData_=new Os,a.infoSyncTree_=new xe({startListening:(h,v,T,M)=>{let H=[];const te=a.infoData_.getNode(h._path);return te.isEmpty()||(H=St(a.infoSyncTree_,h._path,te),setTimeout(()=>{M("ok")},0)),H},stopListening:()=>{}}),so(a,"connected",!1),a.serverSyncTree_=new xe({startListening:(h,v,T,M)=>(a.server_.listen(h,T,v,(H,te)=>{const pe=M(H,te);Do(a.eventQueue_,h._path,pe)}),[]),stopListening:(h,v)=>{a.server_.unlisten(h,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Lt(this._repo,wn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(a,i){const s=f[i];(!s||s[a.key]!==a)&&wr(`Database ${i}(${a.repoInfo_}) has already been deleted.`),Hu(a),delete s[a.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&wr("Cannot call "+i+" on a deleted database.")}}function gl(a,i){Wn(a,i)}class $u{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Mi.prototype.simpleListen=function(a,i){this.sendRequest("q",{p:a},i)},Mi.prototype.echo=function(a,i){this.sendRequest("echo",{d:a},i)},bt(pt.SDK_VERSION),(0,pt._registerComponent)(new Je.wA("database",(i,{instanceIdentifier:s})=>j(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,pt.registerVersion)(Wt,"0.12.4",void 0),(0,pt.registerVersion)(Wt,"0.12.4","esm2017");const Cu=new mt.Yd("@firebase/database-compat"),bu=function(a){Cu.warn("FIREBASE WARNING: "+a)};class Tf{constructor(i){this._delegate=i}cancel(i){(0,Z.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Z.Wj)("OnDisconnect.cancel","onComplete",i,!0);const s=this._delegate.cancel();return i&&s.then(()=>i(null),h=>i(h)),s}remove(i){(0,Z.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Z.Wj)("OnDisconnect.remove","onComplete",i,!0);const s=this._delegate.remove();return i&&s.then(()=>i(null),h=>i(h)),s}set(i,s){(0,Z.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Z.Wj)("OnDisconnect.set","onComplete",s,!0);const h=this._delegate.set(i);return s&&h.then(()=>s(null),v=>s(v)),h}setWithPriority(i,s,h){(0,Z.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Z.Wj)("OnDisconnect.setWithPriority","onComplete",h,!0);const v=this._delegate.setWithPriority(i,s);return h&&v.then(()=>h(null),T=>h(T)),v}update(i,s){if((0,Z.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const v={};for(let T=0;T<i.length;++T)v[""+T]=i[T];i=v,bu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Z.Wj)("OnDisconnect.update","onComplete",s,!0);const h=this._delegate.update(i);return s&&h.then(()=>s(null),v=>s(v)),h}}class Af{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return(0,Z.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ha{constructor(i,s){this._database=i,this._delegate=s}val(){return(0,Z.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Z.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Z.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Z.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,Z.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),tc("DataSnapshot.child","path",i,!1),new ha(this._database,this._delegate.child(i))}hasChild(i){return(0,Z.Dv)("DataSnapshot.hasChild",1,1,arguments.length),tc("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,Z.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,Z.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Z.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(s=>i(new ha(this._database,s)))}hasChildren(){return(0,Z.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Z.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Z.Dv)("DataSnapshot.ref",0,0,arguments.length),new fa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vs{constructor(i,s){this.database=i,this._delegate=s}on(i,s,h,v){var T;(0,Z.Dv)("Query.on",2,4,arguments.length),(0,Z.Wj)("Query.on","callback",s,!1);const M=Vs.getCancelAndContextArgs_("Query.on",h,v),H=(pe,We)=>{s.call(M.context,new ha(this.database,pe),We)};H.userCallback=s,H.context=M.context;const te=null===(T=M.cancel)||void 0===T?void 0:T.bind(M.context);switch(i){case"value":return Ho(this._delegate,H,te),s;case"child_added":return Ls(this._delegate,H,te),s;case"child_removed":return Zt(this._delegate,H,te),s;case"child_changed":return qa(this._delegate,H,te),s;case"child_moved":return Rt(this._delegate,H,te),s;default:throw new Error((0,Z.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,s,h){if((0,Z.Dv)("Query.off",0,3,arguments.length),function(a,i,s){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Z.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,Z.Wj)("Query.off","callback",s,!0),(0,Z.lb)("Query.off","context",h,!0),s){const v=()=>{};v.userCallback=s,v.context=h,dn(this._delegate,i,v)}else dn(this._delegate,i)}get(){return jo(this._delegate).then(i=>new ha(this.database,i))}once(i,s,h,v){(0,Z.Dv)("Query.once",1,4,arguments.length),(0,Z.Wj)("Query.once","callback",s,!0);const T=Vs.getCancelAndContextArgs_("Query.once",h,v),M=new Z.BH,H=(pe,We)=>{const Pe=new ha(this.database,pe);s&&s.call(T.context,Pe,We),M.resolve(Pe)};H.userCallback=s,H.context=T.context;const te=pe=>{T.cancel&&T.cancel.call(T.context,pe),M.reject(pe)};switch(i){case"value":Ho(this._delegate,H,te,{onlyOnce:!0});break;case"child_added":Ls(this._delegate,H,te,{onlyOnce:!0});break;case"child_removed":Zt(this._delegate,H,te,{onlyOnce:!0});break;case"child_changed":qa(this._delegate,H,te,{onlyOnce:!0});break;case"child_moved":Rt(this._delegate,H,te,{onlyOnce:!0});break;default:throw new Error((0,Z.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return M.promise}limitToFirst(i){return(0,Z.Dv)("Query.limitToFirst",1,1,arguments.length),new Vs(this.database,y(this._delegate,function(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ic(a)}(i)))}limitToLast(i){return(0,Z.Dv)("Query.limitToLast",1,1,arguments.length),new Vs(this.database,y(this._delegate,function(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ol(a)}(i)))}orderByChild(i){return(0,Z.Dv)("Query.orderByChild",1,1,arguments.length),new Vs(this.database,y(this._delegate,function(a){if("$key"===a)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===a)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===a)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return tc("orderByChild","path",a,!1),new fd(a)}(i)))}orderByKey(){return(0,Z.Dv)("Query.orderByKey",0,0,arguments.length),new Vs(this.database,y(this._delegate,new nu))}orderByPriority(){return(0,Z.Dv)("Query.orderByPriority",0,0,arguments.length),new Vs(this.database,y(this._delegate,new sc))}orderByValue(){return(0,Z.Dv)("Query.orderByValue",0,0,arguments.length),new Vs(this.database,y(this._delegate,new wf))}startAt(i=null,s){return(0,Z.Dv)("Query.startAt",0,2,arguments.length),new Vs(this.database,y(this._delegate,function(a=null,i){return ec("startAt","key",i,!0),new jr(a,i)}(i,s)))}startAfter(i=null,s){return(0,Z.Dv)("Query.startAfter",0,2,arguments.length),new Vs(this.database,y(this._delegate,function(a,i){return ec("startAfter","key",i,!0),new ci(a,i)}(i,s)))}endAt(i=null,s){return(0,Z.Dv)("Query.endAt",0,2,arguments.length),new Vs(this.database,y(this._delegate,function(a,i){return ec("endAt","key",i,!0),new Ai(a,i)}(i,s)))}endBefore(i=null,s){return(0,Z.Dv)("Query.endBefore",0,2,arguments.length),new Vs(this.database,y(this._delegate,function(a,i){return ec("endBefore","key",i,!0),new oo(a,i)}(i,s)))}equalTo(i,s){return(0,Z.Dv)("Query.equalTo",1,2,arguments.length),new Vs(this.database,y(this._delegate,function(a,i){return ec("equalTo","key",i,!0),new gd(a,i)}(i,s)))}toString(){return(0,Z.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Z.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,Z.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof Vs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,s,h){const v={cancel:void 0,context:void 0};if(s&&h)v.cancel=s,(0,Z.Wj)(i,"cancel",v.cancel,!0),v.context=h,(0,Z.lb)(i,"context",v.context,!0);else if(s)if("object"==typeof s&&null!==s)v.context=s;else{if("function"!=typeof s)throw new Error((0,Z.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=s}return v}get ref(){return new fa(this.database,new Lt(this._delegate._repo,this._delegate._path))}}class fa extends Vs{constructor(i,s){super(i,new Ge(s._repo,s._path,new _o,!1)),this.database=i,this._delegate=s}getKey(){return(0,Z.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,Z.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new fa(this.database,cr(this._delegate,i))}getParent(){(0,Z.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new fa(this.database,i):null}getRoot(){return(0,Z.Dv)("Reference.root",0,0,arguments.length),new fa(this.database,this._delegate.root)}set(i,s){(0,Z.Dv)("Reference.set",1,2,arguments.length),(0,Z.Wj)("Reference.set","onComplete",s,!0);const h=Za(this._delegate,i);return s&&h.then(()=>s(null),v=>s(v)),h}update(i,s){if((0,Z.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const v={};for(let T=0;T<i.length;++T)v[""+T]=i[T];i=v,bu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xr("Reference.update",this._delegate._path),(0,Z.Wj)("Reference.update","onComplete",s,!0);const h=ca(this._delegate,i);return s&&h.then(()=>s(null),v=>s(v)),h}setWithPriority(i,s,h){(0,Z.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Z.Wj)("Reference.setWithPriority","onComplete",h,!0);const v=function(a,i,s){if(Xr("setWithPriority",a._path),Uo("setWithPriority",i,a._path,!1),Zc("setWithPriority",s,!1),".length"===a.key||".keys"===a.key)throw"setWithPriority failed: "+a.key+" is a read-only object.";const h=new Z.BH;return Oc(a._repo,a._path,i,s,h.wrapCallback(()=>{})),h.promise}(this._delegate,i,s);return h&&v.then(()=>h(null),T=>h(T)),v}remove(i){(0,Z.Dv)("Reference.remove",0,1,arguments.length),(0,Z.Wj)("Reference.remove","onComplete",i,!0);const s=function(a){return Xr("remove",a._path),Za(a,null)}(this._delegate);return i&&s.then(()=>i(null),h=>i(h)),s}transaction(i,s,h){(0,Z.Dv)("Reference.transaction",1,3,arguments.length),(0,Z.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,Z.Wj)("Reference.transaction","onComplete",s,!0),function(a,i,s,h){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,Z.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,h);const v=function(a,i,s){var h;if(a=(0,Z.m9)(a),Xr("Reference.transaction",a._path),".length"===a.key||".keys"===a.key)throw"Reference.transaction failed: "+a.key+" is a read-only object.";const v=null===(h=null==s?void 0:s.applyLocally)||void 0===h||h,T=new Z.BH,H=Ho(a,()=>{});return function(a,i,s,h,v,T){Ml(a,"transaction on "+i);const M={path:i,update:s,onComplete:h,status:null,order:br(),applyLocally:T,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},H=eu(a,i,void 0);M.currentInputSnapshot=H;const te=M.update(H.val());if(void 0===te)M.unwatcher(),M.currentOutputSnapshotRaw=null,M.currentOutputSnapshotResolved=null,M.onComplete&&M.onComplete(null,!1,M.currentInputSnapshot);else{Ra("transaction failed: Data returned ",te,M.path),M.status=0;const pe=Lo(a.transactionQueueTree_,i),We=Vo(pe)||[];let Pe;We.push(M),Al(pe,We),"object"==typeof te&&null!==te&&(0,Z.r3)(te,".priority")?(Pe=(0,Z.DV)(te,".priority"),(0,Z.hu)(cl(Pe),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Pe=(oa(a.serverSyncTree_,i)||qt.EMPTY_NODE).getPriority().val();const tt=Pl(a),Ot=pr(te,Pe),kt=Zl(Ot,H,tt);M.currentOutputSnapshotRaw=Ot,M.currentOutputSnapshotResolved=kt,M.currentWriteId=Ka(a);const Xn=Ke(a.serverSyncTree_,i,kt,M.currentWriteId,M.applyLocally);Do(a.eventQueue_,i,Xn),hl(a,a.transactionQueueTree_)}}(a._repo,a._path,i,(te,pe,We)=>{let Pe=null;te?T.reject(te):(Pe=new xt(We,new Lt(a._repo,a._path),Tn),T.resolve(new $u(pe,Pe)))},H,v),T.promise}(this._delegate,i,{applyLocally:h}).then(T=>new Af(T.committed,new ha(this.database,T.snapshot)));return s&&v.then(T=>s(null,T.committed,T.snapshot),T=>s(T,!1,null)),v}setPriority(i,s){(0,Z.Dv)("Reference.setPriority",1,2,arguments.length),(0,Z.Wj)("Reference.setPriority","onComplete",s,!0);const h=function(a,i){a=(0,Z.m9)(a),Xr("setPriority",a._path),Zc("setPriority",i,!1);const s=new Z.BH;return Oc(a._repo,hr(a._path,".priority"),i,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,i);return s&&h.then(()=>s(null),v=>s(v)),h}push(i,s){(0,Z.Dv)("Reference.push",0,2,arguments.length),(0,Z.Wj)("Reference.push","onComplete",s,!0);const h=function(a,i){a=(0,Z.m9)(a),Xr("push",a._path),Uo("push",i,a._path,!0);const s=mu(a._repo),h=Fa(s),v=cr(a,h),T=cr(a,h);let M;return M=null!=i?Za(T,i).then(()=>T):Promise.resolve(T),v.then=M.then.bind(M),v.catch=M.then.bind(M,void 0),v}(this._delegate,i),v=h.then(M=>new fa(this.database,M));s&&v.then(()=>s(null),M=>s(M));const T=new fa(this.database,h);return T.then=v.then.bind(v),T.catch=v.catch.bind(v,void 0),T}onDisconnect(){return Xr("Reference.onDisconnect",this._delegate._path),new Tf(new ke(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class zu{constructor(i,s){this._delegate=i,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(i,s,h={}){!function(a,i,s,h={}){(a=(0,Z.m9)(a))._checkNotDeleted("useEmulator"),a._instanceStarted&&wr("Cannot call useEmulator() after instance has already been initialized.");const v=a._repoInternal;let T;if(v.repoInfo_.nodeAdmin)h.mockUserToken&&wr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),T=new Ce(Ce.OWNER);else if(h.mockUserToken){const M="string"==typeof h.mockUserToken?h.mockUserToken:(0,Z.Sg)(h.mockUserToken,a.app.options.projectId);T=new Ce(M)}!function(a,i,s,h){a.repoInfo_=new Ts(`${i}:${s}`,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams),h&&(a.authTokenProvider_=h)}(v,i,s,T)}(this._delegate,i,s,h)}ref(i){if((0,Z.Dv)("database.ref",0,1,arguments.length),i instanceof fa){const s=Kn(this._delegate,i.toString());return new fa(this,s)}{const s=fn(this._delegate,i);return new fa(this,s)}}refFromURL(i){(0,Z.Dv)("database.refFromURL",1,1,arguments.length);const h=Kn(this._delegate,i);return new fa(this,h)}goOffline(){return(0,Z.Dv)("database.goOffline",0,0,arguments.length),function(a){(a=(0,Z.m9)(a))._checkNotDeleted("goOffline"),Hu(a._repo)}(this._delegate)}goOnline(){return(0,Z.Dv)("database.goOnline",0,0,arguments.length),function(a){(a=(0,Z.m9)(a))._checkNotDeleted("goOnline"),function(a){a.persistentConnection_&&a.persistentConnection_.resume(Mc)}(a._repo)}(this._delegate)}}zu.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:a=>function(a){return{".sv":{increment:a}}}(a)};var Zp=Object.freeze({__proto__:null,initStandalone:function({app:a,url:i,version:s,customAuthImpl:h,namespace:v,nodeAdmin:T=!1}){bt(s);const M=new Je.zt("auth-internal",new Je.H0("database-standalone"));return M.setComponent(new Je.wA("auth-internal",()=>h,"PRIVATE")),{instance:new zu(j(a,M,void 0,i,T),a),namespace:v}}});const Sf=zu.ServerValue;!function(a){a.INTERNAL.registerComponent(new Je.wA("database-compat",(i,{instanceIdentifier:s})=>{const h=i.getProvider("app-compat").getImmediate(),v=i.getProvider("database").getImmediate({identifier:s});return new zu(v,h)},"PUBLIC").setServiceProps({Reference:fa,Query:Vs,Database:zu,DataSnapshot:ha,enableLogging:gl,INTERNAL:Zp,ServerValue:Sf}).setMultipleInstances(!0)),a.registerVersion("@firebase/database-compat","0.1.4")}(Oe.Z);var ph=L(9765),Cd=L(4402),wu=L(6136),bd=L(7771),wd=L(5319),Mf=L(7971),gh=L(8858);class Rf extends ph.xQ{constructor(i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,h){super(),this.scheduler=h,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=s<1?1:s,s===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const s=this._events;s.push(i),s.length>this._bufferSize&&s.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new mh(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const s=this._infiniteTimeWindow,h=s?this._events:this._trimBufferThenGetEvents(),v=this.scheduler,T=h.length;let M;if(this.closed)throw new Mf.N;if(this.isStopped||this.hasError?M=wd.w.EMPTY:(this.observers.push(i),M=new gh.W(this,i)),v&&i.add(i=new wu.ht(i,v)),s)for(let H=0;H<T&&!i.closed;H++)i.next(h[H]);else for(let H=0;H<T&&!i.closed;H++)i.next(h[H].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),M}_getNow(){return(this.scheduler||bd.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),s=this._bufferSize,h=this._windowTime,v=this._events,T=v.length;let M=0;for(;M<T&&!(i-v[M].time<h);)M++;return T>s&&(M=Math.max(M,T-s)),M>0&&v.splice(0,M),v}}class mh{constructor(i,s){this.time=i,this.value=s}}function Iu(a,i,s){let h;return h=a&&"object"==typeof a?a:{bufferSize:a,windowTime:i,refCount:!1,scheduler:s},v=>v.lift(function({bufferSize:a=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:s,scheduler:h}){let v,M,T=0,H=!1,te=!1;return function(We){let Pe;T++,!v||H?(H=!1,v=new Rf(a,i,h),Pe=v.subscribe(this),M=We.subscribe({next(tt){v.next(tt)},error(tt){H=!0,v.error(tt)},complete(){te=!0,M=void 0,v.complete()}}),te&&(M=void 0)):Pe=v.subscribe(this),this.add(()=>{T--,Pe.unsubscribe(),Pe=void 0,M&&!te&&s&&0===T&&(M.unsubscribe(),M=void 0,v=void 0)})}}(h))}var Of=L(8049);function Nf(a,i){return i?(0,ee.w)(()=>a,i):(0,ee.w)(()=>a)}var _h=L(3101),xf=L(5435),yh=L(8583);L(2329);const Sn=new Map,Vf={activated:!1,tokenObservers:[]},Uf={initialized:!1,enabled:!1};function Ki(a){return Sn.get(a)||Vf}function Zi(a,i){Sn.set(a,i)}function Ku(){return Uf}class y_{constructor(i,s,h,v,T){if(this.operation=i,this.retryPolicy=s,this.getWaitDuration=h,this.lowerBound=v,this.upperBound=T,this.pending=null,this.nextErrorWaitInterval=v,v>T)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(i){var s=this;return(0,dt.Z)(function*(){s.stop();try{s.pending=new Z.BH,yield function(a){return new Promise(i=>{setTimeout(i,a)})}(s.getNextRun(i)),s.pending.resolve(),yield s.pending.promise,s.pending=new Z.BH,yield s.operation(),s.pending.resolve(),yield s.pending.promise,s.process(!0).catch(()=>{})}catch(h){s.retryPolicy(h)?s.process(!1).catch(()=>{}):s.stop()}})()}getNextRun(i){if(i)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const s=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),s}}}const Si=new Z.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Zu(a){if(!Ki(a).activated)throw Si.create("use-before-activation",{appName:a.name})}function Dd(a,i){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,dt.Z)(function*({url:a,body:i},s){const h={"Content-Type":"application/json"},v=s.getImmediate({optional:!0});v&&(h["X-Firebase-Client"]=v.getPlatformInfoString());const T={method:"POST",body:JSON.stringify(i),headers:h};let M,H;try{M=yield fetch(a,T)}catch(Pe){throw Si.create("fetch-network-error",{originalErrorMessage:Pe.message})}if(200!==M.status)throw Si.create("fetch-status-error",{httpStatus:M.status});try{H=yield M.json()}catch(Pe){throw Si.create("fetch-parse-error",{originalErrorMessage:Pe.message})}const te=H.ttl.match(/^([\d.]+)(s)$/);if(!te||!te[2]||isNaN(Number(te[1])))throw Si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${H.ttl}`});const pe=1e3*Number(te[1]),We=Date.now();return{token:H.attestationToken,expireTimeMillis:We+pe,issuedAtTimeMillis:We}})).apply(this,arguments)}function $f(a,i){const{projectId:s,appId:h,apiKey:v}=a.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${s}/apps/${h}:exchangeDebugToken?key=${v}`,body:{debug_token:i}}}const su="firebase-app-check-store";let Sh=null;function tg(){return Sh||(Sh=new Promise((a,i)=>{try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=h=>{a(h.target.result)},s.onerror=h=>{var v;i(Si.create("storage-open",{originalErrorMessage:null===(v=h.target.error)||void 0===v?void 0:v.message}))},s.onupgradeneeded=h=>{const v=h.target.result;switch(h.oldVersion){case 0:v.createObjectStore(su,{keyPath:"compositeKey"})}}}catch(s){i(Si.create("storage-open",{originalErrorMessage:s.message}))}}),Sh)}function Gf(){return(Gf=(0,dt.Z)(function*(a,i){const h=(yield tg()).transaction(su,"readwrite"),T=h.objectStore(su).put({compositeKey:a,value:i});return new Promise((M,H)=>{T.onsuccess=te=>{M()},h.onerror=te=>{var pe;H(Si.create("storage-set",{originalErrorMessage:null===(pe=te.target.error)||void 0===pe?void 0:pe.message}))}})})).apply(this,arguments)}const ou=new mt.Yd("@firebase/app-check");function Ad(a,i){return(0,Z.hl)()?function(a,i){return function(a,i){return Gf.apply(this,arguments)}(function(a){return`${a.options.appId}-${a.name}`}(a),i)}(a,i).catch(s=>{ou.warn(`Failed to write token to IndexedDB. Error: ${s}`)}):Promise.resolve()}function Zf(){return Ku().enabled}function lc(){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,dt.Z)(function*(){const a=Ku();if(a.enabled&&a.token)return a.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const D_={error:"UNKNOWN_ERROR"};function Ph(a){return Z.US.encodeString(JSON.stringify(a),!1)}function Pd(a){return Md.apply(this,arguments)}function Md(){return(Md=(0,dt.Z)(function*(a,i=!1){const s=a.app;Zu(s);const h=Ki(s);let T,v=h.token;if(!v){const te=yield h.cachedTokenPromise;te&&cc(te)&&(v=te)}if(!i&&v&&cc(v))return{token:v.token};let H,M=!1;if(Zf()){h.exchangeTokenPromise||(h.exchangeTokenPromise=Dd($f(s,yield lc()),a.platformLoggerProvider).then(pe=>(h.exchangeTokenPromise=void 0,pe)),M=!0);const te=yield h.exchangeTokenPromise;return yield Ad(s,te),Zi(s,Object.assign(Object.assign({},h),{token:te})),{token:te.token}}try{h.exchangeTokenPromise||(h.exchangeTokenPromise=h.provider.getToken().then(te=>(h.exchangeTokenPromise=void 0,te)),M=!0),v=yield h.exchangeTokenPromise}catch(te){"appCheck/throttled"===te.code?ou.warn(te.message):ou.error(te),T=te}return v?(H={token:v.token},Zi(s,Object.assign(Object.assign({},h),{token:v})),yield Ad(s,v)):H=qu(T),M&&Rd(s,H),H})).apply(this,arguments)}function Rh(a,i){const s=Ki(a),h=s.tokenObservers.filter(v=>v.next!==i);0===h.length&&s.tokenRefresher&&s.tokenRefresher.isRunning()&&s.tokenRefresher.stop(),Zi(a,Object.assign(Object.assign({},s),{tokenObservers:h}))}function Du(a){const{app:i}=a,s=Ki(i);let h=s.tokenRefresher;h||(h=function(a){const{app:i}=a;return new y_((0,dt.Z)(function*(){let h;if(h=Ki(i).token?yield Pd(a,!0):yield Pd(a),h.error)throw h.error}),()=>!0,()=>{const s=Ki(i);if(s.token){let h=s.token.issuedAtTimeMillis+.5*(s.token.expireTimeMillis-s.token.issuedAtTimeMillis)+3e5;return h=Math.min(h,s.token.expireTimeMillis-3e5),Math.max(0,h-Date.now())}return 0},3e4,96e4)}(a),Zi(i,Object.assign(Object.assign({},s),{tokenRefresher:h}))),!h.isRunning()&&s.isTokenAutoRefreshEnabled&&h.start()}function Rd(a,i){const s=Ki(a).tokenObservers;for(const h of s)try{"EXTERNAL"===h.type&&null!=i.error?h.error(i.error):h.next(i)}catch(v){}}function cc(a){return a.expireTimeMillis-Date.now()>0}function qu(a){return{token:Ph(D_),error:a}}class Au{constructor(i,s){this.app=i,this.platformLoggerProvider=s}_delete(){const{tokenObservers:i}=Ki(this.app);for(const s of i)Rh(this.app,s.next);return Promise.resolve()}}const rp="app-check-internal";(0,pt._registerComponent)(new Je.wA("app-check",a=>function(a,i){return new Au(a,i)}(a.getProvider("app").getImmediate(),a.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((a,i,s)=>{a.getProvider(rp).initialize()})),(0,pt._registerComponent)(new Je.wA(rp,a=>function(a){return{getToken:i=>Pd(a,i),addTokenListener:i=>function(a,i,s,h){const{app:v}=a,T=Ki(v),M={next:s,error:h,type:i};if(Zi(v,Object.assign(Object.assign({},T),{tokenObservers:[...T.tokenObservers,M]})),T.token&&cc(T.token)){const H=T.token;Promise.resolve().then(()=>{s({token:H.token}),Du(a)}).catch(()=>{})}T.cachedTokenPromise.then(()=>Du(a))}(a,"INTERNAL",i),removeTokenListener:i=>Rh(a.app,i)}}(a.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pt.registerVersion)("@firebase/app-check","0.5.2");class xd{constructor(){return(0,ze.vb)("app-check")}}"undefined"!=typeof window&&window,L(7841);const Xu=new D.OlP("angularfire2.auth.use-emulator"),kd=new D.OlP("angularfire2.auth.settings"),op=new D.OlP("angularfire2.auth.tenant-id"),Fd=new D.OlP("angularfire2.auth.langugage-code"),Ld=new D.OlP("angularfire2.auth.use-device-language"),Uh=new D.OlP("angularfire.auth.persistence"),ap=(a,i,s,h,v,T,M,H)=>(0,Se.cc)(`${a.name}.auth`,"AngularFireAuth",a.name,()=>{const te=i.runOutsideAngular(()=>a.auth());if(s&&te.useEmulator(...s),h&&(te.tenantId=h),te.languageCode=v,T&&te.useDeviceLanguage(),M)for(const[pe,We]of Object.entries(M))te.settings[pe]=We;return H&&te.setPersistence(H),te},[s,h,v,T,M,H]);let lp=(()=>{class a{constructor(s,h,v,T,M,H,te,pe,We,Pe,tt,Ot){const kt=new ph.xQ,Xn=(0,Ee.of)(void 0).pipe((0,wu.QV)(M.outsideAngular),(0,ee.w)(()=>T.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2755)))),(0,X.U)(()=>(0,Se.on)(s,T,h)),(0,X.U)(ei=>ap(ei,T,H,pe,We,Pe,te,tt)),Iu({bufferSize:1,refCount:!1}));if((0,yh.PM)(v))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ee.of)(null);else{Xn.pipe((0,Of.P)()).subscribe();const ml=Xn.pipe((0,ee.w)(Yi=>Yi.getRedirectResult().then(Fl=>Fl,()=>null)),ze.iC,Iu({bufferSize:1,refCount:!1})),Na=Xn.pipe((0,ee.w)(Yi=>new B.y(Fl=>({unsubscribe:T.runOutsideAngular(()=>Yi.onAuthStateChanged(Lc=>Fl.next(Lc),Lc=>Fl.error(Lc),()=>Fl.complete()))})))),kl=Xn.pipe((0,ee.w)(Yi=>new B.y(Fl=>({unsubscribe:T.runOutsideAngular(()=>Yi.onIdTokenChanged(Lc=>Fl.next(Lc),Lc=>Fl.error(Lc),()=>Fl.complete()))}))));this.authState=ml.pipe(Nf(Na),(0,_h.R)(M.outsideAngular),(0,wu.QV)(M.insideAngular)),this.user=ml.pipe(Nf(kl),(0,_h.R)(M.outsideAngular),(0,wu.QV)(M.insideAngular)),this.idToken=this.user.pipe((0,ee.w)(Yi=>Yi?(0,Cd.D)(Yi.getIdToken()):(0,Ee.of)(null))),this.idTokenResult=this.user.pipe((0,ee.w)(Yi=>Yi?(0,Cd.D)(Yi.getIdTokenResult()):(0,Ee.of)(null))),this.credential=(0,de.T)(ml,kt,this.authState.pipe((0,xf.h)(Yi=>!Yi))).pipe((0,X.U)(Yi=>(null==Yi?void 0:Yi.user)?Yi:null),(0,_h.R)(M.outsideAngular),(0,wu.QV)(M.insideAngular))}return(0,Se.pX)(this,Xn,T,{spy:{apply:(ei,ml,Na)=>{(ei.startsWith("signIn")||ei.startsWith("createUser"))&&Na.then(kl=>kt.next(kl))}}})}}return a.\u0275fac=function(s){return new(s||a)(D.LFG(Se.Dh),D.LFG(Se.xv,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(ze.HU),D.LFG(Xu,8),D.LFG(kd,8),D.LFG(op,8),D.LFG(Fd,8),D.LFG(Ld,8),D.LFG(Uh,8),D.LFG(xd,8))},a.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})();function Bh(a){return null==a}function jh(a){return"function"==typeof a.set}function Hh(a,i){return jh(i)?i:a.ref(i)}function $h(a,i){if(function(a){return"string"==typeof a}(a))return i.stringCase();if(jh(a))return i.firebaseCase();if(function(a){return"function"==typeof a.exportVal}(a))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof a)}function Su(a,i,s="on",h=m.z){return new B.y(v=>{let T=null;return T=a[s](i,(M,H)=>{h.schedule(()=>{v.next({snapshot:M,prevKey:H})}),"once"===s&&h.schedule(()=>v.complete())},M=>{h.schedule(()=>v.error(M))}),"on"===s?{unsubscribe(){null!=T&&a.off(i,T)}}:{unsubscribe(){}}}).pipe((0,X.U)(v=>{const{snapshot:T,prevKey:M}=v;let H=null;return T.exists()&&(H=T.key),{type:i,payload:T,prevKey:M,key:H}}),(0,se.B)())}function ed(a,i){const s=a.length;for(let h=0;h<s;h++)if(a[h].payload.key===i)return h;return-1}function Eg(a,i){const{payload:s,prevKey:h,key:v}=i,T=ed(a,v),M=function(a,i){if(Bh(i))return 0;{const s=ed(a,i);return-1===s?a.length:s+1}}(a,h);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let H=null;i.payload.forEach(te=>{const pe={payload:te,type:"value",prevKey:H,key:te.key};return H=te.key,a=[...a,pe],!1})}return a;case"child_added":if(T>-1){const H=a[T-1];(H&&H.key||null)!==h&&(a=a.filter(te=>te.payload.key!==s.key)).splice(M,0,i)}else{if(null==h)return[i,...a];(a=a.slice()).splice(M,0,i)}return a;case"child_removed":return a.filter(H=>H.payload.key!==s.key);case"child_changed":return a.map(H=>H.payload.key===v?i:H);case"child_moved":if(T>-1){const H=a.splice(T,1)[0];return(a=a.slice()).splice(M,0,H),a}return a;default:return a}}function Cg(a){return(Bh(a)||0===a.length)&&(a=["child_added","child_removed","child_changed","child_moved"]),a}function au(a,i,s){return function(a,i,s){return Su(a,"value","once",s).pipe((0,ee.w)(h=>{const v=[(0,Ee.of)(h)];return i.forEach(T=>v.push(Su(a,T,"on",s))),(0,de.T)(...v).pipe((0,ie.R)(Eg,[]))}),(0,Y.x)())}(a,i=Cg(i),s)}function Wh(a,i,s){const h=(i=Cg(i)).map(v=>Su(a,v,"on",s));return(0,de.T)(...h)}function Vd(a,i){return function(h,v){return $h(h,{stringCase:()=>a.child(h)[i](v),firebaseCase:()=>h[i](v),snapshotCase:()=>h.ref[i](v)})}}function up(a){return function(s){return s?$h(s,{stringCase:()=>a.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):a.remove()}}function Gh(a,i){return function(){return Su(a,"value","on",i)}}const zh=new D.OlP("angularfire2.realtimeDatabaseURL"),Dg=new D.OlP("angularfire2.database.use-emulator");let Tg=(()=>{class a{constructor(s,h,v,T,M,H,te,pe,We,Pe,tt,Ot,kt,Xn,ei){this.schedulers=H;const ml=te,Na=(0,Se.on)(s,M,h);pe&&ap(Na,M,We,tt,Ot,kt,Pe,Xn),this.database=(0,Se.cc)(`${Na.name}.database.${v}`,"AngularFireDatabase",Na.name,()=>{const kl=M.runOutsideAngular(()=>Na.database(v||void 0));return ml&&kl.useEmulator(...ml),kl},[ml])}list(s,h){const v=this.schedulers.ngZone.runOutsideAngular(()=>Hh(this.database,s));let T=v;return h&&(T=h(v)),function(a,i){const s=i.schedulers.outsideAngular,h=i.schedulers.ngZone.run(()=>a.ref);return{query:a,update:Vd(h,"update"),set:Vd(h,"set"),push:v=>h.push(v),remove:up(h),snapshotChanges:v=>au(a,v,s).pipe(ze.iC),stateChanges:v=>Wh(a,v,s).pipe(ze.iC),auditTrail:v=>function(a,i,s){return function(a,i,s){return function(a,i){return Su(a,"value","on",i).pipe((0,X.U)(s=>{let h;return s.payload.forEach(v=>(h=v.key,!1)),{data:s,lastKeyToLoad:h}}))}(a,s).pipe(function(...a){return i=>{let s;return"function"==typeof a[a.length-1]&&(s=a.pop()),i.lift(new Ie(a,s))}}(i),(0,X.U)(([v,T])=>{const M=v.lastKeyToLoad,H=T.map(te=>te.key);return{actions:T,lastKeyToLoad:M,loadedKeys:H}}),function(a){return i=>i.lift(new Ae(a))}(v=>-1===v.loadedKeys.indexOf(v.lastKeyToLoad)),(0,X.U)(v=>v.actions))}(a,Wh(a,i).pipe((0,ie.R)((v,T)=>[...v,T],[])),s)}(a,v,s).pipe(ze.iC),valueChanges:(v,T)=>au(a,v,s).pipe((0,X.U)(H=>H.map(te=>T&&T.idField?Object.assign(Object.assign({},te.payload.val()),{[T.idField]:te.key}):te.payload.val())),ze.iC)}}(T,this)}object(s){return function(a,i){return{query:a,snapshotChanges:()=>Gh(a,i.schedulers.outsideAngular)().pipe(ze.iC),update:s=>a.ref.update(s),set:s=>a.ref.set(s),remove:()=>a.ref.remove(),valueChanges:()=>Gh(a,i.schedulers.outsideAngular)().pipe(ze.iC,(0,X.U)(h=>h.payload.exists()?h.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Hh(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return a.\u0275fac=function(s){return new(s||a)(D.LFG(Se.Dh),D.LFG(Se.xv,8),D.LFG(zh,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(ze.HU),D.LFG(Dg,8),D.LFG(lp,8),D.LFG(Xu,8),D.LFG(kd,8),D.LFG(op,8),D.LFG(Fd,8),D.LFG(Ld,8),D.LFG(Uh,8),D.LFG(xd,8))},a.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),Pu=(()=>{class a{constructor(s){this.afdb=s}getCategoryBackdrop(s){return this.afdb.object(`backdrops/categories/${s||""}`).valueChanges()}}return a.\u0275fac=function(s){return new(s||a)(D.LFG(Tg))},a.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},7188:(ft,Me,L)=>{"use strict";L.d(Me,{h:()=>Q});var D=L(6962),m=L(7238),B=L(7716);let Ee=(()=>{class me{constructor(){this.isPreview=!1}}return me.\u0275fac=function(Le){return new(Le||me)},me.\u0275cmp=B.Xpm({type:me,selectors:[["ng-component"]],inputs:{isPreview:"isPreview"},decls:0,vars:0,template:function(Le,Ve){},encapsulation:2,data:{animation:[(0,m.X$)("showBlock",[(0,m.eR)(":enter",[(0,m.oB)({opacity:0}),(0,m.jt)("0.5s 520ms",(0,m.oB)({opacity:1}))]),(0,m.eR)(":leave",[(0,m.jt)("0.5s",(0,m.oB)({opacity:0}))])])]}}),me})();var de=L(7625),X=L(8583),se=L(3128),ee=L(8248);function ie(me,Ie){1&me&&(B.TgZ(0,"div",2),B._UZ(1,"div",3),B._UZ(2,"h3",4),B._UZ(3,"span",5),B.qZA()),2&me&&B.Q6J("@showBlock",void 0)}const Y=function(me){return["/movies",me]};function J(me,Ie){if(1&me&&(B.TgZ(0,"div",2),B.TgZ(1,"a",6),B._UZ(2,"img",7),B.qZA(),B.TgZ(3,"div",8),B.TgZ(4,"div",9),B.TgZ(5,"h3",10),B._uU(6),B.qZA(),B.qZA(),B.TgZ(7,"span",11),B._uU(8),B.ALo(9,"uppercase"),B.qZA(),B.qZA(),B.TgZ(10,"div",12),B._UZ(11,"svg-icon",13),B.TgZ(12,"span",14),B._uU(13),B.qZA(),B.qZA(),B.qZA()),2&me){const Le=B.oxw();B.Q6J("@showBlock",void 0),B.xp6(1),B.Q6J("routerLink",B.VKq(9,Y,Le.movie.id)),B.xp6(1),B.Q6J("src",Le.coverUrl,B.LSH)("alt",Le.movie.title),B.xp6(4),B.Oqu(Le.movie.title),B.xp6(2),B.Oqu(B.lcZ(9,7,Le.movie.pg)),B.xp6(5),B.hij(" ",Le.movie.duration," minute ")}}let Q=(()=>{class me extends Ee{constructor(Le){super(),this.tmdb=Le,this.movie=null}get coverUrl(){if(!this.movie||!this.tmdb.config)return"";const{secure_base_url:Le,poster_sizes:Ve}=this.tmdb.config.images;return`${Le}${Ve[D.w.w342]}${this.movie.coverUrl}`}ngOnInit(){}}return me.\u0275fac=function(Le){return new(Le||me)(B.Y36(de.o))},me.\u0275cmp=B.Xpm({type:me,selectors:[["app-movie-card"]],inputs:{movie:"movie"},features:[B.qOj],decls:3,vars:2,consts:[["class","card-grid-container",4,"ngIf","ngIfElse"],["cardContent",""],[1,"card-grid-container"],[1,"preview","cover"],[1,"preview","title"],[1,"preview","duration"],[3,"routerLink"],[1,"cover",3,"src","alt"],[1,"title-row"],[1,"title-wrapp"],[1,"title"],[1,"badge"],[1,"duration"],["src","assets/icons/Clock_18x18.svg",1,"ui-icon","white"],[1,"time"]],template:function(Le,Ve){if(1&Le&&(B.YNc(0,ie,4,1,"div",0),B.YNc(1,J,14,11,"ng-template",null,1,B.W1O)),2&Le){const Re=B.MAs(2);B.Q6J("ngIf",Ve.isPreview)("ngIfElse",Re)}},directives:[X.O5,se.yS,ee.bk],pipes:[X.gd],styles:[".card-grid-container[_ngcontent-%COMP%]{display:grid;align-items:stretch}.duration[_ngcontent-%COMP%], .title-row[_ngcontent-%COMP%]{display:flex}.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{border:none;border-radius:1em}.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{transition:all .2s ease-out}[_nghost-%COMP%]{scroll-snap-align:start}:first-child[_nghost-%COMP%]{scroll-snap-align:center}.card-grid-container[_ngcontent-%COMP%]{grid-template-rows:1fr 25px 25px;grid-gap:10px;gap:10px;height:100%}[_nghost-%COMP%]{flex:1 0 250px;max-width:250px;margin-right:2em;height:500px}.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;object-fit:cover;z-index:1}.cover[_ngcontent-%COMP%]:hover, .preview.duration[_ngcontent-%COMP%]:hover, .preview.title[_ngcontent-%COMP%]:hover, .cover[_ngcontent-%COMP%]:focus, .preview.duration[_ngcontent-%COMP%]:focus, .preview.title[_ngcontent-%COMP%]:focus{transform:scale(1.02);z-index:3;box-shadow:0 5px 30px 5px #00000080}.title[_ngcontent-%COMP%]{display:inline;font-size:1.4em;line-height:1.9em;font-weight:500}.title-row[_ngcontent-%COMP%]{color:var(--theme-color-text);align-items:baseline}.title-wrapp[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;max-width:210px;text-overflow:ellipsis}.duration[_ngcontent-%COMP%]{align-items:center;color:var(--theme-color-text);opacity:.5}.time[_ngcontent-%COMP%]{margin-left:5px;font-size:1.04em}.badge[_ngcontent-%COMP%]{border:1px solid var(--theme-color-text);color:var(--theme-color-text);font-weight:400;border-radius:.5em;padding:.2em .7em .15em;font-size:1.1em;margin-left:.5em;opacity:.5}.preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{display:inline-block}.preview.duration[_ngcontent-%COMP%]:last-child, .preview.title[_ngcontent-%COMP%]:last-child{margin-bottom:7px}.preview.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#152647 15%,#1a1538 45%,#152647 85%);background-size:800% 800%;animation:loadingBg 2s ease-in infinite}.preview.title[_ngcontent-%COMP%]{width:90%}.preview.duration[_ngcontent-%COMP%]{width:50%}@keyframes loadingBg{0%{background-position:0% 50%}50%{background-position:50% 50%}to{background-position:100% 50%}}"],changeDetection:0}),me})()},5140:(ft,Me,L)=>{"use strict";L.d(Me,{r:()=>B});var D=L(9765),m=L(7716);let B=(()=>{class Ee{constructor(){this.modalState={open:!1,activeImageIndex:null,isGallery:!1},this.images=new D.xQ,this.state=new D.xQ}open(X=0){var se;this.modalState.open=!0,this.modalState.activeImageIndex=(null===(se=this.imagesState)||void 0===se?void 0:se.length)?X:null,this.pushModalChanges()}close(){this.modalState.open=!1,this.modalState.activeImageIndex=null,this.modalState.isGallery=!1,this.pushModalChanges()}setImages(X){this.imagesState=X,this.pushImagesChanges()}pushModalChanges(){this.state.next(this.modalState)}pushImagesChanges(){this.images.next(this.imagesState)}}return Ee.\u0275fac=function(X){return new(X||Ee)},Ee.\u0275prov=m.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},5173:(ft,Me,L)=>{"use strict";L.d(Me,{m:()=>se});var D=L(3128),m=L(8248),B=L(8583),Ee=L(7716);let de=(()=>{class ee{}return ee.\u0275fac=function(Y){return new(Y||ee)},ee.\u0275mod=Ee.oAB({type:ee}),ee.\u0275inj=Ee.cJS({imports:[[B.ez,D.Bz,m._J.forRoot()],m._J]}),ee})(),X=(()=>{class ee{}return ee.\u0275fac=function(Y){return new(Y||ee)},ee.\u0275mod=Ee.oAB({type:ee}),ee.\u0275inj=Ee.cJS({imports:[[B.ez]]}),ee})(),se=(()=>{class ee{}return ee.\u0275fac=function(Y){return new(Y||ee)},ee.\u0275mod=Ee.oAB({type:ee}),ee.\u0275inj=Ee.cJS({imports:[[B.ez,D.Bz,de,X],X,de]}),ee})()},479:(ft,Me,L)=>{"use strict";L.d(Me,{r:()=>me});var D=L(7716),m=L(8583),B=L(3128),Ee=L(4628);function de(Ie,Le){if(1&Ie&&D._UZ(0,"ui-icon",7),2&Ie){D.oxw();const Ve=D.MAs(1),Re=D.oxw();D.Q6J("name",Re.icon)("iconStyle",Ve.isActive?"fill":"outline")}}function X(Ie,Le){1&Ie&&D.GkF(0)}function se(Ie,Le){if(1&Ie&&(D.TgZ(0,"a",3,4),D.YNc(2,de,1,2,"ui-icon",5),D.YNc(3,X,1,0,"ng-container",6),D.qZA()),2&Ie){const Ve=D.oxw(),Re=D.MAs(3);D.ekj("transparent","transparent"===Ve.style)("gradient","gradient"===Ve.style)("btn-size-lg","lg"===Ve.size)("btn-square","square"===Ve.form),D.Q6J("routerLink",Ve.linkTo)("queryParams",Ve.queryParams),D.xp6(2),D.Q6J("ngIf",Ve.icon),D.xp6(1),D.Q6J("ngTemplateOutlet",Re)}}function ee(Ie,Le){if(1&Ie&&D._UZ(0,"ui-icon",7),2&Ie){const Ve=D.oxw(2);D.Q6J("name",Ve.icon)("iconStyle",Ve.active?"fill":"outline")}}function ie(Ie,Le){1&Ie&&D.GkF(0)}function Y(Ie,Le){if(1&Ie&&(D.TgZ(0,"button",8),D.YNc(1,ee,1,2,"ui-icon",5),D.YNc(2,ie,1,0,"ng-container",6),D.qZA()),2&Ie){const Ve=D.oxw(),Re=D.MAs(3);D.ekj("transparent","transparent"===Ve.style)("gradient","gradient"===Ve.style)("btn-size-lg","lg"===Ve.size)("btn-square","square"===Ve.form),D.xp6(1),D.Q6J("ngIf",Ve.icon),D.xp6(1),D.Q6J("ngTemplateOutlet",Re)}}function J(Ie,Le){1&Ie&&(D.TgZ(0,"span",9),D.Hsn(1),D.qZA())}const Q=["*"];let me=(()=>{class Ie{constructor(){this.linkTo=null,this.size=null,this.style=null,this.width=null,this.form="auto",this.queryParams=null,this.active=!1}get containerWidth(){return"full"===this.width}}return Ie.\u0275fac=function(Ve){return new(Ve||Ie)},Ie.\u0275cmp=D.Xpm({type:Ie,selectors:[["ui-btn"]],hostVars:2,hostBindings:function(Ve,Re){2&Ve&&D.ekj("full",Re.containerWidth)},inputs:{linkTo:"linkTo",size:"size",style:"style",icon:"icon",width:"width",form:"form",queryParams:"queryParams"},ngContentSelectors:Q,decls:4,vars:2,consts:[["class","ui-item btn","routerLinkActive","active",3,"transparent","gradient","btn-size-lg","btn-square","routerLink","queryParams",4,"ngIf"],["class","ui-item btn",3,"transparent","gradient","btn-size-lg","btn-square",4,"ngIf"],["btnContent",""],["routerLinkActive","active",1,"ui-item","btn",3,"routerLink","queryParams"],["link","routerLinkActive"],[3,"name","iconStyle",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"name","iconStyle"],[1,"ui-item","btn"],[1,"btn-name"]],template:function(Ve,Re){1&Ve&&(D.F$t(),D.YNc(0,se,4,12,"a",0),D.YNc(1,Y,3,10,"button",1),D.YNc(2,J,2,0,"ng-template",null,2,D.W1O)),2&Ve&&(D.Q6J("ngIf",Re.linkTo||Re.queryParams),D.xp6(1),D.Q6J("ngIf",!Re.linkTo&&!Re.queryParams))},directives:[m.O5,B.yS,B.Od,m.tP,Ee.o],styles:["[_nghost-%COMP%]{display:inline-block;width:auto}.btn-nav[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0;flex-direction:column;align-items:center}.full[_nghost-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.btn[_ngcontent-%COMP%]:hover{background-color:var(--theme-blue-lighten)}.btn[_ngcontent-%COMP%]:active{opacity:.8}.btn-size-lg[_ngcontent-%COMP%]{font-size:1.5em;font-weight:300}.btn.transparent[_ngcontent-%COMP%]{background-color:transparent;color:var(--light);opacity:.6}.btn.transparent[_ngcontent-%COMP%]:hover{opacity:.9}.btn.transparent.active[_ngcontent-%COMP%]{opacity:1}.btn.gradient[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#1d51a8,#123a85)}.btn-square[_ngcontent-%COMP%]{width:3.5em;height:3.5em}  .btn ui-icon+span.btn-name{margin-top:10px}"],changeDetection:0}),Ie})()},4628:(ft,Me,L)=>{"use strict";L.d(Me,{o:()=>Ee});class D{constructor(){this.icons=[{name:"home",path:{outline:"assets/icons/Home.svg",fill:"assets/icons/Home-fill.svg"}},{name:"fire",path:{outline:"assets/icons/Fire.svg",fill:"assets/icons/Fire-fill.svg"}},{name:"gear",path:{outline:"assets/icons/Gear.svg",fill:"assets/icons/Gear-fill.svg"}},{name:"user",path:{outline:"assets/icons/User.svg",fill:"assets/icons/User-fill.svg"}},{name:"video",path:{outline:"assets/icons/Video.svg",fill:"assets/icons/Video-fill.svg"}},{name:"clapperboard",path:{outline:"assets/icons/Clapperboard.svg",fill:"assets/icons/Clapperboard-fill.svg"}},{name:"search",path:{outline:"assets/icons/Search.svg",fill:null}},{name:"bell",path:{outline:"assets/icons/Bell.svg",fill:"assets/icons/Bell-fill.svg"}},{name:"bell-notify",path:{outline:"assets/icons/Bell-notify.svg",fill:"assets/icons/Bell-notify-fill.svg"}}]}getIcon(X){return this.icons.find(se=>se.name===X)}}var m=L(7716),B=L(8248);let Ee=(()=>{class de{constructor(){this.iconStyle="outline",this.color="white",this.btnIcon=!1,this.icons=new D}get className(){return this.btnIcon}get iconPath(){return this.name?this.icons.getIcon(this.name).path[this.iconStyle]:""}}return de.\u0275fac=function(se){return new(se||de)},de.\u0275cmp=m.Xpm({type:de,selectors:[["ui-icon"]],hostVars:2,hostBindings:function(se,ee){2&se&&m.ekj("btn-icon",ee.className)},inputs:{name:"name",iconStyle:"iconStyle",btnIcon:"btnIcon"},decls:1,vars:7,consts:[[1,"icon",3,"src"]],template:function(se,ee){1&se&&m._UZ(0,"svg-icon",0),2&se&&(m.ekj("fill","fill"===ee.iconStyle)("color-white","white"===ee.color)("color-black","black"===ee.color),m.Q6J("src",ee.iconPath))},directives:[B.bk],styles:[".color[_ngcontent-%COMP%]{transition:all .2s ease-out}[_nghost-%COMP%], .icon[_ngcontent-%COMP%]{display:inline-block;width:25px;height:25px}.icon[_ngcontent-%COMP%]{width:100%;height:100%}.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:inherit;height:inherit}.color-white[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .color-white[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--light)}.color-white.fill[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .color-white.fill[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:var(--light)}"],changeDetection:0}),de})()},2340:(ft,Me,L)=>{"use strict";L.d(Me,{N:()=>D});const D={firebase:{projectId:"moviedb-cebb6",appId:"1:234849452779:web:c023e705f0f14aa3efb4ae",databaseURL:"https://moviedb-cebb6-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"moviedb-cebb6.appspot.com",apiKey:"AIzaSyBGhN7I4BICBvEL4J0zqjZ25Yt4FHCjS_Y",authDomain:"moviedb-cebb6.firebaseapp.com",messagingSenderId:"234849452779"},production:!0,tmdbApiKEy:"999beffa3eeab0a39b1c5a860fa205a1"}},5850:(ft,Me,L)=>{"use strict";var D=L(9075),m=L(7716),B=L(8583),se=(L(4402),L(7574),L(9796),L(8002));L(1555);let nr=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({}),g})(),x=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({imports:[[nr]]}),g})(),z=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({imports:[x]}),g})();var ct=L(7238);function un(){return"undefined"!=typeof window&&void 0!==window.document}function Pn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $t(g){switch(g.length){case 0:return new ct.ZN;case 1:return g[0];default:return new ct.ZE(g)}}function Nn(g,u,l,_,R={},$={}){const oe=[],ye=[];let ke=-1,Ge=null;if(_.forEach(ht=>{const At=ht.offset,nn=At==ke,Lt=nn&&Ge||{};Object.keys(ht).forEach(xt=>{let fn=xt,Kn=ht[xt];if("offset"!==xt)switch(fn=u.normalizePropertyName(fn,oe),Kn){case ct.k1:Kn=R[xt];break;case ct.l3:Kn=$[xt];break;default:Kn=u.normalizeStyleValue(xt,fn,Kn,oe)}Lt[fn]=Kn}),nn||ye.push(Lt),Ge=Lt,ke=At}),oe.length){const ht="\n - ";throw new Error(`Unable to animate due to the following errors:${ht}${oe.join(ht)}`)}return ye}function zn(g,u,l,_){switch(u){case"start":g.onStart(()=>_(l&&fr(l,"start",g)));break;case"done":g.onDone(()=>_(l&&fr(l,"done",g)));break;case"destroy":g.onDestroy(()=>_(l&&fr(l,"destroy",g)))}}function fr(g,u,l){const _=l.totalTime,$=ji(g.element,g.triggerName,g.fromState,g.toState,u||g.phaseName,null==_?g.totalTime:_,!!l.disabled),oe=g._data;return null!=oe&&($._data=oe),$}function ji(g,u,l,_,R="",$=0,oe){return{element:g,triggerName:u,fromState:l,toState:_,phaseName:R,totalTime:$,disabled:!!oe}}function yn(g,u,l){let _;return g instanceof Map?(_=g.get(u),_||g.set(u,_=l)):(_=g[u],_||(_=g[u]=l)),_}function Tn(g){const u=g.indexOf(":");return[g.substring(1,u),g.substr(u+1)]}let Ri=(g,u)=>!1,bi=(g,u)=>!1,Oi=(g,u,l)=>[];const ds=Pn();(ds||"undefined"!=typeof Element)&&(Ri=un()?(g,u)=>{for(;u&&u!==document.documentElement;){if(u===g)return!0;u=u.parentNode||u.host}return!1}:(g,u)=>g.contains(u),bi=(()=>{if(ds||Element.prototype.matches)return(g,u)=>g.matches(u);{const g=Element.prototype,u=g.matchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector||g.webkitMatchesSelector;return u?(l,_)=>u.apply(l,[_]):bi}})(),Oi=(g,u,l)=>{let _=[];if(l){const R=g.querySelectorAll(u);for(let $=0;$<R.length;$++)_.push(R[$])}else{const R=g.querySelector(u);R&&_.push(R)}return _});let hs=null,it=!1;function In(g){hs||(hs=("undefined"!=typeof document?document.body:null)||{},it=!!hs.style&&"WebkitAppearance"in hs.style);let u=!0;return hs.style&&!function(g){return"ebkit"==g.substring(1,6)}(g)&&(u=g in hs.style,!u&&it&&(u="Webkit"+g.charAt(0).toUpperCase()+g.substr(1)in hs.style)),u}const ar=bi,va=Ri,ts=Oi;function zr(g){const u={};return Object.keys(g).forEach(l=>{const _=l.replace(/([a-z])([A-Z])/g,"$1-$2");u[_]=g[l]}),u}let fo=(()=>{class g{validateStyleProperty(l){return In(l)}matchesElement(l,_){return ar(l,_)}containsElement(l,_){return va(l,_)}query(l,_,R){return ts(l,_,R)}computeStyle(l,_,R){return R||""}animate(l,_,R,$,oe,ye=[],ke){return new ct.ZN(R,$)}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})(),po=(()=>{class g{}return g.NOOP=new fo,g})();const Ks="ng-enter",Nr="ng-leave",ii="ng-trigger",si=".ng-trigger",mo="ng-animating",fs=".ng-animating";function Rs(g){if("number"==typeof g)return g;const u=g.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:_o(parseFloat(u[1]),u[2])}function _o(g,u){switch(u){case"s":return 1e3*g;default:return g}}function yo(g,u,l){return g.hasOwnProperty("duration")?g:function(g,u,l){let R,$=0,oe="";if("string"==typeof g){const ye=g.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ye)return u.push(`The provided timing value "${g}" is invalid.`),{duration:0,delay:0,easing:""};R=_o(parseFloat(ye[1]),ye[2]);const ke=ye[3];null!=ke&&($=_o(parseFloat(ke),ye[4]));const Ge=ye[5];Ge&&(oe=Ge)}else R=g;if(!l){let ye=!1,ke=u.length;R<0&&(u.push("Duration values below 0 are not allowed for this animation step."),ye=!0),$<0&&(u.push("Delay values below 0 are not allowed for this animation step."),ye=!0),ye&&u.splice(ke,0,`The provided timing value "${g}" is invalid.`)}return{duration:R,delay:$,easing:oe}}(g,u,l)}function Zs(g,u={}){return Object.keys(g).forEach(l=>{u[l]=g[l]}),u}function ns(g,u,l={}){if(u)for(let _ in g)l[_]=g[_];else Zs(g,l);return l}function Xo(g,u,l){return l?u+":"+l+";":""}function vo(g){let u="";for(let l=0;l<g.style.length;l++){const _=g.style.item(l);u+=Xo(0,_,g.style.getPropertyValue(_))}for(const l in g.style)g.style.hasOwnProperty(l)&&!l.startsWith("_")&&(u+=Xo(0,Xa(l),g.style[l]));g.setAttribute("style",u)}function fi(g,u,l){g.style&&(Object.keys(u).forEach(_=>{const R=gr(_);l&&!l.hasOwnProperty(_)&&(l[_]=g.style[R]),g.style[R]=u[_]}),Pn()&&vo(g))}function rs(g,u){g.style&&(Object.keys(u).forEach(l=>{const _=gr(l);g.style[_]=""}),Pn()&&vo(g))}function Oo(g){return Array.isArray(g)?1==g.length?g[0]:(0,ct.vP)(g):g}const Os=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ca(g){let u=[];if("string"==typeof g){let l;for(;l=Os.exec(g);)u.push(l[1]);Os.lastIndex=0}return u}function gs(g,u,l){const _=g.toString(),R=_.replace(Os,($,oe)=>{let ye=u[oe];return u.hasOwnProperty(oe)||(l.push(`Please provide a value for the animation param ${oe}`),ye=""),ye.toString()});return R==_?g:R}function Ar(g){const u=[];let l=g.next();for(;!l.done;)u.push(l.value),l=g.next();return u}const Ns=/-+([a-z0-9])/g;function gr(g){return g.replace(Ns,(...u)=>u[1].toUpperCase())}function Xa(g){return g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yr(g,u){return 0===g||0===u}function jl(g,u,l){const _=Object.keys(l);if(_.length&&u.length){let $=u[0],oe=[];if(_.forEach(ye=>{$.hasOwnProperty(ye)||oe.push(ye),$[ye]=l[ye]}),oe.length)for(var R=1;R<u.length;R++){let ye=u[R];oe.forEach(function(ke){ye[ke]=ba(g,ke)})}}return u}function xr(g,u,l){switch(u.type){case 7:return g.visitTrigger(u,l);case 0:return g.visitState(u,l);case 1:return g.visitTransition(u,l);case 2:return g.visitSequence(u,l);case 3:return g.visitGroup(u,l);case 4:return g.visitAnimate(u,l);case 5:return g.visitKeyframes(u,l);case 6:return g.visitStyle(u,l);case 8:return g.visitReference(u,l);case 9:return g.visitAnimateChild(u,l);case 10:return g.visitAnimateRef(u,l);case 11:return g.visitQuery(u,l);case 12:return g.visitStagger(u,l);default:throw new Error(`Unable to resolve animation metadata node #${u.type}`)}}function ba(g,u){return window.getComputedStyle(g)[u]}function ms(g,u){const l=[];return"string"==typeof g?g.split(/\s*,\s*/).forEach(_=>function(g,u,l){if(":"==g[0]){const ke=function(g,u){switch(g){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,_)=>parseFloat(_)>parseFloat(l);case":decrement":return(l,_)=>parseFloat(_)<parseFloat(l);default:return u.push(`The transition alias value "${g}" is not supported`),"* => *"}}(g,l);if("function"==typeof ke)return void u.push(ke);g=ke}const _=g.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return l.push(`The provided transition expression "${g}" is not supported`),u;const R=_[1],$=_[2],oe=_[3];u.push(Qs(R,oe));"<"==$[0]&&!("*"==R&&"*"==oe)&&u.push(Qs(oe,R))}(_,l,u)):l.push(g),l}const rr=new Set(["true","1"]),xs=new Set(["false","0"]);function Qs(g,u){const l=rr.has(g)||xs.has(g),_=rr.has(u)||xs.has(u);return(R,$)=>{let oe="*"==g||g==R,ye="*"==u||u==$;return!oe&&l&&"boolean"==typeof R&&(oe=R?rr.has(g):xs.has(g)),!ye&&_&&"boolean"==typeof $&&(ye=$?rr.has(u):xs.has(u)),oe&&ye}}const Ii=new RegExp("s*:selfs*,?","g");function ea(g,u,l){return new _s(g).build(u,l)}class _s{constructor(u){this._driver=u}build(u,l){const _=new La(l);return this._resetContextStyleTimingState(_),xr(this,Oo(u),_)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles={},u.collectedStyles[""]={},u.currentTime=0}visitTrigger(u,l){let _=l.queryCount=0,R=l.depCount=0;const $=[],oe=[];return"@"==u.name.charAt(0)&&l.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),u.definitions.forEach(ye=>{if(this._resetContextStyleTimingState(l),0==ye.type){const ke=ye,Ge=ke.name;Ge.toString().split(/\s*,\s*/).forEach(ht=>{ke.name=ht,$.push(this.visitState(ke,l))}),ke.name=Ge}else if(1==ye.type){const ke=this.visitTransition(ye,l);_+=ke.queryCount,R+=ke.depCount,oe.push(ke)}else l.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:u.name,states:$,transitions:oe,queryCount:_,depCount:R,options:null}}visitState(u,l){const _=this.visitStyle(u.styles,l),R=u.options&&u.options.params||null;if(_.containsDynamicStyles){const $=new Set,oe=R||{};if(_.styles.forEach(ye=>{if(pi(ye)){const ke=ye;Object.keys(ke).forEach(Ge=>{Ca(ke[Ge]).forEach(ht=>{oe.hasOwnProperty(ht)||$.add(ht)})})}}),$.size){const ye=Ar($.values());l.errors.push(`state("${u.name}", ...) must define default values for all the following style substitutions: ${ye.join(", ")}`)}}return{type:0,name:u.name,style:_,options:R?{params:R}:null}}visitTransition(u,l){l.queryCount=0,l.depCount=0;const _=xr(this,Oo(u.animation),l);return{type:1,matchers:ms(u.expr,l.errors),animation:_,queryCount:l.queryCount,depCount:l.depCount,options:Hi(u.options)}}visitSequence(u,l){return{type:2,steps:u.steps.map(_=>xr(this,_,l)),options:Hi(u.options)}}visitGroup(u,l){const _=l.currentTime;let R=0;const $=u.steps.map(oe=>{l.currentTime=_;const ye=xr(this,oe,l);return R=Math.max(R,l.currentTime),ye});return l.currentTime=R,{type:3,steps:$,options:Hi(u.options)}}visitAnimate(u,l){const _=function(g,u){let l=null;if(g.hasOwnProperty("duration"))l=g;else if("number"==typeof g)return na(yo(g,u).duration,0,"");const _=g;if(_.split(/\s+/).some($=>"{"==$.charAt(0)&&"{"==$.charAt(1))){const $=na(0,0,"");return $.dynamic=!0,$.strValue=_,$}return l=l||yo(_,u),na(l.duration,l.delay,l.easing)}(u.timings,l.errors);l.currentAnimateTimings=_;let R,$=u.styles?u.styles:(0,ct.oB)({});if(5==$.type)R=this.visitKeyframes($,l);else{let oe=u.styles,ye=!1;if(!oe){ye=!0;const Ge={};_.easing&&(Ge.easing=_.easing),oe=(0,ct.oB)(Ge)}l.currentTime+=_.duration+_.delay;const ke=this.visitStyle(oe,l);ke.isEmptyStep=ye,R=ke}return l.currentAnimateTimings=null,{type:4,timings:_,style:R,options:null}}visitStyle(u,l){const _=this._makeStyleAst(u,l);return this._validateStyleAst(_,l),_}_makeStyleAst(u,l){const _=[];Array.isArray(u.styles)?u.styles.forEach(oe=>{"string"==typeof oe?oe==ct.l3?_.push(oe):l.errors.push(`The provided style string value ${oe} is not allowed.`):_.push(oe)}):_.push(u.styles);let R=!1,$=null;return _.forEach(oe=>{if(pi(oe)){const ye=oe,ke=ye.easing;if(ke&&($=ke,delete ye.easing),!R)for(let Ge in ye)if(ye[Ge].toString().indexOf("{{")>=0){R=!0;break}}}),{type:6,styles:_,easing:$,offset:u.offset,containsDynamicStyles:R,options:null}}_validateStyleAst(u,l){const _=l.currentAnimateTimings;let R=l.currentTime,$=l.currentTime;_&&$>0&&($-=_.duration+_.delay),u.styles.forEach(oe=>{"string"!=typeof oe&&Object.keys(oe).forEach(ye=>{if(!this._driver.validateStyleProperty(ye))return void l.errors.push(`The provided animation property "${ye}" is not a supported CSS property for animations`);const ke=l.collectedStyles[l.currentQuerySelector],Ge=ke[ye];let ht=!0;Ge&&($!=R&&$>=Ge.startTime&&R<=Ge.endTime&&(l.errors.push(`The CSS property "${ye}" that exists between the times of "${Ge.startTime}ms" and "${Ge.endTime}ms" is also being animated in a parallel animation between the times of "${$}ms" and "${R}ms"`),ht=!1),$=Ge.startTime),ht&&(ke[ye]={startTime:$,endTime:R}),l.options&&function(g,u,l){const _=u.params||{},R=Ca(g);R.length&&R.forEach($=>{_.hasOwnProperty($)||l.push(`Unable to resolve the local animation param ${$} in the given list of values`)})}(oe[ye],l.options,l.errors)})})}visitKeyframes(u,l){const _={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push("keyframes() must be placed inside of a call to animate()"),_;let $=0;const oe=[];let ye=!1,ke=!1,Ge=0;const ht=u.steps.map(cr=>{const li=this._makeStyleAst(cr,l);let ss=null!=li.offset?li.offset:function(g){if("string"==typeof g)return null;let u=null;if(Array.isArray(g))g.forEach(l=>{if(pi(l)&&l.hasOwnProperty("offset")){const _=l;u=parseFloat(_.offset),delete _.offset}});else if(pi(g)&&g.hasOwnProperty("offset")){const l=g;u=parseFloat(l.offset),delete l.offset}return u}(li.styles),Fi=0;return null!=ss&&($++,Fi=li.offset=ss),ke=ke||Fi<0||Fi>1,ye=ye||Fi<Ge,Ge=Fi,oe.push(Fi),li});ke&&l.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ye&&l.errors.push("Please ensure that all keyframe offsets are in order");const At=u.steps.length;let nn=0;$>0&&$<At?l.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==$&&(nn=1/(At-1));const Lt=At-1,xt=l.currentTime,fn=l.currentAnimateTimings,Kn=fn.duration;return ht.forEach((cr,li)=>{const ss=nn>0?li==Lt?1:nn*li:oe[li],Fi=ss*Kn;l.currentTime=xt+fn.delay+Fi,fn.duration=Fi,this._validateStyleAst(cr,l),cr.offset=ss,_.styles.push(cr)}),_}visitReference(u,l){return{type:8,animation:xr(this,Oo(u.animation),l),options:Hi(u.options)}}visitAnimateChild(u,l){return l.depCount++,{type:9,options:Hi(u.options)}}visitAnimateRef(u,l){return{type:10,animation:this.visitReference(u.animation,l),options:Hi(u.options)}}visitQuery(u,l){const _=l.currentQuerySelector,R=u.options||{};l.queryCount++,l.currentQuery=u;const[$,oe]=function(g){const u=!!g.split(/\s*,\s*/).find(l=>":self"==l);return u&&(g=g.replace(Ii,"")),[g=g.replace(/@\*/g,si).replace(/@\w+/g,l=>si+"-"+l.substr(1)).replace(/:animating/g,fs),u]}(u.selector);l.currentQuerySelector=_.length?_+" "+$:$,yn(l.collectedStyles,l.currentQuerySelector,{});const ye=xr(this,Oo(u.animation),l);return l.currentQuery=null,l.currentQuerySelector=_,{type:11,selector:$,limit:R.limit||0,optional:!!R.optional,includeSelf:oe,animation:ye,originalSelector:u.selector,options:Hi(u.options)}}visitStagger(u,l){l.currentQuery||l.errors.push("stagger() can only be used inside of query()");const _="full"===u.timings?{duration:0,delay:0,easing:"full"}:yo(u.timings,l.errors,!0);return{type:12,animation:xr(this,Oo(u.animation),l),timings:_,options:null}}}class La{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function pi(g){return!Array.isArray(g)&&"object"==typeof g}function Hi(g){return g?(g=Zs(g)).params&&(g.params=function(g){return g?Zs(g):null}(g.params)):g={},g}function na(g,u,l){return{duration:g,delay:u,easing:l}}function ra(g,u,l,_,R,$,oe=null,ye=!1){return{type:1,element:g,keyframes:u,preStyleProps:l,postStyleProps:_,duration:R,delay:$,totalTime:R+$,easing:oe,subTimeline:ye}}class Qn{constructor(){this._map=new Map}consume(u){let l=this._map.get(u);return l?this._map.delete(u):l=[],l}append(u,l){let _=this._map.get(u);_||this._map.set(u,_=[]),_.push(...l)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const wa=new RegExp(":enter","g"),Eo=new RegExp(":leave","g");function Ni(g,u,l,_,R,$={},oe={},ye,ke,Ge=[]){return(new vl).buildKeyframes(g,u,l,_,R,$,oe,ye,ke,Ge)}class vl{buildKeyframes(u,l,_,R,$,oe,ye,ke,Ge,ht=[]){Ge=Ge||new Qn;const At=new Ia(u,l,Ge,R,$,ht,[]);At.options=ke,At.currentTimeline.setStyles([oe],null,At.errors,ke),xr(this,_,At);const nn=At.timelines.filter(Lt=>Lt.containsAnimation());if(nn.length&&Object.keys(ye).length){const Lt=nn[nn.length-1];Lt.allowOnlyTimelineStyles()||Lt.setStyles([ye],null,At.errors,ke)}return nn.length?nn.map(Lt=>Lt.buildKeyframes()):[ra(l,[],[],[],0,0,"",!1)]}visitTrigger(u,l){}visitState(u,l){}visitTransition(u,l){}visitAnimateChild(u,l){const _=l.subInstructions.consume(l.element);if(_){const R=l.createSubContext(u.options),$=l.currentTimeline.currentTime,oe=this._visitSubInstructions(_,R,R.options);$!=oe&&l.transformIntoNewTimeline(oe)}l.previousNode=u}visitAnimateRef(u,l){const _=l.createSubContext(u.options);_.transformIntoNewTimeline(),this.visitReference(u.animation,_),l.transformIntoNewTimeline(_.currentTimeline.currentTime),l.previousNode=u}_visitSubInstructions(u,l,_){let $=l.currentTimeline.currentTime;const oe=null!=_.duration?Rs(_.duration):null,ye=null!=_.delay?Rs(_.delay):null;return 0!==oe&&u.forEach(ke=>{const Ge=l.appendInstructionToTimeline(ke,oe,ye);$=Math.max($,Ge.duration+Ge.delay)}),$}visitReference(u,l){l.updateOptions(u.options,!0),xr(this,u.animation,l),l.previousNode=u}visitSequence(u,l){const _=l.subContextCount;let R=l;const $=u.options;if($&&($.params||$.delay)&&(R=l.createSubContext($),R.transformIntoNewTimeline(),null!=$.delay)){6==R.previousNode.type&&(R.currentTimeline.snapshotCurrentStyles(),R.previousNode=is);const oe=Rs($.delay);R.delayNextStep(oe)}u.steps.length&&(u.steps.forEach(oe=>xr(this,oe,R)),R.currentTimeline.applyStylesToKeyframe(),R.subContextCount>_&&R.transformIntoNewTimeline()),l.previousNode=u}visitGroup(u,l){const _=[];let R=l.currentTimeline.currentTime;const $=u.options&&u.options.delay?Rs(u.options.delay):0;u.steps.forEach(oe=>{const ye=l.createSubContext(u.options);$&&ye.delayNextStep($),xr(this,oe,ye),R=Math.max(R,ye.currentTimeline.currentTime),_.push(ye.currentTimeline)}),_.forEach(oe=>l.currentTimeline.mergeTimelineCollectedStyles(oe)),l.transformIntoNewTimeline(R),l.previousNode=u}_visitTiming(u,l){if(u.dynamic){const _=u.strValue;return yo(l.params?gs(_,l.params,l.errors):_,l.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,l){const _=l.currentAnimateTimings=this._visitTiming(u.timings,l),R=l.currentTimeline;_.delay&&(l.incrementTime(_.delay),R.snapshotCurrentStyles());const $=u.style;5==$.type?this.visitKeyframes($,l):(l.incrementTime(_.duration),this.visitStyle($,l),R.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=u}visitStyle(u,l){const _=l.currentTimeline,R=l.currentAnimateTimings;!R&&_.getCurrentStyleProperties().length&&_.forwardFrame();const $=R&&R.easing||u.easing;u.isEmptyStep?_.applyEmptyStep($):_.setStyles(u.styles,$,l.errors,l.options),l.previousNode=u}visitKeyframes(u,l){const _=l.currentAnimateTimings,R=l.currentTimeline.duration,$=_.duration,ye=l.createSubContext().currentTimeline;ye.easing=_.easing,u.styles.forEach(ke=>{ye.forwardTime((ke.offset||0)*$),ye.setStyles(ke.styles,ke.easing,l.errors,l.options),ye.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(ye),l.transformIntoNewTimeline(R+$),l.previousNode=u}visitQuery(u,l){const _=l.currentTimeline.currentTime,R=u.options||{},$=R.delay?Rs(R.delay):0;$&&(6===l.previousNode.type||0==_&&l.currentTimeline.getCurrentStyleProperties().length)&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=is);let oe=_;const ye=l.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!R.optional,l.errors);l.currentQueryTotal=ye.length;let ke=null;ye.forEach((Ge,ht)=>{l.currentQueryIndex=ht;const At=l.createSubContext(u.options,Ge);$&&At.delayNextStep($),Ge===l.element&&(ke=At.currentTimeline),xr(this,u.animation,At),At.currentTimeline.applyStylesToKeyframe(),oe=Math.max(oe,At.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(oe),ke&&(l.currentTimeline.mergeTimelineCollectedStyles(ke),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=u}visitStagger(u,l){const _=l.parentContext,R=l.currentTimeline,$=u.timings,oe=Math.abs($.duration),ye=oe*(l.currentQueryTotal-1);let ke=oe*l.currentQueryIndex;switch($.duration<0?"reverse":$.easing){case"reverse":ke=ye-ke;break;case"full":ke=_.currentStaggerTime}const ht=l.currentTimeline;ke&&ht.delayNextStep(ke);const At=ht.currentTime;xr(this,u.animation,l),l.previousNode=u,_.currentStaggerTime=R.currentTime-At+(R.startTime-_.currentTimeline.startTime)}}const is={};class Ia{constructor(u,l,_,R,$,oe,ye,ke){this._driver=u,this.element=l,this.subInstructions=_,this._enterClassName=R,this._leaveClassName=$,this.errors=oe,this.timelines=ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=is,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ke||new A(this._driver,l,0),ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,l){if(!u)return;const _=u;let R=this.options;null!=_.duration&&(R.duration=Rs(_.duration)),null!=_.delay&&(R.delay=Rs(_.delay));const $=_.params;if($){let oe=R.params;oe||(oe=this.options.params={}),Object.keys($).forEach(ye=>{(!l||!oe.hasOwnProperty(ye))&&(oe[ye]=gs($[ye],oe,this.errors))})}}_copyOptions(){const u={};if(this.options){const l=this.options.params;if(l){const _=u.params={};Object.keys(l).forEach(R=>{_[R]=l[R]})}}return u}createSubContext(u=null,l,_){const R=l||this.element,$=new Ia(this._driver,R,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(R,_||0));return $.previousNode=this.previousNode,$.currentAnimateTimings=this.currentAnimateTimings,$.options=this._copyOptions(),$.updateOptions(u),$.currentQueryIndex=this.currentQueryIndex,$.currentQueryTotal=this.currentQueryTotal,$.parentContext=this,this.subContextCount++,$}transformIntoNewTimeline(u){return this.previousNode=is,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,l,_){const R={duration:null!=l?l:u.duration,delay:this.currentTimeline.currentTime+(null!=_?_:0)+u.delay,easing:""},$=new I(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,R,u.stretchStartingKeyframe);return this.timelines.push($),R}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,l,_,R,$,oe){let ye=[];if(R&&ye.push(this.element),u.length>0){u=(u=u.replace(wa,"."+this._enterClassName)).replace(Eo,"."+this._leaveClassName);let Ge=this._driver.query(this.element,u,1!=_);0!==_&&(Ge=_<0?Ge.slice(Ge.length+_,Ge.length):Ge.slice(0,_)),ye.push(...Ge)}return!$&&0==ye.length&&oe.push(`\`query("${l}")\` returned zero elements. (Use \`query("${l}", { optional: true })\` if you wish to allow this.)`),ye}}class A{constructor(u,l,_,R){this._driver=u,this.element=l,this.startTime=_,this._elementTimelineStylesLookup=R,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const l=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||l?(this.forwardTime(this.currentTime+u),l&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,l){return this.applyStylesToKeyframe(),new A(this._driver,u,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,l){this._localTimelineStyles[u]=l,this._globalTimelineStyles[u]=l,this._styleSummary[u]={time:this.currentTime,value:l}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&(this._previousKeyframe.easing=u),Object.keys(this._globalTimelineStyles).forEach(l=>{this._backFill[l]=this._globalTimelineStyles[l]||ct.l3,this._currentKeyframe[l]=ct.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,l,_,R){l&&(this._previousKeyframe.easing=l);const $=R&&R.params||{},oe=function(g,u){const l={};let _;return g.forEach(R=>{"*"===R?(_=_||Object.keys(u),_.forEach($=>{l[$]=ct.l3})):ns(R,!1,l)}),l}(u,this._globalTimelineStyles);Object.keys(oe).forEach(ye=>{const ke=gs(oe[ye],$,_);this._pendingStyles[ye]=ke,this._localTimelineStyles.hasOwnProperty(ye)||(this._backFill[ye]=this._globalTimelineStyles.hasOwnProperty(ye)?this._globalTimelineStyles[ye]:ct.l3),this._updateStyle(ye,ke)})}applyStylesToKeyframe(){const u=this._pendingStyles,l=Object.keys(u);0!=l.length&&(this._pendingStyles={},l.forEach(_=>{this._currentKeyframe[_]=u[_]}),Object.keys(this._localTimelineStyles).forEach(_=>{this._currentKeyframe.hasOwnProperty(_)||(this._currentKeyframe[_]=this._localTimelineStyles[_])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(u=>{const l=this._localTimelineStyles[u];this._pendingStyles[u]=l,this._updateStyle(u,l)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let l in this._currentKeyframe)u.push(l);return u}mergeTimelineCollectedStyles(u){Object.keys(u._styleSummary).forEach(l=>{const _=this._styleSummary[l],R=u._styleSummary[l];(!_||R.time>_.time)&&this._updateStyle(l,R.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,l=new Set,_=1===this._keyframes.size&&0===this.duration;let R=[];this._keyframes.forEach((ye,ke)=>{const Ge=ns(ye,!0);Object.keys(Ge).forEach(ht=>{const At=Ge[ht];At==ct.k1?u.add(ht):At==ct.l3&&l.add(ht)}),_||(Ge.offset=ke/this.duration),R.push(Ge)});const $=u.size?Ar(u.values()):[],oe=l.size?Ar(l.values()):[];if(_){const ye=R[0],ke=Zs(ye);ye.offset=0,ke.offset=1,R=[ye,ke]}return ra(this.element,R,$,oe,this.duration,this.startTime,this.easing,!1)}}class I extends A{constructor(u,l,_,R,$,oe,ye=!1){super(u,l,oe.delay),this.keyframes=_,this.preStyleProps=R,this.postStyleProps=$,this._stretchStartingKeyframe=ye,this.timings={duration:oe.duration,delay:oe.delay,easing:oe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:l,duration:_,easing:R}=this.timings;if(this._stretchStartingKeyframe&&l){const $=[],oe=_+l,ye=l/oe,ke=ns(u[0],!1);ke.offset=0,$.push(ke);const Ge=ns(u[0],!1);Ge.offset=b(ye),$.push(Ge);const ht=u.length-1;for(let At=1;At<=ht;At++){let nn=ns(u[At],!1);nn.offset=b((l+nn.offset*_)/oe),$.push(nn)}_=oe,l=0,R="",u=$}return ra(this.element,u,this.preStyleProps,this.postStyleProps,_,l,R,!0)}}function b(g,u=3){const l=Math.pow(10,u-1);return Math.round(g*l)/l}class G{}class we extends G{normalizePropertyName(u,l){return gr(u)}normalizeStyleValue(u,l,_,R){let $="";const oe=_.toString().trim();if(It[l]&&0!==_&&"0"!==_)if("number"==typeof _)$="px";else{const ye=_.match(/^[+-]?[\d\.]+([a-z]*)$/);ye&&0==ye[1].length&&R.push(`Please provide a CSS unit value for ${u}:${_}`)}return oe+$}}const It=(()=>function(g){const u={};return g.forEach(l=>u[l]=!0),u}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Mt(g,u,l,_,R,$,oe,ye,ke,Ge,ht,At,nn){return{type:0,element:g,triggerName:u,isRemovalTransition:R,fromState:l,fromStyles:$,toState:_,toStyles:oe,timelines:ye,queriedElements:ke,preStyleProps:Ge,postStyleProps:ht,totalTime:At,errors:nn}}const Jn={};class Un{constructor(u,l,_){this._triggerName=u,this.ast=l,this._stateStyles=_}match(u,l,_,R){return function(g,u,l,_,R){return g.some($=>$(u,l,_,R))}(this.ast.matchers,u,l,_,R)}buildStyles(u,l,_){const R=this._stateStyles["*"],$=this._stateStyles[u],oe=R?R.buildStyles(l,_):{};return $?$.buildStyles(l,_):oe}build(u,l,_,R,$,oe,ye,ke,Ge,ht){const At=[],nn=this.ast.options&&this.ast.options.params||Jn,xt=this.buildStyles(_,ye&&ye.params||Jn,At),fn=ke&&ke.params||Jn,Kn=this.buildStyles(R,fn,At),cr=new Set,li=new Map,ss=new Map,Fi="void"===R,Za={params:Object.assign(Object.assign({},nn),fn)},Bo=ht?[]:Ni(u,l,this.ast.animation,$,oe,xt,Kn,Za,Ge,At);let ws=0;if(Bo.forEach(jo=>{ws=Math.max(jo.duration+jo.delay,ws)}),At.length)return Mt(l,this._triggerName,_,R,Fi,xt,Kn,[],[],li,ss,ws,At);Bo.forEach(jo=>{const Is=jo.element,Ya=yn(li,Is,{});jo.preStyleProps.forEach(Ho=>Ya[Ho]=!0);const ua=yn(ss,Is,{});jo.postStyleProps.forEach(Ho=>ua[Ho]=!0),Is!==l&&cr.add(Is)});const ca=Ar(cr.values());return Mt(l,this._triggerName,_,R,Fi,xt,Kn,Bo,ca,li,ss,ws)}}class $i{constructor(u,l,_){this.styles=u,this.defaultParams=l,this.normalizer=_}buildStyles(u,l){const _={},R=Zs(this.defaultParams);return Object.keys(u).forEach($=>{const oe=u[$];null!=oe&&(R[$]=oe)}),this.styles.styles.forEach($=>{if("string"!=typeof $){const oe=$;Object.keys(oe).forEach(ye=>{let ke=oe[ye];ke.length>1&&(ke=gs(ke,R,l));const Ge=this.normalizer.normalizePropertyName(ye,l);ke=this.normalizer.normalizeStyleValue(ye,Ge,ke,l),_[Ge]=ke})}}),_}}class Co{constructor(u,l,_){this.name=u,this.ast=l,this._normalizer=_,this.transitionFactories=[],this.states={},l.states.forEach(R=>{this.states[R.name]=new $i(R.style,R.options&&R.options.params||{},_)}),qr(this.states,"true","1"),qr(this.states,"false","0"),l.transitions.forEach(R=>{this.transitionFactories.push(new Un(u,R,this.states))}),this.fallbackTransition=function(g,u,l){return new Un(g,{type:1,animation:{type:2,steps:[],options:null},matchers:[(oe,ye)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,l,_,R){return this.transitionFactories.find(oe=>oe.match(u,l,_,R))||null}matchStyles(u,l,_){return this.fallbackTransition.buildStyles(u,l,_)}}function qr(g,u,l){g.hasOwnProperty(u)?g.hasOwnProperty(l)||(g[l]=g[u]):g.hasOwnProperty(l)&&(g[u]=g[l])}const xo=new Qn;class ia{constructor(u,l,_){this.bodyNode=u,this._driver=l,this._normalizer=_,this._animations={},this._playersById={},this.players=[]}register(u,l){const _=[],R=ea(this._driver,l,_);if(_.length)throw new Error(`Unable to build the animation due to the following errors: ${_.join("\n")}`);this._animations[u]=R}_buildPlayer(u,l,_){const R=u.element,$=Nn(0,this._normalizer,0,u.keyframes,l,_);return this._driver.animate(R,$,u.duration,u.delay,u.easing,[],!0)}create(u,l,_={}){const R=[],$=this._animations[u];let oe;const ye=new Map;if($?(oe=Ni(this._driver,l,$,Ks,Nr,{},{},_,xo,R),oe.forEach(ht=>{const At=yn(ye,ht.element,{});ht.postStyleProps.forEach(nn=>At[nn]=null)})):(R.push("The requested animation doesn't exist or has already been destroyed"),oe=[]),R.length)throw new Error(`Unable to create the animation due to the following errors: ${R.join("\n")}`);ye.forEach((ht,At)=>{Object.keys(ht).forEach(nn=>{ht[nn]=this._driver.computeStyle(At,nn,ct.l3)})});const Ge=$t(oe.map(ht=>{const At=ye.get(ht.element);return this._buildPlayer(ht,{},At)}));return this._playersById[u]=Ge,Ge.onDestroy(()=>this.destroy(u)),this.players.push(Ge),Ge}destroy(u){const l=this._getPlayer(u);l.destroy(),delete this._playersById[u];const _=this.players.indexOf(l);_>=0&&this.players.splice(_,1)}_getPlayer(u){const l=this._playersById[u];if(!l)throw new Error(`Unable to find the timeline player referenced by ${u}`);return l}listen(u,l,_,R){const $=ji(l,"","","");return zn(this._getPlayer(u),_,$,R),()=>{}}command(u,l,_,R){if("register"==_)return void this.register(u,R[0]);if("create"==_)return void this.create(u,l,R[0]||{});const $=this._getPlayer(u);switch(_){case"play":$.play();break;case"pause":$.pause();break;case"reset":$.reset();break;case"restart":$.restart();break;case"finish":$.finish();break;case"init":$.init();break;case"setPosition":$.setPosition(parseFloat(R[0]));break;case"destroy":this.destroy(u)}}}const El="ng-animate-queued",sa="ng-animate-disabled",Es=".ng-animate-disabled",to=[],tl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ks="__ng_removed";class Hl{constructor(u,l=""){this.namespaceId=l;const _=u&&u.hasOwnProperty("value");if(this.value=null!=(g=_?u.value:u)?g:null,_){const $=Zs(u);delete $.value,this.options=$}else this.options={};var g;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(u){const l=u.params;if(l){const _=this.options.params;Object.keys(l).forEach(R=>{null==_[R]&&(_[R]=l[R])})}}}const Cl="void",mr=new Hl(Cl);class Ua{constructor(u,l,_){this.id=u,this.hostElement=l,this._engine=_,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,Cs(l,this._hostClassName)}listen(u,l,_,R){if(!this._triggers.hasOwnProperty(l))throw new Error(`Unable to listen on the animation trigger event "${_}" because the animation trigger "${l}" doesn't exist!`);if(null==_||0==_.length)throw new Error(`Unable to listen on the animation trigger "${l}" because the provided event is undefined!`);if("start"!=(g=_)&&"done"!=g)throw new Error(`The provided animation trigger event "${_}" for the animation trigger "${l}" is not supported!`);var g;const $=yn(this._elementListeners,u,[]),oe={name:l,phase:_,callback:R};$.push(oe);const ye=yn(this._engine.statesByElement,u,{});return ye.hasOwnProperty(l)||(Cs(u,ii),Cs(u,ii+"-"+l),ye[l]=mr),()=>{this._engine.afterFlush(()=>{const ke=$.indexOf(oe);ke>=0&&$.splice(ke,1),this._triggers[l]||delete ye[l]})}}register(u,l){return!this._triggers[u]&&(this._triggers[u]=l,!0)}_getTrigger(u){const l=this._triggers[u];if(!l)throw new Error(`The provided animation trigger "${u}" has not been registered!`);return l}trigger(u,l,_,R=!0){const $=this._getTrigger(l),oe=new $l(this.id,l,u);let ye=this._engine.statesByElement.get(u);ye||(Cs(u,ii),Cs(u,ii+"-"+l),this._engine.statesByElement.set(u,ye={}));let ke=ye[l];const Ge=new Hl(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&ke&&Ge.absorbOptions(ke.options),ye[l]=Ge,ke||(ke=mr),Ge.value!==Cl&&ke.value===Ge.value){if(!function(g,u){const l=Object.keys(g),_=Object.keys(u);if(l.length!=_.length)return!1;for(let R=0;R<l.length;R++){const $=l[R];if(!u.hasOwnProperty($)||g[$]!==u[$])return!1}return!0}(ke.params,Ge.params)){const fn=[],Kn=$.matchStyles(ke.value,ke.params,fn),cr=$.matchStyles(Ge.value,Ge.params,fn);fn.length?this._engine.reportError(fn):this._engine.afterFlush(()=>{rs(u,Kn),fi(u,cr)})}return}const nn=yn(this._engine.playersByElement,u,[]);nn.forEach(fn=>{fn.namespaceId==this.id&&fn.triggerName==l&&fn.queued&&fn.destroy()});let Lt=$.matchTransition(ke.value,Ge.value,u,Ge.params),xt=!1;if(!Lt){if(!R)return;Lt=$.fallbackTransition,xt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:l,transition:Lt,fromState:ke,toState:Ge,player:oe,isFallbackTransition:xt}),xt||(Cs(u,El),oe.onStart(()=>{Cr(u,El)})),oe.onDone(()=>{let fn=this.players.indexOf(oe);fn>=0&&this.players.splice(fn,1);const Kn=this._engine.playersByElement.get(u);if(Kn){let cr=Kn.indexOf(oe);cr>=0&&Kn.splice(cr,1)}}),this.players.push(oe),nn.push(oe),oe}deregister(u){delete this._triggers[u],this._engine.statesByElement.forEach((l,_)=>{delete l[u]}),this._elementListeners.forEach((l,_)=>{this._elementListeners.set(_,l.filter(R=>R.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const l=this._engine.playersByElement.get(u);l&&(l.forEach(_=>_.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,l){const _=this._engine.driver.query(u,si,!0);_.forEach(R=>{if(R[ks])return;const $=this._engine.fetchNamespacesByElement(R);$.size?$.forEach(oe=>oe.triggerLeaveAnimation(R,l,!1,!0)):this.clearElementCache(R)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(R=>this.clearElementCache(R)))}triggerLeaveAnimation(u,l,_,R){const $=this._engine.statesByElement.get(u);if($){const oe=[];if(Object.keys($).forEach(ye=>{if(this._triggers[ye]){const ke=this.trigger(u,ye,Cl,R);ke&&oe.push(ke)}}),oe.length)return this._engine.markElementAsRemoved(this.id,u,!0,l),_&&$t(oe).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const l=this._elementListeners.get(u),_=this._engine.statesByElement.get(u);if(l&&_){const R=new Set;l.forEach($=>{const oe=$.name;if(R.has(oe))return;R.add(oe);const ke=this._triggers[oe].fallbackTransition,Ge=_[oe]||mr,ht=new Hl(Cl),At=new $l(this.id,oe,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:oe,transition:ke,fromState:Ge,toState:ht,player:At,isFallbackTransition:!0})})}}removeNode(u,l){const _=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,l),this.triggerLeaveAnimation(u,l,!0))return;let R=!1;if(_.totalAnimations){const $=_.players.length?_.playersByQueriedElement.get(u):[];if($&&$.length)R=!0;else{let oe=u;for(;oe=oe.parentNode;)if(_.statesByElement.get(oe)){R=!0;break}}}if(this.prepareLeaveAnimationListeners(u),R)_.markElementAsRemoved(this.id,u,!1,l);else{const $=u[ks];(!$||$===tl)&&(_.afterFlush(()=>this.clearElementCache(u)),_.destroyInnerAnimations(u),_._onRemovalComplete(u,l))}}insertNode(u,l){Cs(u,this._hostClassName)}drainQueuedTransitions(u){const l=[];return this._queue.forEach(_=>{const R=_.player;if(R.destroyed)return;const $=_.element,oe=this._elementListeners.get($);oe&&oe.forEach(ye=>{if(ye.name==_.triggerName){const ke=ji($,_.triggerName,_.fromState.value,_.toState.value);ke._data=u,zn(_.player,ye.phase,ke,ye.callback)}}),R.markedForDestroy?this._engine.afterFlush(()=>{R.destroy()}):l.push(_)}),this._queue=[],l.sort((_,R)=>{const $=_.transition.ast.depCount,oe=R.transition.ast.depCount;return 0==$||0==oe?$-oe:this._engine.driver.containsElement(_.element,R.element)?1:-1})}destroy(u){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}elementContainsData(u){let l=!1;return this._elementListeners.has(u)&&(l=!0),l=!!this._queue.find(_=>_.element===u)||l,l}}class nl{constructor(u,l,_){this.bodyNode=u,this.driver=l,this._normalizer=_,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(R,$)=>{}}_onRemovalComplete(u,l){this.onRemovalComplete(u,l)}get queuedPlayers(){const u=[];return this._namespaceList.forEach(l=>{l.players.forEach(_=>{_.queued&&u.push(_)})}),u}createNamespace(u,l){const _=new Ua(u,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(_,l):(this.newHostElements.set(l,_),this.collectEnterElement(l)),this._namespaceLookup[u]=_}_balanceNamespaceList(u,l){const _=this._namespaceList.length-1;if(_>=0){let R=!1;for(let $=_;$>=0;$--)if(this.driver.containsElement(this._namespaceList[$].hostElement,l)){this._namespaceList.splice($+1,0,u),R=!0;break}R||this._namespaceList.splice(0,0,u)}else this._namespaceList.push(u);return this.namespacesByHostElement.set(l,u),u}register(u,l){let _=this._namespaceLookup[u];return _||(_=this.createNamespace(u,l)),_}registerTrigger(u,l,_){let R=this._namespaceLookup[u];R&&R.register(l,_)&&this.totalAnimations++}destroy(u,l){if(!u)return;const _=this._fetchNamespace(u);this.afterFlush(()=>{this.namespacesByHostElement.delete(_.hostElement),delete this._namespaceLookup[u];const R=this._namespaceList.indexOf(_);R>=0&&this._namespaceList.splice(R,1)}),this.afterFlushAnimationsDone(()=>_.destroy(l))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const l=new Set,_=this.statesByElement.get(u);if(_){const R=Object.keys(_);for(let $=0;$<R.length;$++){const oe=_[R[$]].namespaceId;if(oe){const ye=this._fetchNamespace(oe);ye&&l.add(ye)}}}return l}trigger(u,l,_,R){if(il(l)){const $=this._fetchNamespace(u);if($)return $.trigger(l,_,R),!0}return!1}insertNode(u,l,_,R){if(!il(l))return;const $=l[ks];if($&&$.setForRemoval){$.setForRemoval=!1,$.setForMove=!0;const oe=this.collectedLeaveElements.indexOf(l);oe>=0&&this.collectedLeaveElements.splice(oe,1)}if(u){const oe=this._fetchNamespace(u);oe&&oe.insertNode(l,_)}R&&this.collectEnterElement(l)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,l){l?this.disabledNodes.has(u)||(this.disabledNodes.add(u),Cs(u,sa)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),Cr(u,sa))}removeNode(u,l,_,R){if(il(l)){const $=u?this._fetchNamespace(u):null;if($?$.removeNode(l,R):this.markElementAsRemoved(u,l,!1,R),_){const oe=this.namespacesByHostElement.get(l);oe&&oe.id!==u&&oe.removeNode(l,R)}}else this._onRemovalComplete(l,R)}markElementAsRemoved(u,l,_,R){this.collectedLeaveElements.push(l),l[ks]={namespaceId:u,setForRemoval:R,hasAnimation:_,removedBeforeQueried:!1}}listen(u,l,_,R,$){return il(l)?this._fetchNamespace(u).listen(l,_,R,$):()=>{}}_buildInstruction(u,l,_,R,$){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,_,R,u.fromState.options,u.toState.options,l,$)}destroyInnerAnimations(u){let l=this.driver.query(u,si,!0);l.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(u,fs,!0),l.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(u){const l=this.playersByElement.get(u);l&&l.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(u){const l=this.playersByQueriedElement.get(u);l&&l.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return $t(this.players).onDone(()=>u());u()})}processLeaveNode(u){const l=u[ks];if(l&&l.setForRemoval){if(u[ks]=tl,l.namespaceId){this.destroyInnerAnimations(u);const _=this._fetchNamespace(l.namespaceId);_&&_.clearElementCache(u)}this._onRemovalComplete(u,l.setForRemoval)}this.driver.matchesElement(u,Es)&&this.markElementAsDisabled(u,!1),this.driver.query(u,Es,!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(u=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,R)=>this._balanceNamespaceList(_,R)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)Cs(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{l=this._flushAnimations(_,u)}finally{for(let R=0;R<_.length;R++)_[R]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],l.length?$t(l).onDone(()=>{_.forEach(R=>R())}):_.forEach(R=>R())}}reportError(u){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${u.join("\n")}`)}_flushAnimations(u,l){const _=new Qn,R=[],$=new Map,oe=[],ye=new Map,ke=new Map,Ge=new Map,ht=new Set;this.disabledNodes.forEach(Rt=>{ht.add(Rt);const Zt=this.driver.query(Rt,".ng-animate-queued",!0);for(let dn=0;dn<Zt.length;dn++)ht.add(Zt[dn])});const At=this.bodyNode,nn=Array.from(this.statesByElement.keys()),Lt=Cc(nn,this.collectedEnterElements),xt=new Map;let fn=0;Lt.forEach((Rt,Zt)=>{const dn=Ks+fn++;xt.set(Zt,dn),Rt.forEach(on=>Cs(on,dn))});const Kn=[],cr=new Set,li=new Set;for(let Rt=0;Rt<this.collectedLeaveElements.length;Rt++){const Zt=this.collectedLeaveElements[Rt],dn=Zt[ks];dn&&dn.setForRemoval&&(Kn.push(Zt),cr.add(Zt),dn.hasAnimation?this.driver.query(Zt,".ng-star-inserted",!0).forEach(on=>cr.add(on)):li.add(Zt))}const ss=new Map,Fi=Cc(nn,Array.from(cr));Fi.forEach((Rt,Zt)=>{const dn=Nr+fn++;ss.set(Zt,dn),Rt.forEach(on=>Cs(on,dn))}),u.push(()=>{Lt.forEach((Rt,Zt)=>{const dn=xt.get(Zt);Rt.forEach(on=>Cr(on,dn))}),Fi.forEach((Rt,Zt)=>{const dn=ss.get(Zt);Rt.forEach(on=>Cr(on,dn))}),Kn.forEach(Rt=>{this.processLeaveNode(Rt)})});const Za=[],Bo=[];for(let Rt=this._namespaceList.length-1;Rt>=0;Rt--)this._namespaceList[Rt].drainQueuedTransitions(l).forEach(dn=>{const on=dn.player,Ai=dn.element;if(Za.push(on),this.collectedEnterElements.length){const ci=Ai[ks];if(ci&&ci.setForMove)return void on.destroy()}const $o=!At||!this.driver.containsElement(At,Ai),oo=ss.get(Ai),Ds=xt.get(Ai),jr=this._buildInstruction(dn,_,Ds,oo,$o);if(jr.errors&&jr.errors.length)Bo.push(jr);else{if($o)return on.onStart(()=>rs(Ai,jr.fromStyles)),on.onDestroy(()=>fi(Ai,jr.toStyles)),void R.push(on);if(dn.isFallbackTransition)return on.onStart(()=>rs(Ai,jr.fromStyles)),on.onDestroy(()=>fi(Ai,jr.toStyles)),void R.push(on);jr.timelines.forEach(ci=>ci.stretchStartingKeyframe=!0),_.append(Ai,jr.timelines),oe.push({instruction:jr,player:on,element:Ai}),jr.queriedElements.forEach(ci=>yn(ye,ci,[]).push(on)),jr.preStyleProps.forEach((ci,Rl)=>{const ic=Object.keys(ci);if(ic.length){let gi=ke.get(Rl);gi||ke.set(Rl,gi=new Set),ic.forEach(Ol=>gi.add(Ol))}}),jr.postStyleProps.forEach((ci,Rl)=>{const ic=Object.keys(ci);let gi=Ge.get(Rl);gi||Ge.set(Rl,gi=new Set),ic.forEach(Ol=>gi.add(Ol))})}});if(Bo.length){const Rt=[];Bo.forEach(Zt=>{Rt.push(`@${Zt.triggerName} has failed due to:\n`),Zt.errors.forEach(dn=>Rt.push(`- ${dn}\n`))}),Za.forEach(Zt=>Zt.destroy()),this.reportError(Rt)}const ws=new Map,ca=new Map;oe.forEach(Rt=>{const Zt=Rt.element;_.has(Zt)&&(ca.set(Zt,Zt),this._beforeAnimationBuild(Rt.player.namespaceId,Rt.instruction,ws))}),R.forEach(Rt=>{const Zt=Rt.element;this._getPreviousPlayers(Zt,!1,Rt.namespaceId,Rt.triggerName,null).forEach(on=>{yn(ws,Zt,[]).push(on),on.destroy()})});const jo=Kn.filter(Rt=>Wi(Rt,ke,Ge)),Is=new Map;Wl(Is,this.driver,li,Ge,ct.l3).forEach(Rt=>{Wi(Rt,ke,Ge)&&jo.push(Rt)});const ua=new Map;Lt.forEach((Rt,Zt)=>{Wl(ua,this.driver,new Set(Rt),ke,ct.k1)}),jo.forEach(Rt=>{const Zt=Is.get(Rt),dn=ua.get(Rt);Is.set(Rt,Object.assign(Object.assign({},Zt),dn))});const Ho=[],Ls=[],qa={};oe.forEach(Rt=>{const{element:Zt,player:dn,instruction:on}=Rt;if(_.has(Zt)){if(ht.has(Zt))return dn.onDestroy(()=>fi(Zt,on.toStyles)),dn.disabled=!0,dn.overrideTotalTime(on.totalTime),void R.push(dn);let Ai=qa;if(ca.size>1){let oo=Zt;const Ds=[];for(;oo=oo.parentNode;){const jr=ca.get(oo);if(jr){Ai=jr;break}Ds.push(oo)}Ds.forEach(jr=>ca.set(jr,Ai))}const $o=this._buildAnimation(dn.namespaceId,on,ws,$,ua,Is);if(dn.setRealPlayer($o),Ai===qa)Ho.push(dn);else{const oo=this.playersByElement.get(Ai);oo&&oo.length&&(dn.parentPlayer=$t(oo)),R.push(dn)}}else rs(Zt,on.fromStyles),dn.onDestroy(()=>fi(Zt,on.toStyles)),Ls.push(dn),ht.has(Zt)&&R.push(dn)}),Ls.forEach(Rt=>{const Zt=$.get(Rt.element);if(Zt&&Zt.length){const dn=$t(Zt);Rt.setRealPlayer(dn)}}),R.forEach(Rt=>{Rt.parentPlayer?Rt.syncPlayerEvents(Rt.parentPlayer):Rt.destroy()});for(let Rt=0;Rt<Kn.length;Rt++){const Zt=Kn[Rt],dn=Zt[ks];if(Cr(Zt,Nr),dn&&dn.hasAnimation)continue;let on=[];if(ye.size){let $o=ye.get(Zt);$o&&$o.length&&on.push(...$o);let oo=this.driver.query(Zt,fs,!0);for(let Ds=0;Ds<oo.length;Ds++){let jr=ye.get(oo[Ds]);jr&&jr.length&&on.push(...jr)}}const Ai=on.filter($o=>!$o.destroyed);Ai.length?ko(this,Zt,Ai):this.processLeaveNode(Zt)}return Kn.length=0,Ho.forEach(Rt=>{this.players.push(Rt),Rt.onDone(()=>{Rt.destroy();const Zt=this.players.indexOf(Rt);this.players.splice(Zt,1)}),Rt.play()}),Ho}elementContainsData(u,l){let _=!1;const R=l[ks];return R&&R.setForRemoval&&(_=!0),this.playersByElement.has(l)&&(_=!0),this.playersByQueriedElement.has(l)&&(_=!0),this.statesByElement.has(l)&&(_=!0),this._fetchNamespace(u).elementContainsData(l)||_}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,l,_,R,$){let oe=[];if(l){const ye=this.playersByQueriedElement.get(u);ye&&(oe=ye)}else{const ye=this.playersByElement.get(u);if(ye){const ke=!$||$==Cl;ye.forEach(Ge=>{Ge.queued||!ke&&Ge.triggerName!=R||oe.push(Ge)})}}return(_||R)&&(oe=oe.filter(ye=>!(_&&_!=ye.namespaceId||R&&R!=ye.triggerName))),oe}_beforeAnimationBuild(u,l,_){const $=l.element,oe=l.isRemovalTransition?void 0:u,ye=l.isRemovalTransition?void 0:l.triggerName;for(const ke of l.timelines){const Ge=ke.element,ht=Ge!==$,At=yn(_,Ge,[]);this._getPreviousPlayers(Ge,ht,oe,ye,l.toState).forEach(Lt=>{const xt=Lt.getRealPlayer();xt.beforeDestroy&&xt.beforeDestroy(),Lt.destroy(),At.push(Lt)})}rs($,l.fromStyles)}_buildAnimation(u,l,_,R,$,oe){const ye=l.triggerName,ke=l.element,Ge=[],ht=new Set,At=new Set,nn=l.timelines.map(xt=>{const fn=xt.element;ht.add(fn);const Kn=fn[ks];if(Kn&&Kn.removedBeforeQueried)return new ct.ZN(xt.duration,xt.delay);const cr=fn!==ke,li=function(g){const u=[];return Wc(g,u),u}((_.get(fn)||to).map(ws=>ws.getRealPlayer())).filter(ws=>!!ws.element&&ws.element===fn),ss=$.get(fn),Fi=oe.get(fn),Za=Nn(0,this._normalizer,0,xt.keyframes,ss,Fi),Bo=this._buildPlayer(xt,Za,li);if(xt.subTimeline&&R&&At.add(fn),cr){const ws=new $l(u,ye,fn);ws.setRealPlayer(Bo),Ge.push(ws)}return Bo});Ge.forEach(xt=>{yn(this.playersByQueriedElement,xt.element,[]).push(xt),xt.onDone(()=>function(g,u,l){let _;if(g instanceof Map){if(_=g.get(u),_){if(_.length){const R=_.indexOf(l);_.splice(R,1)}0==_.length&&g.delete(u)}}else if(_=g[u],_){if(_.length){const R=_.indexOf(l);_.splice(R,1)}0==_.length&&delete g[u]}return _}(this.playersByQueriedElement,xt.element,xt))}),ht.forEach(xt=>Cs(xt,mo));const Lt=$t(nn);return Lt.onDestroy(()=>{ht.forEach(xt=>Cr(xt,mo)),fi(ke,l.toStyles)}),At.forEach(xt=>{yn(R,xt,[]).push(Lt)}),Lt}_buildPlayer(u,l,_){return l.length>0?this.driver.animate(u.element,l,u.duration,u.delay,u.easing,_):new ct.ZN(u.duration,u.delay)}}class $l{constructor(u,l,_){this.namespaceId=u,this.triggerName=l,this.element=_,this._player=new ct.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,Object.keys(this._queuedCallbacks).forEach(l=>{this._queuedCallbacks[l].forEach(_=>zn(u,l,void 0,_))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const l=this._player;l.triggerCallback&&u.onStart(()=>l.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,l){yn(this._queuedCallbacks,u,[]).push(l)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const l=this._player;l.triggerCallback&&l.triggerCallback(u)}}function il(g){return g&&1===g.nodeType}function $c(g,u){const l=g.style.display;return g.style.display=null!=u?u:"none",l}function Wl(g,u,l,_,R){const $=[];l.forEach(ke=>$.push($c(ke)));const oe=[];_.forEach((ke,Ge)=>{const ht={};ke.forEach(At=>{const nn=ht[At]=u.computeStyle(Ge,At,R);(!nn||0==nn.length)&&(Ge[ks]=Hc,oe.push(Ge))}),g.set(Ge,ht)});let ye=0;return l.forEach(ke=>$c(ke,$[ye++])),oe}function Cc(g,u){const l=new Map;if(g.forEach(ye=>l.set(ye,[])),0==u.length)return l;const R=new Set(u),$=new Map;function oe(ye){if(!ye)return 1;let ke=$.get(ye);if(ke)return ke;const Ge=ye.parentNode;return ke=l.has(Ge)?Ge:R.has(Ge)?1:oe(Ge),$.set(ye,ke),ke}return u.forEach(ye=>{const ke=oe(ye);1!==ke&&l.get(ke).push(ye)}),l}const Ba="$$classes";function Cs(g,u){if(g.classList)g.classList.add(u);else{let l=g[Ba];l||(l=g[Ba]={}),l[u]=!0}}function Cr(g,u){if(g.classList)g.classList.remove(u);else{let l=g[Ba];l&&delete l[u]}}function ko(g,u,l){$t(l).onDone(()=>g.processLeaveNode(u))}function Wc(g,u){for(let l=0;l<g.length;l++){const _=g[l];_ instanceof ct.ZE?Wc(_.players,u):u.push(_)}}function Wi(g,u,l){const _=l.get(g);if(!_)return!1;let R=u.get(g);return R?_.forEach($=>R.add($)):u.set(g,_),l.delete(g),!0}class ki{constructor(u,l,_){this.bodyNode=u,this._driver=l,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(R,$)=>{},this._transitionEngine=new nl(u,l,_),this._timelineEngine=new ia(u,l,_),this._transitionEngine.onRemovalComplete=(R,$)=>this.onRemovalComplete(R,$)}registerTrigger(u,l,_,R,$){const oe=u+"-"+R;let ye=this._triggerCache[oe];if(!ye){const ke=[],Ge=ea(this._driver,$,ke);if(ke.length)throw new Error(`The animation trigger "${R}" has failed to build due to the following errors:\n - ${ke.join("\n - ")}`);ye=function(g,u,l){return new Co(g,u,l)}(R,Ge,this._normalizer),this._triggerCache[oe]=ye}this._transitionEngine.registerTrigger(l,R,ye)}register(u,l){this._transitionEngine.register(u,l)}destroy(u,l){this._transitionEngine.destroy(u,l)}onInsert(u,l,_,R){this._transitionEngine.insertNode(u,l,_,R)}onRemove(u,l,_,R){this._transitionEngine.removeNode(u,l,R||!1,_)}disableAnimations(u,l){this._transitionEngine.markElementAsDisabled(u,l)}process(u,l,_,R){if("@"==_.charAt(0)){const[$,oe]=Tn(_);this._timelineEngine.command($,l,oe,R)}else this._transitionEngine.trigger(u,l,_,R)}listen(u,l,_,R,$){if("@"==_.charAt(0)){const[oe,ye]=Tn(_);return this._timelineEngine.listen(oe,l,ye,$)}return this._transitionEngine.listen(u,l,_,R,$)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ha(g,u){let l=null,_=null;return Array.isArray(u)&&u.length?(l=no(u[0]),u.length>1&&(_=no(u[u.length-1]))):u&&(l=no(u)),l||_?new Fs(g,l,_):null}let Fs=(()=>{class g{constructor(l,_,R){this._element=l,this._startStyles=_,this._endStyles=R,this._state=0;let $=g.initialStylesByElement.get(l);$||g.initialStylesByElement.set(l,$={}),this._initialStyles=$}start(){this._state<1&&(this._startStyles&&fi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fi(this._element,this._initialStyles),this._endStyles&&(fi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(g.initialStylesByElement.delete(this._element),this._startStyles&&(rs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rs(this._element,this._endStyles),this._endStyles=null),fi(this._element,this._initialStyles),this._state=3)}}return g.initialStylesByElement=new WeakMap,g})();function no(g){let u=null;const l=Object.keys(g);for(let _=0;_<l.length;_++){const R=l[_];bc(R)&&(u=u||{},u[R]=g[R])}return u}function bc(g){return"display"===g||"position"===g}const Fo="animation",Gc="animationend";class wl{constructor(u,l,_,R,$,oe,ye){this._element=u,this._name=l,this._duration=_,this._delay=R,this._easing=$,this._fillMode=oe,this._onDoneFn=ye,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=ke=>this._handleCallback(ke)}apply(){(function(g,u){const l=K(g,"").trim();let _=0;l.length&&(function(g,u){let l=0;for(let _=0;_<g.length;_++)","===g.charAt(_)&&l++;return l}(l)+1,u=`${l}, ${u}`),F(g,"",u)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),S(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Qr(this._element,this._name,"paused")}resume(){Qr(this._element,this._name,"running")}setPosition(u){const l=bo(this._element,this._name);this._position=u*this._duration,F(this._element,"Delay",`-${this._position}ms`,l)}getPosition(){return this._position}_handleCallback(u){const l=u._ngTestManualTimestamp||Date.now(),_=1e3*parseFloat(u.elapsedTime.toFixed(3));u.animationName==this._name&&Math.max(l-this._startTime,0)>=this._delay&&_>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),S(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(g,u){const _=K(g,"").split(","),R=Wa(_,u);R>=0&&(_.splice(R,1),F(g,"",_.join(",")))}(this._element,this._name))}}function Qr(g,u,l){F(g,"PlayState",l,bo(g,u))}function bo(g,u){const l=K(g,"");return l.indexOf(",")>0?Wa(l.split(","),u):Wa([l],u)}function Wa(g,u){for(let l=0;l<g.length;l++)if(g[l].indexOf(u)>=0)return l;return-1}function S(g,u,l){l?g.removeEventListener(Gc,u):g.addEventListener(Gc,u)}function F(g,u,l,_){const R=Fo+u;if(null!=_){const $=g.style[R];if($.length){const oe=$.split(",");oe[_]=l,l=oe.join(",")}}g.style[R]=l}function K(g,u){return g.style[Fo+u]||""}class at{constructor(u,l,_,R,$,oe,ye,ke){this.element=u,this.keyframes=l,this.animationName=_,this._duration=R,this._delay=$,this._finalStyles=ye,this._specialStyles=ke,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=oe||"linear",this.totalTime=R+$,this._buildStyler()}onStart(u){this._onStartFns.push(u)}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(u=>u()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(u=>u()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(u){this._styler.setPosition(u)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new wl(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(u){const l="start"==u?this._onStartFns:this._onDoneFns;l.forEach(_=>_()),l.length=0}beforeDestroy(){this.init();const u={};if(this.hasStarted()){const l=this._state>=3;Object.keys(this._finalStyles).forEach(_=>{"offset"!=_&&(u[_]=l?this._finalStyles[_]:ba(this.element,_))})}this.currentSnapshot=u}}class Dt extends ct.ZN{constructor(u,l){super(),this.element=u,this._startingStyles={},this.__initialized=!1,this._styles=zr(l)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(u=>{this._startingStyles[u]=this.element.style[u]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(u=>this.element.style.setProperty(u,this._styles[u])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(u=>{const l=this._startingStyles[u];l?this.element.style.setProperty(u,l):this.element.style.removeProperty(u)}),this._startingStyles=null,super.destroy())}}class lr{constructor(){this._count=0}validateStyleProperty(u){return In(u)}matchesElement(u,l){return ar(u,l)}containsElement(u,l){return va(u,l)}query(u,l,_){return ts(u,l,_)}computeStyle(u,l,_){return window.getComputedStyle(u)[l]}buildKeyframeElement(u,l,_){_=_.map(ye=>zr(ye));let R=`@keyframes ${l} {\n`,$="";_.forEach(ye=>{$=" ";const ke=parseFloat(ye.offset);R+=`${$}${100*ke}% {\n`,$+=" ",Object.keys(ye).forEach(Ge=>{const ht=ye[Ge];switch(Ge){case"offset":return;case"easing":return void(ht&&(R+=`${$}animation-timing-function: ${ht};\n`));default:return void(R+=`${$}${Ge}: ${ht};\n`)}}),R+=`${$}}\n`}),R+="}\n";const oe=document.createElement("style");return oe.textContent=R,oe}animate(u,l,_,R,$,oe=[],ye){const ke=oe.filter(Kn=>Kn instanceof at),Ge={};Yr(_,R)&&ke.forEach(Kn=>{let cr=Kn.currentSnapshot;Object.keys(cr).forEach(li=>Ge[li]=cr[li])});const ht=function(g){let u={};return g&&(Array.isArray(g)?g:[g]).forEach(_=>{Object.keys(_).forEach(R=>{"offset"==R||"easing"==R||(u[R]=_[R])})}),u}(l=jl(u,l,Ge));if(0==_)return new Dt(u,ht);const At="gen_css_kf_"+this._count++,nn=this.buildKeyframeElement(u,At,l);(function(g){var u;const l=null===(u=g.getRootNode)||void 0===u?void 0:u.call(g);return"undefined"!=typeof ShadowRoot&&l instanceof ShadowRoot?l:document.head})(u).appendChild(nn);const xt=Ha(u,l),fn=new at(u,l,At,_,R,$,ht,xt);return fn.onDestroy(()=>{var g;(g=nn).parentNode.removeChild(g)}),fn}}class oa{constructor(u,l,_,R){this.element=u,this.keyframes=l,this.options=_,this._specialStyles=R,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(u,l,_){return u.animate(l,_)}onStart(u){this._onStartFns.push(u)}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(l=>{"offset"!=l&&(u[l]=this._finished?this._finalKeyframe[l]:ba(this.element,l))}),this.currentSnapshot=u}triggerCallback(u){const l="start"==u?this._onStartFns:this._onDoneFns;l.forEach(_=>_()),l.length=0}}class ro{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(io().toString()),this._cssKeyframesDriver=new lr}validateStyleProperty(u){return In(u)}matchesElement(u,l){return ar(u,l)}containsElement(u,l){return va(u,l)}query(u,l,_){return ts(u,l,_)}computeStyle(u,l,_){return window.getComputedStyle(u)[l]}overrideWebAnimationsSupport(u){this._isNativeImpl=u}animate(u,l,_,R,$,oe=[],ye){if(!ye&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(u,l,_,R,$,oe);const ht={duration:_,delay:R,fill:0==R?"both":"forwards"};$&&(ht.easing=$);const At={},nn=oe.filter(xt=>xt instanceof oa);Yr(_,R)&&nn.forEach(xt=>{let fn=xt.currentSnapshot;Object.keys(fn).forEach(Kn=>At[Kn]=fn[Kn])});const Lt=Ha(u,l=jl(u,l=l.map(xt=>ns(xt,!1)),At));return new oa(u,l,ht,Lt)}}function io(){return un()&&Element.prototype.animate||{}}let wc=(()=>{class g extends ct._j{constructor(l,_){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(_.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(l){const _=this._nextAnimationId.toString();this._nextAnimationId++;const R=Array.isArray(l)?(0,ct.vP)(l):l;return Ic(this._renderer,null,_,"register",[R]),new ai(_,this._renderer)}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(m.FYo),m.LFG(B.K0))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})();class ai extends ct.LC{constructor(u,l){super(),this._id=u,this._renderer=l}create(u,l){return new Ga(this._id,u,l||{},this._renderer)}}class Ga{constructor(u,l,_,R){this.id=u,this.element=l,this._renderer=R,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",_)}_listen(u,l){return this._renderer.listen(this.element,`@@${this.id}:${u}`,l)}_command(u,...l){return Ic(this._renderer,this.element,this.id,u,l)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){var u,l;return null!==(l=null===(u=this._renderer.engine.players[+this.id])||void 0===u?void 0:u.getPosition())&&void 0!==l?l:0}}function Ic(g,u,l,_,R){return g.setProperty(u,`@@${l}:${_}`,R)}const aa="@.disabled";let Gl=(()=>{class g{constructor(l,_,R){this.delegate=l,this.engine=_,this._zone=R,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),_.onRemovalComplete=($,oe)=>{oe&&oe.parentNode($)&&oe.removeChild($.parentNode,$)}}createRenderer(l,_){const $=this.delegate.createRenderer(l,_);if(!(l&&_&&_.data&&_.data.animation)){let ht=this._rendererCache.get($);return ht||(ht=new zl("",$,this.engine),this._rendererCache.set($,ht)),ht}const oe=_.id,ye=_.id+"-"+this._currentId;this._currentId++,this.engine.register(ye,l);const ke=ht=>{Array.isArray(ht)?ht.forEach(ke):this.engine.registerTrigger(oe,ye,l,ht.name,ht)};return _.data.animation.forEach(ke),new Il(this,ye,$,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(l,_,R){l>=0&&l<this._microtaskId?this._zone.run(()=>_(R)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach($=>{const[oe,ye]=$;oe(ye)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([_,R]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(m.FYo),m.LFG(ki),m.LFG(m.R0b))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})();class zl{constructor(u,l,_){this.namespaceId=u,this.delegate=l,this.engine=_,this.destroyNode=this.delegate.destroyNode?R=>l.destroyNode(R):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(u,l){return this.delegate.createElement(u,l)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,l){this.delegate.appendChild(u,l),this.engine.onInsert(this.namespaceId,l,u,!1)}insertBefore(u,l,_,R=!0){this.delegate.insertBefore(u,l,_),this.engine.onInsert(this.namespaceId,l,u,R)}removeChild(u,l,_){this.engine.onRemove(this.namespaceId,l,this.delegate,_)}selectRootElement(u,l){return this.delegate.selectRootElement(u,l)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,l,_,R){this.delegate.setAttribute(u,l,_,R)}removeAttribute(u,l,_){this.delegate.removeAttribute(u,l,_)}addClass(u,l){this.delegate.addClass(u,l)}removeClass(u,l){this.delegate.removeClass(u,l)}setStyle(u,l,_,R){this.delegate.setStyle(u,l,_,R)}removeStyle(u,l,_){this.delegate.removeStyle(u,l,_)}setProperty(u,l,_){"@"==l.charAt(0)&&l==aa?this.disableAnimations(u,!!_):this.delegate.setProperty(u,l,_)}setValue(u,l){this.delegate.setValue(u,l)}listen(u,l,_){return this.delegate.listen(u,l,_)}disableAnimations(u,l){this.engine.disableAnimations(u,l)}}class Il extends zl{constructor(u,l,_,R){super(l,_,R),this.factory=u,this.namespaceId=l}setProperty(u,l,_){"@"==l.charAt(0)?"."==l.charAt(1)&&l==aa?this.disableAnimations(u,_=void 0===_||!!_):this.engine.process(this.namespaceId,u,l.substr(1),_):this.delegate.setProperty(u,l,_)}listen(u,l,_){if("@"==l.charAt(0)){const R=function(g){switch(g){case"body":return document.body;case"document":return document;case"window":return window;default:return g}}(u);let $=l.substr(1),oe="";return"@"!=$.charAt(0)&&([$,oe]=function(g){const u=g.indexOf(".");return[g.substring(0,u),g.substr(u+1)]}($)),this.engine.listen(this.namespaceId,R,$,oe,ye=>{this.factory.scheduleListenerCallback(ye._data||-1,_,ye)})}return this.delegate.listen(u,l,_)}}let Ma=(()=>{class g extends ki{constructor(l,_,R){super(l.body,_,R)}ngOnDestroy(){this.flush()}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(B.K0),m.LFG(po),m.LFG(G))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})();const Dc=new m.OlP("AnimationModuleType"),Tl=[{provide:ct._j,useClass:wc},{provide:G,useFactory:function(){return new we}},{provide:ki,useClass:Ma},{provide:m.FYo,useFactory:function(g,u,l){return new Gl(g,u,l)},deps:[D.se,ki,m.R0b]}],Kl=[{provide:po,useFactory:function(){return"function"==typeof io()?new ro:new lr}},{provide:Dc,useValue:"BrowserAnimations"},...Tl],Tc=[{provide:po,useClass:fo},{provide:Dc,useValue:"NoopAnimations"},...Tl];let Zl=(()=>{class g{static withConfig(l){return{ngModule:g,providers:l.disableAnimations?Tc:Kl}}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({providers:Kl,imports:[D.b2]}),g})();var bs=L(3128);let Lo=(()=>{class g{get isAutharized(){return!1}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Vo=(()=>{class g{constructor(l,_){this.auth=l,this.router=_}canActivate(l,_){return this.auth.isAutharized||this.router.createUrlTree(["auth"])}canActivateChild(l,_){return this.canActivate(l,_)}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(Lo),m.LFG(bs.F0))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})();var Al=L(479);const Yl=function(){return["/"]};let hu=(()=>{class g{constructor(){}ngOnInit(){}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-authorize"]],decls:5,vars:2,consts:[[1,"auth-methods"],["size","lg",3,"linkTo"],["size","lg"]],template:function(l,_){1&l&&(m.TgZ(0,"div",0),m.TgZ(1,"ui-btn",1),m._uU(2,"Login"),m.qZA(),m.TgZ(3,"ui-btn",2),m._uU(4,"Authorize"),m.qZA(),m.qZA()),2&l&&(m.xp6(1),m.Q6J("linkTo",m.DdM(1,Yl)))},directives:[Al.r],styles:[".auth-methods[_ngcontent-%COMP%]{display:flex}.auth-methods[_ngcontent-%COMP%]{justify-content:center;align-items:center}[_nghost-%COMP%]{height:100%;display:block;grid-area:content}.auth-methods[_ngcontent-%COMP%]{height:100%}.auth-methods[_ngcontent-%COMP%] > ui-btn[_ngcontent-%COMP%]{margin:0 25px}"],changeDetection:0}),g})();var Ac=L(9112),al=L(7625),fu=L(910),ql=L(7519),ll=L(2759);let Ql=(()=>{class g{constructor(){this.resizes=new Map}getResize(l){var _;return this.resizes[l.nativeElement]=null!==(_=this.resizes[l.nativeElement])&&void 0!==_?_:(0,ll.R)(window,"resize").pipe((0,se.U)(this.getResizeInfo.bind(this,l)))}getResizeInfo(l){return{width:l.nativeElement.offsetWidth,height:l.nativeElement.offsetHeight}}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const Sl=["container"];let ku=(()=>{class g{constructor(l,_){this.render=l,this.element=_,this.type=null}ngAfterViewInit(){const l=this.type.toLowerCase().replace(/ /g,"-");this.render.addClass(this.element.nativeElement,l)}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(m.Qsj),m.Y36(m.SBq))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-card-placeholder"]],viewQuery:function(l,_){if(1&l&&m.Gf(Sl,5),2&l){let R;m.iGM(R=m.CRH())&&(_.container=R.first)}},inputs:{type:"type"},decls:3,vars:0,consts:[[1,"preview"]],template:function(l,_){1&l&&(m._UZ(0,"div",0),m._UZ(1,"div",0),m._UZ(2,"div",0))},styles:[".coming-soon[_nghost-%COMP%], .popular[_nghost-%COMP%]{display:grid;align-items:stretch}.preview[_ngcontent-%COMP%]{border:none;border-radius:1em}.coming-soon[_nghost-%COMP%], .category[_nghost-%COMP%], .popular[_nghost-%COMP%], [_nghost-%COMP%]{scroll-snap-align:start}:first-child[_nghost-%COMP%]{scroll-snap-align:center}.coming-soon[_nghost-%COMP%], .popular[_nghost-%COMP%]{grid-template-rows:1fr 25px 25px;grid-gap:10px;gap:10px;height:100%}.popular[_nghost-%COMP%]{flex:1 0 250px;max-width:250px;margin-right:2em;height:500px}.category[_nghost-%COMP%]{flex:1 0 290px;max-width:290px;margin-right:2em;height:150px;display:block;position:relative}.category[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]:not(:first-child){display:none}.coming-soon[_nghost-%COMP%]{flex:1 0 330px;max-width:330px;margin-right:2em;height:500px}.preview[_ngcontent-%COMP%]{height:100%;background-image:linear-gradient(90deg,#152647 15%,#1a1538 45%,#152647 85%);background-size:800% 800%;animation:loadingBg 2s ease-in infinite}.preview[_ngcontent-%COMP%]:nth-child(2){width:90%}.preview[_ngcontent-%COMP%]:nth-child(3){width:40%}@keyframes loadingBg{0%{background-position:0% 50%}50%{background-position:50% 50%}to{background-position:100% 50%}}"],changeDetection:0}),g})(),zc=(()=>{class g{transform(l){return Array(l)}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275pipe=m.Yjl({name:"repeat",type:g,pure:!0}),g})();function Jl(g,u){1&g&&(m.TgZ(0,"div",8),m.TgZ(1,"ui-btn"),m._uU(2,"Show more"),m.qZA(),m.qZA())}function Xl(g,u){if(1&g){const l=m.EpF();m.TgZ(0,"div",6),m.NdJ("@showBlock.done",function(R){return m.CHM(l),m.oxw().showEnd(R)}),m.Hsn(1),m.YNc(2,Jl,3,0,"div",7),m.qZA()}if(2&g){const l=m.oxw(),_=m.MAs(8);m.Q6J("@showBlock",void 0),m.xp6(2),m.Q6J("ngIf",l.showMoreButtonLink)("ngIfElse",_)}}function Kc(g,u){if(1&g&&m._UZ(0,"app-card-placeholder",10),2&g){const l=m.oxw(2);m.Q6J("type",l.title)}}function cl(g,u){if(1&g&&(m.TgZ(0,"div",6),m.YNc(1,Kc,1,1,"app-card-placeholder",9),m.ALo(2,"repeat"),m.qZA()),2&g){const l=m.oxw();m.Q6J("@showBlock",void 0),m.xp6(1),m.Q6J("ngForOf",m.lcZ(2,2,l.numberOfFitElements))}}function Uo(g,u){1&g&&m._UZ(0,"div",11)}const Ra=function(g){return{height:g}},ul=["*"];let pu=(()=>{class g{constructor(l,_,R){this.resize=l,this.cdRef=_,this.elementRef=R,this.isPreview=!1,this.innerHeight="auto",this.cardWidth=null,this.numberOfFitElements=0}ngAfterViewChecked(){const l=this.elementRef.nativeElement.querySelector(".height-wrapper > .inner > *:first-child");if(!l)return;const _=l.getBoundingClientRect().height,R=l.getBoundingClientRect().width;this.cardWidth!==R&&(this.cardWidth=R,this.updatePlaceholders(this.countElements(this.elementRef.nativeElement.offsetWidth))),0!==_&&this.innerHeight!==_+"px"&&(this.innerHeight=_+"px",this.cdRef.detectChanges())}ngAfterViewInit(){this.resizeSubsribtion$=this.resize.getResize(this.elementRef).pipe((0,se.U)(({width:l})=>this.countElements(l)),(0,ql.x)()).subscribe(this.updatePlaceholders.bind(this)),this.updatePlaceholders(this.countElements(this.elementRef.nativeElement.offsetWidth))}countElements(l){return Math.floor(l/(this.cardWidth?this.cardWidth+20:270))}updatePlaceholders(l){this.numberOfFitElements=l,this.cdRef.detectChanges()}ngOnDestroy(){this.resizeSubsribtion$.unsubscribe()}showEnd({element:l}){setTimeout(()=>{l.closest(".wrapper").scrollTo(0,0)},0)}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(Ql),m.Y36(m.sBO),m.Y36(m.SBq))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-row-wrapp"]],inputs:{title:"title",showMoreButtonLink:"showMoreButtonLink",isPreview:"isPreview",data:"data"},ngContentSelectors:ul,decls:9,vars:6,consts:[[1,"title"],[1,"wrapper"],[1,"height-wrapper",3,"ngStyle"],["class","inner",4,"ngIf","ngIfElse"],["contentPreview",""],["lastGap",""],[1,"inner"],["class","more",4,"ngIf","ngIfElse"],[1,"more"],[3,"type",4,"ngFor","ngForOf"],[3,"type"],[1,"last-gap"]],template:function(l,_){if(1&l&&(m.F$t(),m.TgZ(0,"h2",0),m._uU(1),m.qZA(),m.TgZ(2,"div",1),m.TgZ(3,"div",2),m.YNc(4,Xl,3,3,"div",3),m.qZA(),m.qZA(),m.YNc(5,cl,3,4,"ng-template",null,4,m.W1O),m.YNc(7,Uo,1,0,"ng-template",null,5,m.W1O)),2&l){const R=m.MAs(6);m.xp6(1),m.Oqu(_.title),m.xp6(2),m.Q6J("ngStyle",m.VKq(4,Ra,_.innerHeight)),m.xp6(1),m.Q6J("ngIf",!_.isPreview)("ngIfElse",R)}},directives:[B.PC,B.O5,Al.r,B.sg,ku],pipes:[zc],styles:[".more[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex}.more[_ngcontent-%COMP%]{justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]{padding-right:-.5em}.wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{height:.5em;width:.5em}.wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{opacity:0}.wrapper[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:1em;opacity:.2}[_nghost-%COMP%]{flex-direction:column;width:100%;margin-bottom:4em;position:relative;z-index:2}.title[_ngcontent-%COMP%]{text-transform:capitalize;color:var(--theme-color-text);padding-left:.5em}.wrapper[_ngcontent-%COMP%]{padding-top:2em;padding-bottom:1em;overflow:auto hidden;scroll-snap-type:x mandatory}.inner[_ngcontent-%COMP%]{position:relative;flex-wrap:nowrap;padding-left:.5em}.more[_ngcontent-%COMP%]{padding:0 1em;flex:1 0 170px;max-width:250px}.last-gap[_ngcontent-%COMP%]{flex:1 0 1em}"],data:{animation:[(0,ct.X$)("showBlock",[(0,ct.eR)(":enter",[(0,ct.oB)({opacity:0}),(0,ct.jt)("0.3s 300ms",(0,ct.oB)({opacity:1}))]),(0,ct.eR)(":leave",[(0,ct.jt)("0.3s",(0,ct.oB)({opacity:0}))])])]},changeDetection:0}),g})();var Zc=L(7188);const ec=function(g){return["../movies","categories",g]},tc=function(g){return{"background-image":g}};let Fu=(()=>{class g{constructor(){this.category=null}get backgroundUrl(){return`linear-gradient(to top, rgba(0, 0, 0, .7) 10%, rgba(0, 0, 0, 0)), url(${this.category.coverUrl})`}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-movie-category-card"]],inputs:{category:"category"},decls:4,vars:7,consts:[[3,"routerLink"],[1,"cover",3,"ngStyle"],[1,"title"]],template:function(l,_){1&l&&(m.TgZ(0,"a",0),m.TgZ(1,"div",1),m.TgZ(2,"h3",2),m._uU(3),m.qZA(),m.qZA(),m.qZA()),2&l&&(m.Q6J("routerLink",m.VKq(3,ec,_.category.id)),m.xp6(1),m.Q6J("ngStyle",m.VKq(5,tc,_.backgroundUrl)),m.xp6(2),m.Oqu(_.category.name))},directives:[bs.yS,B.PC],styles:[".cover[_ngcontent-%COMP%]{display:flex}.cover[_ngcontent-%COMP%]{justify-content:center;align-items:center}.cover[_ngcontent-%COMP%]{border:none;border-radius:1em}.cover[_ngcontent-%COMP%], [_nghost-%COMP%]{transition:all .2s ease-out}[_nghost-%COMP%]{scroll-snap-align:start}:first-child[_nghost-%COMP%]{scroll-snap-align:center}[_nghost-%COMP%]{display:block;position:relative;flex:1 0 290px;max-width:290px;margin-right:2em;height:150px}.cover[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background-size:cover;background-position:center}.cover[_ngcontent-%COMP%]:hover, .cover[_ngcontent-%COMP%]:focus{transform:scale(1.02);box-shadow:0 5px 30px 5px #00000080}.title[_ngcontent-%COMP%]{color:var(--theme-color-text);font-size:1.6em;font-weight:500}"],changeDetection:0}),g})();var Xr=L(6962),dl=L(8248);const Sc=function(g){return["/movies",g]};let Pc=(()=>{class g{constructor(l){this.tmdb=l,this.movie=null}get date(){return this.movie?new Date(this.movie.comingDate).toLocaleDateString():""}get coverUrl(){if(!this.movie||!this.tmdb.config)return"";const{secure_base_url:l,poster_sizes:_}=this.tmdb.config.images;return`${l}${_[Xr.w.w342]}${this.movie.coverUrl}`}ngOnInit(){}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(al.o))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-coming-movie-card"]],inputs:{movie:"movie"},decls:15,vars:11,consts:[[3,"routerLink"],[1,"cover",3,"src","alt"],[1,"title-row"],[1,"title-wrapp"],[1,"title"],[1,"badge"],[1,"date"],[1,"duration"],["src","assets/icons/Clock_18x18.svg",1,"ui-icon","white"],[1,"time"]],template:function(l,_){1&l&&(m.TgZ(0,"a",0),m._UZ(1,"img",1),m.qZA(),m.TgZ(2,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"h3",4),m._uU(5),m.qZA(),m.qZA(),m.TgZ(6,"span",5),m._uU(7),m.ALo(8,"uppercase"),m.qZA(),m.TgZ(9,"span",6),m._uU(10),m.qZA(),m.qZA(),m.TgZ(11,"div",7),m._UZ(12,"svg-icon",8),m.TgZ(13,"span",9),m._uU(14),m.qZA(),m.qZA()),2&l&&(m.Q6J("routerLink",m.VKq(9,Sc,_.movie.id)),m.xp6(1),m.Q6J("src",_.coverUrl,m.LSH)("alt",_.movie.title),m.xp6(4),m.Oqu(_.movie.title),m.xp6(2),m.Oqu(m.lcZ(8,7,_.movie.pg)),m.xp6(3),m.Oqu(_.date),m.xp6(4),m.hij(" ",_.movie.duration," minute "))},directives:[bs.yS,dl.bk],pipes:[B.gd],styles:["[_nghost-%COMP%], .card-grid-container[_ngcontent-%COMP%]{display:grid;align-items:stretch}.duration[_ngcontent-%COMP%], .title-row[_ngcontent-%COMP%]{display:flex}.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{border:none;border-radius:1em}[_nghost-%COMP%], .cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{transition:all .2s ease-out}[_nghost-%COMP%]{scroll-snap-align:start}:first-child[_nghost-%COMP%]{scroll-snap-align:center}[_nghost-%COMP%], .card-grid-container[_ngcontent-%COMP%]{grid-template-rows:1fr 25px 25px;grid-gap:10px;gap:10px;height:100%}[_nghost-%COMP%]{flex:1 0 250px;max-width:250px;margin-right:2em;height:500px}.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;object-fit:cover;z-index:1}.cover[_ngcontent-%COMP%]:hover, .preview.duration[_ngcontent-%COMP%]:hover, .preview.title[_ngcontent-%COMP%]:hover, .cover[_ngcontent-%COMP%]:focus, .preview.duration[_ngcontent-%COMP%]:focus, .preview.title[_ngcontent-%COMP%]:focus{transform:scale(1.02);z-index:3;box-shadow:0 5px 30px 5px #00000080}.title[_ngcontent-%COMP%]{display:inline;font-size:1.4em;line-height:1.9em;font-weight:500}.title-row[_ngcontent-%COMP%]{color:var(--theme-color-text);align-items:baseline}.title-wrapp[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;max-width:210px;text-overflow:ellipsis}.duration[_ngcontent-%COMP%]{align-items:center;color:var(--theme-color-text);opacity:.5}.time[_ngcontent-%COMP%]{margin-left:5px;font-size:1.04em}.badge[_ngcontent-%COMP%]{border:1px solid var(--theme-color-text);color:var(--theme-color-text);font-weight:400;border-radius:.5em;padding:.2em .7em .15em;font-size:1.1em;margin-left:.5em;opacity:.5}.preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{display:inline-block}.preview.duration[_ngcontent-%COMP%]:last-child, .preview.title[_ngcontent-%COMP%]:last-child{margin-bottom:7px}.preview.cover[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#152647 15%,#1a1538 45%,#152647 85%);background-size:800% 800%;animation:loadingBg 2s ease-in infinite}.preview.title[_ngcontent-%COMP%]{width:90%}.preview.duration[_ngcontent-%COMP%]{width:50%}@keyframes loadingBg{0%{background-position:0% 50%}50%{background-position:50% 50%}to{background-position:100% 50%}}[_nghost-%COMP%]{margin-right:2em;flex:1 1 330px;min-width:330px}.cover[_ngcontent-%COMP%], .preview.title[_ngcontent-%COMP%], .preview.duration[_ngcontent-%COMP%]{height:430px}.title-wrapp[_ngcontent-%COMP%]{max-width:200px}.date[_ngcontent-%COMP%]{flex:1;text-align:right;font-size:1.3em;color:#daa520;font-weight:500}"],changeDetection:0}),g})();function Yc(g,u){1&g&&m._UZ(0,"app-movie-card",4),2&g&&m.Q6J("movie",u.$implicit)}function Do(g,u){1&g&&m._UZ(0,"app-movie-category-card",5),2&g&&m.Q6J("category",u.$implicit)}function gu(g,u){1&g&&m._UZ(0,"app-coming-movie-card",4),2&g&&m.Q6J("movie",u.$implicit)}const Mc=[{path:"",canActivate:[Vo],canActivateChild:[Vo],component:hu},{path:"auth",component:hu},{path:"home",component:(()=>{class g{constructor(l,_,R){this.cdRef=l,this.tmdb=_,this.db=R,this.movies=[],this.comingMovies=[],this.categories=[]}ngOnInit(){this.tmdb.getPopular().subscribe(l=>{this.movies=l.results,this.cdRef.detectChanges()}),(0,Ac.aj)([this.tmdb.getGenres(),this.db.getCategoryBackdrop()]).pipe((0,se.U)(([l,_])=>l.map(R=>Object.assign(Object.assign({},R),{coverUrl:_[R.id]?this.tmdb.getImagePath(_[R.id]):""})))).subscribe(l=>{console.log(l),this.categories=l,this.cdRef.detectChanges()}),this.tmdb.getUpcoming().subscribe(({results:l})=>{this.comingMovies=l,this.cdRef.detectChanges()})}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(m.sBO),m.Y36(al.o),m.Y36(fu.k))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-home"]],decls:6,vars:10,consts:[[3,"title","showMoreButtonLink","isPreview"],[3,"movie",4,"ngFor","ngForOf"],[3,"title","isPreview"],[3,"category",4,"ngFor","ngForOf"],[3,"movie"],[3,"category"]],template:function(l,_){1&l&&(m.TgZ(0,"app-row-wrapp",0),m.YNc(1,Yc,1,1,"app-movie-card",1),m.qZA(),m.TgZ(2,"app-row-wrapp",2),m.YNc(3,Do,1,1,"app-movie-category-card",3),m.qZA(),m.TgZ(4,"app-row-wrapp",2),m.YNc(5,gu,1,1,"app-coming-movie-card",1),m.qZA()),2&l&&(m.Q6J("title","popular")("showMoreButtonLink","test")("isPreview",!_.movies.length),m.xp6(1),m.Q6J("ngForOf",_.movies),m.xp6(1),m.Q6J("title","category")("isPreview",!_.comingMovies.length),m.xp6(1),m.Q6J("ngForOf",_.categories),m.xp6(1),m.Q6J("title","Coming Soon")("isPreview",!_.categories.length),m.xp6(1),m.Q6J("ngForOf",_.comingMovies))},directives:[pu,B.sg,Zc.h,Fu,Pc],styles:["[_nghost-%COMP%]{padding-right:-.5em}[_nghost-%COMP%]::-webkit-scrollbar{height:.5em;width:.5em}[_nghost-%COMP%]::-webkit-scrollbar-track{background:transparent}[_nghost-%COMP%]::-webkit-scrollbar-thumb{opacity:0}:hover[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:1em;opacity:.2}[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:1em;opacity:.2}[_nghost-%COMP%]{padding-top:4em;position:relative;display:block;height:100%;overflow-y:auto;grid-area:content;-webkit-mask-image:linear-gradient(to bottom,rgba(0,0,0,0) 20px,black 60px);mask-image:linear-gradient(to bottom,rgba(0,0,0,0) 20px,black 60px)}"],changeDetection:0}),g})()},{path:"movies",loadChildren:()=>L.e(609).then(L.bind(L,4609)).then(g=>g.MoviesModule)}];let Lu=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({providers:[Vo],imports:[[bs.Bz.forRoot(Mc)],bs.Bz]}),g})();var Vu=L(2570),Uu=L(5140);const mu=["scroll"];function Pl(g,u){if(1&g&&(m.TgZ(0,"div",6),m._UZ(1,"img",7),m.qZA()),2&g){const l=m.oxw();m.Q6J("@fade",void 0),m.xp6(1),m.Q6J("src",l.imageUrl,m.LSH)}}function _u(g,u){if(1&g&&m._UZ(0,"img",8),2&g){const l=u.index,_=m.oxw();m.ekj("active",l===_.activeImageIndex),m.Q6J("src",_.getImagePath(l),m.LSH),m.uIk("data-index",l)}}let za=(()=>{class g{constructor(l,_,R){this.gallery=l,this.cdRef=_,this.tmdb=R,this.open=!1,this.backdropState="hide",this.isGallery=!1,this.prevIndex=0}get display(){return this.open?"block":"none"}get imageUrl(){return this.tmdb.getImagePath(this.images[this.activeImageIndex],Xr.w.original)}getImagePath(l){return this.tmdb.getImagePath(this.images[l],Xr.w.original)}chooseImage(l){const _=l;!_.classList.contains("cover-min")||(this.activeImageIndex=+_.dataset.index,this.scrollWrapp.nativeElement.style.willChange="scroll-position",_.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"}),setTimeout(()=>{this.scrollWrapp.nativeElement.style.willChange="unset"},200))}closeGallery(l){!l.classList.contains("backdrop")||(this.gallery.close(),this.backdropState="hide")}onBackdropEnd({toState:l}){"hide"===l&&(this.open=!1)}ngOnInit(){this.gallery.state.subscribe(l=>{console.log(l),l.open?(this.open=l.open,this.backdropState="show"):this.backdropState="hide",this.activeImageIndex=l.activeImageIndex,this.isGallery=l.isGallery,this.cdRef.detectChanges()}),this.gallery.images.subscribe(l=>{this.images=l,this.cdRef.detectChanges()})}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(Uu.r),m.Y36(m.sBO),m.Y36(al.o))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-gallery"]],viewQuery:function(l,_){if(1&l&&m.Gf(mu,5),2&l){let R;m.iGM(R=m.CRH())&&(_.scrollWrapp=R.first)}},hostVars:2,hostBindings:function(l,_){2&l&&m.Udp("display",_.display)},decls:6,vars:3,consts:[[1,"backdrop",3,"click"],["class","cover-wrapp",4,"ngIf"],[1,"gallery"],["scroll",""],[1,"gallery-scroll",3,"click"],["class","cover-min",3,"src","active",4,"ngFor","ngForOf"],[1,"cover-wrapp"],[1,"cover",3,"src"],[1,"cover-min",3,"src"]],template:function(l,_){1&l&&(m.TgZ(0,"div",0),m.NdJ("@backdrop.done",function($){return _.onBackdropEnd($)})("click",function($){return _.closeGallery($.target)}),m.YNc(1,Pl,2,2,"div",1),m.TgZ(2,"div",2,3),m.TgZ(4,"div",4),m.NdJ("click",function($){return _.chooseImage($.target)}),m.YNc(5,_u,1,4,"img",5),m.qZA(),m.qZA(),m.qZA()),2&l&&(m.Q6J("@backdrop",_.backdropState),m.xp6(1),m.Q6J("ngIf",_.images),m.xp6(4),m.Q6J("ngForOf",_.images))},directives:[B.O5,B.sg],styles:['.backdrop[_ngcontent-%COMP%]{display:grid;align-items:stretch}.cover-wrapp[_ngcontent-%COMP%], .gallery-scroll[_ngcontent-%COMP%]{display:flex}.cover-wrapp[_ngcontent-%COMP%]{justify-content:center;align-items:center}.cover[_ngcontent-%COMP%], .cover-min[_ngcontent-%COMP%]{transition:all .2s ease-out}.gallery[_ngcontent-%COMP%]{max-width:80%;min-width:20%;height:120px;z-index:100;overflow:hidden;margin-right:1.5em;margin-bottom:1.5em;border-radius:2em}.gallery-scroll[_ngcontent-%COMP%]{height:inherit;flex-wrap:nowrap}.cover-min[_ngcontent-%COMP%]{cursor:pointer;flex:0 0 auto;width:calc(80% / 5);height:inherit;object-fit:cover;margin-right:1.5em;border-radius:2em}.active.cover-min[_ngcontent-%COMP%]{border:2px solid var(--light)}[_nghost-%COMP%]{display:none;width:100%;height:100%;position:absolute;z-index:1000}.backdrop[_ngcontent-%COMP%]{padding:3em;grid-template-areas:"cover cover cover" ". gallery .";grid-template-columns:1fr calc(min(90em,100vw) - 6em) 1fr;grid-template-rows:calc(85vh - 5.5em) calc(15vh - 3em);grid-row-gap:2.5em;row-gap:2.5em;justify-items:center;width:inherit;height:inherit;background-color:#0009}.cover[_ngcontent-%COMP%]{display:block;border-radius:2em;max-width:100%;max-height:100%}.cover-wrapp[_ngcontent-%COMP%]{grid-area:cover}.cover-min[_ngcontent-%COMP%]{opacity:1}.cover-min.active[_ngcontent-%COMP%]{opacity:1}.gallery[_ngcontent-%COMP%]{grid-area:gallery;max-width:none;margin:0}'],data:{animation:[(0,ct.X$)("backdrop",[(0,ct.SB)("show",(0,ct.oB)({opacity:1})),(0,ct.SB)("hide",(0,ct.oB)({opacity:0})),(0,ct.eR)("hide <=> show",[(0,ct.jt)("0.4s ease-out")])]),(0,ct.X$)("fade",[(0,ct.eR)(":enter",[(0,ct.oB)({opacity:0}),(0,ct.jt)(200,(0,ct.oB)({opacity:1}))]),(0,ct.eR)(":leave",[(0,ct.oB)({opacity:1}),(0,ct.jt)(200,(0,ct.oB)({opacity:0}))])])]},changeDetection:0}),g})();var To=(()=>{return(g=To||(To={}))[g.Light=0]="Light",g[g.Dark=1]="Dark",To;var g})(),so=L(6215);let Ka=(()=>{class g{constructor(l){this.document=l,this.currentTheme=To.Light,this.theme=new so.X(window.matchMedia("(prefers-color-scheme: dark)").matches?To.Dark:To.Light),this.changeThemeTo(window.matchMedia("(prefers-color-scheme: dark)").matches?To.Dark:To.Light)}changeThemeTo(l){if(this.currentTheme===l)return;const _=!!l;this.document.documentElement.style.setProperty("--theme-color-text",`var(--${_?"light":"dark"})`),this.document.documentElement.style.setProperty("--theme-color-bg",`var(--${_?"dark":"light"})`),this.document.documentElement.style.setProperty("--theme-color-bg-inversed",`var(--${_?"dark":"light"}-inversed)`),this.document.documentElement.style.setProperty("--theme-accent",`var(--accent${_?"-lighten":""})`),this.document.documentElement.style.setProperty("--theme-blue",`var(--${_?"blue":"accent"})`),this.document.documentElement.style.setProperty("--theme-blue-lighten",`var(--${_?"blue":"accent"}-lighten)`),this.currentTheme=l,this.theme.next(l)}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(B.K0))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Rc=(()=>{class g{constructor(){}ngOnInit(){}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-user-info"]],decls:7,vars:0,consts:[[1,"col"],["src","https://www.freepngimg.com/thumb/facebook/62681-flat-icons-face-computer-design-avatar-icon.png","alt","",1,"avatar"],[1,"username"],[1,"note"]],template:function(l,_){1&l&&(m.TgZ(0,"div",0),m._UZ(1,"img",1),m.qZA(),m.TgZ(2,"div",0),m.TgZ(3,"h4",2),m._uU(4,"Hi, Username First"),m.qZA(),m.TgZ(5,"span",3),m._uU(6,"How do you feel today?"),m.qZA(),m.qZA())},styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]{width:100%;align-items:center}[_nghost-%COMP%]   .col[_ngcontent-%COMP%]:first-child{width:45px}[_nghost-%COMP%]   .col[_ngcontent-%COMP%]:last-child{width:auto;padding-left:1em;line-height:1.7em;color:var(--theme-color-text)}.avatar[_ngcontent-%COMP%]{width:100%;border-radius:50%}.username[_ngcontent-%COMP%]{font-weight:600}.note[_ngcontent-%COMP%]{opacity:.8;font-size:.95em}"],changeDetection:0}),g})();var Oc=L(4628);function qc(g,u){1&g&&m._UZ(0,"ui-icon",3),2&g&&m.Q6J("btnIcon",!0)}let Bu=(()=>{class g{constructor(){this.type="text",this.placeholder="text"}ngOnInit(){}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275cmp=m.Xpm({type:g,selectors:[["ui-input"]],inputs:{type:"type",placeholder:"placeholder"},decls:3,vars:3,consts:[[1,"wrapper","ui-item"],["name","search","class","search-icon",3,"btnIcon",4,"ngIf"],[1,"inp",3,"type","placeholder"],["name","search",1,"search-icon",3,"btnIcon"]],template:function(l,_){1&l&&(m.TgZ(0,"div",0),m.YNc(1,qc,1,1,"ui-icon",1),m._UZ(2,"input",2),m.qZA()),2&l&&(m.xp6(1),m.Q6J("ngIf","search"===_.type),m.xp6(1),m.Q6J("type",_.type)("placeholder",_.placeholder))},directives:[B.O5,Oc.o],styles:[".wrapper[_ngcontent-%COMP%]{display:flex}.wrapper[_ngcontent-%COMP%]{align-items:center;padding:0 1.15em;width:100%;height:100%}.wrapper[_ngcontent-%COMP%]:focus, .wrapper[_ngcontent-%COMP%]:focus-visible   .wrapper[_ngcontent-%COMP%]:active{background-color:var(--theme-blue)}.search-icon.btn-icon[_ngcontent-%COMP%]{margin-right:1em}.inp[_ngcontent-%COMP%]{height:100%;width:100%;padding-top:0;padding-bottom:0;margin:0;background:transparent;border:none;color:var(--light)}.inp[_ngcontent-%COMP%]:focus{outline:none}"],changeDetection:0}),g})(),dd=(()=>{class g{constructor(l,_){this.cdRef=l,this.theme=_,this.isAuthorized=!0,this.themeValue=To.Light}ngOnInit(){this.themeSub=this.theme.theme.subscribe(l=>{this.themeValue=l})}ngOnDestroy(){this.themeSub.unsubscribe()}setTheme(l){this.theme.changeThemeTo(l?To.Dark:To.Light)}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(m.sBO),m.Y36(Ka))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-header"]],decls:7,vars:0,consts:[[1,"user-block"],[1,"side-block"],["type","search","placeholder","What movie do you want to watch?",1,"search"],["icon","bell"]],template:function(l,_){1&l&&(m.TgZ(0,"div",0),m._UZ(1,"app-user-info"),m.qZA(),m.TgZ(2,"div",1),m._UZ(3,"ui-input",2),m._UZ(4,"ui-btn",3),m.TgZ(5,"ui-btn"),m._uU(6,"Dark mode"),m.qZA(),m.qZA())},directives:[Rc,Bu,Al.r],styles:[".side-block[_ngcontent-%COMP%], .container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex}[_nghost-%COMP%]{transition:all .2s ease-out}[_nghost-%COMP%]{width:100%;position:relative;justify-content:space-between;align-items:center;padding-right:3em;z-index:100}.container[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.side-block[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:10px}.side-block[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:300px}  app-header .side-block ui-button{height:100%}"],changeDetection:0}),g})();const ju=function(){return["home"]},Qc=function(){return["popular"]},yu=function(){return["series"]},Oa=function(){return["movies"]},Jc=function(){return["profile"]};let Hu=(()=>{class g{constructor(){}ngOnInit(){}}return g.\u0275fac=function(l){return new(l||g)},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-nav"]],decls:19,vars:24,consts:[[1,"nav"],[1,"nav-list"],[1,"nav-link"],["icon","home",1,"btn-nav",3,"linkTo"],["icon","fire",1,"btn-nav",3,"linkTo"],["icon","clapperboard",1,"btn-nav",3,"linkTo"],["icon","video",1,"btn-nav",3,"linkTo"],["icon","user",1,"btn-nav",3,"linkTo"],["icon","gear",1,"btn-nav",3,"linkTo"]],template:function(l,_){1&l&&(m.TgZ(0,"nav",0),m.TgZ(1,"ul",1),m.TgZ(2,"li",2),m.TgZ(3,"ui-btn",3),m._uU(4," Home "),m.qZA(),m.qZA(),m.TgZ(5,"li",2),m.TgZ(6,"ui-btn",4),m._uU(7," Popular "),m.qZA(),m.qZA(),m.TgZ(8,"li",2),m.TgZ(9,"ui-btn",5),m._uU(10," TV Series "),m.qZA(),m.qZA(),m.TgZ(11,"li",2),m.TgZ(12,"ui-btn",6),m._uU(13," Movies "),m.qZA(),m.qZA(),m.TgZ(14,"li",2),m.TgZ(15,"ui-btn",7),m._uU(16," Profile "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(17,"ui-btn",8),m._uU(18," Settings "),m.qZA(),m.qZA()),2&l&&(m.xp6(3),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(18,ju)),m.xp6(3),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(19,Qc)),m.xp6(3),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(20,yu)),m.xp6(3),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(21,Oa)),m.xp6(3),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(22,Jc)),m.xp6(2),m.Akn("transparent"),m.Q6J("linkTo",m.DdM(23,Jc)))},directives:[Al.r],styles:[".nav[_ngcontent-%COMP%]{display:flex}.nav[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]{padding:4em 0 5em}.transparent[_nghost-%COMP%]   .nav[_ngcontent-%COMP%]{background-color:var(--theme-nav-bg-alpha)}.nav[_ngcontent-%COMP%]{justify-content:space-between;background-color:var(--theme-nav-bg);border-radius:1em;padding:1em 0;height:100%}.nav-list[_ngcontent-%COMP%]{text-align:center;list-style:none}.nav-link[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1em}.nav[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{width:100%}.nav[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0}"],changeDetection:0}),g})();function Nc(g,u){if(1&g){const l=m.EpF();m.TgZ(0,"img",4),m.NdJ("load",function(){return m.CHM(l),m.oxw().bgLoaded=!0}),m.qZA()}if(2&g){const l=m.oxw();m.Udp("opacity",l.bgLoaded?"1":"0"),m.Q6J("src",l.bgImageSrc,m.LSH)("@fade",void 0)}}let Ml=(()=>{class g{constructor(l,_,R){this.cdRef=l,this.bgImage=_,this.tmdb=R,this._bgUrl=null,this.bgLoaded=!1,this.tmdb.getConfig()}get bgImageSrc(){return this._bgUrl}set bgImageSrc(l){this._bgUrl=l,l||(this.bgLoaded=!1)}ngOnInit(){this.bgImage.imageUrl.subscribe(l=>{this.bgImageSrc=l,this.cdRef.detectChanges()})}}return g.\u0275fac=function(l){return new(l||g)(m.Y36(m.sBO),m.Y36(Vu.n),m.Y36(al.o))},g.\u0275cmp=m.Xpm({type:g,selectors:[["app-root"]],decls:6,vars:2,consts:[[1,"bg-wrapp"],[3,"ngClass"],[1,"view"],["class","bg-image",3,"src","opacity","load",4,"ngIf"],[1,"bg-image",3,"src","load"]],template:function(l,_){1&l&&(m._UZ(0,"app-gallery"),m.TgZ(1,"div",0),m._UZ(2,"app-header"),m._UZ(3,"app-nav",1),m._UZ(4,"router-outlet",2),m.qZA(),m.YNc(5,Nc,1,4,"img",3)),2&l&&(m.xp6(3),m.Q6J("ngClass",_.bgImageSrc?"transparent":""),m.xp6(2),m.Q6J("ngIf",_.bgImageSrc))},directives:[za,dd,Hu,B.mk,bs.lC,B.O5],styles:['.bg-wrapp[_ngcontent-%COMP%]{display:grid;align-items:stretch}.bg-image[_ngcontent-%COMP%]{transition:all .2s ease-out}.bg-wrapp[_ngcontent-%COMP%]{position:relative;z-index:1;grid-template-rows:5em 1fr;grid-template-columns:90px 1fr;grid-template-areas:"header header" "nav content";grid-column-gap:5em;column-gap:5em;height:100vh;background-color:var(--theme-body-bg-alpha);-webkit-backdrop-filter:blur(.7em);backdrop-filter:blur(.7em);padding:3em 0 0 3em}.bg-wrapp[_ngcontent-%COMP%] > app-header[_ngcontent-%COMP%]{grid-area:header}.bg-wrapp[_ngcontent-%COMP%] > app-nav[_ngcontent-%COMP%]{grid-area:nav}.bg-wrapp[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{display:none}.bg-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;z-index:0;opacity:0;object-fit:cover}'],data:{animation:[(0,ct.X$)("fade",[(0,ct.eR)(":leave",[(0,ct.jt)("0.5s ease",(0,ct.oB)({opacity:0}))])])]},changeDetection:0}),g})();var la=L(5173),Xc=L(1841),eu=L(3190);const hl=/([a-z0-9A-Z]\.)*[a-z0-9-]+\.([a-z0-9]{2,24})+(\.co\.([a-z0-9]{2,24})|\.([a-z0-9]{2,24}))*/;let nc=(()=>{class g{constructor(l,_){this.tmdb=l,this.http=_}intercept(l,_){return!(g=>{const u=g.match(hl);return!!u&&"api.themoviedb.org"===u[0]})(l.url)||this.tmdb.config||(g=>-1!==g.search("configuration"))(l.url)?_.handle(l):this.tmdb.getConfig().pipe((0,eu.w)(()=>_.handle(l)))}}return g.\u0275fac=function(l){return new(l||g)(m.LFG(al.o),m.LFG(Xc.eN))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})(),vu=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({providers:[{provide:Xc.TP,useClass:nc,multi:!0}],imports:[[]]}),g})();var Br=L(2340),tu=L(8747);let kc=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({imports:[[B.ez,tu.hO.initializeApp(Br.N.firebase)],tu.hO]}),g})(),rc=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=m.oAB({type:g,bootstrap:[Ml]}),g.\u0275inj=m.cJS({imports:[[B.ez,Zl,z,Xc.JF,vu,Lu,la.m,kc]]}),g})();Br.N.production&&(0,m.G48)(),D.q6().bootstrapModule(rc).catch(g=>console.error(g))},3394:(ft,Me,L)=>{"use strict";L.d(Me,{Z:()=>Le});var D=L(3854),m=L(3910),B=L(8026),Ee=L(5422);class de{constructor(Re,Ae){this._delegate=Re,this.firebase=Ae,(0,B._addComponent)(Re,new m.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Re,Ae=B._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(Re);return!ze.isInitialized()&&"EXPLICIT"===(null===(He=ze.getComponent())||void 0===He?void 0:He.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:Ae})}_removeServiceInstance(Re,Ae=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(Ae)}_addComponent(Re){(0,B._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,B._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new D.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function ie(){const Ve=function(Ve){const Re={},Ae={__esModule:!0,initializeApp:function(dt,pt={}){const Z=B.initializeApp(dt,pt);if((0,D.r3)(Re,Z.name))return Re[Z.name];const mt=new Ve(Z,Ae);return Re[Z.name]=mt,mt},app:ze,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function(dt){const pt=dt.name,Z=pt.replace("-compat","");if(B._registerComponent(dt)&&"PUBLIC"===dt.type){const mt=(Wt=ze())=>{if("function"!=typeof Wt[Z])throw se.create("invalid-app-argument",{appName:pt});return Wt[Z]()};void 0!==dt.serviceProps&&(0,D.ZB)(mt,dt.serviceProps),Ae[Z]=mt,Ve.prototype[Z]=function(...Wt){return this._getService.bind(this,pt).apply(this,dt.multipleInstances?Wt:[])}}return"PUBLIC"===dt.type?Ae[Z]:null},removeApp:function(dt){delete Re[dt]},useAsService:function(dt,pt){return"serverAuth"===pt?null:pt},modularAPIs:B}};function ze(dt){if(!(0,D.r3)(Re,dt=dt||B._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:dt});return Re[dt]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function(){return Object.keys(Re).map(dt=>Re[dt])}}),ze.App=Ve,Ae}(de);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ie,extendNamespace:function(Ae){(0,D.ZB)(Ve,Ae)},createSubscribe:D.ne,ErrorFactory:D.LL,deepExtend:D.ZB}),Ve}(),J=new Ee.Yd("@firebase/app-compat");if((0,D.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=Y;(0,B.registerVersion)("@firebase/app-compat","0.1.12",undefined)},8026:(ft,Me,L)=>{"use strict";L.r(Me),L.d(Me,{FirebaseError:()=>Ee.ZR,SDK_VERSION:()=>wr,_DEFAULT_ENTRY_NAME:()=>$n,_addComponent:()=>br,_addOrOverwriteComponent:()=>ti,_apps:()=>En,_clearComponents:()=>Wn,_components:()=>ln,_getProvider:()=>bn,_registerComponent:()=>_r,_removeServiceInstance:()=>ni,deleteApp:()=>Ir,getApp:()=>Sr,getApps:()=>rt,initializeApp:()=>On,onLog:()=>Jt,registerVersion:()=>vt,setLogLevel:()=>jt});var D=L(8239),m=L(3910),B=L(5422),Ee=L(3854);class de{constructor(ce){this.container=ce}getPlatformInfoString(){return this.container.getProviders().map(he=>{if(function(Fe){const ce=Fe.getComponent();return"VERSION"===(null==ce?void 0:ce.type)}(he)){const Qe=he.getImmediate();return`${Qe.library}/${Qe.version}`}return null}).filter(he=>he).join(" ")}}const se="@firebase/app",ie=new B.Yd("@firebase/app"),$n="[DEFAULT]",Zn={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},En=new Map,ln=new Map;function br(Fe,ce){try{Fe.container.addComponent(ce)}catch(he){ie.debug(`Component ${ce.name} failed to register with FirebaseApp ${Fe.name}`,he)}}function ti(Fe,ce){Fe.container.addOrOverwriteComponent(ce)}function _r(Fe){const ce=Fe.name;if(ln.has(ce))return ie.debug(`There were multiple attempts to register component ${ce}.`),!1;ln.set(ce,Fe);for(const he of En.values())br(he,Fe);return!0}function bn(Fe,ce){return Fe.container.getProvider(ce)}function ni(Fe,ce,he=$n){bn(Fe,ce).clearInstance(he)}function Wn(){ln.clear()}const Yt=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Rn{constructor(ce,he,Qe){this._isDeleted=!1,this._options=Object.assign({},ce),this._config=Object.assign({},he),this._name=he.name,this._automaticDataCollectionEnabled=he.automaticDataCollectionEnabled,this._container=Qe,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ce){this._isDeleted=ce}checkDestroyed(){if(this.isDeleted)throw Yt.create("app-deleted",{appName:this._name})}}const wr="9.6.1";function On(Fe,ce={}){"object"!=typeof ce&&(ce={name:ce});const he=Object.assign({name:$n,automaticDataCollectionEnabled:!1},ce),Qe=he.name;if("string"!=typeof Qe||!Qe)throw Yt.create("bad-app-name",{appName:String(Qe)});const ot=En.get(Qe);if(ot){if((0,Ee.vZ)(Fe,ot.options)&&(0,Ee.vZ)(he,ot.config))return ot;throw Yt.create("duplicate-app",{appName:Qe})}const yt=new m.H0(Qe);for(const Ct of ln.values())yt.addComponent(Ct);const nt=new Rn(Fe,he,yt);return En.set(Qe,nt),nt}function Sr(Fe=$n){const ce=En.get(Fe);if(!ce)throw Yt.create("no-app",{appName:Fe});return ce}function rt(){return Array.from(En.values())}function Ir(Fe){return rn.apply(this,arguments)}function rn(){return(rn=(0,D.Z)(function*(Fe){const ce=Fe.name;En.has(ce)&&(En.delete(ce),yield Promise.all(Fe.container.getProviders().map(he=>he.delete())),Fe.isDeleted=!0)})).apply(this,arguments)}function vt(Fe,ce,he){var Qe;let ot=null!==(Qe=Zn[Fe])&&void 0!==Qe?Qe:Fe;he&&(ot+=`-${he}`);const yt=ot.match(/\s|\//),nt=ce.match(/\s|\//);if(yt||nt){const Ct=[`Unable to register library "${ot}" with version "${ce}":`];return yt&&Ct.push(`library name "${ot}" contains illegal characters (whitespace or "/")`),yt&&nt&&Ct.push("and"),nt&&Ct.push(`version name "${ce}" contains illegal characters (whitespace or "/")`),void ie.warn(Ct.join(" "))}_r(new m.wA(`${ot}-version`,()=>({library:ot,version:ce}),"VERSION"))}function Jt(Fe,ce){if(null!==Fe&&"function"!=typeof Fe)throw Yt.create("invalid-log-argument");(0,B.Am)(Fe,ce)}function jt(Fe){(0,B.Ub)(Fe)}_r(new m.wA("platform-logger",ce=>new de(ce),"PRIVATE")),vt(se,"0.7.11",""),vt(se,"0.7.11","esm2017"),vt("fire-js","")},3910:(ft,Me,L)=>{"use strict";L.d(Me,{wA:()=>B,H0:()=>ee,zt:()=>de});var D=L(8239),m=L(3854);class B{constructor(Y,J,Q){this.name=Y,this.instanceFactory=J,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const Ee="[DEFAULT]";class de{constructor(Y,J){this.name=Y,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const J=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(J)){const Q=new m.BH;if(this.instancesDeferred.set(J,Q),this.isInitialized(J)||this.shouldAutoInitialize())try{const me=this.getOrInitializeService({instanceIdentifier:J});me&&Q.resolve(me)}catch(me){}}return this.instancesDeferred.get(J).promise}getImmediate(Y){var J;const Q=this.normalizeInstanceIdentifier(null==Y?void 0:Y.identifier),me=null!==(J=null==Y?void 0:Y.optional)&&void 0!==J&&J;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ie){if(me)return null;throw Ie}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if("EAGER"===Y.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Ee})}catch(J){}for(const[J,Q]of this.instancesDeferred.entries()){const me=this.normalizeInstanceIdentifier(J);try{const Ie=this.getOrInitializeService({instanceIdentifier:me});Q.resolve(Ie)}catch(Ie){}}}}clearInstance(Y=Ee){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,D.Z)(function*(){const J=Array.from(Y.instances.values());yield Promise.all([...J.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...J.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=Ee){return this.instances.has(Y)}getOptions(Y=Ee){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:J={}}=Y,Q=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const me=this.getOrInitializeService({instanceIdentifier:Q,options:J});for(const[Ie,Le]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ie)&&Le.resolve(me);return me}onInit(Y,J){var Q;const me=this.normalizeInstanceIdentifier(J),Ie=null!==(Q=this.onInitCallbacks.get(me))&&void 0!==Q?Q:new Set;Ie.add(Y),this.onInitCallbacks.set(me,Ie);const Le=this.instances.get(me);return Le&&Y(Le,me),()=>{Ie.delete(Y)}}invokeOnInitCallbacks(Y,J){const Q=this.onInitCallbacks.get(J);if(Q)for(const me of Q)try{me(Y,J)}catch(Ie){}}getOrInitializeService({instanceIdentifier:Y,options:J={}}){let Q=this.instances.get(Y);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ie=Y,ie===Ee?void 0:ie),options:J}),this.instances.set(Y,Q),this.instancesOptions.set(Y,J),this.invokeOnInitCallbacks(Q,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,Q)}catch(me){}var ie;return Q||null}normalizeInstanceIdentifier(Y=Ee){return this.component?this.component.multipleInstances?Y:Ee:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const J=this.getProvider(Y.name);if(J.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);J.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const J=new de(Y,this);return this.providers.set(Y,J),J}getProviders(){return Array.from(this.providers.values())}}},5422:(ft,Me,L)=>{"use strict";L.d(Me,{in:()=>m,Yd:()=>se,Ub:()=>ee,Am:()=>ie});const D=[];var m=(()=>{return(Y=m||(m={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",m;var Y})();const B={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},Ee=m.INFO,de={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},X=(Y,J,...Q)=>{if(J<Y.logLevel)return;const me=(new Date).toISOString(),Ie=de[J];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Ie](`[${me}]  ${Y.name}:`,...Q)};class se{constructor(J){this.name=J,this._logLevel=Ee,this._logHandler=X,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in m))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?B[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...J),this._logHandler(this,m.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...J),this._logHandler(this,m.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,m.INFO,...J),this._logHandler(this,m.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,m.WARN,...J),this._logHandler(this,m.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...J),this._logHandler(this,m.ERROR,...J)}}function ee(Y){D.forEach(J=>{J.setLogLevel(Y)})}function ie(Y,J){for(const Q of D){let me=null;J&&J.level&&(me=B[J.level]),Q.userLogHandler=null===Y?null:(Ie,Le,...Ve)=>{const Re=Ve.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch(He){return null}}).filter(Ae=>Ae).join(" ");Le>=(null!=me?me:Ie.logLevel)&&Y({level:m[Le].toLowerCase(),message:Re,args:Ve,type:Ie.name})}}}},8248:(ft,Me,L)=>{"use strict";L.d(Me,{_J:()=>ze,bk:()=>He});var D=L(7716),m=L(8583),B=L(5917),Ee=L(205),de=L(8002),X=L(3342),se=L(5304),ee=L(8939),ie=L(8819),Y=L(1841);const J=["*"];class Q{}let me=(()=>{class Se extends Q{constructor(Oe){super(),this.http=Oe}getSvg(Oe){return this.http.get(Oe,{responseType:"text"})}}return Se.\u0275fac=function(Oe){return new(Oe||Se)(D.LFG(Y.eN))},Se.\u0275prov=D.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const Ie=new D.OlP("SERVER_URL");let Le=(()=>{class Se{constructor(Oe,Je,dt,pt){this.loader=Oe,this.platformId=Je,this.serverUrl=dt,this._document=pt,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(Oe,Je){if(!this.iconsByUrl.has(Oe)){const dt=this.document.createElement("DIV");dt.innerHTML=Je;const pt=dt.querySelector("svg");this.iconsByUrl.set(Oe,pt)}}loadSvg(Oe,Je=Oe){if(this.serverUrl&&null===Oe.match(/^(http(s)?):/)&&(Je=Oe=this.serverUrl+Oe),this.iconsByUrl.has(Je))return(0,B.of)(this.iconsByUrl.get(Je));if(this.iconsLoadingByUrl.has(Je))return this.iconsLoadingByUrl.get(Je);const dt=this.loader.getSvg(Oe).pipe((0,de.U)(pt=>{const Z=this.document.createElement("DIV");return Z.innerHTML=pt,Z.querySelector("svg")}),(0,X.b)(pt=>this.iconsByUrl.set(Je,pt)),(0,se.K)(pt=>(console.error(pt),(0,Ee._)(pt))),(0,ee.x)(()=>this.iconsLoadingByUrl.delete(Je)),(0,ie.B)());return this.iconsLoadingByUrl.set(Je,dt),dt}getSvgByName(Oe){return this.iconsByUrl.has(Oe)?(0,B.of)(this.iconsByUrl.get(Oe)):this.iconsLoadingByUrl.has(Oe)?this.iconsLoadingByUrl.get(Oe):(0,Ee._)(`No svg with name '${Oe}' has been loaded`)}unloadSvg(Oe){this.iconsByUrl.has(Oe)&&this.iconsByUrl.delete(Oe)}}return Se.\u0275fac=function(Oe){return new(Oe||Se)(D.LFG(Q),D.LFG(D.Lbi),D.LFG(Ie,8),D.LFG(m.K0,8))},Se.\u0275prov=D.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const Re={provide:Le,deps:[[new D.FiY,new D.tp0,Le],Q,[D.Lbi],[new D.FiY,Ie],[new D.FiY,m.K0]],useFactory:function(Se,Be,Oe,Je,dt){return Se||new Le(Be,Oe,Je,dt)}};class Ae{constructor(){this.loaded=!1}}let He=(()=>{class Se{constructor(Oe,Je,dt,pt,Z){this.element=Oe,this.differs=Je,this.renderer=dt,this.iconReg=pt,this.cdr=Z,this.stretch=!1,this.applyClass=!1,this.applyCss=!1,this.helper=new Ae,this._svgStyle=null}set svgStyle(Oe){this._svgStyle=Oe,!this.helper.differ&&Oe&&(this.helper.differ=this.differs.find(Oe).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(Oe){const Je=this.element.nativeElement.firstChild;(Oe.src||Oe.name)&&(this.helper.loaded&&this.destroy(),this.init()),Oe.stretch&&this.stylize(),Oe.applyClass&&(this.applyClass?this.setClass(Je,null,this.klass):this.setClass(Je,this.klass,null)),Oe.svgClass&&this.setClass(Je,Oe.svgClass.previousValue,Oe.svgClass.currentValue),Oe.klass&&(this.setClass(this.element.nativeElement,Oe.klass.previousValue,Oe.klass.currentValue),this.setClass(Je,Oe.klass.previousValue,this.applyClass?Oe.klass.currentValue:null)),Oe.viewBox&&(this.helper.loaded&&this.destroy(),this.init()),Oe.applyCss&&(console.warn("applyCss deprecated since 9.1.0, will be removed in 10.0.0"),console.warn("use applyClass instead")),Oe.svgAriaLabel&&this.doAria(Oe.svgAriaLabel.currentValue)}ngDoCheck(){if(this.helper.svg&&this.helper.differ){const Oe=this.helper.differ.diff(this._svgStyle);Oe&&this.applyChanges(Oe)}}init(){if(this.name){const Oe=this.iconReg.getSvgByName(this.name);Oe&&(this.helper.icnSub=Oe.subscribe(Je=>this.initSvg(Je)))}else if(this.src){const Oe=this.iconReg.loadSvg(this.src);Oe&&(this.helper.icnSub=Oe.subscribe(Je=>this.initSvg(Je)))}else this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}initSvg(Oe){!this.helper.loaded&&Oe&&(this.setSvg(Oe),this.resetDiffer())}destroy(){this.helper.icnSub&&this.helper.icnSub.unsubscribe(),this.helper=new Ae}resetDiffer(){this._svgStyle&&!this.helper.differ&&(this.helper.differ=this.differs.find(this._svgStyle).create())}setSvg(Oe){if(!this.helper.loaded&&Oe){this.helper.svg=Oe;const Je=Oe.cloneNode(!0),dt=this.element.nativeElement;if(dt.innerHTML="",this.renderer.appendChild(dt,Je),this.helper.loaded=!0,this.copyNgContentAttribute(dt,Je),this.klass&&this.applyClass&&this.setClass(dt.firstChild,null,this.klass),this.svgClass&&this.setClass(dt.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){const pt=Je.getAttribute("width"),Z=Je.getAttribute("height");Z&&pt&&(this.renderer.setAttribute(Je,"viewBox",`0 0 ${pt} ${Z}`),this.renderer.removeAttribute(Je,"width"),this.renderer.removeAttribute(Je,"height"))}else""!==this.viewBox&&(this.renderer.setAttribute(Je,"viewBox",this.viewBox),this.renderer.removeAttribute(Je,"width"),this.renderer.removeAttribute(Je,"height"));this.stylize(),void 0===this.svgAriaLabel&&dt.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}}copyNgContentAttribute(Oe,Je){const dt=Oe.attributes,pt=dt.length;for(let Z=0;Z<pt;Z+=1){const mt=dt.item(Z);if(mt&&mt.name.startsWith("_ngcontent")){this.setNgContentAttribute(Je,mt.name);break}}}setNgContentAttribute(Oe,Je){this.renderer.setAttribute(Oe,Je,"");const dt=Oe.childNodes.length;for(let pt=0;pt<dt;pt+=1){const Z=Oe.childNodes[pt];Z instanceof Element&&this.setNgContentAttribute(Z,Je)}}stylize(){if(this.helper.svg){const Oe=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(Oe,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(Oe,"preserveAspectRatio")}}applyChanges(Oe){Oe.forEachRemovedItem(Je=>this.setStyle(Je.key,null)),Oe.forEachAddedItem(Je=>this.setStyle(Je.key,Je.currentValue)),Oe.forEachChangedItem(Je=>this.setStyle(Je.key,Je.currentValue))}setStyle(Oe,Je){const[dt,pt]=Oe.split("."),Z=this.element.nativeElement.firstChild;null!==(Je=null!==Je&&pt?`${Je}${pt}`:Je)?this.renderer.setStyle(Z,dt,Je):this.renderer.removeStyle(Z,dt)}setClass(Oe,Je,dt){if(Oe){if(Je){const pt=(Array.isArray(Je)?Je:Je.split(" ")).filter(Z=>Z);for(const Z of pt)this.renderer.removeClass(Oe,Z)}if(dt){const pt=(Array.isArray(dt)?dt:dt.split(" ")).filter(Z=>Z);for(const Z of pt)this.renderer.addClass(Oe,Z)}}}doAria(Oe){const Je=this.element.nativeElement.firstChild;Je&&(""===Oe?(this.renderer.setAttribute(Je,"aria-hidden","true"),this.renderer.removeAttribute(Je,"aria-label")):(this.renderer.removeAttribute(Je,"aria-hidden"),this.renderer.setAttribute(Je,"aria-label",Oe)))}}return Se.\u0275fac=function(Oe){return new(Oe||Se)(D.Y36(D.SBq),D.Y36(D.aQg),D.Y36(D.Qsj),D.Y36(Le),D.Y36(D.sBO))},Se.\u0275cmp=D.Xpm({type:Se,selectors:[["svg-icon"]],inputs:{src:"src",name:"name",stretch:"stretch",applyClass:"applyClass",applyCss:"applyCss",svgClass:"svgClass",klass:["class","klass"],viewBox:"viewBox",svgAriaLabel:"svgAriaLabel",svgStyle:"svgStyle"},features:[D.TTD],ngContentSelectors:J,decls:1,vars:0,template:function(Oe,Je){1&Oe&&(D.F$t(),D.Hsn(0))},encapsulation:2}),Se})(),ze=(()=>{class Se{static forRoot(Oe={}){return{ngModule:Se,providers:[Re,Oe.loader||{provide:Q,useClass:me}]}}}return Se.\u0275fac=function(Oe){return new(Oe||Se)},Se.\u0275mod=D.oAB({type:Se}),Se.\u0275inj=D.cJS({imports:[[m.ez]]}),Se})()},8239:(ft,Me,L)=>{"use strict";function D(B,Ee,de,X,se,ee,ie){try{var Y=B[ee](ie),J=Y.value}catch(Q){return void de(Q)}Y.done?Ee(J):Promise.resolve(J).then(X,se)}function m(B){return function(){var Ee=this,de=arguments;return new Promise(function(X,se){var ee=B.apply(Ee,de);function ie(J){D(ee,X,se,ie,Y,"next",J)}function Y(J){D(ee,X,se,ie,Y,"throw",J)}ie(void 0)})}}L.d(Me,{Z:()=>m})}},ft=>{ft(ft.s=5850)}]);