"use strict";(self.webpackChunkmovies_app=self.webpackChunkmovies_app||[]).push([[609],{4609:(be,v,s)=>{s.r(v),s.d(v,{MoviesModule:()=>ve});var c=s(8583),p=s(3128),e=s(7716);let w=(()=>{class n{constructor(t){this.route=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-categories"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[p.lC],styles:["[_nghost-%COMP%]{padding-right:-.5em}[_nghost-%COMP%]::-webkit-scrollbar{height:.5em;width:.5em}[_nghost-%COMP%]::-webkit-scrollbar-track{background:transparent}[_nghost-%COMP%]::-webkit-scrollbar-thumb{opacity:0}:hover[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:1em;opacity:.2}[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:1em;opacity:.2}[_nghost-%COMP%]{padding-top:4em;position:relative;display:block;height:100%;overflow-y:auto;grid-area:content;-webkit-mask-image:linear-gradient(to bottom,rgba(0,0,0,0) 20px,black 60px);mask-image:linear-gradient(to bottom,rgba(0,0,0,0) 20px,black 60px)}"],changeDetection:0}),n})();var x=s(9112),m=s(8002),l=s(3190),f=s(5435),u=s(6962),T=s(910),b=s(2570),d=s(8914),h=s(479);const A=function(){return{page:1}};function q(n,i){1&n&&(e.TgZ(0,"ui-btn",8),e._uU(1,"1..."),e.qZA()),2&n&&e.Q6J("queryParams",e.DdM(1,A))}const C=function(n){return{page:n}};function k(n,i){if(1&n&&(e.TgZ(0,"ui-btn",9),e._uU(1),e.qZA()),2&n){const t=i.$implicit,o=e.oxw();e.ekj("active",t===o.activePage),e.Q6J("queryParams",e.VKq(4,C,t)),e.xp6(1),e.Oqu(t)}}function I(n,i){if(1&n&&(e.TgZ(0,"ui-btn",10),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.Q6J("queryParams",e.VKq(2,C,t.totalPages)),e.xp6(1),e.hij("...",t.totalPages,"")}}let U=(()=>{class n{constructor(t){this.router=t,this._totalPages=1,this.activePage=1,this.linksToQuery="",this.linksPerPage=9}set totalPages(t){this._totalPages=Math.min(t,500)}get totalPages(){return this._totalPages}get hasMorePagesPrev(){return this.getshiftedPoint("start")>0}get hasMorePagesNext(){return this.getshiftedPoint("end")<this.totalPages}get pages(){const t=this.getshiftedPoint("start"),o=this.getshiftedPoint("end"),a=t-Math.max(o-this.totalPages,0),r=o-Math.min(t,0);return[...new Array(this.totalPages)].map((g,fe)=>fe+1).slice(Math.max(a,0),Math.min(r,this.totalPages))}getshiftedPoint(t){const o=Math["start"===t?"floor":"ceil"](this.linksPerPage/2);return this.activePage-1+("start"===t?-o:+o)}goToPrevPage(){this.router.navigate([],{queryParams:{page:Math.max(this.activePage-1,1)}})}goToNextPage(){this.router.navigate([],{queryParams:{page:Math.min(this.activePage+1,500)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ui-pagination"]],inputs:{totalPages:"totalPages",activePage:"activePage",linksToQuery:"linksToQuery",linksPerPage:"linksPerPage"},decls:11,vars:3,consts:[[1,"pagination-wrapp"],[1,"button-prev"],["form","square",3,"click"],[1,"buttons"],["class","buttons-first",3,"queryParams",4,"ngIf"],["form","square",3,"active","queryParams",4,"ngFor","ngForOf"],["class","buttons-last",3,"queryParams",4,"ngIf"],[1,"button-next"],[1,"buttons-first",3,"queryParams"],["form","square",3,"queryParams"],[1,"buttons-last",3,"queryParams"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"ui-btn",2),e.NdJ("click",function(){return o.goToPrevPage()}),e._uU(3,"<"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,q,2,2,"ui-btn",4),e.YNc(6,k,2,6,"ui-btn",5),e.YNc(7,I,2,4,"ui-btn",6),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"ui-btn",2),e.NdJ("click",function(){return o.goToNextPage()}),e._uU(10,">"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",o.hasMorePagesPrev),e.xp6(1),e.Q6J("ngForOf",o.pages),e.xp6(1),e.Q6J("ngIf",o.hasMorePagesNext))},directives:[h.r,c.O5,c.sg],styles:[".pagination-wrapp[_ngcontent-%COMP%]{display:flex}.pagination-wrapp[_ngcontent-%COMP%]{justify-content:center}.button-next[_ngcontent-%COMP%], .buttons-last[_ngcontent-%COMP%]{margin-left:1em}.button-prev[_ngcontent-%COMP%], .buttons-first[_ngcontent-%COMP%]{margin-right:1em}ui-btn[_ngcontent-%COMP%]{margin:0 .3333333333em}  ui-btn.active .btn{background:#5c72ec}"],changeDetection:0}),n})();var Y=s(7188);function S(n,i){1&n&&e._UZ(0,"app-movie-card",7),2&n&&e.Q6J("movie",i.$implicit)}function F(n,i){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,S,1,1,"app-movie-card",6),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.movies)}}let J=(()=>{class n{constructor(t,o,a,r,g){this.route=t,this.db=o,this.bgImage=a,this.tmdb=r,this.cdRef=g,this.movies=[],this.categoryName="",this.currentPage=1,this.totalPages=1}ngOnInit(){this.bgSub=this.route.params.pipe((0,m.U)(({id:t})=>(this.tmdb.getGenres().subscribe(o=>{this.categoryName=o.find(a=>a.id===+t).name}),t)),(0,l.w)(t=>this.db.getCategoryBackdrop(t)),(0,f.h)(t=>!!t),(0,l.w)(t=>this.tmdb.getBackdropPath("/"+t,u.w.w500))).subscribe(t=>{this.bgImage.setImage(t)}),this.moviesSub=(0,x.aj)([this.route.params,this.route.queryParams]).pipe((0,l.w)(([{id:t},{page:o}])=>this.tmdb.getDiscoverMovieBy({with_genres:t,page:null!=o?o:1}))).subscribe(t=>{this.movies=t.results,console.log(t),this.currentPage=t.page,this.totalPages=t.total_pages,this.cdRef.detectChanges()})}ngOnDestroy(){this.bgSub.unsubscribe(),this.moviesSub.unsubscribe(),this.bgImage.removeImage()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(T.k),e.Y36(b.n),e.Y36(d.o),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category"]],decls:6,vars:5,consts:[[1,"title"],[1,"movies-wrapp-height"],["class","movies-wrapp",4,"ngIf"],[1,"movies-pagination"],[3,"linksToQuery","totalPages","activePage"],[1,"movies-wrapp"],[3,"movie",4,"ngFor","ngForOf"],[3,"movie"]],template:function(t,o){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e.YNc(3,F,2,1,"div",2),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"ui-pagination",4),e.qZA()),2&t&&(e.xp6(1),e.Oqu(o.categoryName),e.xp6(2),e.Q6J("ngIf",!!o.movies.length),e.xp6(2),e.Q6J("linksToQuery","page")("totalPages",o.totalPages)("activePage",o.currentPage))},directives:[c.O5,U,c.sg,Y.h],styles:[".movies-wrapp[_ngcontent-%COMP%]{display:grid;align-items:stretch}.movies-wrapp[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(270px,1fr));padding-left:.5em;grid-row-gap:2.5em;row-gap:2.5em;justify-content:space-between}.movies-wrapp-height[_ngcontent-%COMP%]{min-height:calc(82vh - (5em + 3em + 4em))}.movies-pagination[_ngcontent-%COMP%]{padding:2.5em 0}.title[_ngcontent-%COMP%]{font-size:2em;color:var(--light);padding-left:.5em;margin-bottom:1em}app-movie-card[_ngcontent-%COMP%]{margin:0}"],changeDetection:0}),n})();var P=s(5917);const Q=["showinfo=0","modestbranding=0","color=white","rel=0"].join("&");var L=s(9075),M=s(2759),N=s(6682),y=s(7393);function Z(n){return i=>i.lift(new D(n))}class D{constructor(i){this.value=i}call(i,t){return t.subscribe(new R(i,this.value))}}class R extends y.L{constructor(i,t){super(i),this.value=t}_next(i){this.destination.next(this.value)}}var G=s(3637);class V{constructor(i,t){this.dueTime=i,this.scheduler=t}call(i,t){return t.subscribe(new z(i,this.dueTime,this.scheduler))}}class z extends y.L{constructor(i,t,o){super(i),this.dueTime=t,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(H,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function H(n){n.debouncedNext()}var $=s(5140);let E=(()=>{class n{constructor(t){this.gallery=t}get cursor(){return"pointer"}get openGalleryClass(){return!0}modalShow(t){!t.classList.contains("open-gallery")||(this.gallery.setImages(this.images),this.gallery.open(this.selectedIndex))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36($.r))},n.\u0275dir=e.lG2({type:n,selectors:[["","appGallery",""]],hostVars:4,hostBindings:function(t,o){1&t&&e.NdJ("click",function(r){return o.modalShow(r.target)}),2&t&&(e.Udp("cursor",o.cursor),e.ekj("open-gallery",o.openGalleryClass))},inputs:{images:["appGallery.images","images"],selectedIndex:["appGallery.selectedIndex","selectedIndex"]}}),n})();const X=["cover"];function K(n,i){if(1&n&&e._UZ(0,"img",5),2&n){const t=i.index,o=e.oxw();e.ekj("active",t===o.activatedImageIndex),e.Q6J("src",o.getImagePath(t),e.LSH),e.uIk("data-index",t)}}let W=(()=>{class n{constructor(t,o){this.tmdb=t,this.cdRef=o,this.activatedImageIndex=null,this.galleryShow=!1}getImagePath(t){return this.tmdb.getImagePath(this.images[t],u.w.original)}chooseImage(t){const o=t.target;o.classList.contains("cover-min")&&(this.activatedImageIndex=+o.dataset.index,this.cover.nativeElement.style.willChange="background",o.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"}),this.cdRef.detectChanges(),setTimeout(()=>{this.cover.nativeElement.style.willChange="unset"},200))}ngOnInit(){this.tmdb.getMovieImages(this.id).pipe((0,m.U)(t=>[...t.backdrops.map(o=>o.file_path)])).subscribe(t=>{this.images=t,this.activatedImageIndex=0,this.cdRef.detectChanges()})}ngAfterViewInit(){let t=!1;const o=(0,M.R)(this.cover.nativeElement,"mouseenter").pipe((0,m.U)(()=>t=!0),Z(!0)),a=(0,M.R)(this.cover.nativeElement,"mouseleave").pipe((0,m.U)(()=>t=!1),function(n,i=G.P){return t=>t.lift(new V(n,i))}(2e3),Z(!1));this.galleryHoverSubscription=(0,N.T)(o,a).pipe((0,f.h)(r=>r===t)).subscribe(r=>{this.galleryShow=r,this.cdRef.detectChanges()})}ngOnDestroy(){this.galleryHoverSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.o),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movie-media"]],viewQuery:function(t,o){if(1&t&&e.Gf(X,5),2&t){let a;e.iGM(a=e.CRH())&&(o.cover=a.first)}},inputs:{id:"id"},decls:5,vars:9,consts:[["appGallery","",1,"cover",3,"appGallery.images","appGallery.selectedIndex"],["cover",""],[1,"gallery","gallery-wrapper"],[1,"gallery-scroll",3,"click"],["class","cover-min",3,"src","active",4,"ngFor","ngForOf"],[1,"cover-min",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.NdJ("click",function(r){return o.chooseImage(r)}),e.YNc(4,K,1,4,"img",4),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Udp("background",o.images&&"url("+o.getImagePath(o.activatedImageIndex)+") no-repeat top center / cover"),e.ekj("cover-show",o.galleryShow),e.Q6J("appGallery.images",o.images)("appGallery.selectedIndex",o.activatedImageIndex),e.xp6(2),e.ekj("gallery-show",o.galleryShow),e.xp6(2),e.Q6J("ngForOf",o.images))},directives:[E,c.sg],styles:['.cover[_ngcontent-%COMP%], .gallery-scroll[_ngcontent-%COMP%]{display:flex}.gallery[_ngcontent-%COMP%]{transition:all .6s ease-out}.gallery-show[_ngcontent-%COMP%], .cover[_ngcontent-%COMP%]:before, .cover[_ngcontent-%COMP%], .cover-min[_ngcontent-%COMP%]{transition:all .2s ease-out}.gallery-wrapper[_ngcontent-%COMP%]{max-width:80%;min-width:20%;height:120px;z-index:100;overflow:hidden;margin-right:1.5em;margin-bottom:1.5em;border-radius:2em}.gallery-scroll[_ngcontent-%COMP%]{height:inherit;flex-wrap:nowrap}.cover-min[_ngcontent-%COMP%]{cursor:pointer;flex:0 0 auto;width:calc(80% / 5);height:inherit;object-fit:cover;margin-right:1.5em;border-radius:2em}.active.cover-min[_ngcontent-%COMP%]{border:2px solid var(--light)}.cover[_ngcontent-%COMP%]{border-radius:2em;width:100%;height:100%;justify-content:end;align-items:flex-end;position:relative;overflow:hidden}.cover[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;left:0;right:0;bottom:0;height:150px;background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0));transform:translateY(100%);opacity:0}.cover-show[_ngcontent-%COMP%]:before{transform:translateY(0);opacity:1}.gallery[_ngcontent-%COMP%]{opacity:0}.gallery-show[_ngcontent-%COMP%]{opacity:1}'],changeDetection:0}),n})();var O=s(8248);function ee(n,i){1&n&&e._UZ(0,"svg-icon",4),2&n&&e.s9C("src",i.$implicit)}let te=(()=>{class n{constructor(){this.maxStars=5}ngOnInit(){const t="assets/icons/",o=this.points*(this.maxStars/10);this.stars=[...new Array(this.maxStars)].map((a,r)=>{const g=r+1;return g-o<0?t+"Star-fill.svg":g-o>0&&g-o<1?t+"Star-half-fill.svg":t+"Star.svg"})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movie-rating"]],inputs:{points:"points",votes:"votes"},decls:6,vars:3,consts:[[1,"stars"],["class","ui-icon fill white star",3,"src",4,"ngFor","ngForOf"],[1,"points"],["title","Total votes",1,"total"],[1,"ui-icon","fill","white","star",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0),e.YNc(1,ee,1,1,"svg-icon",1),e.qZA(),e.TgZ(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.stars),e.xp6(2),e.hij("",o.points," / 10"),e.xp6(2),e.hij("(",o.votes,")"))},directives:[c.sg,O.bk],styles:["[_nghost-%COMP%]{display:inline-block}.star[_ngcontent-%COMP%]{margin-right:.5em}.total[_ngcontent-%COMP%]{margin-left:.4em;opacity:.6}"],changeDetection:0}),n})();const ne=["*"];let oe=(()=>{class n{constructor(){this.collapsed=!0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movie-list-collapsed"]],ngContentSelectors:ne,decls:5,vars:5,consts:[[1,"wrapper"],[1,"btn-wrapp"],[3,"click"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA(),e.TgZ(2,"div",1),e.TgZ(3,"ui-btn",2),e.NdJ("click",function(){return o.collapsed=!o.collapsed}),e._uU(4),e.qZA(),e.qZA()),2&t&&(e.ekj("collapsed",o.collapsed),e.xp6(3),e.Akn("transparent"),e.xp6(1),e.hij("Show ",o.collapsed?"more":"less",""))},directives:[h.r],styles:[".wrapper[_ngcontent-%COMP%]{display:grid;align-items:stretch}.wrapper.collapsed[_ngcontent-%COMP%]{display:flex}  .wrapper.collapsed>*{scroll-snap-align:start}  .wrapper.collapsed>:first-child{scroll-snap-align:center}.wrapper.collapsed[_ngcontent-%COMP%]{padding-right:-.5em}.wrapper.collapsed[_ngcontent-%COMP%]::-webkit-scrollbar{height:.5em;width:.5em}.wrapper.collapsed[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.wrapper.collapsed[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{opacity:0}.wrapper.collapsed[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:1em;opacity:.2}.wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);grid-column-gap:.6em;column-gap:.6em;grid-row-gap:1.2em;row-gap:1.2em;padding-top:11px}.wrapper.collapsed[_ngcontent-%COMP%]{padding-top:0;align-items:stretch;height:100px;overflow-y:hidden;scroll-snap-type:x mandatory}.btn-wrapp[_ngcontent-%COMP%]{text-align:center}  .wrapper.collapsed>*{flex:0 0 auto}"],changeDetection:0}),n})();function ie(n,i){if(1&n&&e._UZ(0,"img",8),2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("src",o.getPhoto(t),e.LSH)("alt",t.character)}}function ae(n,i){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,ie,1,2,"img",3),e.TgZ(2,"div",4),e.TgZ(3,"p",5),e._uU(4),e.qZA(),e.TgZ(5,"p",6),e._uU(6),e.qZA(),e.TgZ(7,"p",7),e._uU(8),e.qZA(),e.qZA(),e.qZA()),2&n){const t=i.$implicit;e.oxw();const o=e.MAs(6);e.xp6(1),e.Q6J("ngIf",t.profile_path)("ngIfElse",o),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(t.character),e.xp6(2),e.Oqu(t.known_for_department)}}function se(n,i){1&n&&e._UZ(0,"div",9)}let re=(()=>{class n{constructor(t,o){this.tmdb=t,this.cdRef=o}getPhoto(t){return this.tmdb.getImagePath(t.profile_path,u.w.w92)}ngOnInit(){this.tmdb.getMovieCredits(this.id).subscribe(t=>{console.log(t),this.cast=t.cast,this.cdRef.detectChanges()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.o),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movie-cast"]],inputs:{id:"id"},decls:7,vars:2,consts:[["class","cast-member",4,"ngFor","ngForOf"],["photoPlaceholder",""],[1,"cast-member"],["class","photo",3,"src","alt",4,"ngIf","ngIfElse"],[1,"info"],[1,"name"],[1,"character"],[1,"job"],[1,"photo",3,"src","alt"],[1,"photo"]],template:function(t,o){1&t&&(e.TgZ(0,"h3"),e._uU(1),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"app-movie-list-collapsed"),e.YNc(4,ae,9,5,"div",0),e.qZA(),e.YNc(5,se,1,0,"ng-template",null,1,e.W1O)),2&t&&(e.xp6(1),e.hij("Cast (",o.cast&&o.cast.length,")"),e.xp6(3),e.Q6J("ngForOf",o.cast))},directives:[oe,c.sg,c.O5],styles:[".cast-member[_ngcontent-%COMP%]{display:flex}.cast-member[_ngcontent-%COMP%]{align-items:center}.cast-member[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{width:70px;height:70px;min-height:70px;min-width:70px;border-radius:50%}.cast-member[_ngcontent-%COMP%]   img.photo[_ngcontent-%COMP%]{object-fit:cover}.cast-member[_ngcontent-%COMP%]   div.photo[_ngcontent-%COMP%]{background:url(/assets/icons/No-picture-white-20.svg) no-repeat center,var(--theme-body-bg-alpha-2)}.cast-member[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-left:1em}.cast-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500}.cast-member[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]{margin-top:.9em;font-size:.8em;opacity:.6}"],changeDetection:0}),n})(),ce=(()=>{class n{transform(t,o=""){return t.join(o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"join",type:n,pure:!0}),n})(),le=(()=>{class n{transform(t,o){return t.map(a=>a[o])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"map",type:n,pure:!0}),n})();function ge(n,i){if(1&n&&e._UZ(0,"img",24),2&n){const t=i.$implicit,o=e.oxw(2);e.Q6J("src",o.getImageUrl(t.file_path),e.LSH)}}function pe(n,i){if(1&n&&(e.TgZ(0,"tr",23),e.TgZ(1,"td"),e._uU(2,"Movie homepage:"),e.qZA(),e.TgZ(3,"td"),e.TgZ(4,"a",25),e._uU(5),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.s9C("href",t.movie.homepage,e.LSH),e.xp6(1),e.Oqu(t.movie.homepage)}}function me(n,i){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"header",2),e._UZ(2,"app-movie-media",3),e.qZA(),e.TgZ(3,"section",4),e.TgZ(4,"h1",5),e._uU(5),e.qZA(),e.TgZ(6,"p",6),e.TgZ(7,"span",7),e._uU(8),e.ALo(9,"date"),e.qZA(),e._UZ(10,"span",8),e.TgZ(11,"span",9),e._uU(12),e.ALo(13,"join"),e.ALo(14,"map"),e.qZA(),e._UZ(15,"span",8),e.TgZ(16,"span",10),e._UZ(17,"svg-icon",11),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"p",12),e._UZ(20,"app-movie-rating",13),e.qZA(),e._UZ(21,"hr",14),e._UZ(22,"app-movie-cast",3),e._UZ(23,"iframe",15),e.qZA(),e.TgZ(24,"section",16),e.TgZ(25,"div",17),e.YNc(26,ge,1,1,"img",18),e.qZA(),e.TgZ(27,"p",19),e._uU(28),e.qZA(),e.TgZ(29,"ui-btn",20),e._uU(30,"Watch"),e.qZA(),e._UZ(31,"hr"),e.TgZ(32,"table",21),e.YNc(33,pe,6,2,"tr",22),e.TgZ(34,"tr",23),e.TgZ(35,"td"),e._uU(36,"Popularity:"),e.qZA(),e.TgZ(37,"td"),e._uU(38),e.qZA(),e.qZA(),e.TgZ(39,"tr",23),e.TgZ(40,"td"),e._uU(41,"Status:"),e.qZA(),e.TgZ(42,"td"),e._uU(43),e.qZA(),e.qZA(),e.TgZ(44,"tr",23),e.TgZ(45,"td"),e._uU(46,"Released:"),e.qZA(),e.TgZ(47,"td"),e._uU(48),e.ALo(49,"date"),e.qZA(),e.qZA(),e.TgZ(50,"tr",23),e.TgZ(51,"td"),e._uU(52,"Budget:"),e.qZA(),e.TgZ(53,"td"),e._uU(54),e.ALo(55,"currency"),e.qZA(),e.qZA(),e.TgZ(56,"tr",23),e.TgZ(57,"td"),e._uU(58,"Revenue:"),e.qZA(),e.TgZ(59,"td"),e._uU(60),e.ALo(61,"currency"),e.qZA(),e.qZA(),e.TgZ(62,"tr",23),e.TgZ(63,"td"),e._uU(64,"Country:"),e.qZA(),e.TgZ(65,"td"),e._uU(66),e.ALo(67,"join"),e.ALo(68,"map"),e.qZA(),e.qZA(),e.TgZ(69,"tr",23),e.TgZ(70,"td"),e._uU(71,"Original Lang:"),e.qZA(),e.TgZ(72,"td"),e._uU(73),e.ALo(74,"join"),e.ALo(75,"map"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("id",t.movie.id),e.xp6(3),e.Oqu(t.movie.title),e.xp6(3),e.Oqu(e.xi3(9,21,t.movie.release_date,"YYYY")),e.xp6(4),e.Oqu(e.xi3(13,24,e.xi3(14,27,t.movie.genres,"name"),", ")),e.xp6(6),e.hij(" ",t.movie.runtime," minute"),e.xp6(2),e.Q6J("points",t.movie.vote_average)("votes",t.movie.vote_count),e.xp6(2),e.Q6J("id",t.movie.id),e.xp6(1),e.Q6J("src",t.trailerLink,e.uOi),e.xp6(3),e.Q6J("ngForOf",t.logos),e.xp6(2),e.Oqu(t.movie.overview),e.xp6(1),e.Akn("gradient"),e.xp6(4),e.Q6J("ngIf",t.movie.homepage),e.xp6(5),e.Oqu(t.movie.popularity),e.xp6(5),e.Oqu(t.movie.status),e.xp6(5),e.Oqu(e.lcZ(49,30,t.movie.release_date)),e.xp6(6),e.Oqu(e.lcZ(55,32,t.movie.budget)),e.xp6(6),e.Oqu(e.lcZ(61,34,t.movie.revenue)),e.xp6(6),e.Oqu(e.xi3(67,36,e.xi3(68,39,t.movie.production_countries,"name"),", ")),e.xp6(7),e.Oqu(e.xi3(74,42,e.xi3(75,45,t.movie.spoken_languages,"english_name"),", "))}}const ue=[{path:"",pathMatch:"full",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movies"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"movies works!"),e.qZA())},styles:["hr{opacity:.6}"],changeDetection:0}),n})()},{path:":id",component:(()=>{class n{constructor(t,o,a,r,g){this.route=t,this.tmdb=o,this.bgImage=a,this.cdRef=r,this.sanitizer=g,this.movieLoaded=!1}getImageUrl(t){return this.tmdb.getImagePath(t)}ngOnInit(){this.paramsSubsribtion=this.route.params.pipe((0,l.w)(({id:t})=>this.tmdb.getMovieImages(t).pipe((0,m.U)(({id:o,logos:a})=>({id:o,logo:a.find(r=>"en"===r.iso_639_1)})))),(0,l.w)(t=>(this.logos=[t.logo],(0,P.of)(t.id))),(0,l.w)(t=>this.tmdb.getMovieVideos(t)),(0,l.w)(t=>{const o=t.results.find(a=>"Trailer"===a.type&&"en"===a.iso_639_1);return o&&(this.trailerLink=this.sanitizer.bypassSecurityTrustResourceUrl((n=>`https://www.youtube.com/embed/${n}?${Q}`)(o.key))),(0,P.of)(t.id)}),(0,l.w)(t=>this.tmdb.getMovie(t))).subscribe(t=>{this.movie=t,this.cdRef.detectChanges(),this.tmdb.getBackdropPath(this.movie.backdrop_path,u.w.w500).subscribe(o=>{this.bgImage.setImage(o)})})}ngOnDestroy(){this.bgImage.removeImage(),this.paramsSubsribtion.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(d.o),e.Y36(b.n),e.Y36(e.sBO),e.Y36(L.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movie"]],decls:1,vars:1,consts:[["class","movie-content",4,"ngIf"],[1,"movie-content"],[1,"section-cover"],[3,"id"],[1,"section-info"],[1,"title"],[1,"info"],[1,"year"],[1,"dot-divider"],[1,"categories"],[1,"duration"],["src","assets/icons/Clock_18x18.svg",1,"ui-icon","white"],[1,"votes"],[3,"points","votes"],[1,"main-block-divider"],["width","100%","height","600","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src"],[1,"section-details"],[1,"logo"],["class","logo-img","alt","",3,"src",4,"ngFor","ngForOf"],[1,"description"],["width","full",1,"watch-btn"],[1,"table"],["class","table-row",4,"ngIf"],[1,"table-row"],["alt","",1,"logo-img",3,"src"],["target","_blank",3,"href"]],template:function(t,o){1&t&&e.YNc(0,me,76,48,"div",0),2&t&&e.Q6J("ngIf",o.movie)},directives:[c.O5,W,O.bk,te,re,c.sg,h.r],pipes:[c.uU,ce,le,c.H9],styles:['@charset "UTF-8";.movie-content[_ngcontent-%COMP%]{display:grid;align-items:stretch}[_nghost-%COMP%]{padding-right:-.5em}[_nghost-%COMP%]::-webkit-scrollbar{height:.5em;width:.5em}[_nghost-%COMP%]::-webkit-scrollbar-track{background:transparent}[_nghost-%COMP%]::-webkit-scrollbar-thumb{opacity:0}:hover[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:1em;opacity:.2}[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:1em;opacity:.2}[_nghost-%COMP%]{padding-top:4em;position:relative;display:block;height:100%;overflow-y:auto;grid-area:content;-webkit-mask-image:linear-gradient(to bottom,rgba(0,0,0,0) 20px,black 60px);mask-image:linear-gradient(to bottom,rgba(0,0,0,0) 20px,black 60px)}.movie-content[_ngcontent-%COMP%]{grid-template-areas:"cover cover cover" "info info details" "info info details" "cast cast details";grid-template-rows:600px auto;grid-gap:2.5em;gap:2.5em;grid-template-columns:repeat(2,1fr) min(460px,max(30%,300px));padding-right:3em;color:var(--theme-color-text);font-size:15px}@media screen and (min-width: 1600px){.movie-content[_ngcontent-%COMP%]{grid-template-areas:"cover cover details" "info info details" "info info details" "cast cast details"}}header.section-cover[_ngcontent-%COMP%]{grid-area:cover}section[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:.5em}section.section-info[_ngcontent-%COMP%]{grid-area:info}section.section-cast[_ngcontent-%COMP%]{grid-area:cast}section.section-details[_ngcontent-%COMP%]{grid-area:details;line-height:1.4em}section.section-details[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin:1em 0}.title[_ngcontent-%COMP%]{font-size:2em}.votes[_ngcontent-%COMP%]{margin-top:1em}.info[_ngcontent-%COMP%]{vertical-align:middle}.info[_ngcontent-%COMP%]   .ui-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:.2em}.dot-divider[_ngcontent-%COMP%]{margin:0 .5em}.dot-divider[_ngcontent-%COMP%]:before{content:" \\2022  "}.watch-btn[_ngcontent-%COMP%]{margin-top:1em}.table[_ngcontent-%COMP%]{width:100%}.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{overflow:hidden;text-align:right;white-space:nowrap;max-width:150px;text-overflow:ellipsis}.logo[_ngcontent-%COMP%]{text-align:center}.logo-img[_ngcontent-%COMP%]{max-width:100%}hr[_ngcontent-%COMP%]{opacity:.2}hr.main-block-divider[_ngcontent-%COMP%]{margin:2.5em 0}'],changeDetection:0}),n})()},{path:"categories",component:w,children:[{path:":id",component:J}]}];let de=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.Bz.forChild(ue)],p.Bz]}),n})();var he=s(5173);let ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.ez,de,he.m]]}),n})()}}]);